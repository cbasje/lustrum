!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),ionic_angular_1=require("ionic-angular"),ionic_native_1=require("ionic-native"),cloud_angular_1=require("@ionic/cloud-angular"),auth_1=require("./services/auth"),notification_1=require("./services/notification"),tabs_1=require("./pages/tabs/tabs"),tutorial_1=require("./pages/tutorial/tutorial"),LustrumApp=function(){function LustrumApp(events,platform,authService,notifier,deploy,loadingCtrl){this.events=events,this.platform=platform,this.authService=authService,this.notifier=notifier,this.deploy=deploy,this.loadingCtrl=loadingCtrl,this.initializeRootPage(),this.listenToLogoutEvent(),this.platform.is("cordova")&&this.initializeCordova()}return LustrumApp.prototype.initializeCordova=function(){var _this=this;this.platform.ready().then(function(){_this.runDeploy(),ionic_native_1.Keyboard.disableScroll(!0),ionic_native_1.GoogleAnalytics.startTrackerWithId("UA-79997582-1"),ionic_native_1.GoogleAnalytics.enableUncaughtExceptionReporting(!0)})},LustrumApp.prototype.initializeRootPage=function(){var _this=this;this.authService.tryAuthentication().then(function(authenticated){var pageToLoad=authenticated?tabs_1.TabsPage:tutorial_1.TutorialPage;_this.nav.setRoot(pageToLoad),_this.platform.ready().then(function(){setTimeout(function(){ionic_native_1.Splashscreen.hide()},400)})})},LustrumApp.prototype.runDeploy=function(){var _this=this;this.deploy.check().then(function(result){if(result===!0){var loading_1=_this.loadingCtrl.create({content:"Update installeren..."});loading_1.present(),ionic_native_1.Splashscreen.hide(),_this.deploy.download().then(function(result){result?_this.deploy.extract().then(function(result){result?(ionic_native_1.Splashscreen.show(),_this.deploy.load()):loading_1.dismiss()},function(error){loading_1.dismiss();var message="Update installeren mislukt: "+error;_this.notifier.notify(message)}):loading_1.dismiss()},function(error){loading_1.dismiss();var message="Update downloaden mislukt: "+error;_this.notifier.notify(message)})}else ionic_native_1.Splashscreen.hide()},function(error){var message="Update mislukt: "+error;_this.notifier.notify(message),ionic_native_1.Splashscreen.hide()})},LustrumApp.prototype.listenToLogoutEvent=function(){var _this=this;this.events.subscribe("user:logout",function(){_this.nav.setRoot(tutorial_1.TutorialPage)})},__decorate([core_1.ViewChild(ionic_angular_1.Nav),__metadata("design:type",ionic_angular_1.Nav)],LustrumApp.prototype,"nav",void 0),LustrumApp=__decorate([core_1.Component({templateUrl:"build/app.html"}),__metadata("design:paramtypes",[ionic_angular_1.Events,ionic_angular_1.Platform,auth_1.AuthService,notification_1.NotificationService,cloud_angular_1.Deploy,ionic_angular_1.LoadingController])],LustrumApp)}();exports.LustrumApp=LustrumApp},{"./pages/tabs/tabs":13,"./pages/tutorial/tutorial":16,"./services/auth":18,"./services/notification":19,"@angular/core":167,"@ionic/cloud-angular":384,"ionic-angular":509,"ionic-native":536}],2:[function(require,module,exports){"use strict";var AppSettings=function(){function AppSettings(){}return Object.defineProperty(AppSettings,"API_ENDPOINT",{get:function(){return"https://csrdelft.nl/API/2.0"},enumerable:!0,configurable:!0}),AppSettings}();exports.AppSettings=AppSettings},{}],3:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),ionic_angular_1=require("ionic-angular"),MapsHrefDirective=function(){function MapsHrefDirective(el,platform){this.platform=platform,this.el=el.nativeElement}return MapsHrefDirective.prototype.ngOnInit=function(){var query=encodeURIComponent(this.csrMapsHref),url=this.getPlatformMapsUrl();this.el.setAttribute("href",url+query)},MapsHrefDirective.prototype.getPlatformMapsUrl=function(){return this.platform.is("mobile")?this.platform.is("ios")?"maps://maps.apple.com/?q=":"geo:0,0?q=":"https://maps.google.com?q="},__decorate([core_1.Input("csrMapsHref"),__metadata("design:type",String)],MapsHrefDirective.prototype,"csrMapsHref",void 0),MapsHrefDirective=__decorate([core_1.Directive({selector:"[csrMapsHref]"}),__metadata("design:paramtypes",[core_1.ElementRef,ionic_angular_1.Platform])],MapsHrefDirective)}();exports.MapsHrefDirective=MapsHrefDirective},{"@angular/core":167,"ionic-angular":509}],4:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),ionic_native_1=require("ionic-native"),SystemBrowserDirective=function(){function SystemBrowserDirective(el){this.el=el.nativeElement}return SystemBrowserDirective.prototype.onClick=function($event){$event.preventDefault();var url=this.el.getAttribute("href");ionic_native_1.InAppBrowser.open(url,"_system")},__decorate([core_1.HostListener("click"),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],SystemBrowserDirective.prototype,"onClick",null),SystemBrowserDirective=__decorate([core_1.Directive({selector:"[csrSystemBrowser]"}),__metadata("design:paramtypes",[core_1.ElementRef])],SystemBrowserDirective)}();exports.SystemBrowserDirective=SystemBrowserDirective},{"@angular/core":167,"ionic-native":536}],5:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),http_1=require("@angular/http"),ionic_angular_1=require("ionic-angular"),angular2_jwt_1=require("angular2-jwt"),cloud_angular_1=require("@ionic/cloud-angular"),app_1=require("./app"),api_data_1=require("./services/api-data"),auth_1=require("./services/auth"),notification_1=require("./services/notification"),cloudSettings={core:{app_id:"b4141034"},push:{debug:!0,sender_id:"335763697269",pluginConfig:{android:{iconColor:"#1f5370",clearBadge:!0},ios:{alert:!0,badge:!0,sound:!0,clearBadge:!0}}}},ionicConfig={prodMode:!0,tabbarLayout:"title-hide",platforms:{android:{tabsPlacement:"top",tabsHideOnSubPages:!0,tabsHighlight:!0},ios:{backButtonText:""}}},jwtProvider=core_1.provide(angular2_jwt_1.AuthHttp,{useFactory:function(http){return new angular2_jwt_1.AuthHttp(new angular2_jwt_1.AuthConfig({headerName:"X-Csr-Authorization"}),http)},deps:[http_1.Http]}),providers=[api_data_1.ApiData,auth_1.AuthService,notification_1.NotificationService,jwtProvider,cloud_angular_1.provideCloud(cloudSettings)];ionic_angular_1.ionicBootstrap(app_1.LustrumApp,providers,ionicConfig)},{"./app":1,"./services/api-data":17,"./services/auth":18,"./services/notification":19,"@angular/core":167,"@angular/http":294,"@ionic/cloud-angular":384,"angular2-jwt":411,"ionic-angular":509}],6:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),ionic_angular_1=require("ionic-angular"),ionic_native_1=require("ionic-native"),system_browser_1=require("../../directives/system-browser"),auth_1=require("../../services/auth"),AboutPage=function(){function AboutPage(events,authService,navCtrl,loadingCtrl){this.events=events,this.authService=authService,this.navCtrl=navCtrl,this.loadingCtrl=loadingCtrl}return AboutPage.prototype.logout=function(){var _this=this,loading=this.loadingCtrl.create({content:"Uitloggen..."});loading.present(),setTimeout(function(){_this.authService.logout(),_this.events.publish("user:logout"),setTimeout(function(){loading.dismiss()},1e3)},1e3)},AboutPage.prototype.ionViewDidEnter=function(){ionic_native_1.GoogleAnalytics.trackView("About")},AboutPage=__decorate([core_1.Component({templateUrl:"build/pages/about/about.html",directives:[system_browser_1.SystemBrowserDirective]}),__metadata("design:paramtypes",[ionic_angular_1.Events,auth_1.AuthService,ionic_angular_1.NavController,ionic_angular_1.LoadingController])],AboutPage)}();exports.AboutPage=AboutPage},{"../../directives/system-browser":4,"../../services/auth":18,"@angular/core":167,"ionic-angular":509,"ionic-native":536}],7:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),platform_browser_1=require("@angular/platform-browser"),ionic_angular_1=require("ionic-angular"),ionic_native_1=require("ionic-native"),moment=require("moment");require("moment/locale/nl");var maps_href_1=require("../../directives/maps-href"),notification_1=require("../../services/notification"),api_data_1=require("../../services/api-data"),EventDetailPage=function(){function EventDetailPage(apiData,sanitizer,notifier,navParams){this.apiData=apiData,this.sanitizer=sanitizer,this.notifier=notifier,this.processingAction=!1,this.event=navParams.data}return EventDetailPage.prototype.getDateTimes=function(start,end){var line1,line2,multipleDays=!start.isSame(end,"day"),fullDay="0000"===start.format("HHmm")&&"2359"===end.format("HHmm");if(multipleDays){var multipleFormat=fullDay?"dddd ll":"LT [op] dd ll";line1="van "+start.format(multipleFormat).toLowerCase(),line2="tot "+end.format(multipleFormat).toLowerCase()}else line1=start.format("dddd ll").toLowerCase(),line2=fullDay?"Hele dag":start.format("[van] LT [tot] ")+end.format("LT");return line1+"\n"+line2},EventDetailPage.prototype.isJoinable=function(){if("maaltijd"===this.event._meta.category){var notClosed="0"===this.event.gesloten;return notClosed}var hasOpened=null===this.event.aanmelden_vanaf||moment(this.event.aanmelden_vanaf).isBefore(),notClosed=null===this.event.aanmelden_tot||moment(this.event.aanmelden_tot).isAfter();return hasOpened&&notClosed},EventDetailPage.prototype.isLeaveable=function(){if("maaltijd"===this.event._meta.category){var notClosed="0"===this.event.gesloten;return notClosed}var notClosed=null!==this.event.afmelden_tot&&moment(this.event.afmelden_tot).isAfter();return notClosed},EventDetailPage.prototype.join=function(){var _this=this,cat=this.event._meta.category+"en",id=this.event.id||this.event.maaltijd_id;this.processingAction=!0,this.apiData.postAction(cat,id,"aanmelden").then(function(event){return _this.apiData.addJoined(cat,Number(id)),_this.event=_this.apiData.addEventMeta(event),ionic_native_1.GoogleAnalytics.trackEvent("Events","Join",event._meta.category,id),"Aanmelden gelukt!"},function(error){return console.log(error),"Aanmelden mislukt: "+error}).then(function(message){_this.notifier.notify(message),_this.processingAction=!1})},EventDetailPage.prototype.leave=function(){var _this=this,cat=this.event._meta.category+"en",id=this.event.id||this.event.maaltijd_id;this.processingAction=!0,this.apiData.postAction(cat,id,"afmelden").then(function(event){return _this.apiData.removeJoined(cat,Number(id)),_this.event=_this.apiData.addEventMeta(event),ionic_native_1.GoogleAnalytics.trackEvent("Events","Leave",event._meta.category,id),"Afmelden gelukt!"},function(error){return console.log(error),"Afmelden mislukt: "+error}).then(function(message){_this.notifier.notify(message),_this.processingAction=!1})},EventDetailPage.prototype.ionViewDidEnter=function(){ionic_native_1.GoogleAnalytics.trackView("Event Detail")},EventDetailPage=__decorate([core_1.Component({templateUrl:"build/pages/event-detail/event-detail.html",directives:[maps_href_1.MapsHrefDirective]}),__metadata("design:paramtypes",[api_data_1.ApiData,platform_browser_1.DomSanitizationService,notification_1.NotificationService,ionic_angular_1.NavParams])],EventDetailPage)}();exports.EventDetailPage=EventDetailPage},{"../../directives/maps-href":3,"../../services/api-data":17,"../../services/notification":19,"@angular/core":167,"@angular/platform-browser":326,"ionic-angular":509,"ionic-native":536,moment:624,"moment/locale/nl":623}],8:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),ionic_angular_1=require("ionic-angular"),ionic_native_1=require("ionic-native"),_=require("lodash"),moment=require("moment");require("moment/locale/nl");var api_data_1=require("../../services/api-data"),event_detail_1=require("../event-detail/event-detail"),DAYS_TO_LOAD=42,EventListPage=function(){function EventListPage(apiData,navCtrl){this.apiData=apiData,this.navCtrl=navCtrl,this.groups=[],this.moreAvailable=!0,this.failedToLoad=!1,this.initializeMoments(),this.updateSchedule(this.fromMoment,this.toMoment)}return EventListPage.prototype.initializeMoments=function(){this.fromMoment=moment().startOf("day"),this.toMoment=moment(this.fromMoment).add(DAYS_TO_LOAD-1,"days").endOf("day")},EventListPage.prototype.updateSchedule=function(fromMoment,toMoment,reset){var _this=this;return void 0===reset&&(reset=!1),this.apiData.getScheduleList(fromMoment,toMoment).then(function(events){if(0===events.length)return!1;events.forEach(function(event){event=_this.apiData.addEventMeta(event)});var grouped=_.groupBy(events,function(event){return event._meta.start.format("dddd D MMMM")}),mapped=_.map(grouped,function(value,key){return{date:key,events:value}});return reset?_this.groups=mapped:(_a=_this.groups).push.apply(_a,mapped),!0;var _a},function(){_this.failedToLoad=!0})},EventListPage.prototype.doInfinite=function(infiniteScroll){var _this=this;this.fromMoment.add(DAYS_TO_LOAD,"days"),this.toMoment.add(DAYS_TO_LOAD,"days"),this.updateSchedule(this.fromMoment,this.toMoment).then(function(hasEvents){hasEvents===!0?infiniteScroll.complete():(infiniteScroll.enable(!1),_this.moreAvailable=!1)})},EventListPage.prototype.doRefresh=function(refresher){this.initializeMoments(),this.updateSchedule(this.fromMoment,this.toMoment,!0).then(function(hasEvents){refresher.complete()})},EventListPage.prototype.doRetryLoad=function(){this.failedToLoad=!1,this.updateSchedule(this.fromMoment,this.toMoment)},EventListPage.prototype.goToEventDetail=function(event){this.navCtrl.push(event_detail_1.EventDetailPage,event)},EventListPage.prototype.ionViewDidEnter=function(){ionic_native_1.GoogleAnalytics.trackView("Event List")},EventListPage=__decorate([core_1.Component({templateUrl:"build/pages/event-list/event-list.html"}),__metadata("design:paramtypes",[api_data_1.ApiData,ionic_angular_1.NavController])],EventListPage)}();exports.EventListPage=EventListPage},{"../../services/api-data":17,"../event-detail/event-detail":7,"@angular/core":167,"ionic-angular":509,"ionic-native":536,lodash:622,moment:624,"moment/locale/nl":623}],9:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),ionic_angular_1=require("ionic-angular"),auth_1=require("../../services/auth"),tabs_1=require("../tabs/tabs"),LoginPage=function(){function LoginPage(authService,navCtrl,alertCtrl,loadingCtrl){this.authService=authService,this.navCtrl=navCtrl,this.alertCtrl=alertCtrl,this.loadingCtrl=loadingCtrl,this.login={},this.submitted=!1}return LoginPage.prototype.onLogin=function(form){var _this=this;if(this.submitted=!0,form.valid){var loading_1=this.loadingCtrl.create({content:"Inloggen..."});loading_1.present(),this.authService.login(this.login.username,this.login.password).then(function(){_this.navCtrl.push(tabs_1.TabsPage).then(function(){loading_1.dismiss()})})["catch"](function(error){console.log(error),loading_1.dismiss();var alert=_this.alertCtrl.create({title:"Inloggen mislukt",message:"Pff, die verplicht ingewikkelde wachtwoorden ook... Het kan zijn dat je even moet wachten voor je een nieuwe poging mag wagen.",buttons:["Probeer het nog eens"]});alert.present()})}},LoginPage=__decorate([core_1.Component({templateUrl:"build/pages/login/login.html"}),__metadata("design:paramtypes",[auth_1.AuthService,ionic_angular_1.NavController,ionic_angular_1.AlertController,ionic_angular_1.LoadingController])],LoginPage)}();exports.LoginPage=LoginPage},{"../../services/auth":18,"../tabs/tabs":13,"@angular/core":167,"ionic-angular":509}],10:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),ionic_angular_1=require("ionic-angular"),ionic_native_1=require("ionic-native"),trip_detail_1=require("../trip-detail/trip-detail"),trip_detail_two_1=require("../trip-detail-two/trip-detail-two"),MapPage=function(){function MapPage(navCtrl){this.navCtrl=navCtrl,this.mapData=[{name:"Confide",lat:52.0060583,lng:4.36026},{name:"Hostel A Plus",lat:50.09014,lng:14.43717},{name:"Restaurent U Fleků",lat:50.07891,lng:14.41693,center:!0},{name:"Praagse Burcht",lat:50.090216,lng:14.399579},{name:"Wijnproeverij kasteel Melnik",lat:50.35081,lng:14.47299},{name:"Concentratiekamp Terezín",lat:50.51382,lng:14.16475}]}return MapPage.prototype.goToTripDetail=function(){this.navCtrl.push(trip_detail_1.TripDetailPage)},MapPage.prototype.goToTripDetail2=function(){this.navCtrl.push(trip_detail_two_1.TripDetailTwoPage)},MapPage.prototype.ionViewLoaded=function(){var mapEle=document.getElementById("map"),map=new google.maps.Map(mapEle,{center:this.mapData.find(function(d){return d.center}),zoom:11});this.mapData.forEach(function(markerData){var infoWindow=new google.maps.InfoWindow({content:'<div class="poi-info-window gm-style"><div class="title">'+markerData.name+"</div></div>"}),latlng=new google.maps.LatLng(markerData.lat,markerData.lng),marker=new google.maps.Marker({position:latlng,map:map,title:markerData.name});marker.addListener("click",function(){infoWindow.open(map,marker)})}),google.maps.event.addListenerOnce(map,"idle",function(){mapEle.classList.add("show-map")})},MapPage.prototype.ionViewDidEnter=function(){ionic_native_1.GoogleAnalytics.trackView("Map")},MapPage=__decorate([core_1.Component({templateUrl:"build/pages/map/map.html"}),__metadata("design:paramtypes",[ionic_angular_1.NavController])],MapPage)}();exports.MapPage=MapPage},{"../trip-detail-two/trip-detail-two":14,"../trip-detail/trip-detail":15,"@angular/core":167,"ionic-angular":509,"ionic-native":536}],11:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),platform_browser_1=require("@angular/platform-browser"),ionic_angular_1=require("ionic-angular"),ionic_native_1=require("ionic-native"),moment=require("moment");require("moment/locale/nl");var maps_href_1=require("../../directives/maps-href"),notification_1=require("../../services/notification"),MemberDetailPage=function(){function MemberDetailPage(sanitizer,notifier,platform,actionSheetCtrl,navParams){this.sanitizer=sanitizer,this.notifier=notifier,this.platform=platform,this.actionSheetCtrl=actionSheetCtrl,this.member=navParams.data;var date=new Date(this.member.geboortedatum);this.member.geboortedatumText=moment(date).format("LL"),this.member.geboortedatum=date}return MemberDetailPage.prototype.getSafeUrl=function(scheme,target){var url=scheme+":"+encodeURIComponent(target);return this.sanitizer.bypassSecurityTrustUrl(url)},MemberDetailPage.prototype.save=function(){var _this=this,actionSheet=this.actionSheetCtrl.create({buttons:[{text:"Maak nieuw contact",icon:this.platform.is("ios")?null:"person-add",handler:function(){return _this.saveNew()}},{text:"Annuleer",icon:this.platform.is("ios")?null:"close",role:"cancel"}]});actionSheet.present()},MemberDetailPage.prototype.saveNew=function(){var _this=this,contact=new ionic_native_1.Contact,name=new ionic_native_1.ContactName(null,this.member.naam.achternaam,this.member.naam.voornaam,this.member.naam.tussenvoegsel),phone=new ionic_native_1.ContactField("mobiel",this.member.mobiel,(!1)),email=new ionic_native_1.ContactField("thuis",this.member.email,(!1)),address=new ionic_native_1.ContactAddress((!1),this.member.huis.naam||"adres",null,this.member.huis.adres,this.member.huis.woonplaats,null,this.member.huis.postcode,this.member.huis.land);contact.name=name,contact.phoneNumbers=[phone],contact.emails=[email],contact.addresses=[address],contact.birthday=this.member.geboortedatum,contact.save().then(function(){_this.notifier.notify("Succesvol opgeslagen in contacten."),ionic_native_1.GoogleAnalytics.trackEvent("Members","Save","New")},function(error){return _this.notifier.notify("Opslaan in contacten mislukt.")})},MemberDetailPage.prototype.openCalendar=function(){var currentYear=moment().year(),date=moment(this.member.geboortedatum).year(currentYear);date.isBefore()&&date.year(currentYear+1),ionic_native_1.Calendar.openCalendar(date.toDate())},MemberDetailPage.prototype.ionViewDidEnter=function(){ionic_native_1.GoogleAnalytics.trackView("Member Detail")},MemberDetailPage=__decorate([core_1.Component({templateUrl:"build/pages/member-detail/member-detail.html",directives:[maps_href_1.MapsHrefDirective]}),__metadata("design:paramtypes",[platform_browser_1.DomSanitizationService,notification_1.NotificationService,ionic_angular_1.Platform,ionic_angular_1.ActionSheetController,ionic_angular_1.NavParams])],MemberDetailPage)}();exports.MemberDetailPage=MemberDetailPage},{"../../directives/maps-href":3,"../../services/notification":19,"@angular/core":167,"@angular/platform-browser":326,"ionic-angular":509,"ionic-native":536,moment:624,"moment/locale/nl":623}],12:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),ionic_angular_1=require("ionic-angular"),ionic_native_1=require("ionic-native"),_=require("lodash"),api_data_1=require("../../services/api-data"),member_detail_1=require("../member-detail/member-detail"),MemberListPage=function(){function MemberListPage(apiData,navCtrl,platform,renderer){var _this=this;this.apiData=apiData,this.navCtrl=navCtrl,this.platform=platform,this.renderer=renderer,this.groups=[],this.queryText="",this.lastQueryText="",this.searching=!1,this.searchFilteringActive=!1,this.failedToLoad=!1,apiData.getMemberList().then(function(members){var grouped=_.groupBy(members,function(c){return c.achternaam.replace(/[a-z ']/g,"")[0]}),mapped=_.map(grouped,function(value,key){return{"char":key,members:value,hide:!1}});_this.groups=mapped,_this.platform.is("ios")},function(){_this.failedToLoad=!0})}return MemberListPage.prototype.queryMembers=function(){var _this=this,queryText=this.queryText.toLowerCase().replace(/,|\.|-/g," ");if(queryText!==this.lastQueryText){if(0===this.queryText.length)return void setTimeout(function(){_this.searchFilteringActive=!1},300);this.groups.forEach(function(group){group.hide=!0,group.members.forEach(function(member){member.hide=!1;var search=member.id+" "+member.voornaam+" ";member.tussenvoegsel&&(search+=member.tussenvoegsel+" "),search+=member.achternaam,search.toLowerCase().indexOf(queryText)===-1?member.hide=!0:group.hide=!1})}),this.searchFilteringActive=!0,this.lastQueryText=queryText}},MemberListPage.prototype.startSearch=function(searchBar){var _this=this;setTimeout(function(){_this.searching=!0,setTimeout(function(){var el=searchBar._searchbarInput.nativeElement;_this.renderer.invokeElementMethod(el,"focus",[])},0)},200)},MemberListPage.prototype.stopSearch=function(){var _this=this;setTimeout(function(){_this.searching=!1},200)},MemberListPage.prototype.stopSearchSoft=function(){var _this=this;0===this.queryText.length&&setTimeout(function(){_this.searching=!1},200)},MemberListPage.prototype.goToMemberDetail=function(member){var _this=this;this.apiData.getMemberDetail(member.id).then(function(memberDetail){_this.navCtrl.push(member_detail_1.MemberDetailPage,memberDetail)})},MemberListPage.prototype.ionViewDidEnter=function(){ionic_native_1.GoogleAnalytics.trackView("Member List")},__decorate([core_1.ViewChild(ionic_angular_1.Content),__metadata("design:type",ionic_angular_1.Content)],MemberListPage.prototype,"content",void 0),MemberListPage=__decorate([core_1.Component({templateUrl:"build/pages/member-list/member-list.html"}),__metadata("design:paramtypes",[api_data_1.ApiData,ionic_angular_1.NavController,ionic_angular_1.Platform,core_1.Renderer])],MemberListPage)}();exports.MemberListPage=MemberListPage},{"../../services/api-data":17,"../member-detail/member-detail":11,"@angular/core":167,"ionic-angular":509,"ionic-native":536,lodash:622}],13:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),ionic_angular_1=require("ionic-angular"),ionic_native_1=require("ionic-native"),event_list_1=require("../event-list/event-list"),member_list_1=require("../member-list/member-list"),map_1=require("../map/map"),about_1=require("../about/about"),TabsPage=function(){function TabsPage(platform){this.platform=platform,this.tab1Root=event_list_1.EventListPage,this.tab2Root=member_list_1.MemberListPage,this.tab3Root=map_1.MapPage,this.tab4Root=about_1.AboutPage}return TabsPage.prototype.ionViewDidEnter=function(){this.platform.ready().then(function(){ionic_native_1.StatusBar.styleLightContent()})},TabsPage=__decorate([core_1.Component({templateUrl:"build/pages/tabs/tabs.html"}),__metadata("design:paramtypes",[ionic_angular_1.Platform])],TabsPage)}();exports.TabsPage=TabsPage},{"../about/about":6,"../event-list/event-list":8,"../map/map":10,"../member-list/member-list":12,"@angular/core":167,"ionic-angular":509,"ionic-native":536}],14:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),
r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),TripDetailTwoPage=function(){function TripDetailTwoPage(){}return TripDetailTwoPage=__decorate([core_1.Component({templateUrl:"build/pages/trip-detail-two/trip-detail-two.html"}),__metadata("design:paramtypes",[])],TripDetailTwoPage)}();exports.TripDetailTwoPage=TripDetailTwoPage},{"@angular/core":167}],15:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),TripDetailPage=function(){function TripDetailPage(){}return TripDetailPage=__decorate([core_1.Component({templateUrl:"build/pages/trip-detail/trip-detail.html"}),__metadata("design:paramtypes",[])],TripDetailPage)}();exports.TripDetailPage=TripDetailPage},{"@angular/core":167}],16:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),ionic_angular_1=require("ionic-angular"),ionic_native_1=require("ionic-native"),login_1=require("../login/login"),TutorialPage=function(){function TutorialPage(navCtrl,platform){this.navCtrl=navCtrl,this.platform=platform,this.slides=[{title:"Onontdekt",description:"Het <b>XI<sup>e</sup> Lustrum</b> der <b>Civitas Studiosorum Reformatorum</b> is begonnen!",image:"images/tutorial-1.png"},{title:"Activiteiten",description:"Met deze app blijft u <b>op de hoogte</b> van alle <b>lustrumactiviteiten</b>.",image:"images/tutorial-2.jpg"},{title:"Ledenlijst",description:"Met de <b>ingebakken ledenlijst</b> kunt u snel iemand <b>bellen</b> of een <b>route plannen</b> naar Tanthof.",image:"images/tutorial-3.jpg"}],this.showSkip=!0}return TutorialPage.prototype.startApp=function(){this.navCtrl.push(login_1.LoginPage)},TutorialPage.prototype.onSlideChangeStart=function(slider){this.showSkip=!slider.isEnd},TutorialPage.prototype.ionViewDidEnter=function(){this.platform.ready().then(function(){ionic_native_1.StatusBar.styleDefault(),ionic_native_1.GoogleAnalytics.trackView("Tutorial")})},TutorialPage.prototype.ionViewWillLeave=function(){this.platform.ready().then(function(){ionic_native_1.StatusBar.styleLightContent()})},TutorialPage=__decorate([core_1.Component({templateUrl:"build/pages/tutorial/tutorial.html"}),__metadata("design:paramtypes",[ionic_angular_1.NavController,ionic_angular_1.Platform])],TutorialPage)}();exports.TutorialPage=TutorialPage},{"../login/login":9,"@angular/core":167,"ionic-angular":509,"ionic-native":536}],17:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),angular2_jwt_1=require("angular2-jwt"),_=require("lodash"),moment=require("moment");require("moment/locale/nl"),require("rxjs/add/operator/map");var app_settings_1=require("../constants/app-settings"),auth_1=require("../services/auth"),ApiData=function(){function ApiData(authHttp,authService){this.authHttp=authHttp,this.authService=authService,this._scheduleList=[],this._joinedEvents={maaltijden:[],activiteiten:[]},this._memberList=[],this._memberDetail=[]}return ApiData.prototype.getScheduleList=function(fromMoment,toMoment){var _this=this;if(this._scheduleList.length>0){var found=_.find(this._scheduleList,{from:fromMoment,to:toMoment});if(found)return Promise.resolve(found.events)}return new Promise(function(resolve,reject){var fromISO=fromMoment.toISOString(),toISO=toMoment.toISOString();_this.getFromApi("/agenda?from="+fromISO+"&to="+toISO,"get").then(function(res){var schedule={from:fromMoment.clone(),to:toMoment.clone(),events:res.events};_this._scheduleList.push(schedule),(_a=_this._joinedEvents.maaltijden).push.apply(_a,res.joined.maaltijden),(_b=_this._joinedEvents.activiteiten).push.apply(_b,res.joined.activiteiten),resolve(schedule.events);var _a,_b},function(error){reject()})})},ApiData.prototype.addEventMeta=function(event){var meta={};meta.start=moment(event.begin_moment||event.datum+" "+event.tijd),meta.end=event.eind_moment?moment(event.eind_moment):moment(meta.start).add(2,"hours");var sameDay=meta.start.isSame(meta.end,"day"),sameDayLate=moment(meta.start).add(1,"day").isSame(meta.end,"day")&&meta.end.hour()<8,allDay="00:00"===meta.start.format("LT")&&"23:59"===meta.end.format("LT");if(sameDay||sameDayLate)allDay?meta.formattedListDate="Hele dag":meta.formattedListDate=meta.start.format("LT")+" – "+meta.end.format("LT")+" uur";else{var format=allDay?"dddd D MMMM":"dddd D MMMM LT";meta.formattedListDate=meta.start.format(format)+" – "+meta.end.format(format)}return event.maaltijd_id?(meta.category="maaltijd",event.prijs=event.prijs.slice(0,-2)+","+event.prijs.substr(-2),meta.present=_.indexOf(this._joinedEvents.maaltijden,Number(event.maaltijd_id))!==-1):event.id?(meta.category="activiteit",meta.present=_.indexOf(this._joinedEvents.activiteiten,Number(event.id))!==-1):meta.category="agenda",event.titel&&(event.titel=event.titel.replace(/&amp;/g,"&")),event.naam&&(event.naam=event.naam.replace(/&amp;/g,"&")),event._meta=meta,event},ApiData.prototype.addJoined=function(cat,id){"maaltijden"===cat?this._joinedEvents.maaltijden.push(id):this._joinedEvents.activiteiten.push(id)},ApiData.prototype.removeJoined=function(cat,id){if("maaltijden"===cat){var index=_.indexOf(this._joinedEvents.maaltijden,id);this._joinedEvents.maaltijden.splice(index,1)}else{var index=_.indexOf(this._joinedEvents.activiteiten,id);this._joinedEvents.activiteiten.splice(index,1)}},ApiData.prototype.getMemberList=function(){var _this=this;return this._memberList.length>0?Promise.resolve(this._memberList):new Promise(function(resolve,reject){_this.getFromApi("/leden","get").then(function(res){_this._memberList=res,resolve(_this._memberList)},function(error){reject()})})},ApiData.prototype.getMemberDetail=function(id){var _this=this;return new Promise(function(resolve){var member=_this._memberDetail.filter(function(member){return member.id===id});member.length>0?resolve(member[0]):_this.getFromApi("/leden/"+id,"get").then(function(res){_this._memberDetail.push(res),resolve(res)})})},ApiData.prototype.postAction=function(cat,id,action){var _this=this;return new Promise(function(resolve,reject){_this.getFromApi("/"+cat+"/"+id+"/"+action,"post").then(function(res){resolve(res)},function(error){reject(error)})})},ApiData.prototype.getFromApi=function(url,method){var _this=this;return new Promise(function(resolve,reject){_this.authHttp.request(app_settings_1.AppSettings.API_ENDPOINT+url,{method:method}).map(function(res){return res.json()}).subscribe(function(data){return resolve(data.data)},function(error){401===error.status?_this.authService.logout(!0):(console.log(error),reject())})})},ApiData=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[angular2_jwt_1.AuthHttp,auth_1.AuthService])],ApiData)}();exports.ApiData=ApiData},{"../constants/app-settings":2,"../services/auth":18,"@angular/core":167,"angular2-jwt":411,lodash:622,moment:624,"moment/locale/nl":623,"rxjs/add/operator/map":692}],18:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),http_1=require("@angular/http"),angular2_jwt_1=require("angular2-jwt"),ionic_angular_1=require("ionic-angular"),ionic_native_1=require("ionic-native"),Rx_1=require("rxjs/Rx"),cloud_angular_1=require("@ionic/cloud-angular"),app_settings_1=require("../constants/app-settings"),AuthService=function(){function AuthService(http,authHttp,platform,push){var _this=this;this.http=http,this.authHttp=authHttp,this.platform=platform,this.push=push,this.jwtHelper=new angular2_jwt_1.JwtHelper,this.localStorage=new ionic_angular_1.Storage(ionic_angular_1.LocalStorage);var isWeb=platform.is("mobileweb")||platform.is("core");this.storage=new ionic_angular_1.Storage(isWeb?ionic_angular_1.LocalStorage:ionic_angular_1.SqlStorage),console.log("isWeb",isWeb),console.log("using storage:",this.storage),this.storage.get("userId").then(function(userId){userId&&(_this.userId=userId,_this.registerLogin("Automatic"))})["catch"](function(error){console.log(error)})}return AuthService.prototype.tryAuthentication=function(){var _this=this;return this.authenticated()?(this.startupTokenRefresh(),Promise.resolve(!0)):new Promise(function(resolve){_this.hasRefreshToken().then(function(res){res===!0?_this.getNewJwt().then(function(){_this.scheduleRefresh(),resolve(!0)},function(unauthorized){resolve(unauthorized?!1:!0)}):resolve(!1)})})},AuthService.prototype.login=function(username,password){var _this=this,url=app_settings_1.AppSettings.API_ENDPOINT+"/auth/authorize",params="user="+username+"&pass="+password,headers=new http_1.Headers;return headers.append("Content-Type","application/x-www-form-urlencoded"),new Promise(function(resolve,reject){_this.http.post(url,params,{headers:headers}).subscribe(function(res){var data=res.json();_this.userId=username,_this.storage.set("userId",_this.userId),_this.storage.set("id_token",data.token),_this.localStorage.set("id_token",data.token),_this.storage.set("refresh_token",data.refreshToken),_this.scheduleRefresh(),_this.registerLogin("Manual"),resolve()},function(error){reject(error)})})},AuthService.prototype.logout=function(reload){void 0===reload&&(reload=!1),this.storage.remove("userId"),this.userId=null,this.storage.remove("id_token"),this.localStorage.remove("id_token"),this.storage.remove("refresh_token"),this.unscheduleRefresh(),this.registerLogout(reload?"Automatic":"Manual"),reload&&location.reload()},AuthService.prototype.registerLogin=function(type){var _this=this;this.platform.is("cordova")&&(this.push.register().then(function(token){_this.push.saveToken(token,{})}),this.platform.ready().then(function(){ionic_native_1.GoogleAnalytics.trackEvent("Authorization","Login",type)}))},AuthService.prototype.registerLogout=function(type){this.platform.is("cordova")&&(this.push.unregister(),this.platform.ready().then(function(){ionic_native_1.GoogleAnalytics.trackEvent("Authorization","Logout",type)}))},AuthService.prototype.authenticated=function(){return angular2_jwt_1.tokenNotExpired()},AuthService.prototype.hasRefreshToken=function(){return this.storage.get("refresh_token").then(function(value){return"undefined"!=typeof value})},AuthService.prototype.getToken=function(){return this.localStorage.get("id_token").then(function(value){return value})},AuthService.prototype.scheduleRefresh=function(){var _this=this,source=this.authHttp.tokenStream.flatMap(function(token){var jwtIat=_this.jwtHelper.decodeToken(token).iat,jwtExp=_this.jwtHelper.decodeToken(token).exp,iat=new Date(0),exp=new Date(0),delay=exp.setUTCSeconds(jwtExp)-iat.setUTCSeconds(jwtIat);return Rx_1.Observable.interval(delay-15)});this.refreshSubscription=source.subscribe(function(){_this.getNewJwt()})},AuthService.prototype.unscheduleRefresh=function(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()},AuthService.prototype.startupTokenRefresh=function(){var _this=this,source=this.authHttp.tokenStream.flatMap(function(token){var now=(new Date).valueOf(),jwtExp=_this.jwtHelper.decodeToken(token).exp,exp=new Date(0);exp.setUTCSeconds(jwtExp);var delay=exp.valueOf()-now;return Rx_1.Observable.timer(delay-15)});source.subscribe(function(){_this.getNewJwt(),_this.scheduleRefresh()})},AuthService.prototype.getNewJwt=function(){var _this=this;return new Promise(function(resolve,reject){_this.storage.get("refresh_token").then(function(refreshToken){var url=app_settings_1.AppSettings.API_ENDPOINT+"/auth/token",params="refresh_token="+refreshToken,headers=new http_1.Headers;headers.append("Content-Type","application/x-www-form-urlencoded"),_this.http.post(url,params,{headers:headers}).subscribe(function(res){var data=res.json();_this.storage.set("id_token",data.token),_this.localStorage.set("id_token",data.token),resolve()},function(error){console.log(error),401===error.status?(_this.storage.remove("refresh_token"),reject(!0)):reject(!1)})})["catch"](function(error){console.log(error),reject()})})},AuthService=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[http_1.Http,angular2_jwt_1.AuthHttp,ionic_angular_1.Platform,cloud_angular_1.Push])],AuthService)}();exports.AuthService=AuthService},{"../constants/app-settings":2,"@angular/core":167,"@angular/http":294,"@ionic/cloud-angular":384,"angular2-jwt":411,"ionic-angular":509,"ionic-native":536,"rxjs/Rx":634}],19:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),ionic_angular_1=require("ionic-angular"),NotificationService=function(){function NotificationService(app,toastCtrl){this.app=app,this.toastCtrl=toastCtrl}return NotificationService.prototype.notify=function(message){var toast=this.toastCtrl.create({message:message,duration:3e3});toast.present()},NotificationService=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[ionic_angular_1.App,ionic_angular_1.ToastController])],NotificationService)}();exports.NotificationService=NotificationService},{"@angular/core":167,"ionic-angular":509}],20:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./src/pipes")),__export(require("./src/directives")),__export(require("./src/forms-deprecated")),__export(require("./src/common_directives")),__export(require("./src/location"));var localization_1=require("./src/localization");exports.NgLocalization=localization_1.NgLocalization},{"./src/common_directives":21,"./src/directives":22,"./src/forms-deprecated":39,"./src/localization":64,"./src/location":65,"./src/pipes":71}],21:[function(require,module,exports){"use strict";var directives_1=require("./directives"),forms_deprecated_1=require("./forms-deprecated");exports.COMMON_DIRECTIVES=[directives_1.CORE_DIRECTIVES,forms_deprecated_1.FORM_DIRECTIVES]},{"./directives":22,"./forms-deprecated":39}],22:[function(require,module,exports){"use strict";var core_directives_1=require("./directives/core_directives");exports.CORE_DIRECTIVES=core_directives_1.CORE_DIRECTIVES;var ng_class_1=require("./directives/ng_class");exports.NgClass=ng_class_1.NgClass;var ng_for_1=require("./directives/ng_for");exports.NgFor=ng_for_1.NgFor;var ng_if_1=require("./directives/ng_if");exports.NgIf=ng_if_1.NgIf;var ng_plural_1=require("./directives/ng_plural");exports.NgPlural=ng_plural_1.NgPlural,exports.NgPluralCase=ng_plural_1.NgPluralCase;var ng_style_1=require("./directives/ng_style");exports.NgStyle=ng_style_1.NgStyle;var ng_switch_1=require("./directives/ng_switch");exports.NgSwitch=ng_switch_1.NgSwitch,exports.NgSwitchCase=ng_switch_1.NgSwitchCase,exports.NgSwitchDefault=ng_switch_1.NgSwitchDefault;var ng_template_outlet_1=require("./directives/ng_template_outlet");exports.NgTemplateOutlet=ng_template_outlet_1.NgTemplateOutlet},{"./directives/core_directives":23,"./directives/ng_class":24,"./directives/ng_for":25,"./directives/ng_if":26,"./directives/ng_plural":27,"./directives/ng_style":28,"./directives/ng_switch":29,"./directives/ng_template_outlet":30}],23:[function(require,module,exports){"use strict";var ng_class_1=require("./ng_class"),ng_for_1=require("./ng_for"),ng_if_1=require("./ng_if"),ng_plural_1=require("./ng_plural"),ng_style_1=require("./ng_style"),ng_switch_1=require("./ng_switch"),ng_template_outlet_1=require("./ng_template_outlet");exports.CORE_DIRECTIVES=[ng_class_1.NgClass,ng_for_1.NgFor,ng_if_1.NgIf,ng_template_outlet_1.NgTemplateOutlet,ng_style_1.NgStyle,ng_switch_1.NgSwitch,ng_switch_1.NgSwitchCase,ng_switch_1.NgSwitchDefault,ng_plural_1.NgPlural,ng_plural_1.NgPluralCase]},{"./ng_class":24,"./ng_for":25,"./ng_if":26,"./ng_plural":27,"./ng_style":28,"./ng_switch":29,"./ng_template_outlet":30}],24:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),NgClass=function(){function NgClass(_iterableDiffers,_keyValueDiffers,_ngEl,_renderer){this._iterableDiffers=_iterableDiffers,this._keyValueDiffers=_keyValueDiffers,this._ngEl=_ngEl,this._renderer=_renderer,this._initialClasses=[]}return Object.defineProperty(NgClass.prototype,"initialClasses",{set:function(v){this._applyInitialClasses(!0),this._initialClasses=lang_1.isPresent(v)&&lang_1.isString(v)?v.split(" "):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(NgClass.prototype,"rawClass",{set:function(v){this._cleanupClasses(this._rawClass),lang_1.isString(v)&&(v=v.split(" ")),this._rawClass=v,this._iterableDiffer=null,this._keyValueDiffer=null,lang_1.isPresent(v)&&(collection_1.isListLikeIterable(v)?this._iterableDiffer=this._iterableDiffers.find(v).create(null):this._keyValueDiffer=this._keyValueDiffers.find(v).create(null))},enumerable:!0,configurable:!0}),NgClass.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._iterableDiffer)){var changes=this._iterableDiffer.diff(this._rawClass);lang_1.isPresent(changes)&&this._applyIterableChanges(changes)}if(lang_1.isPresent(this._keyValueDiffer)){var changes=this._keyValueDiffer.diff(this._rawClass);lang_1.isPresent(changes)&&this._applyKeyValueChanges(changes)}},NgClass.prototype.ngOnDestroy=function(){this._cleanupClasses(this._rawClass)},NgClass.prototype._cleanupClasses=function(rawClassVal){this._applyClasses(rawClassVal,!0),this._applyInitialClasses(!1)},NgClass.prototype._applyKeyValueChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){_this._toggleClass(record.key,record.currentValue)}),changes.forEachChangedItem(function(record){_this._toggleClass(record.key,record.currentValue)}),changes.forEachRemovedItem(function(record){record.previousValue&&_this._toggleClass(record.key,!1)})},NgClass.prototype._applyIterableChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){_this._toggleClass(record.item,!0)}),changes.forEachRemovedItem(function(record){_this._toggleClass(record.item,!1)})},NgClass.prototype._applyInitialClasses=function(isCleanup){var _this=this;this._initialClasses.forEach(function(className){return _this._toggleClass(className,!isCleanup)})},NgClass.prototype._applyClasses=function(rawClassVal,isCleanup){var _this=this;lang_1.isPresent(rawClassVal)&&(lang_1.isArray(rawClassVal)?rawClassVal.forEach(function(className){return _this._toggleClass(className,!isCleanup)}):rawClassVal instanceof Set?rawClassVal.forEach(function(className){return _this._toggleClass(className,!isCleanup)}):collection_1.StringMapWrapper.forEach(rawClassVal,function(expVal,className){lang_1.isPresent(expVal)&&_this._toggleClass(className,!isCleanup)}))},NgClass.prototype._toggleClass=function(className,enabled){if(className=className.trim(),className.length>0)if(className.indexOf(" ")>-1)for(var classes=className.split(/\s+/g),i=0,len=classes.length;i<len;i++)this._renderer.setElementClass(this._ngEl.nativeElement,classes[i],enabled);else this._renderer.setElementClass(this._ngEl.nativeElement,className,enabled)},NgClass.decorators=[{type:core_1.Directive,args:[{selector:"[ngClass]",inputs:["rawClass: ngClass","initialClasses: class"]}]}],NgClass.ctorParameters=[{type:core_1.IterableDiffers},{type:core_1.KeyValueDiffers},{type:core_1.ElementRef},{type:core_1.Renderer}],NgClass}();exports.NgClass=NgClass},{"../facade/collection":33,"../facade/lang":37,"@angular/core":167}],25:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),NgForRow=function(){function NgForRow($implicit,index,count){this.$implicit=$implicit,this.index=index,this.count=count}return Object.defineProperty(NgForRow.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(NgForRow.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(NgForRow.prototype,"even",{get:function(){return this.index%2===0},enumerable:!0,configurable:!0}),Object.defineProperty(NgForRow.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),NgForRow}();exports.NgForRow=NgForRow;var NgFor=function(){function NgFor(_viewContainer,_templateRef,_iterableDiffers,_cdr){this._viewContainer=_viewContainer,this._templateRef=_templateRef,this._iterableDiffers=_iterableDiffers,this._cdr=_cdr}return Object.defineProperty(NgFor.prototype,"ngForOf",{set:function(value){if(this._ngForOf=value,lang_1.isBlank(this._differ)&&lang_1.isPresent(value))try{this._differ=this._iterableDiffers.find(value).create(this._cdr,this._ngForTrackBy)}catch(e){throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+value+"' of type '"+lang_1.getTypeNameForDebugging(value)+"'. NgFor only supports binding to Iterables such as Arrays.")}},enumerable:!0,configurable:!0}),Object.defineProperty(NgFor.prototype,"ngForTemplate",{set:function(value){lang_1.isPresent(value)&&(this._templateRef=value)},enumerable:!0,configurable:!0}),Object.defineProperty(NgFor.prototype,"ngForTrackBy",{set:function(value){this._ngForTrackBy=value},enumerable:!0,configurable:!0}),NgFor.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._differ)){var changes=this._differ.diff(this._ngForOf);lang_1.isPresent(changes)&&this._applyChanges(changes)}},NgFor.prototype._applyChanges=function(changes){var _this=this,recordViewTuples=[];changes.forEachRemovedItem(function(removedRecord){return recordViewTuples.push(new RecordViewTuple(removedRecord,null))}),changes.forEachMovedItem(function(movedRecord){return recordViewTuples.push(new RecordViewTuple(movedRecord,null))});var insertTuples=this._bulkRemove(recordViewTuples);changes.forEachAddedItem(function(addedRecord){return insertTuples.push(new RecordViewTuple(addedRecord,null))}),this._bulkInsert(insertTuples);for(var i=0;i<insertTuples.length;i++)this._perViewChange(insertTuples[i].view,insertTuples[i].record);for(var i=0,ilen=this._viewContainer.length;i<ilen;i++){var viewRef=this._viewContainer.get(i);viewRef.context.index=i,viewRef.context.count=ilen}changes.forEachIdentityChange(function(record){var viewRef=_this._viewContainer.get(record.currentIndex);viewRef.context.$implicit=record.item})},NgFor.prototype._perViewChange=function(view,record){view.context.$implicit=record.item},NgFor.prototype._bulkRemove=function(tuples){tuples.sort(function(a,b){return a.record.previousIndex-b.record.previousIndex});for(var movedTuples=[],i=tuples.length-1;i>=0;i--){var tuple=tuples[i];lang_1.isPresent(tuple.record.currentIndex)?(tuple.view=this._viewContainer.detach(tuple.record.previousIndex),movedTuples.push(tuple)):this._viewContainer.remove(tuple.record.previousIndex)}return movedTuples},NgFor.prototype._bulkInsert=function(tuples){tuples.sort(function(a,b){return a.record.currentIndex-b.record.currentIndex});for(var i=0;i<tuples.length;i++){var tuple=tuples[i];lang_1.isPresent(tuple.view)?this._viewContainer.insert(tuple.view,tuple.record.currentIndex):tuple.view=this._viewContainer.createEmbeddedView(this._templateRef,new NgForRow(null,null,null),tuple.record.currentIndex)}return tuples},NgFor.decorators=[{type:core_1.Directive,args:[{selector:"[ngFor][ngForOf]",inputs:["ngForTrackBy","ngForOf","ngForTemplate"]}]}],NgFor.ctorParameters=[{type:core_1.ViewContainerRef},{type:core_1.TemplateRef},{type:core_1.IterableDiffers},{type:core_1.ChangeDetectorRef}],NgFor}();exports.NgFor=NgFor;var RecordViewTuple=function(){function RecordViewTuple(record,view){this.record=record,this.view=view}return RecordViewTuple}()},{"../facade/exceptions":35,"../facade/lang":37,"@angular/core":167}],26:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../facade/lang"),NgIf=function(){function NgIf(_viewContainer,_templateRef){this._viewContainer=_viewContainer,this._templateRef=_templateRef,this._prevCondition=null}return Object.defineProperty(NgIf.prototype,"ngIf",{set:function(newCondition){!newCondition||!lang_1.isBlank(this._prevCondition)&&this._prevCondition?newCondition||!lang_1.isBlank(this._prevCondition)&&!this._prevCondition||(this._prevCondition=!1,this._viewContainer.clear()):(this._prevCondition=!0,this._viewContainer.createEmbeddedView(this._templateRef))},enumerable:!0,configurable:!0}),NgIf.decorators=[{type:core_1.Directive,args:[{selector:"[ngIf]",inputs:["ngIf"]}]}],NgIf.ctorParameters=[{type:core_1.ViewContainerRef},{type:core_1.TemplateRef}],NgIf}();exports.NgIf=NgIf},{"../facade/lang":37,"@angular/core":167}],27:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../facade/lang"),localization_1=require("../localization"),ng_switch_1=require("./ng_switch"),NgPluralCase=function(){function NgPluralCase(value,template,viewContainer){this.value=value,this._view=new ng_switch_1.SwitchView(viewContainer,template)}return NgPluralCase.decorators=[{type:core_1.Directive,args:[{selector:"[ngPluralCase]"}]}],NgPluralCase.ctorParameters=[{type:void 0,decorators:[{type:core_1.Attribute,args:["ngPluralCase"]}]},{type:core_1.TemplateRef},{type:core_1.ViewContainerRef}],NgPluralCase}();exports.NgPluralCase=NgPluralCase;var NgPlural=function(){function NgPlural(_localization){this._localization=_localization,this._caseViews={},this.cases=null}return Object.defineProperty(NgPlural.prototype,"ngPlural",{set:function(value){this._switchValue=value,this._updateView()},enumerable:!0,configurable:!0}),NgPlural.prototype.ngAfterContentInit=function(){var _this=this;this.cases.forEach(function(pluralCase){_this._caseViews[pluralCase.value]=pluralCase._view}),this._updateView()},NgPlural.prototype._updateView=function(){this._clearViews();var key=localization_1.getPluralCategory(this._switchValue,Object.getOwnPropertyNames(this._caseViews),this._localization);this._activateView(this._caseViews[key])},NgPlural.prototype._clearViews=function(){lang_1.isPresent(this._activeView)&&this._activeView.destroy()},NgPlural.prototype._activateView=function(view){lang_1.isPresent(view)&&(this._activeView=view,this._activeView.create())},NgPlural.decorators=[{type:core_1.Directive,args:[{selector:"[ngPlural]"}]}],NgPlural.ctorParameters=[{type:localization_1.NgLocalization}],NgPlural.propDecorators={cases:[{type:core_1.ContentChildren,args:[NgPluralCase]}],ngPlural:[{type:core_1.Input}]},NgPlural}();exports.NgPlural=NgPlural},{"../facade/lang":37,"../localization":64,"./ng_switch":29,"@angular/core":167}],28:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../facade/lang"),NgStyle=function(){function NgStyle(_differs,_ngEl,_renderer){this._differs=_differs,this._ngEl=_ngEl,this._renderer=_renderer}return Object.defineProperty(NgStyle.prototype,"rawStyle",{set:function(v){this._rawStyle=v,lang_1.isBlank(this._differ)&&lang_1.isPresent(v)&&(this._differ=this._differs.find(this._rawStyle).create(null))},enumerable:!0,configurable:!0}),NgStyle.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._differ)){var changes=this._differ.diff(this._rawStyle);lang_1.isPresent(changes)&&this._applyChanges(changes)}},NgStyle.prototype._applyChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){_this._setStyle(record.key,record.currentValue)}),changes.forEachChangedItem(function(record){_this._setStyle(record.key,record.currentValue)}),changes.forEachRemovedItem(function(record){_this._setStyle(record.key,null)})},NgStyle.prototype._setStyle=function(name,val){this._renderer.setElementStyle(this._ngEl.nativeElement,name,val)},NgStyle.decorators=[{type:core_1.Directive,args:[{selector:"[ngStyle]",inputs:["rawStyle: ngStyle"]}]}],NgStyle.ctorParameters=[{type:core_1.KeyValueDiffers},{type:core_1.ElementRef},{type:core_1.Renderer}],NgStyle}();exports.NgStyle=NgStyle},{"../facade/lang":37,"@angular/core":167}],29:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),_CASE_DEFAULT=new Object,_warned=!1,SwitchView=function(){function SwitchView(_viewContainerRef,_templateRef){this._viewContainerRef=_viewContainerRef,this._templateRef=_templateRef}return SwitchView.prototype.create=function(){this._viewContainerRef.createEmbeddedView(this._templateRef)},SwitchView.prototype.destroy=function(){this._viewContainerRef.clear()},SwitchView}();exports.SwitchView=SwitchView;var NgSwitch=function(){function NgSwitch(){this._useDefault=!1,this._valueViews=new collection_1.Map,this._activeViews=[]}return Object.defineProperty(NgSwitch.prototype,"ngSwitch",{set:function(value){this._emptyAllActiveViews(),this._useDefault=!1;var views=this._valueViews.get(value);lang_1.isBlank(views)&&(this._useDefault=!0,views=lang_1.normalizeBlank(this._valueViews.get(_CASE_DEFAULT))),this._activateViews(views),this._switchValue=value},enumerable:!0,configurable:!0}),NgSwitch.prototype._onCaseValueChanged=function(oldCase,newCase,view){this._deregisterView(oldCase,view),this._registerView(newCase,view),oldCase===this._switchValue?(view.destroy(),
collection_1.ListWrapper.remove(this._activeViews,view)):newCase===this._switchValue&&(this._useDefault&&(this._useDefault=!1,this._emptyAllActiveViews()),view.create(),this._activeViews.push(view)),0!==this._activeViews.length||this._useDefault||(this._useDefault=!0,this._activateViews(this._valueViews.get(_CASE_DEFAULT)))},NgSwitch.prototype._emptyAllActiveViews=function(){for(var activeContainers=this._activeViews,i=0;i<activeContainers.length;i++)activeContainers[i].destroy();this._activeViews=[]},NgSwitch.prototype._activateViews=function(views){if(lang_1.isPresent(views)){for(var i=0;i<views.length;i++)views[i].create();this._activeViews=views}},NgSwitch.prototype._registerView=function(value,view){var views=this._valueViews.get(value);lang_1.isBlank(views)&&(views=[],this._valueViews.set(value,views)),views.push(view)},NgSwitch.prototype._deregisterView=function(value,view){if(value!==_CASE_DEFAULT){var views=this._valueViews.get(value);1==views.length?this._valueViews["delete"](value):collection_1.ListWrapper.remove(views,view)}},NgSwitch.decorators=[{type:core_1.Directive,args:[{selector:"[ngSwitch]",inputs:["ngSwitch"]}]}],NgSwitch}();exports.NgSwitch=NgSwitch;var NgSwitchCase=function(){function NgSwitchCase(viewContainer,templateRef,ngSwitch){this._value=_CASE_DEFAULT,this._switch=ngSwitch,this._view=new SwitchView(viewContainer,templateRef)}return Object.defineProperty(NgSwitchCase.prototype,"ngSwitchCase",{set:function(value){this._switch._onCaseValueChanged(this._value,value,this._view),this._value=value},enumerable:!0,configurable:!0}),Object.defineProperty(NgSwitchCase.prototype,"ngSwitchWhen",{set:function(value){_warned||(_warned=!0,console.warn("*ngSwitchWhen is deprecated and will be removed. Use *ngSwitchCase instead")),this._switch._onCaseValueChanged(this._value,value,this._view),this._value=value},enumerable:!0,configurable:!0}),NgSwitchCase.decorators=[{type:core_1.Directive,args:[{selector:"[ngSwitchCase],[ngSwitchWhen]",inputs:["ngSwitchCase","ngSwitchWhen"]}]}],NgSwitchCase.ctorParameters=[{type:core_1.ViewContainerRef},{type:core_1.TemplateRef},{type:NgSwitch,decorators:[{type:core_1.Host}]}],NgSwitchCase}();exports.NgSwitchCase=NgSwitchCase;var NgSwitchDefault=function(){function NgSwitchDefault(viewContainer,templateRef,sswitch){sswitch._registerView(_CASE_DEFAULT,new SwitchView(viewContainer,templateRef))}return NgSwitchDefault.decorators=[{type:core_1.Directive,args:[{selector:"[ngSwitchDefault]"}]}],NgSwitchDefault.ctorParameters=[{type:core_1.ViewContainerRef},{type:core_1.TemplateRef},{type:NgSwitch,decorators:[{type:core_1.Host}]}],NgSwitchDefault}();exports.NgSwitchDefault=NgSwitchDefault},{"../facade/collection":33,"../facade/lang":37,"@angular/core":167}],30:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../facade/lang"),NgTemplateOutlet=function(){function NgTemplateOutlet(_viewContainerRef){this._viewContainerRef=_viewContainerRef}return Object.defineProperty(NgTemplateOutlet.prototype,"ngOutletContext",{set:function(context){this._context!==context&&(this._context=context,lang_1.isPresent(this._viewRef)&&this.createView())},enumerable:!0,configurable:!0}),Object.defineProperty(NgTemplateOutlet.prototype,"ngTemplateOutlet",{set:function(templateRef){this._templateRef!==templateRef&&(this._templateRef=templateRef,this.createView())},enumerable:!0,configurable:!0}),NgTemplateOutlet.prototype.createView=function(){lang_1.isPresent(this._viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),lang_1.isPresent(this._templateRef)&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this._templateRef,this._context))},NgTemplateOutlet.decorators=[{type:core_1.Directive,args:[{selector:"[ngTemplateOutlet]"}]}],NgTemplateOutlet.ctorParameters=[{type:core_1.ViewContainerRef}],NgTemplateOutlet.propDecorators={ngOutletContext:[{type:core_1.Input}],ngTemplateOutlet:[{type:core_1.Input}]},NgTemplateOutlet}();exports.NgTemplateOutlet=NgTemplateOutlet},{"../facade/lang":37,"@angular/core":167}],31:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=require("rxjs/Subject"),PromiseObservable_1=require("rxjs/observable/PromiseObservable"),toPromise_1=require("rxjs/operator/toPromise"),lang_1=require("./lang"),Observable_1=require("rxjs/Observable");exports.Observable=Observable_1.Observable;var Subject_2=require("rxjs/Subject");exports.Subject=Subject_2.Subject;var promise_1=require("./promise");exports.PromiseCompleter=promise_1.PromiseCompleter,exports.PromiseWrapper=promise_1.PromiseWrapper;var TimerWrapper=function(){function TimerWrapper(){}return TimerWrapper.setTimeout=function(fn,millis){return lang_1.global.setTimeout(fn,millis)},TimerWrapper.clearTimeout=function(id){lang_1.global.clearTimeout(id)},TimerWrapper.setInterval=function(fn,millis){return lang_1.global.setInterval(fn,millis)},TimerWrapper.clearInterval=function(id){lang_1.global.clearInterval(id)},TimerWrapper}();exports.TimerWrapper=TimerWrapper;var ObservableWrapper=function(){function ObservableWrapper(){}return ObservableWrapper.subscribe=function(emitter,onNext,onError,onComplete){return void 0===onComplete&&(onComplete=function(){}),onError="function"==typeof onError&&onError||lang_1.noop,onComplete="function"==typeof onComplete&&onComplete||lang_1.noop,emitter.subscribe({next:onNext,error:onError,complete:onComplete})},ObservableWrapper.isObservable=function(obs){return!!obs.subscribe},ObservableWrapper.hasSubscribers=function(obs){return obs.observers.length>0},ObservableWrapper.dispose=function(subscription){subscription.unsubscribe()},ObservableWrapper.callNext=function(emitter,value){emitter.emit(value)},ObservableWrapper.callEmit=function(emitter,value){emitter.emit(value)},ObservableWrapper.callError=function(emitter,error){emitter.error(error)},ObservableWrapper.callComplete=function(emitter){emitter.complete()},ObservableWrapper.fromPromise=function(promise){return PromiseObservable_1.PromiseObservable.create(promise)},ObservableWrapper.toPromise=function(obj){return toPromise_1.toPromise.call(obj)},ObservableWrapper}();exports.ObservableWrapper=ObservableWrapper;var EventEmitter=function(_super){function EventEmitter(isAsync){void 0===isAsync&&(isAsync=!1),_super.call(this),this.__isAsync=isAsync}return __extends(EventEmitter,_super),EventEmitter.prototype.emit=function(value){_super.prototype.next.call(this,value)},EventEmitter.prototype.next=function(value){_super.prototype.next.call(this,value)},EventEmitter.prototype.subscribe=function(generatorOrNext,error,complete){var schedulerFn,errorFn=function(err){return null},completeFn=function(){return null};return generatorOrNext&&"object"==typeof generatorOrNext?(schedulerFn=this.__isAsync?function(value){setTimeout(function(){return generatorOrNext.next(value)})}:function(value){generatorOrNext.next(value)},generatorOrNext.error&&(errorFn=this.__isAsync?function(err){setTimeout(function(){return generatorOrNext.error(err)})}:function(err){generatorOrNext.error(err)}),generatorOrNext.complete&&(completeFn=this.__isAsync?function(){setTimeout(function(){return generatorOrNext.complete()})}:function(){generatorOrNext.complete()})):(schedulerFn=this.__isAsync?function(value){setTimeout(function(){return generatorOrNext(value)})}:function(value){generatorOrNext(value)},error&&(errorFn=this.__isAsync?function(err){setTimeout(function(){return error(err)})}:function(err){error(err)}),complete&&(completeFn=this.__isAsync?function(){setTimeout(function(){return complete()})}:function(){complete()})),_super.prototype.subscribe.call(this,schedulerFn,errorFn,completeFn)},EventEmitter}(Subject_1.Subject);exports.EventEmitter=EventEmitter},{"./lang":37,"./promise":38,"rxjs/Observable":629,"rxjs/Subject":635,"rxjs/observable/PromiseObservable":758,"rxjs/operator/toPromise":856}],32:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},BaseWrappedException=function(_super){function BaseWrappedException(message){_super.call(this,message)}return __extends(BaseWrappedException,_super),Object.defineProperty(BaseWrappedException.prototype,"wrapperMessage",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"wrapperStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"originalException",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"originalStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"message",{get:function(){return""},enumerable:!0,configurable:!0}),BaseWrappedException}(Error);exports.BaseWrappedException=BaseWrappedException},{}],33:[function(require,module,exports){"use strict";function _flattenArray(source,target){if(lang_1.isPresent(source))for(var i=0;i<source.length;i++){var item=source[i];lang_1.isArray(item)?_flattenArray(item,target):target.push(item)}return target}function isListLikeIterable(obj){return!!lang_1.isJsObject(obj)&&(lang_1.isArray(obj)||!(obj instanceof exports.Map)&&lang_1.getSymbolIterator()in obj)}function areIterablesEqual(a,b,comparator){for(var iterator1=a[lang_1.getSymbolIterator()](),iterator2=b[lang_1.getSymbolIterator()]();;){var item1=iterator1.next(),item2=iterator2.next();if(item1.done&&item2.done)return!0;if(item1.done||item2.done)return!1;if(!comparator(item1.value,item2.value))return!1}}function iterateListLike(obj,fn){if(lang_1.isArray(obj))for(var i=0;i<obj.length;i++)fn(obj[i]);else for(var item,iterator=obj[lang_1.getSymbolIterator()]();!(item=iterator.next()).done;)fn(item.value)}var lang_1=require("./lang");exports.Map=lang_1.global.Map,exports.Set=lang_1.global.Set;var createMapFromPairs=function(){try{if(1===new exports.Map([[1,2]]).size)return function(pairs){return new exports.Map(pairs)}}catch(e){}return function(pairs){for(var map=new exports.Map,i=0;i<pairs.length;i++){var pair=pairs[i];map.set(pair[0],pair[1])}return map}}(),createMapFromMap=function(){try{if(new exports.Map(new exports.Map))return function(m){return new exports.Map(m)}}catch(e){}return function(m){var map=new exports.Map;return m.forEach(function(v,k){map.set(k,v)}),map}}(),_clearValues=function(){return(new exports.Map).keys().next?function(m){for(var k,keyIterator=m.keys();!(k=keyIterator.next()).done;)m.set(k.value,null)}:function(m){m.forEach(function(v,k){m.set(k,null)})}}(),_arrayFromMap=function(){try{if((new exports.Map).values().next)return function(m,getValues){return getValues?Array.from(m.values()):Array.from(m.keys())}}catch(e){}return function(m,getValues){var res=ListWrapper.createFixedSize(m.size),i=0;return m.forEach(function(v,k){res[i]=getValues?v:k,i++}),res}}(),MapWrapper=function(){function MapWrapper(){}return MapWrapper.clone=function(m){return createMapFromMap(m)},MapWrapper.createFromStringMap=function(stringMap){var result=new exports.Map;for(var prop in stringMap)result.set(prop,stringMap[prop]);return result},MapWrapper.toStringMap=function(m){var r={};return m.forEach(function(v,k){return r[k]=v}),r},MapWrapper.createFromPairs=function(pairs){return createMapFromPairs(pairs)},MapWrapper.clearValues=function(m){_clearValues(m)},MapWrapper.iterable=function(m){return m},MapWrapper.keys=function(m){return _arrayFromMap(m,!1)},MapWrapper.values=function(m){return _arrayFromMap(m,!0)},MapWrapper}();exports.MapWrapper=MapWrapper;var StringMapWrapper=function(){function StringMapWrapper(){}return StringMapWrapper.create=function(){return{}},StringMapWrapper.contains=function(map,key){return map.hasOwnProperty(key)},StringMapWrapper.get=function(map,key){return map.hasOwnProperty(key)?map[key]:void 0},StringMapWrapper.set=function(map,key,value){map[key]=value},StringMapWrapper.keys=function(map){return Object.keys(map)},StringMapWrapper.values=function(map){return Object.keys(map).reduce(function(r,a){return r.push(map[a]),r},[])},StringMapWrapper.isEmpty=function(map){for(var prop in map)return!1;return!0},StringMapWrapper["delete"]=function(map,key){delete map[key]},StringMapWrapper.forEach=function(map,callback){for(var prop in map)map.hasOwnProperty(prop)&&callback(map[prop],prop)},StringMapWrapper.merge=function(m1,m2){var m={};for(var attr in m1)m1.hasOwnProperty(attr)&&(m[attr]=m1[attr]);for(var attr in m2)m2.hasOwnProperty(attr)&&(m[attr]=m2[attr]);return m},StringMapWrapper.equals=function(m1,m2){var k1=Object.keys(m1),k2=Object.keys(m2);if(k1.length!=k2.length)return!1;for(var key,i=0;i<k1.length;i++)if(key=k1[i],m1[key]!==m2[key])return!1;return!0},StringMapWrapper}();exports.StringMapWrapper=StringMapWrapper;var ListWrapper=function(){function ListWrapper(){}return ListWrapper.createFixedSize=function(size){return new Array(size)},ListWrapper.createGrowableSize=function(size){return new Array(size)},ListWrapper.clone=function(array){return array.slice(0)},ListWrapper.forEachWithIndex=function(array,fn){for(var i=0;i<array.length;i++)fn(array[i],i)},ListWrapper.first=function(array){return array?array[0]:null},ListWrapper.last=function(array){return array&&0!=array.length?array[array.length-1]:null},ListWrapper.indexOf=function(array,value,startIndex){return void 0===startIndex&&(startIndex=0),array.indexOf(value,startIndex)},ListWrapper.contains=function(list,el){return list.indexOf(el)!==-1},ListWrapper.reversed=function(array){var a=ListWrapper.clone(array);return a.reverse()},ListWrapper.concat=function(a,b){return a.concat(b)},ListWrapper.insert=function(list,index,value){list.splice(index,0,value)},ListWrapper.removeAt=function(list,index){var res=list[index];return list.splice(index,1),res},ListWrapper.removeAll=function(list,items){for(var i=0;i<items.length;++i){var index=list.indexOf(items[i]);list.splice(index,1)}},ListWrapper.remove=function(list,el){var index=list.indexOf(el);return index>-1&&(list.splice(index,1),!0)},ListWrapper.clear=function(list){list.length=0},ListWrapper.isEmpty=function(list){return 0==list.length},ListWrapper.fill=function(list,value,start,end){void 0===start&&(start=0),void 0===end&&(end=null),list.fill(value,start,null===end?list.length:end)},ListWrapper.equals=function(a,b){if(a.length!=b.length)return!1;for(var i=0;i<a.length;++i)if(a[i]!==b[i])return!1;return!0},ListWrapper.slice=function(l,from,to){return void 0===from&&(from=0),void 0===to&&(to=null),l.slice(from,null===to?void 0:to)},ListWrapper.splice=function(l,from,length){return l.splice(from,length)},ListWrapper.sort=function(l,compareFn){lang_1.isPresent(compareFn)?l.sort(compareFn):l.sort()},ListWrapper.toString=function(l){return l.toString()},ListWrapper.toJSON=function(l){return JSON.stringify(l)},ListWrapper.maximum=function(list,predicate){if(0==list.length)return null;for(var solution=null,maxValue=-(1/0),index=0;index<list.length;index++){var candidate=list[index];if(!lang_1.isBlank(candidate)){var candidateValue=predicate(candidate);candidateValue>maxValue&&(solution=candidate,maxValue=candidateValue)}}return solution},ListWrapper.flatten=function(list){var target=[];return _flattenArray(list,target),target},ListWrapper.addAll=function(list,source){for(var i=0;i<source.length;i++)list.push(source[i])},ListWrapper}();exports.ListWrapper=ListWrapper,exports.isListLikeIterable=isListLikeIterable,exports.areIterablesEqual=areIterablesEqual,exports.iterateListLike=iterateListLike;var createSetFromList=function(){var test=new exports.Set([1,2,3]);return 3===test.size?function(lst){return new exports.Set(lst)}:function(lst){var res=new exports.Set(lst);if(res.size!==lst.length)for(var i=0;i<lst.length;i++)res.add(lst[i]);return res}}(),SetWrapper=function(){function SetWrapper(){}return SetWrapper.createFromList=function(lst){return createSetFromList(lst)},SetWrapper.has=function(s,key){return s.has(key)},SetWrapper["delete"]=function(m,k){m["delete"](k)},SetWrapper}();exports.SetWrapper=SetWrapper},{"./lang":37}],34:[function(require,module,exports){"use strict";var base_wrapped_exception_1=require("./base_wrapped_exception"),collection_1=require("./collection"),lang_1=require("./lang"),_ArrayLogger=function(){function _ArrayLogger(){this.res=[]}return _ArrayLogger.prototype.log=function(s){this.res.push(s)},_ArrayLogger.prototype.logError=function(s){this.res.push(s)},_ArrayLogger.prototype.logGroup=function(s){this.res.push(s)},_ArrayLogger.prototype.logGroupEnd=function(){},_ArrayLogger}(),ExceptionHandler=function(){function ExceptionHandler(_logger,_rethrowException){void 0===_rethrowException&&(_rethrowException=!0),this._logger=_logger,this._rethrowException=_rethrowException}return ExceptionHandler.exceptionToString=function(exception,stackTrace,reason){void 0===stackTrace&&(stackTrace=null),void 0===reason&&(reason=null);var l=new _ArrayLogger,e=new ExceptionHandler(l,(!1));return e.call(exception,stackTrace,reason),l.res.join("\n")},ExceptionHandler.prototype.call=function(exception,stackTrace,reason){void 0===stackTrace&&(stackTrace=null),void 0===reason&&(reason=null);var originalException=this._findOriginalException(exception),originalStack=this._findOriginalStack(exception),context=this._findContext(exception);if(this._logger.logGroup("EXCEPTION: "+this._extractMessage(exception)),lang_1.isPresent(stackTrace)&&lang_1.isBlank(originalStack)&&(this._logger.logError("STACKTRACE:"),this._logger.logError(this._longStackTrace(stackTrace))),lang_1.isPresent(reason)&&this._logger.logError("REASON: "+reason),lang_1.isPresent(originalException)&&this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(originalException)),lang_1.isPresent(originalStack)&&(this._logger.logError("ORIGINAL STACKTRACE:"),this._logger.logError(this._longStackTrace(originalStack))),lang_1.isPresent(context)&&(this._logger.logError("ERROR CONTEXT:"),this._logger.logError(context)),this._logger.logGroupEnd(),this._rethrowException)throw exception},ExceptionHandler.prototype._extractMessage=function(exception){return exception instanceof base_wrapped_exception_1.BaseWrappedException?exception.wrapperMessage:exception.toString()},ExceptionHandler.prototype._longStackTrace=function(stackTrace){return collection_1.isListLikeIterable(stackTrace)?stackTrace.join("\n\n-----async gap-----\n"):stackTrace.toString()},ExceptionHandler.prototype._findContext=function(exception){try{return exception instanceof base_wrapped_exception_1.BaseWrappedException?lang_1.isPresent(exception.context)?exception.context:this._findContext(exception.originalException):null}catch(e){return null}},ExceptionHandler.prototype._findOriginalException=function(exception){if(!(exception instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var e=exception.originalException;e instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(e.originalException);)e=e.originalException;return e},ExceptionHandler.prototype._findOriginalStack=function(exception){if(!(exception instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var e=exception,stack=exception.originalStack;e instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(e.originalException);)e=e.originalException,e instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(e.originalException)&&(stack=e.originalStack);return stack},ExceptionHandler}();exports.ExceptionHandler=ExceptionHandler},{"./base_wrapped_exception":32,"./collection":33,"./lang":37}],35:[function(require,module,exports){"use strict";function makeTypeError(message){return new TypeError(message)}function unimplemented(){throw new BaseException("unimplemented")}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},base_wrapped_exception_1=require("./base_wrapped_exception"),exception_handler_1=require("./exception_handler"),exception_handler_2=require("./exception_handler");exports.ExceptionHandler=exception_handler_2.ExceptionHandler;var BaseException=function(_super){function BaseException(message){void 0===message&&(message="--"),_super.call(this,message),this.message=message,this.stack=new Error(message).stack}return __extends(BaseException,_super),BaseException.prototype.toString=function(){return this.message},BaseException}(Error);exports.BaseException=BaseException;var WrappedException=function(_super){function WrappedException(_wrapperMessage,_originalException,_originalStack,_context){_super.call(this,_wrapperMessage),this._wrapperMessage=_wrapperMessage,this._originalException=_originalException,this._originalStack=_originalStack,this._context=_context,this._wrapperStack=new Error(_wrapperMessage).stack}return __extends(WrappedException,_super),Object.defineProperty(WrappedException.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"originalException",{get:function(){return this._originalException},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"message",{get:function(){return exception_handler_1.ExceptionHandler.exceptionToString(this)},enumerable:!0,configurable:!0}),WrappedException.prototype.toString=function(){return this.message},WrappedException}(base_wrapped_exception_1.BaseWrappedException);exports.WrappedException=WrappedException,exports.makeTypeError=makeTypeError,exports.unimplemented=unimplemented},{"./base_wrapped_exception":32,"./exception_handler":34}],36:[function(require,module,exports){"use strict";function digitModifier(inner){return function(date,locale){var result=inner(date,locale);return 1==result.length?"0"+result:result}}function hourClockExtracter(inner){return function(date,locale){var result=inner(date,locale);return result.split(" ")[1]}}function hourExtracter(inner){return function(date,locale){var result=inner(date,locale);return result.split(" ")[0]}}function hour12Modify(options,value){return options.hour12=value,options}function digitCondition(prop,len){var result={};return result[prop]=2==len?"2-digit":"numeric",result}function nameCondition(prop,len){var result={};return result[prop]=len<4?"short":"long",result}function combine(options){var result={};return options.forEach(function(option){Object.assign(result,option)}),result}function datePartGetterFactory(ret){return function(date,locale){return new Intl.DateTimeFormat(locale,ret).format(date)}}function dateFormatter(format,date,locale){var match,fn,text="",parts=[];if(PATTERN_ALIASES[format])return PATTERN_ALIASES[format](date,locale);if(datePartsFormatterCache.has(format))parts=datePartsFormatterCache.get(format);else{for(DATE_FORMATS_SPLIT.exec(format);format;)match=DATE_FORMATS_SPLIT.exec(format),match?(parts=concat(parts,match,1),format=parts.pop()):(parts.push(format),format=null);datePartsFormatterCache.set(format,parts)}return parts.forEach(function(part){fn=DATE_FORMATS[part],text+=fn?fn(date,locale):"''"===part?"'":part.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}!function(NumberFormatStyle){NumberFormatStyle[NumberFormatStyle.Decimal=0]="Decimal",NumberFormatStyle[NumberFormatStyle.Percent=1]="Percent",NumberFormatStyle[NumberFormatStyle.Currency=2]="Currency"}(exports.NumberFormatStyle||(exports.NumberFormatStyle={}));var NumberFormatStyle=exports.NumberFormatStyle,NumberFormatter=function(){function NumberFormatter(){}return NumberFormatter.format=function(num,locale,style,_a){var _b=void 0===_a?{}:_a,_c=_b.minimumIntegerDigits,minimumIntegerDigits=void 0===_c?1:_c,_d=_b.minimumFractionDigits,minimumFractionDigits=void 0===_d?0:_d,_e=_b.maximumFractionDigits,maximumFractionDigits=void 0===_e?3:_e,currency=_b.currency,_f=_b.currencyAsSymbol,currencyAsSymbol=void 0!==_f&&_f,intlOptions={minimumIntegerDigits:minimumIntegerDigits,minimumFractionDigits:minimumFractionDigits,maximumFractionDigits:maximumFractionDigits};return intlOptions.style=NumberFormatStyle[style].toLowerCase(),style==NumberFormatStyle.Currency&&(intlOptions.currency=currency,intlOptions.currencyDisplay=currencyAsSymbol?"symbol":"code"),new Intl.NumberFormat(locale,intlOptions).format(num)},NumberFormatter}();exports.NumberFormatter=NumberFormatter;var DATE_FORMATS_SPLIT=/((?:[^yMLdHhmsaZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|Z|G+|w+))(.*)/,PATTERN_ALIASES={yMMMdjms:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",3),digitCondition("day",1),digitCondition("hour",1),digitCondition("minute",1),digitCondition("second",1)])),yMdjm:datePartGetterFactory(combine([digitCondition("year",1),digitCondition("month",1),digitCondition("day",1),digitCondition("hour",1),digitCondition("minute",1)])),yMMMMEEEEd:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",4),nameCondition("weekday",4),digitCondition("day",1)])),yMMMMd:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",4),digitCondition("day",1)])),yMMMd:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",3),digitCondition("day",1)])),yMd:datePartGetterFactory(combine([digitCondition("year",1),digitCondition("month",1),digitCondition("day",1)])),jms:datePartGetterFactory(combine([digitCondition("hour",1),digitCondition("second",1),digitCondition("minute",1)])),jm:datePartGetterFactory(combine([digitCondition("hour",1),digitCondition("minute",1)]))},DATE_FORMATS={yyyy:datePartGetterFactory(digitCondition("year",4)),yy:datePartGetterFactory(digitCondition("year",2)),y:datePartGetterFactory(digitCondition("year",1)),MMMM:datePartGetterFactory(nameCondition("month",4)),MMM:datePartGetterFactory(nameCondition("month",3)),MM:datePartGetterFactory(digitCondition("month",2)),M:datePartGetterFactory(digitCondition("month",1)),LLLL:datePartGetterFactory(nameCondition("month",4)),dd:datePartGetterFactory(digitCondition("day",2)),d:datePartGetterFactory(digitCondition("day",1)),HH:hourExtracter(datePartGetterFactory(hour12Modify(digitCondition("hour",2),!1))),H:hourExtracter(datePartGetterFactory(hour12Modify(digitCondition("hour",1),!1))),hh:hourExtracter(datePartGetterFactory(hour12Modify(digitCondition("hour",2),!0))),h:hourExtracter(datePartGetterFactory(hour12Modify(digitCondition("hour",1),!0))),jj:datePartGetterFactory(digitCondition("hour",2)),j:datePartGetterFactory(digitCondition("hour",1)),mm:digitModifier(datePartGetterFactory(digitCondition("minute",2))),m:datePartGetterFactory(digitCondition("minute",1)),ss:digitModifier(datePartGetterFactory(digitCondition("second",2))),s:datePartGetterFactory(digitCondition("second",1)),sss:datePartGetterFactory(digitCondition("second",3)),EEEE:datePartGetterFactory(nameCondition("weekday",4)),EEE:datePartGetterFactory(nameCondition("weekday",3)),EE:datePartGetterFactory(nameCondition("weekday",2)),E:datePartGetterFactory(nameCondition("weekday",1)),a:hourClockExtracter(datePartGetterFactory(hour12Modify(digitCondition("hour",1),!0))),Z:datePartGetterFactory({timeZoneName:"long"}),z:datePartGetterFactory({timeZoneName:"short"}),ww:datePartGetterFactory({}),w:datePartGetterFactory({}),G:datePartGetterFactory(nameCondition("era",1)),GG:datePartGetterFactory(nameCondition("era",2)),GGG:datePartGetterFactory(nameCondition("era",3)),GGGG:datePartGetterFactory(nameCondition("era",4))},datePartsFormatterCache=new Map,slice=[].slice,DateFormatter=function(){function DateFormatter(){}return DateFormatter.format=function(date,locale,pattern){return dateFormatter(pattern,date,locale)},DateFormatter}();exports.DateFormatter=DateFormatter},{}],37:[function(require,module,exports){(function(global){"use strict";function scheduleMicroTask(fn){Zone.current.scheduleMicroTask("scheduleMicrotask",fn)}function getTypeNameForDebugging(type){return type.name?type.name:typeof type}function isPresent(obj){return void 0!==obj&&null!==obj}function isBlank(obj){return void 0===obj||null===obj}function isBoolean(obj){return"boolean"==typeof obj}function isNumber(obj){return"number"==typeof obj}function isString(obj){return"string"==typeof obj}function isFunction(obj){return"function"==typeof obj}function isType(obj){return isFunction(obj)}function isStringMap(obj){return"object"==typeof obj&&null!==obj}function isStrictStringMap(obj){return isStringMap(obj)&&Object.getPrototypeOf(obj)===STRING_MAP_PROTO}function isPromise(obj){return obj instanceof _global.Promise}function isArray(obj){return Array.isArray(obj)}function isDate(obj){return obj instanceof exports.Date&&!isNaN(obj.valueOf())}function noop(){}function stringify(token){if("string"==typeof token)return token;if(void 0===token||null===token)return""+token;if(token.name)return token.name;if(token.overriddenName)return token.overriddenName;var res=token.toString(),newLineIndex=res.indexOf("\n");return newLineIndex===-1?res:res.substring(0,newLineIndex)}function serializeEnum(val){return val}function deserializeEnum(val,values){return val}function resolveEnumToken(enumValue,val){return enumValue[val]}function looseIdentical(a,b){return a===b||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b)}function getMapKey(value){return value}function normalizeBlank(obj){return isBlank(obj)?null:obj}function normalizeBool(obj){return!isBlank(obj)&&obj}function isJsObject(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function print(obj){console.log(obj)}function warn(obj){console.warn(obj)}function setValueOnPath(global,path,value){for(var parts=path.split("."),obj=global;parts.length>1;){var name=parts.shift();obj=obj.hasOwnProperty(name)&&isPresent(obj[name])?obj[name]:obj[name]={}}void 0!==obj&&null!==obj||(obj={}),obj[parts.shift()]=value}function getSymbolIterator(){if(isBlank(_symbolIterator))if(isPresent(globalScope.Symbol)&&isPresent(Symbol.iterator))_symbolIterator=Symbol.iterator;else for(var keys=Object.getOwnPropertyNames(Map.prototype),i=0;i<keys.length;++i){var key=keys[i];"entries"!==key&&"size"!==key&&Map.prototype[key]===Map.prototype.entries&&(_symbolIterator=key)}return _symbolIterator}function evalExpression(sourceUrl,expr,declarations,vars){var fnBody=declarations+"\nreturn "+expr+"\n//# sourceURL="+sourceUrl,fnArgNames=[],fnArgValues=[];for(var argName in vars)fnArgNames.push(argName),fnArgValues.push(vars[argName]);return(new(Function.bind.apply(Function,[void 0].concat(fnArgNames.concat(fnBody))))).apply(void 0,fnArgValues)}function isPrimitive(obj){return!isJsObject(obj)}function hasConstructor(value,type){return value.constructor===type}function escape(s){return _global.encodeURI(s)}function escapeRegExp(s){return s.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}var globalScope,__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)};globalScope="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window,
exports.scheduleMicroTask=scheduleMicroTask,exports.IS_DART=!1;var _global=globalScope;exports.global=_global,exports.Type=Function,exports.getTypeNameForDebugging=getTypeNameForDebugging,exports.Math=_global.Math,exports.Date=_global.Date,_global.assert=function(condition){},exports.isPresent=isPresent,exports.isBlank=isBlank,exports.isBoolean=isBoolean,exports.isNumber=isNumber,exports.isString=isString,exports.isFunction=isFunction,exports.isType=isType,exports.isStringMap=isStringMap;var STRING_MAP_PROTO=Object.getPrototypeOf({});exports.isStrictStringMap=isStrictStringMap,exports.isPromise=isPromise,exports.isArray=isArray,exports.isDate=isDate,exports.noop=noop,exports.stringify=stringify,exports.serializeEnum=serializeEnum,exports.deserializeEnum=deserializeEnum,exports.resolveEnumToken=resolveEnumToken;var StringWrapper=function(){function StringWrapper(){}return StringWrapper.fromCharCode=function(code){return String.fromCharCode(code)},StringWrapper.charCodeAt=function(s,index){return s.charCodeAt(index)},StringWrapper.split=function(s,regExp){return s.split(regExp)},StringWrapper.equals=function(s,s2){return s===s2},StringWrapper.stripLeft=function(s,charVal){if(s&&s.length){for(var pos=0,i=0;i<s.length&&s[i]==charVal;i++)pos++;s=s.substring(pos)}return s},StringWrapper.stripRight=function(s,charVal){if(s&&s.length){for(var pos=s.length,i=s.length-1;i>=0&&s[i]==charVal;i--)pos--;s=s.substring(0,pos)}return s},StringWrapper.replace=function(s,from,replace){return s.replace(from,replace)},StringWrapper.replaceAll=function(s,from,replace){return s.replace(from,replace)},StringWrapper.slice=function(s,from,to){return void 0===from&&(from=0),void 0===to&&(to=null),s.slice(from,null===to?void 0:to)},StringWrapper.replaceAllMapped=function(s,from,cb){return s.replace(from,function(){for(var matches=[],_i=0;_i<arguments.length;_i++)matches[_i-0]=arguments[_i];return matches.splice(-2,2),cb(matches)})},StringWrapper.contains=function(s,substr){return s.indexOf(substr)!=-1},StringWrapper.compare=function(a,b){return a<b?-1:a>b?1:0},StringWrapper}();exports.StringWrapper=StringWrapper;var StringJoiner=function(){function StringJoiner(parts){void 0===parts&&(parts=[]),this.parts=parts}return StringJoiner.prototype.add=function(part){this.parts.push(part)},StringJoiner.prototype.toString=function(){return this.parts.join("")},StringJoiner}();exports.StringJoiner=StringJoiner;var NumberParseError=function(_super){function NumberParseError(message){_super.call(this),this.message=message}return __extends(NumberParseError,_super),NumberParseError.prototype.toString=function(){return this.message},NumberParseError}(Error);exports.NumberParseError=NumberParseError;var NumberWrapper=function(){function NumberWrapper(){}return NumberWrapper.toFixed=function(n,fractionDigits){return n.toFixed(fractionDigits)},NumberWrapper.equal=function(a,b){return a===b},NumberWrapper.parseIntAutoRadix=function(text){var result=parseInt(text);if(isNaN(result))throw new NumberParseError("Invalid integer literal when parsing "+text);return result},NumberWrapper.parseInt=function(text,radix){if(10==radix){if(/^(\-|\+)?[0-9]+$/.test(text))return parseInt(text,radix)}else if(16==radix){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(text))return parseInt(text,radix)}else{var result=parseInt(text,radix);if(!isNaN(result))return result}throw new NumberParseError("Invalid integer literal when parsing "+text+" in base "+radix)},NumberWrapper.parseFloat=function(text){return parseFloat(text)},Object.defineProperty(NumberWrapper,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),NumberWrapper.isNumeric=function(value){return!isNaN(value-parseFloat(value))},NumberWrapper.isNaN=function(value){return isNaN(value)},NumberWrapper.isInteger=function(value){return Number.isInteger(value)},NumberWrapper}();exports.NumberWrapper=NumberWrapper,exports.RegExp=_global.RegExp;var RegExpWrapper=function(){function RegExpWrapper(){}return RegExpWrapper.create=function(regExpStr,flags){return void 0===flags&&(flags=""),flags=flags.replace(/g/g,""),new _global.RegExp(regExpStr,flags+"g")},RegExpWrapper.firstMatch=function(regExp,input){return regExp.lastIndex=0,regExp.exec(input)},RegExpWrapper.test=function(regExp,input){return regExp.lastIndex=0,regExp.test(input)},RegExpWrapper.matcher=function(regExp,input){return regExp.lastIndex=0,{re:regExp,input:input}},RegExpWrapper.replaceAll=function(regExp,input,replace){var c=regExp.exec(input),res="";regExp.lastIndex=0;for(var prev=0;c;)res+=input.substring(prev,c.index),res+=replace(c),prev=c.index+c[0].length,regExp.lastIndex=prev,c=regExp.exec(input);return res+=input.substring(prev)},RegExpWrapper}();exports.RegExpWrapper=RegExpWrapper;var RegExpMatcherWrapper=function(){function RegExpMatcherWrapper(){}return RegExpMatcherWrapper.next=function(matcher){return matcher.re.exec(matcher.input)},RegExpMatcherWrapper}();exports.RegExpMatcherWrapper=RegExpMatcherWrapper;var FunctionWrapper=function(){function FunctionWrapper(){}return FunctionWrapper.apply=function(fn,posArgs){return fn.apply(null,posArgs)},FunctionWrapper.bind=function(fn,scope){return fn.bind(scope)},FunctionWrapper}();exports.FunctionWrapper=FunctionWrapper,exports.looseIdentical=looseIdentical,exports.getMapKey=getMapKey,exports.normalizeBlank=normalizeBlank,exports.normalizeBool=normalizeBool,exports.isJsObject=isJsObject,exports.print=print,exports.warn=warn;var Json=function(){function Json(){}return Json.parse=function(s){return _global.JSON.parse(s)},Json.stringify=function(data){return _global.JSON.stringify(data,null,2)},Json}();exports.Json=Json;var DateWrapper=function(){function DateWrapper(){}return DateWrapper.create=function(year,month,day,hour,minutes,seconds,milliseconds){return void 0===month&&(month=1),void 0===day&&(day=1),void 0===hour&&(hour=0),void 0===minutes&&(minutes=0),void 0===seconds&&(seconds=0),void 0===milliseconds&&(milliseconds=0),new exports.Date(year,month-1,day,hour,minutes,seconds,milliseconds)},DateWrapper.fromISOString=function(str){return new exports.Date(str)},DateWrapper.fromMillis=function(ms){return new exports.Date(ms)},DateWrapper.toMillis=function(date){return date.getTime()},DateWrapper.now=function(){return new exports.Date},DateWrapper.toJson=function(date){return date.toJSON()},DateWrapper}();exports.DateWrapper=DateWrapper,exports.setValueOnPath=setValueOnPath;var _symbolIterator=null;exports.getSymbolIterator=getSymbolIterator,exports.evalExpression=evalExpression,exports.isPrimitive=isPrimitive,exports.hasConstructor=hasConstructor,exports.escape=escape,exports.escapeRegExp=escapeRegExp}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(require,module,exports){"use strict";var PromiseCompleter=function(){function PromiseCompleter(){var _this=this;this.promise=new Promise(function(res,rej){_this.resolve=res,_this.reject=rej})}return PromiseCompleter}();exports.PromiseCompleter=PromiseCompleter;var PromiseWrapper=function(){function PromiseWrapper(){}return PromiseWrapper.resolve=function(obj){return Promise.resolve(obj)},PromiseWrapper.reject=function(obj,_){return Promise.reject(obj)},PromiseWrapper.catchError=function(promise,onError){return promise["catch"](onError)},PromiseWrapper.all=function(promises){return 0==promises.length?Promise.resolve([]):Promise.all(promises)},PromiseWrapper.then=function(promise,success,rejection){return promise.then(success,rejection)},PromiseWrapper.wrap=function(computation){return new Promise(function(res,rej){try{res(computation())}catch(e){rej(e)}})},PromiseWrapper.scheduleMicrotask=function(computation){PromiseWrapper.then(PromiseWrapper.resolve(null),computation,function(_){})},PromiseWrapper.completer=function(){return new PromiseCompleter},PromiseWrapper}();exports.PromiseWrapper=PromiseWrapper},{}],39:[function(require,module,exports){"use strict";var radio_control_value_accessor_1=require("./forms-deprecated/directives/radio_control_value_accessor"),form_builder_1=require("./forms-deprecated/form_builder"),directives_1=require("./forms-deprecated/directives");exports.FORM_DIRECTIVES=directives_1.FORM_DIRECTIVES,exports.RadioButtonState=directives_1.RadioButtonState;var abstract_control_directive_1=require("./forms-deprecated/directives/abstract_control_directive");exports.AbstractControlDirective=abstract_control_directive_1.AbstractControlDirective;var checkbox_value_accessor_1=require("./forms-deprecated/directives/checkbox_value_accessor");exports.CheckboxControlValueAccessor=checkbox_value_accessor_1.CheckboxControlValueAccessor;var control_container_1=require("./forms-deprecated/directives/control_container");exports.ControlContainer=control_container_1.ControlContainer;var control_value_accessor_1=require("./forms-deprecated/directives/control_value_accessor");exports.NG_VALUE_ACCESSOR=control_value_accessor_1.NG_VALUE_ACCESSOR;var default_value_accessor_1=require("./forms-deprecated/directives/default_value_accessor");exports.DefaultValueAccessor=default_value_accessor_1.DefaultValueAccessor;var ng_control_1=require("./forms-deprecated/directives/ng_control");exports.NgControl=ng_control_1.NgControl;var ng_control_group_1=require("./forms-deprecated/directives/ng_control_group");exports.NgControlGroup=ng_control_group_1.NgControlGroup;var ng_control_name_1=require("./forms-deprecated/directives/ng_control_name");exports.NgControlName=ng_control_name_1.NgControlName;var ng_control_status_1=require("./forms-deprecated/directives/ng_control_status");exports.NgControlStatus=ng_control_status_1.NgControlStatus;var ng_form_1=require("./forms-deprecated/directives/ng_form");exports.NgForm=ng_form_1.NgForm;var ng_form_control_1=require("./forms-deprecated/directives/ng_form_control");exports.NgFormControl=ng_form_control_1.NgFormControl;var ng_form_model_1=require("./forms-deprecated/directives/ng_form_model");exports.NgFormModel=ng_form_model_1.NgFormModel;var ng_model_1=require("./forms-deprecated/directives/ng_model");exports.NgModel=ng_model_1.NgModel;var select_control_value_accessor_1=require("./forms-deprecated/directives/select_control_value_accessor");exports.NgSelectOption=select_control_value_accessor_1.NgSelectOption,exports.SelectControlValueAccessor=select_control_value_accessor_1.SelectControlValueAccessor;var validators_1=require("./forms-deprecated/directives/validators");exports.MaxLengthValidator=validators_1.MaxLengthValidator,exports.MinLengthValidator=validators_1.MinLengthValidator,exports.PatternValidator=validators_1.PatternValidator,exports.RequiredValidator=validators_1.RequiredValidator;var form_builder_2=require("./forms-deprecated/form_builder");exports.FormBuilder=form_builder_2.FormBuilder;var model_1=require("./forms-deprecated/model");exports.AbstractControl=model_1.AbstractControl,exports.Control=model_1.Control,exports.ControlArray=model_1.ControlArray,exports.ControlGroup=model_1.ControlGroup;var validators_2=require("./forms-deprecated/validators");exports.NG_ASYNC_VALIDATORS=validators_2.NG_ASYNC_VALIDATORS,exports.NG_VALIDATORS=validators_2.NG_VALIDATORS,exports.Validators=validators_2.Validators,exports.FORM_PROVIDERS=[form_builder_1.FormBuilder,radio_control_value_accessor_1.RadioControlRegistry]},{"./forms-deprecated/directives":40,"./forms-deprecated/directives/abstract_control_directive":41,"./forms-deprecated/directives/checkbox_value_accessor":42,"./forms-deprecated/directives/control_container":43,"./forms-deprecated/directives/control_value_accessor":44,"./forms-deprecated/directives/default_value_accessor":45,"./forms-deprecated/directives/ng_control":46,"./forms-deprecated/directives/ng_control_group":47,"./forms-deprecated/directives/ng_control_name":48,"./forms-deprecated/directives/ng_control_status":49,"./forms-deprecated/directives/ng_form":50,"./forms-deprecated/directives/ng_form_control":51,"./forms-deprecated/directives/ng_form_model":52,"./forms-deprecated/directives/ng_model":53,"./forms-deprecated/directives/radio_control_value_accessor":56,"./forms-deprecated/directives/select_control_value_accessor":57,"./forms-deprecated/directives/validators":60,"./forms-deprecated/form_builder":61,"./forms-deprecated/model":62,"./forms-deprecated/validators":63}],40:[function(require,module,exports){"use strict";var checkbox_value_accessor_1=require("./directives/checkbox_value_accessor"),default_value_accessor_1=require("./directives/default_value_accessor"),ng_control_group_1=require("./directives/ng_control_group"),ng_control_name_1=require("./directives/ng_control_name"),ng_control_status_1=require("./directives/ng_control_status"),ng_form_1=require("./directives/ng_form"),ng_form_control_1=require("./directives/ng_form_control"),ng_form_model_1=require("./directives/ng_form_model"),ng_model_1=require("./directives/ng_model"),number_value_accessor_1=require("./directives/number_value_accessor"),radio_control_value_accessor_1=require("./directives/radio_control_value_accessor"),select_control_value_accessor_1=require("./directives/select_control_value_accessor"),select_multiple_control_value_accessor_1=require("./directives/select_multiple_control_value_accessor"),validators_1=require("./directives/validators"),checkbox_value_accessor_2=require("./directives/checkbox_value_accessor");exports.CheckboxControlValueAccessor=checkbox_value_accessor_2.CheckboxControlValueAccessor;var default_value_accessor_2=require("./directives/default_value_accessor");exports.DefaultValueAccessor=default_value_accessor_2.DefaultValueAccessor;var ng_control_1=require("./directives/ng_control");exports.NgControl=ng_control_1.NgControl;var ng_control_group_2=require("./directives/ng_control_group");exports.NgControlGroup=ng_control_group_2.NgControlGroup;var ng_control_name_2=require("./directives/ng_control_name");exports.NgControlName=ng_control_name_2.NgControlName;var ng_control_status_2=require("./directives/ng_control_status");exports.NgControlStatus=ng_control_status_2.NgControlStatus;var ng_form_2=require("./directives/ng_form");exports.NgForm=ng_form_2.NgForm;var ng_form_control_2=require("./directives/ng_form_control");exports.NgFormControl=ng_form_control_2.NgFormControl;var ng_form_model_2=require("./directives/ng_form_model");exports.NgFormModel=ng_form_model_2.NgFormModel;var ng_model_2=require("./directives/ng_model");exports.NgModel=ng_model_2.NgModel;var number_value_accessor_2=require("./directives/number_value_accessor");exports.NumberValueAccessor=number_value_accessor_2.NumberValueAccessor;var radio_control_value_accessor_2=require("./directives/radio_control_value_accessor");exports.RadioButtonState=radio_control_value_accessor_2.RadioButtonState,exports.RadioControlValueAccessor=radio_control_value_accessor_2.RadioControlValueAccessor;var select_control_value_accessor_2=require("./directives/select_control_value_accessor");exports.NgSelectOption=select_control_value_accessor_2.NgSelectOption,exports.SelectControlValueAccessor=select_control_value_accessor_2.SelectControlValueAccessor;var select_multiple_control_value_accessor_2=require("./directives/select_multiple_control_value_accessor");exports.NgSelectMultipleOption=select_multiple_control_value_accessor_2.NgSelectMultipleOption,exports.SelectMultipleControlValueAccessor=select_multiple_control_value_accessor_2.SelectMultipleControlValueAccessor;var validators_2=require("./directives/validators");exports.MaxLengthValidator=validators_2.MaxLengthValidator,exports.MinLengthValidator=validators_2.MinLengthValidator,exports.PatternValidator=validators_2.PatternValidator,exports.RequiredValidator=validators_2.RequiredValidator,exports.FORM_DIRECTIVES=[ng_control_name_1.NgControlName,ng_control_group_1.NgControlGroup,ng_form_control_1.NgFormControl,ng_model_1.NgModel,ng_form_model_1.NgFormModel,ng_form_1.NgForm,select_control_value_accessor_1.NgSelectOption,select_multiple_control_value_accessor_1.NgSelectMultipleOption,default_value_accessor_1.DefaultValueAccessor,number_value_accessor_1.NumberValueAccessor,checkbox_value_accessor_1.CheckboxControlValueAccessor,select_control_value_accessor_1.SelectControlValueAccessor,select_multiple_control_value_accessor_1.SelectMultipleControlValueAccessor,radio_control_value_accessor_1.RadioControlValueAccessor,ng_control_status_1.NgControlStatus,validators_1.RequiredValidator,validators_1.MinLengthValidator,validators_1.MaxLengthValidator,validators_1.PatternValidator]},{"./directives/checkbox_value_accessor":42,"./directives/default_value_accessor":45,"./directives/ng_control":46,"./directives/ng_control_group":47,"./directives/ng_control_name":48,"./directives/ng_control_status":49,"./directives/ng_form":50,"./directives/ng_form_control":51,"./directives/ng_form_model":52,"./directives/ng_model":53,"./directives/number_value_accessor":55,"./directives/radio_control_value_accessor":56,"./directives/select_control_value_accessor":57,"./directives/select_multiple_control_value_accessor":58,"./directives/validators":60}],41:[function(require,module,exports){"use strict";var exceptions_1=require("../../facade/exceptions"),lang_1=require("../../facade/lang"),AbstractControlDirective=function(){function AbstractControlDirective(){}return Object.defineProperty(AbstractControlDirective.prototype,"control",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"value",{get:function(){return lang_1.isPresent(this.control)?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"valid",{get:function(){return lang_1.isPresent(this.control)?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"errors",{get:function(){return lang_1.isPresent(this.control)?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"pristine",{get:function(){return lang_1.isPresent(this.control)?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"dirty",{get:function(){return lang_1.isPresent(this.control)?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"touched",{get:function(){return lang_1.isPresent(this.control)?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"untouched",{get:function(){return lang_1.isPresent(this.control)?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),AbstractControlDirective}();exports.AbstractControlDirective=AbstractControlDirective},{"../../facade/exceptions":35,"../../facade/lang":37}],42:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),control_value_accessor_1=require("./control_value_accessor");exports.CHECKBOX_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return CheckboxControlValueAccessor}),multi:!0};var CheckboxControlValueAccessor=function(){function CheckboxControlValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){}}return CheckboxControlValueAccessor.prototype.writeValue=function(value){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",value)},CheckboxControlValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn},CheckboxControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},CheckboxControlValueAccessor.decorators=[{type:core_1.Directive,args:[{selector:"input[type=checkbox][ngControl],input[type=checkbox][ngFormControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[exports.CHECKBOX_VALUE_ACCESSOR]}]}],CheckboxControlValueAccessor.ctorParameters=[{type:core_1.Renderer},{type:core_1.ElementRef}],CheckboxControlValueAccessor}();exports.CheckboxControlValueAccessor=CheckboxControlValueAccessor},{"./control_value_accessor":44,"@angular/core":167}],43:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},abstract_control_directive_1=require("./abstract_control_directive"),ControlContainer=function(_super){function ControlContainer(){_super.apply(this,arguments)}return __extends(ControlContainer,_super),Object.defineProperty(ControlContainer.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(ControlContainer.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),ControlContainer}(abstract_control_directive_1.AbstractControlDirective);exports.ControlContainer=ControlContainer},{"./abstract_control_directive":41}],44:[function(require,module,exports){"use strict";var core_1=require("@angular/core");exports.NG_VALUE_ACCESSOR=new core_1.OpaqueToken("NgValueAccessor")},{"@angular/core":167}],45:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../../facade/lang"),control_value_accessor_1=require("./control_value_accessor");exports.DEFAULT_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return DefaultValueAccessor}),multi:!0};var DefaultValueAccessor=function(){function DefaultValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){}}return DefaultValueAccessor.prototype.writeValue=function(value){var normalizedValue=lang_1.isBlank(value)?"":value;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",normalizedValue)},DefaultValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn},DefaultValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},DefaultValueAccessor.decorators=[{type:core_1.Directive,args:[{selector:"input:not([type=checkbox])[ngControl],textarea[ngControl],input:not([type=checkbox])[ngFormControl],textarea[ngFormControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[exports.DEFAULT_VALUE_ACCESSOR]}]}],DefaultValueAccessor.ctorParameters=[{type:core_1.Renderer},{type:core_1.ElementRef}],DefaultValueAccessor}();exports.DefaultValueAccessor=DefaultValueAccessor},{"../../facade/lang":37,"./control_value_accessor":44,"@angular/core":167}],46:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},exceptions_1=require("../../facade/exceptions"),abstract_control_directive_1=require("./abstract_control_directive"),NgControl=function(_super){function NgControl(){_super.apply(this,arguments),this.name=null,this.valueAccessor=null}return __extends(NgControl,_super),Object.defineProperty(NgControl.prototype,"validator",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(NgControl.prototype,"asyncValidator",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),NgControl}(abstract_control_directive_1.AbstractControlDirective);exports.NgControl=NgControl},{"../../facade/exceptions":35,"./abstract_control_directive":41}],47:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),validators_1=require("../validators"),control_container_1=require("./control_container"),shared_1=require("./shared");exports.controlGroupProvider={provide:control_container_1.ControlContainer,useExisting:core_1.forwardRef(function(){return NgControlGroup})};var NgControlGroup=function(_super){function NgControlGroup(parent,_validators,_asyncValidators){_super.call(this),this._validators=_validators,this._asyncValidators=_asyncValidators,this._parent=parent}return __extends(NgControlGroup,_super),NgControlGroup.prototype.ngOnInit=function(){this.formDirective.addControlGroup(this)},NgControlGroup.prototype.ngOnDestroy=function(){this.formDirective.removeControlGroup(this)},Object.defineProperty(NgControlGroup.prototype,"control",{get:function(){return this.formDirective.getControlGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"path",{get:function(){return shared_1.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),NgControlGroup.decorators=[{type:core_1.Directive,args:[{selector:"[ngControlGroup]",providers:[exports.controlGroupProvider],inputs:["name: ngControlGroup"],exportAs:"ngForm"}]}],NgControlGroup.ctorParameters=[{type:control_container_1.ControlContainer,decorators:[{type:core_1.Host},{type:core_1.SkipSelf}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]}],NgControlGroup}(control_container_1.ControlContainer);exports.NgControlGroup=NgControlGroup},{"../validators":63,"./control_container":43,"./shared":59,"@angular/core":167}],48:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),async_1=require("../../facade/async"),validators_1=require("../validators"),control_container_1=require("./control_container"),control_value_accessor_1=require("./control_value_accessor"),ng_control_1=require("./ng_control"),shared_1=require("./shared");exports.controlNameBinding={provide:ng_control_1.NgControl,useExisting:core_1.forwardRef(function(){return NgControlName})};var NgControlName=function(_super){function NgControlName(_parent,_validators,_asyncValidators,valueAccessors){_super.call(this),this._parent=_parent,this._validators=_validators,this._asyncValidators=_asyncValidators,this.update=new async_1.EventEmitter,this._added=!1,this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors)}return __extends(NgControlName,_super),NgControlName.prototype.ngOnChanges=function(changes){this._added||(this.formDirective.addControl(this),this._added=!0),shared_1.isPropertyUpdated(changes,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},NgControlName.prototype.ngOnDestroy=function(){this.formDirective.removeControl(this)},NgControlName.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue,async_1.ObservableWrapper.callEmit(this.update,newValue)},Object.defineProperty(NgControlName.prototype,"path",{get:function(){return shared_1.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"control",{get:function(){return this.formDirective.getControl(this)},enumerable:!0,configurable:!0}),NgControlName.decorators=[{type:core_1.Directive,args:[{selector:"[ngControl]",providers:[exports.controlNameBinding],inputs:["name: ngControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}]}],NgControlName.ctorParameters=[{type:control_container_1.ControlContainer,decorators:[{type:core_1.Host},{type:core_1.SkipSelf}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[control_value_accessor_1.NG_VALUE_ACCESSOR]}]}],NgControlName}(ng_control_1.NgControl);exports.NgControlName=NgControlName},{"../../facade/async":31,"../validators":63,"./control_container":43,"./control_value_accessor":44,"./ng_control":46,"./shared":59,"@angular/core":167}],49:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../../facade/lang"),ng_control_1=require("./ng_control"),NgControlStatus=function(){function NgControlStatus(cd){this._cd=cd}return Object.defineProperty(NgControlStatus.prototype,"ngClassUntouched",{get:function(){return!!lang_1.isPresent(this._cd.control)&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassTouched",{get:function(){return!!lang_1.isPresent(this._cd.control)&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassPristine",{get:function(){return!!lang_1.isPresent(this._cd.control)&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassDirty",{get:function(){return!!lang_1.isPresent(this._cd.control)&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassValid",{get:function(){return!!lang_1.isPresent(this._cd.control)&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassInvalid",{get:function(){return!!lang_1.isPresent(this._cd.control)&&!this._cd.control.valid},enumerable:!0,configurable:!0}),NgControlStatus.decorators=[{type:core_1.Directive,args:[{selector:"[ngControl],[ngModel],[ngFormControl]",host:{"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"}}]}],NgControlStatus.ctorParameters=[{type:ng_control_1.NgControl,decorators:[{type:core_1.Self}]}],NgControlStatus}();exports.NgControlStatus=NgControlStatus},{"../../facade/lang":37,"./ng_control":46,"@angular/core":167}],50:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),async_1=require("../../facade/async"),collection_1=require("../../facade/collection"),lang_1=require("../../facade/lang"),model_1=require("../model"),validators_1=require("../validators"),control_container_1=require("./control_container"),shared_1=require("./shared");
exports.formDirectiveProvider={provide:control_container_1.ControlContainer,useExisting:core_1.forwardRef(function(){return NgForm})};var _formWarningDisplayed=!1,NgForm=function(_super){function NgForm(validators,asyncValidators){_super.call(this),this._submitted=!1,this.ngSubmit=new async_1.EventEmitter,this._displayWarning(),this.form=new model_1.ControlGroup({},null,shared_1.composeValidators(validators),shared_1.composeAsyncValidators(asyncValidators))}return __extends(NgForm,_super),NgForm.prototype._displayWarning=function(){_formWarningDisplayed||(_formWarningDisplayed=!0,console.warn("\n      *It looks like you're using the old forms module. This will be opt-in in the next RC, and\n      will eventually be removed in favor of the new forms module. For more information, see:\n      https://docs.google.com/document/u/1/d/1RIezQqE4aEhBRmArIAS1mRIZtWFf6JxN_7B4meyWK0Y/pub\n    "))},Object.defineProperty(NgForm.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),NgForm.prototype.addControl=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path),ctrl=new model_1.Control;shared_1.setUpControl(ctrl,dir),container.registerControl(dir.name,ctrl),ctrl.updateValueAndValidity({emitEvent:!1})})},NgForm.prototype.getControl=function(dir){return this.form.find(dir.path)},NgForm.prototype.removeControl=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);lang_1.isPresent(container)&&container.removeControl(dir.name)})},NgForm.prototype.addControlGroup=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path),group=new model_1.ControlGroup({});shared_1.setUpControlGroup(group,dir),container.registerControl(dir.name,group),group.updateValueAndValidity({emitEvent:!1})})},NgForm.prototype.removeControlGroup=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);lang_1.isPresent(container)&&container.removeControl(dir.name)})},NgForm.prototype.getControlGroup=function(dir){return this.form.find(dir.path)},NgForm.prototype.updateModel=function(dir,value){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var ctrl=_this.form.find(dir.path);ctrl.updateValue(value)})},NgForm.prototype.onSubmit=function(){return this._submitted=!0,async_1.ObservableWrapper.callEmit(this.ngSubmit,null),!1},NgForm.prototype._findContainer=function(path){return path.pop(),collection_1.ListWrapper.isEmpty(path)?this.form:this.form.find(path)},NgForm.decorators=[{type:core_1.Directive,args:[{selector:"form:not([ngNoForm]):not([ngFormModel]),ngForm,[ngForm]",providers:[exports.formDirectiveProvider],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],NgForm.ctorParameters=[{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]}],NgForm}(control_container_1.ControlContainer);exports.NgForm=NgForm},{"../../facade/async":31,"../../facade/collection":33,"../../facade/lang":37,"../model":62,"../validators":63,"./control_container":43,"./shared":59,"@angular/core":167}],51:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),async_1=require("../../facade/async"),collection_1=require("../../facade/collection"),validators_1=require("../validators"),control_value_accessor_1=require("./control_value_accessor"),ng_control_1=require("./ng_control"),shared_1=require("./shared");exports.formControlBinding={provide:ng_control_1.NgControl,useExisting:core_1.forwardRef(function(){return NgFormControl})};var NgFormControl=function(_super){function NgFormControl(_validators,_asyncValidators,valueAccessors){_super.call(this),this._validators=_validators,this._asyncValidators=_asyncValidators,this.update=new async_1.EventEmitter,this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors)}return __extends(NgFormControl,_super),NgFormControl.prototype.ngOnChanges=function(changes){this._isControlChanged(changes)&&(shared_1.setUpControl(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})),shared_1.isPropertyUpdated(changes,this.viewModel)&&(this.form.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(NgFormControl.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormControl.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormControl.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormControl.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),NgFormControl.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue,async_1.ObservableWrapper.callEmit(this.update,newValue)},NgFormControl.prototype._isControlChanged=function(changes){return collection_1.StringMapWrapper.contains(changes,"form")},NgFormControl.decorators=[{type:core_1.Directive,args:[{selector:"[ngFormControl]",providers:[exports.formControlBinding],inputs:["form: ngFormControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}]}],NgFormControl.ctorParameters=[{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[control_value_accessor_1.NG_VALUE_ACCESSOR]}]}],NgFormControl}(ng_control_1.NgControl);exports.NgFormControl=NgFormControl},{"../../facade/async":31,"../../facade/collection":33,"../validators":63,"./control_value_accessor":44,"./ng_control":46,"./shared":59,"@angular/core":167}],52:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),async_1=require("../../facade/async"),collection_1=require("../../facade/collection"),exceptions_1=require("../../facade/exceptions"),lang_1=require("../../facade/lang"),validators_1=require("../validators"),control_container_1=require("./control_container"),shared_1=require("./shared");exports.formDirectiveProvider={provide:control_container_1.ControlContainer,useExisting:core_1.forwardRef(function(){return NgFormModel})};var _formModelWarningDisplayed=!1,NgFormModel=function(_super){function NgFormModel(_validators,_asyncValidators){_super.call(this),this._validators=_validators,this._asyncValidators=_asyncValidators,this._submitted=!1,this.form=null,this.directives=[],this.ngSubmit=new async_1.EventEmitter,this._displayWarning()}return __extends(NgFormModel,_super),NgFormModel.prototype._displayWarning=function(){_formModelWarningDisplayed||(_formModelWarningDisplayed=!0,console.warn("\n      *It looks like you're using the old forms module. This will be opt-in in the next RC, and\n      will eventually be removed in favor of the new forms module. For more information, see:\n      https://docs.google.com/document/u/1/d/1RIezQqE4aEhBRmArIAS1mRIZtWFf6JxN_7B4meyWK0Y/pub\n    "))},NgFormModel.prototype.ngOnChanges=function(changes){if(this._checkFormPresent(),collection_1.StringMapWrapper.contains(changes,"form")){var sync=shared_1.composeValidators(this._validators);this.form.validator=validators_1.Validators.compose([this.form.validator,sync]);var async=shared_1.composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=validators_1.Validators.composeAsync([this.form.asyncValidator,async]),this.form.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}this._updateDomValue()},Object.defineProperty(NgFormModel.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormModel.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormModel.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormModel.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),NgFormModel.prototype.addControl=function(dir){var ctrl=this.form.find(dir.path);shared_1.setUpControl(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1}),this.directives.push(dir)},NgFormModel.prototype.getControl=function(dir){return this.form.find(dir.path)},NgFormModel.prototype.removeControl=function(dir){collection_1.ListWrapper.remove(this.directives,dir)},NgFormModel.prototype.addControlGroup=function(dir){var ctrl=this.form.find(dir.path);shared_1.setUpControlGroup(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1})},NgFormModel.prototype.removeControlGroup=function(dir){},NgFormModel.prototype.getControlGroup=function(dir){return this.form.find(dir.path)},NgFormModel.prototype.updateModel=function(dir,value){var ctrl=this.form.find(dir.path);ctrl.updateValue(value)},NgFormModel.prototype.onSubmit=function(){return this._submitted=!0,async_1.ObservableWrapper.callEmit(this.ngSubmit,null),!1},NgFormModel.prototype._updateDomValue=function(){var _this=this;this.directives.forEach(function(dir){var ctrl=_this.form.find(dir.path);dir.valueAccessor.writeValue(ctrl.value)})},NgFormModel.prototype._checkFormPresent=function(){if(lang_1.isBlank(this.form))throw new exceptions_1.BaseException('ngFormModel expects a form. Please pass one in. Example: <form [ngFormModel]="myCoolForm">')},NgFormModel.decorators=[{type:core_1.Directive,args:[{selector:"[ngFormModel]",providers:[exports.formDirectiveProvider],inputs:["form: ngFormModel"],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],NgFormModel.ctorParameters=[{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]}],NgFormModel}(control_container_1.ControlContainer);exports.NgFormModel=NgFormModel},{"../../facade/async":31,"../../facade/collection":33,"../../facade/exceptions":35,"../../facade/lang":37,"../validators":63,"./control_container":43,"./shared":59,"@angular/core":167}],53:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),async_1=require("../../facade/async"),model_1=require("../model"),validators_1=require("../validators"),control_value_accessor_1=require("./control_value_accessor"),ng_control_1=require("./ng_control"),shared_1=require("./shared");exports.formControlBinding={provide:ng_control_1.NgControl,useExisting:core_1.forwardRef(function(){return NgModel})};var NgModel=function(_super){function NgModel(_validators,_asyncValidators,valueAccessors){_super.call(this),this._validators=_validators,this._asyncValidators=_asyncValidators,this._control=new model_1.Control,this._added=!1,this.update=new async_1.EventEmitter,this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors)}return __extends(NgModel,_super),NgModel.prototype.ngOnChanges=function(changes){this._added||(shared_1.setUpControl(this._control,this),this._control.updateValueAndValidity({emitEvent:!1}),this._added=!0),shared_1.isPropertyUpdated(changes,this.viewModel)&&(this._control.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(NgModel.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),NgModel.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue,async_1.ObservableWrapper.callEmit(this.update,newValue)},NgModel.decorators=[{type:core_1.Directive,args:[{selector:"[ngModel]:not([ngControl]):not([ngFormControl])",providers:[exports.formControlBinding],inputs:["model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}]}],NgModel.ctorParameters=[{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[control_value_accessor_1.NG_VALUE_ACCESSOR]}]}],NgModel}(ng_control_1.NgControl);exports.NgModel=NgModel},{"../../facade/async":31,"../model":62,"../validators":63,"./control_value_accessor":44,"./ng_control":46,"./shared":59,"@angular/core":167}],54:[function(require,module,exports){"use strict";function normalizeValidator(validator){return void 0!==validator.validate?function(c){return validator.validate(c)}:validator}function normalizeAsyncValidator(validator){return void 0!==validator.validate?function(c){return validator.validate(c)}:validator}exports.normalizeValidator=normalizeValidator,exports.normalizeAsyncValidator=normalizeAsyncValidator},{}],55:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../../facade/lang"),control_value_accessor_1=require("./control_value_accessor");exports.NUMBER_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return NumberValueAccessor}),multi:!0};var NumberValueAccessor=function(){function NumberValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){}}return NumberValueAccessor.prototype.writeValue=function(value){this._renderer.setElementProperty(this._elementRef.nativeElement,"value",value)},NumberValueAccessor.prototype.registerOnChange=function(fn){this.onChange=function(value){fn(""==value?null:lang_1.NumberWrapper.parseFloat(value))}},NumberValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},NumberValueAccessor.decorators=[{type:core_1.Directive,args:[{selector:"input[type=number][ngControl],input[type=number][ngFormControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[exports.NUMBER_VALUE_ACCESSOR]}]}],NumberValueAccessor.ctorParameters=[{type:core_1.Renderer},{type:core_1.ElementRef}],NumberValueAccessor}();exports.NumberValueAccessor=NumberValueAccessor},{"../../facade/lang":37,"./control_value_accessor":44,"@angular/core":167}],56:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),collection_1=require("../../facade/collection"),lang_1=require("../../facade/lang"),control_value_accessor_1=require("./control_value_accessor"),ng_control_1=require("./ng_control");exports.RADIO_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return RadioControlValueAccessor}),multi:!0};var RadioControlRegistry=function(){function RadioControlRegistry(){this._accessors=[]}return RadioControlRegistry.prototype.add=function(control,accessor){this._accessors.push([control,accessor])},RadioControlRegistry.prototype.remove=function(accessor){for(var indexToRemove=-1,i=0;i<this._accessors.length;++i)this._accessors[i][1]===accessor&&(indexToRemove=i);collection_1.ListWrapper.removeAt(this._accessors,indexToRemove)},RadioControlRegistry.prototype.select=function(accessor){var _this=this;this._accessors.forEach(function(c){_this._isSameGroup(c,accessor)&&c[1]!==accessor&&c[1].fireUncheck()})},RadioControlRegistry.prototype._isSameGroup=function(controlPair,accessor){return controlPair[0].control.root===accessor._control.control.root&&controlPair[1].name===accessor.name},RadioControlRegistry.decorators=[{type:core_1.Injectable}],RadioControlRegistry}();exports.RadioControlRegistry=RadioControlRegistry;var RadioButtonState=function(){function RadioButtonState(checked,value){this.checked=checked,this.value=value}return RadioButtonState}();exports.RadioButtonState=RadioButtonState;var RadioControlValueAccessor=function(){function RadioControlValueAccessor(_renderer,_elementRef,_registry,_injector){this._renderer=_renderer,this._elementRef=_elementRef,this._registry=_registry,this._injector=_injector,this.onChange=function(){},this.onTouched=function(){}}return RadioControlValueAccessor.prototype.ngOnInit=function(){this._control=this._injector.get(ng_control_1.NgControl),this._registry.add(this._control,this)},RadioControlValueAccessor.prototype.ngOnDestroy=function(){this._registry.remove(this)},RadioControlValueAccessor.prototype.writeValue=function(value){this._state=value,lang_1.isPresent(value)&&value.checked&&this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",!0)},RadioControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn,this.onChange=function(){fn(new RadioButtonState((!0),_this._state.value)),_this._registry.select(_this)}},RadioControlValueAccessor.prototype.fireUncheck=function(){this._fn(new RadioButtonState((!1),this._state.value))},RadioControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},RadioControlValueAccessor.decorators=[{type:core_1.Directive,args:[{selector:"input[type=radio][ngControl],input[type=radio][ngFormControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[exports.RADIO_VALUE_ACCESSOR]}]}],RadioControlValueAccessor.ctorParameters=[{type:core_1.Renderer},{type:core_1.ElementRef},{type:RadioControlRegistry},{type:core_1.Injector}],RadioControlValueAccessor.propDecorators={name:[{type:core_1.Input}]},RadioControlValueAccessor}();exports.RadioControlValueAccessor=RadioControlValueAccessor},{"../../facade/collection":33,"../../facade/lang":37,"./control_value_accessor":44,"./ng_control":46,"@angular/core":167}],57:[function(require,module,exports){"use strict";function _buildValueString(id,value){return lang_1.isBlank(id)?""+value:(lang_1.isPrimitive(value)||(value="Object"),lang_1.StringWrapper.slice(id+": "+value,0,50))}function _extractId(valueString){return valueString.split(":")[0]}var core_1=require("@angular/core"),collection_1=require("../../facade/collection"),lang_1=require("../../facade/lang"),control_value_accessor_1=require("./control_value_accessor");exports.SELECT_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return SelectControlValueAccessor}),multi:!0};var SelectControlValueAccessor=function(){function SelectControlValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._optionMap=new Map,this._idCounter=0,this.onChange=function(_){},this.onTouched=function(){}}return SelectControlValueAccessor.prototype.writeValue=function(value){this.value=value;var valueString=_buildValueString(this._getOptionId(value),value);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",valueString)},SelectControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this.onChange=function(valueString){_this.value=valueString,fn(_this._getOptionValue(valueString))}},SelectControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},SelectControlValueAccessor.prototype._registerOption=function(){return(this._idCounter++).toString()},SelectControlValueAccessor.prototype._getOptionId=function(value){for(var _i=0,_a=collection_1.MapWrapper.keys(this._optionMap);_i<_a.length;_i++){var id=_a[_i];if(lang_1.looseIdentical(this._optionMap.get(id),value))return id}return null},SelectControlValueAccessor.prototype._getOptionValue=function(valueString){var value=this._optionMap.get(_extractId(valueString));return lang_1.isPresent(value)?value:valueString},SelectControlValueAccessor.decorators=[{type:core_1.Directive,args:[{selector:"select:not([multiple])[ngControl],select:not([multiple])[ngFormControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[exports.SELECT_VALUE_ACCESSOR]}]}],SelectControlValueAccessor.ctorParameters=[{type:core_1.Renderer},{type:core_1.ElementRef}],SelectControlValueAccessor}();exports.SelectControlValueAccessor=SelectControlValueAccessor;var NgSelectOption=function(){function NgSelectOption(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,lang_1.isPresent(this._select)&&(this.id=this._select._registerOption())}return Object.defineProperty(NgSelectOption.prototype,"ngValue",{set:function(value){null!=this._select&&(this._select._optionMap.set(this.id,value),this._setElementValue(_buildValueString(this.id,value)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(NgSelectOption.prototype,"value",{set:function(value){this._setElementValue(value),lang_1.isPresent(this._select)&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),NgSelectOption.prototype._setElementValue=function(value){this._renderer.setElementProperty(this._element.nativeElement,"value",value)},NgSelectOption.prototype.ngOnDestroy=function(){lang_1.isPresent(this._select)&&(this._select._optionMap["delete"](this.id),this._select.writeValue(this._select.value))},NgSelectOption.decorators=[{type:core_1.Directive,args:[{selector:"option"}]}],NgSelectOption.ctorParameters=[{type:core_1.ElementRef},{type:core_1.Renderer},{type:SelectControlValueAccessor,decorators:[{type:core_1.Optional},{type:core_1.Host}]}],NgSelectOption.propDecorators={ngValue:[{type:core_1.Input,args:["ngValue"]}],value:[{type:core_1.Input,args:["value"]}]},NgSelectOption}();exports.NgSelectOption=NgSelectOption},{"../../facade/collection":33,"../../facade/lang":37,"./control_value_accessor":44,"@angular/core":167}],58:[function(require,module,exports){"use strict";function _buildValueString(id,value){return lang_1.isBlank(id)?""+value:(lang_1.isString(value)&&(value="'"+value+"'"),lang_1.isPrimitive(value)||(value="Object"),lang_1.StringWrapper.slice(id+": "+value,0,50))}function _extractId(valueString){return valueString.split(":")[0]}var core_1=require("@angular/core"),collection_1=require("../../facade/collection"),lang_1=require("../../facade/lang"),control_value_accessor_1=require("./control_value_accessor"),SELECT_MULTIPLE_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return SelectMultipleControlValueAccessor}),multi:!0},SelectMultipleControlValueAccessor=(function(){function HTMLCollection(){}return HTMLCollection}(),function(){function SelectMultipleControlValueAccessor(){this._optionMap=new Map,this._idCounter=0,this.onChange=function(_){},this.onTouched=function(){}}return SelectMultipleControlValueAccessor.prototype.writeValue=function(value){var _this=this;if(this.value=value,null!=value){var values=value,ids=values.map(function(v){return _this._getOptionId(v)});this._optionMap.forEach(function(opt,o){opt._setSelected(ids.indexOf(o.toString())>-1)})}},SelectMultipleControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this.onChange=function(_){var selected=[];if(_.hasOwnProperty("selectedOptions"))for(var options=_.selectedOptions,i=0;i<options.length;i++){var opt=options.item(i),val=_this._getOptionValue(opt.value);selected.push(val)}else for(var options=_.options,i=0;i<options.length;i++){var opt=options.item(i);if(opt.selected){var val=_this._getOptionValue(opt.value);selected.push(val)}}fn(selected)}},SelectMultipleControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},SelectMultipleControlValueAccessor.prototype._registerOption=function(value){var id=(this._idCounter++).toString();return this._optionMap.set(id,value),id},SelectMultipleControlValueAccessor.prototype._getOptionId=function(value){for(var _i=0,_a=collection_1.MapWrapper.keys(this._optionMap);_i<_a.length;_i++){var id=_a[_i];if(lang_1.looseIdentical(this._optionMap.get(id)._value,value))return id}return null},SelectMultipleControlValueAccessor.prototype._getOptionValue=function(valueString){var opt=this._optionMap.get(_extractId(valueString));return lang_1.isPresent(opt)?opt._value:valueString},SelectMultipleControlValueAccessor.decorators=[{type:core_1.Directive,args:[{selector:"select[multiple][ngControl],select[multiple][ngFormControl],select[multiple][ngModel]",host:{"(input)":"onChange($event.target)","(blur)":"onTouched()"},providers:[SELECT_MULTIPLE_VALUE_ACCESSOR]}]}],SelectMultipleControlValueAccessor.ctorParameters=[],SelectMultipleControlValueAccessor}());exports.SelectMultipleControlValueAccessor=SelectMultipleControlValueAccessor;var NgSelectMultipleOption=function(){function NgSelectMultipleOption(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,lang_1.isPresent(this._select)&&(this.id=this._select._registerOption(this))}return Object.defineProperty(NgSelectMultipleOption.prototype,"ngValue",{set:function(value){null!=this._select&&(this._value=value,this._setElementValue(_buildValueString(this.id,value)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(NgSelectMultipleOption.prototype,"value",{set:function(value){lang_1.isPresent(this._select)?(this._value=value,this._setElementValue(_buildValueString(this.id,value)),this._select.writeValue(this._select.value)):this._setElementValue(value)},enumerable:!0,configurable:!0}),NgSelectMultipleOption.prototype._setElementValue=function(value){this._renderer.setElementProperty(this._element.nativeElement,"value",value)},NgSelectMultipleOption.prototype._setSelected=function(selected){this._renderer.setElementProperty(this._element.nativeElement,"selected",selected)},NgSelectMultipleOption.prototype.ngOnDestroy=function(){lang_1.isPresent(this._select)&&(this._select._optionMap["delete"](this.id),this._select.writeValue(this._select.value))},NgSelectMultipleOption.decorators=[{type:core_1.Directive,args:[{selector:"option"}]}],NgSelectMultipleOption.ctorParameters=[{type:core_1.ElementRef},{type:core_1.Renderer},{type:SelectMultipleControlValueAccessor,decorators:[{type:core_1.Optional},{type:core_1.Host}]}],NgSelectMultipleOption.propDecorators={ngValue:[{type:core_1.Input,args:["ngValue"]}],value:[{type:core_1.Input,args:["value"]}]},NgSelectMultipleOption}();exports.NgSelectMultipleOption=NgSelectMultipleOption,exports.SELECT_DIRECTIVES=[SelectMultipleControlValueAccessor,NgSelectMultipleOption]},{"../../facade/collection":33,"../../facade/lang":37,"./control_value_accessor":44,"@angular/core":167}],59:[function(require,module,exports){"use strict";function controlPath(name,parent){var p=collection_1.ListWrapper.clone(parent.path);return p.push(name),p}function setUpControl(control,dir){lang_1.isBlank(control)&&_throwError(dir,"Cannot find control"),lang_1.isBlank(dir.valueAccessor)&&_throwError(dir,"No value accessor for"),control.validator=validators_1.Validators.compose([control.validator,dir.validator]),control.asyncValidator=validators_1.Validators.composeAsync([control.asyncValidator,dir.asyncValidator]),dir.valueAccessor.writeValue(control.value),dir.valueAccessor.registerOnChange(function(newValue){dir.viewToModelUpdate(newValue),control.updateValue(newValue,{emitModelToViewChange:!1}),control.markAsDirty()}),control.registerOnChange(function(newValue){return dir.valueAccessor.writeValue(newValue)}),dir.valueAccessor.registerOnTouched(function(){return control.markAsTouched()})}function setUpControlGroup(control,dir){lang_1.isBlank(control)&&_throwError(dir,"Cannot find control"),control.validator=validators_1.Validators.compose([control.validator,dir.validator]),control.asyncValidator=validators_1.Validators.composeAsync([control.asyncValidator,dir.asyncValidator])}function _throwError(dir,message){var path=dir.path.join(" -> ");throw new exceptions_1.BaseException(message+" '"+path+"'")}function composeValidators(validators){return lang_1.isPresent(validators)?validators_1.Validators.compose(validators.map(normalize_validator_1.normalizeValidator)):null}function composeAsyncValidators(validators){return lang_1.isPresent(validators)?validators_1.Validators.composeAsync(validators.map(normalize_validator_1.normalizeAsyncValidator)):null}function isPropertyUpdated(changes,viewModel){if(!collection_1.StringMapWrapper.contains(changes,"model"))return!1;var change=changes.model;return!!change.isFirstChange()||!lang_1.looseIdentical(viewModel,change.currentValue)}function selectValueAccessor(dir,valueAccessors){if(lang_1.isBlank(valueAccessors))return null;var defaultAccessor,builtinAccessor,customAccessor;return valueAccessors.forEach(function(v){lang_1.hasConstructor(v,default_value_accessor_1.DefaultValueAccessor)?defaultAccessor=v:lang_1.hasConstructor(v,checkbox_value_accessor_1.CheckboxControlValueAccessor)||lang_1.hasConstructor(v,number_value_accessor_1.NumberValueAccessor)||lang_1.hasConstructor(v,select_control_value_accessor_1.SelectControlValueAccessor)||lang_1.hasConstructor(v,select_multiple_control_value_accessor_1.SelectMultipleControlValueAccessor)||lang_1.hasConstructor(v,radio_control_value_accessor_1.RadioControlValueAccessor)?(lang_1.isPresent(builtinAccessor)&&_throwError(dir,"More than one built-in value accessor matches"),builtinAccessor=v):(lang_1.isPresent(customAccessor)&&_throwError(dir,"More than one custom value accessor matches"),customAccessor=v)}),lang_1.isPresent(customAccessor)?customAccessor:lang_1.isPresent(builtinAccessor)?builtinAccessor:lang_1.isPresent(defaultAccessor)?defaultAccessor:(_throwError(dir,"No valid value accessor for"),null)}var collection_1=require("../../facade/collection"),exceptions_1=require("../../facade/exceptions"),lang_1=require("../../facade/lang"),validators_1=require("../validators"),checkbox_value_accessor_1=require("./checkbox_value_accessor"),default_value_accessor_1=require("./default_value_accessor"),normalize_validator_1=require("./normalize_validator"),number_value_accessor_1=require("./number_value_accessor"),radio_control_value_accessor_1=require("./radio_control_value_accessor"),select_control_value_accessor_1=require("./select_control_value_accessor"),select_multiple_control_value_accessor_1=require("./select_multiple_control_value_accessor");
exports.controlPath=controlPath,exports.setUpControl=setUpControl,exports.setUpControlGroup=setUpControlGroup,exports.composeValidators=composeValidators,exports.composeAsyncValidators=composeAsyncValidators,exports.isPropertyUpdated=isPropertyUpdated,exports.selectValueAccessor=selectValueAccessor},{"../../facade/collection":33,"../../facade/exceptions":35,"../../facade/lang":37,"../validators":63,"./checkbox_value_accessor":42,"./default_value_accessor":45,"./normalize_validator":54,"./number_value_accessor":55,"./radio_control_value_accessor":56,"./select_control_value_accessor":57,"./select_multiple_control_value_accessor":58}],60:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../../facade/lang"),validators_1=require("../validators"),REQUIRED=validators_1.Validators.required;exports.REQUIRED_VALIDATOR={provide:validators_1.NG_VALIDATORS,useValue:REQUIRED,multi:!0};var RequiredValidator=function(){function RequiredValidator(){}return RequiredValidator.decorators=[{type:core_1.Directive,args:[{selector:"[required][ngControl],[required][ngFormControl],[required][ngModel]",providers:[exports.REQUIRED_VALIDATOR]}]}],RequiredValidator}();exports.RequiredValidator=RequiredValidator,exports.MIN_LENGTH_VALIDATOR={provide:validators_1.NG_VALIDATORS,useExisting:core_1.forwardRef(function(){return MinLengthValidator}),multi:!0};var MinLengthValidator=function(){function MinLengthValidator(minLength){this._validator=validators_1.Validators.minLength(lang_1.NumberWrapper.parseInt(minLength,10))}return MinLengthValidator.prototype.validate=function(c){return this._validator(c)},MinLengthValidator.decorators=[{type:core_1.Directive,args:[{selector:"[minlength][ngControl],[minlength][ngFormControl],[minlength][ngModel]",providers:[exports.MIN_LENGTH_VALIDATOR]}]}],MinLengthValidator.ctorParameters=[{type:void 0,decorators:[{type:core_1.Attribute,args:["minlength"]}]}],MinLengthValidator}();exports.MinLengthValidator=MinLengthValidator,exports.MAX_LENGTH_VALIDATOR={provide:validators_1.NG_VALIDATORS,useExisting:core_1.forwardRef(function(){return MaxLengthValidator}),multi:!0};var MaxLengthValidator=function(){function MaxLengthValidator(maxLength){this._validator=validators_1.Validators.maxLength(lang_1.NumberWrapper.parseInt(maxLength,10))}return MaxLengthValidator.prototype.validate=function(c){return this._validator(c)},MaxLengthValidator.decorators=[{type:core_1.Directive,args:[{selector:"[maxlength][ngControl],[maxlength][ngFormControl],[maxlength][ngModel]",providers:[exports.MAX_LENGTH_VALIDATOR]}]}],MaxLengthValidator.ctorParameters=[{type:void 0,decorators:[{type:core_1.Attribute,args:["maxlength"]}]}],MaxLengthValidator}();exports.MaxLengthValidator=MaxLengthValidator,exports.PATTERN_VALIDATOR={provide:validators_1.NG_VALIDATORS,useExisting:core_1.forwardRef(function(){return PatternValidator}),multi:!0};var PatternValidator=function(){function PatternValidator(pattern){this._validator=validators_1.Validators.pattern(pattern)}return PatternValidator.prototype.validate=function(c){return this._validator(c)},PatternValidator.decorators=[{type:core_1.Directive,args:[{selector:"[pattern][ngControl],[pattern][ngFormControl],[pattern][ngModel]",providers:[exports.PATTERN_VALIDATOR]}]}],PatternValidator.ctorParameters=[{type:void 0,decorators:[{type:core_1.Attribute,args:["pattern"]}]}],PatternValidator}();exports.PatternValidator=PatternValidator},{"../../facade/lang":37,"../validators":63,"@angular/core":167}],61:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),model_1=require("./model"),FormBuilder=function(){function FormBuilder(){}return FormBuilder.prototype.group=function(controlsConfig,extra){void 0===extra&&(extra=null);var controls=this._reduceControls(controlsConfig),optionals=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"optionals"):null,validator=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"validator"):null,asyncValidator=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"asyncValidator"):null;return new model_1.ControlGroup(controls,optionals,validator,asyncValidator)},FormBuilder.prototype.control=function(value,validator,asyncValidator){return void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),new model_1.Control(value,validator,asyncValidator)},FormBuilder.prototype.array=function(controlsConfig,validator,asyncValidator){var _this=this;void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null);var controls=controlsConfig.map(function(c){return _this._createControl(c)});return new model_1.ControlArray(controls,validator,asyncValidator)},FormBuilder.prototype._reduceControls=function(controlsConfig){var _this=this,controls={};return collection_1.StringMapWrapper.forEach(controlsConfig,function(controlConfig,controlName){controls[controlName]=_this._createControl(controlConfig)}),controls},FormBuilder.prototype._createControl=function(controlConfig){if(controlConfig instanceof model_1.Control||controlConfig instanceof model_1.ControlGroup||controlConfig instanceof model_1.ControlArray)return controlConfig;if(lang_1.isArray(controlConfig)){var value=controlConfig[0],validator=controlConfig.length>1?controlConfig[1]:null,asyncValidator=controlConfig.length>2?controlConfig[2]:null;return this.control(value,validator,asyncValidator)}return this.control(controlConfig)},FormBuilder.decorators=[{type:core_1.Injectable}],FormBuilder}();exports.FormBuilder=FormBuilder},{"../facade/collection":33,"../facade/lang":37,"./model":62,"@angular/core":167}],62:[function(require,module,exports){"use strict";function isControl(control){return control instanceof AbstractControl}function _find(control,path){return lang_1.isBlank(path)?null:(path instanceof Array||(path=path.split("/")),path instanceof Array&&collection_1.ListWrapper.isEmpty(path)?null:path.reduce(function(v,name){if(v instanceof ControlGroup)return lang_1.isPresent(v.controls[name])?v.controls[name]:null;if(v instanceof ControlArray){var index=name;return lang_1.isPresent(v.at(index))?v.at(index):null}return null},control))}function toObservable(r){return lang_1.isPromise(r)?async_1.ObservableWrapper.fromPromise(r):r}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=require("../facade/async"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang");exports.VALID="VALID",exports.INVALID="INVALID",exports.PENDING="PENDING",exports.isControl=isControl;var AbstractControl=function(){function AbstractControl(validator,asyncValidator){this.validator=validator,this.asyncValidator=asyncValidator,this._pristine=!0,this._touched=!1}return Object.defineProperty(AbstractControl.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"valid",{get:function(){return this._status===exports.VALID},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"pending",{get:function(){return this._status==exports.PENDING},enumerable:!0,configurable:!0}),AbstractControl.prototype.markAsTouched=function(){this._touched=!0},AbstractControl.prototype.markAsDirty=function(_a){var onlySelf=(void 0===_a?{}:_a).onlySelf;onlySelf=lang_1.normalizeBool(onlySelf),this._pristine=!1,lang_1.isPresent(this._parent)&&!onlySelf&&this._parent.markAsDirty({onlySelf:onlySelf})},AbstractControl.prototype.markAsPending=function(_a){var onlySelf=(void 0===_a?{}:_a).onlySelf;onlySelf=lang_1.normalizeBool(onlySelf),this._status=exports.PENDING,lang_1.isPresent(this._parent)&&!onlySelf&&this._parent.markAsPending({onlySelf:onlySelf})},AbstractControl.prototype.setParent=function(parent){this._parent=parent},AbstractControl.prototype.updateValueAndValidity=function(_a){var _b=void 0===_a?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;onlySelf=lang_1.normalizeBool(onlySelf),emitEvent=!lang_1.isPresent(emitEvent)||emitEvent,this._updateValue(),this._errors=this._runValidator(),this._status=this._calculateStatus(),this._status!=exports.VALID&&this._status!=exports.PENDING||this._runAsyncValidator(emitEvent),emitEvent&&(async_1.ObservableWrapper.callEmit(this._valueChanges,this._value),async_1.ObservableWrapper.callEmit(this._statusChanges,this._status)),lang_1.isPresent(this._parent)&&!onlySelf&&this._parent.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent})},AbstractControl.prototype._runValidator=function(){return lang_1.isPresent(this.validator)?this.validator(this):null},AbstractControl.prototype._runAsyncValidator=function(emitEvent){var _this=this;if(lang_1.isPresent(this.asyncValidator)){this._status=exports.PENDING,this._cancelExistingSubscription();var obs=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=async_1.ObservableWrapper.subscribe(obs,function(res){return _this.setErrors(res,{emitEvent:emitEvent})})}},AbstractControl.prototype._cancelExistingSubscription=function(){lang_1.isPresent(this._asyncValidationSubscription)&&async_1.ObservableWrapper.dispose(this._asyncValidationSubscription)},AbstractControl.prototype.setErrors=function(errors,_a){var emitEvent=(void 0===_a?{}:_a).emitEvent;emitEvent=!lang_1.isPresent(emitEvent)||emitEvent,this._errors=errors,this._status=this._calculateStatus(),emitEvent&&async_1.ObservableWrapper.callEmit(this._statusChanges,this._status),lang_1.isPresent(this._parent)&&this._parent._updateControlsErrors()},AbstractControl.prototype.find=function(path){return _find(this,path)},AbstractControl.prototype.getError=function(errorCode,path){void 0===path&&(path=null);var control=lang_1.isPresent(path)&&!collection_1.ListWrapper.isEmpty(path)?this.find(path):this;return lang_1.isPresent(control)&&lang_1.isPresent(control._errors)?collection_1.StringMapWrapper.get(control._errors,errorCode):null},AbstractControl.prototype.hasError=function(errorCode,path){return void 0===path&&(path=null),lang_1.isPresent(this.getError(errorCode,path))},Object.defineProperty(AbstractControl.prototype,"root",{get:function(){for(var x=this;lang_1.isPresent(x._parent);)x=x._parent;return x},enumerable:!0,configurable:!0}),AbstractControl.prototype._updateControlsErrors=function(){this._status=this._calculateStatus(),lang_1.isPresent(this._parent)&&this._parent._updateControlsErrors()},AbstractControl.prototype._initObservables=function(){this._valueChanges=new async_1.EventEmitter,this._statusChanges=new async_1.EventEmitter},AbstractControl.prototype._calculateStatus=function(){return lang_1.isPresent(this._errors)?exports.INVALID:this._anyControlsHaveStatus(exports.PENDING)?exports.PENDING:this._anyControlsHaveStatus(exports.INVALID)?exports.INVALID:exports.VALID},AbstractControl}();exports.AbstractControl=AbstractControl;var Control=function(_super){function Control(value,validator,asyncValidator){void 0===value&&(value=null),void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),_super.call(this,validator,asyncValidator),this._value=value,this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return __extends(Control,_super),Control.prototype.updateValue=function(value,_a){var _b=void 0===_a?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent,emitModelToViewChange=_b.emitModelToViewChange;emitModelToViewChange=!lang_1.isPresent(emitModelToViewChange)||emitModelToViewChange,this._value=value,lang_1.isPresent(this._onChange)&&emitModelToViewChange&&this._onChange(this._value),this.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent})},Control.prototype._updateValue=function(){},Control.prototype._anyControlsHaveStatus=function(status){return!1},Control.prototype.registerOnChange=function(fn){this._onChange=fn},Control}(AbstractControl);exports.Control=Control;var ControlGroup=function(_super){function ControlGroup(controls,optionals,validator,asyncValidator){void 0===optionals&&(optionals=null),void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),_super.call(this,validator,asyncValidator),this.controls=controls,this._optionals=lang_1.isPresent(optionals)?optionals:{},this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(ControlGroup,_super),ControlGroup.prototype.registerControl=function(name,control){this.controls[name]=control,control.setParent(this)},ControlGroup.prototype.addControl=function(name,control){this.registerControl(name,control),this.updateValueAndValidity()},ControlGroup.prototype.removeControl=function(name){collection_1.StringMapWrapper["delete"](this.controls,name),this.updateValueAndValidity()},ControlGroup.prototype.include=function(controlName){collection_1.StringMapWrapper.set(this._optionals,controlName,!0),this.updateValueAndValidity()},ControlGroup.prototype.exclude=function(controlName){collection_1.StringMapWrapper.set(this._optionals,controlName,!1),this.updateValueAndValidity()},ControlGroup.prototype.contains=function(controlName){var c=collection_1.StringMapWrapper.contains(this.controls,controlName);return c&&this._included(controlName)},ControlGroup.prototype._setParentForControls=function(){var _this=this;collection_1.StringMapWrapper.forEach(this.controls,function(control,name){control.setParent(_this)})},ControlGroup.prototype._updateValue=function(){this._value=this._reduceValue()},ControlGroup.prototype._anyControlsHaveStatus=function(status){var _this=this,res=!1;return collection_1.StringMapWrapper.forEach(this.controls,function(control,name){res=res||_this.contains(name)&&control.status==status}),res},ControlGroup.prototype._reduceValue=function(){return this._reduceChildren({},function(acc,control,name){return acc[name]=control.value,acc})},ControlGroup.prototype._reduceChildren=function(initValue,fn){var _this=this,res=initValue;return collection_1.StringMapWrapper.forEach(this.controls,function(control,name){_this._included(name)&&(res=fn(res,control,name))}),res},ControlGroup.prototype._included=function(controlName){var isOptional=collection_1.StringMapWrapper.contains(this._optionals,controlName);return!isOptional||collection_1.StringMapWrapper.get(this._optionals,controlName)},ControlGroup}(AbstractControl);exports.ControlGroup=ControlGroup;var ControlArray=function(_super){function ControlArray(controls,validator,asyncValidator){void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),_super.call(this,validator,asyncValidator),this.controls=controls,this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(ControlArray,_super),ControlArray.prototype.at=function(index){return this.controls[index]},ControlArray.prototype.push=function(control){this.controls.push(control),control.setParent(this),this.updateValueAndValidity()},ControlArray.prototype.insert=function(index,control){collection_1.ListWrapper.insert(this.controls,index,control),control.setParent(this),this.updateValueAndValidity()},ControlArray.prototype.removeAt=function(index){collection_1.ListWrapper.removeAt(this.controls,index),this.updateValueAndValidity()},Object.defineProperty(ControlArray.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),ControlArray.prototype._updateValue=function(){this._value=this.controls.map(function(control){return control.value})},ControlArray.prototype._anyControlsHaveStatus=function(status){return this.controls.some(function(c){return c.status==status})},ControlArray.prototype._setParentForControls=function(){var _this=this;this.controls.forEach(function(control){control.setParent(_this)})},ControlArray}(AbstractControl);exports.ControlArray=ControlArray},{"../facade/async":31,"../facade/collection":33,"../facade/lang":37}],63:[function(require,module,exports){"use strict";function _convertToPromise(obj){return lang_1.isPromise(obj)?obj:async_1.ObservableWrapper.toPromise(obj)}function _executeValidators(control,validators){return validators.map(function(v){return v(control)})}function _executeAsyncValidators(control,validators){return validators.map(function(v){return v(control)})}function _mergeErrors(arrayOfErrors){var res=arrayOfErrors.reduce(function(res,errors){return lang_1.isPresent(errors)?collection_1.StringMapWrapper.merge(res,errors):res},{});return collection_1.StringMapWrapper.isEmpty(res)?null:res}var core_1=require("@angular/core"),async_1=require("../facade/async"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),promise_1=require("../facade/promise");exports.NG_VALIDATORS=new core_1.OpaqueToken("NgValidators"),exports.NG_ASYNC_VALIDATORS=new core_1.OpaqueToken("NgAsyncValidators");var Validators=function(){function Validators(){}return Validators.required=function(control){return lang_1.isBlank(control.value)||lang_1.isString(control.value)&&""==control.value?{required:!0}:null},Validators.minLength=function(minLength){return function(control){if(lang_1.isPresent(Validators.required(control)))return null;var v=control.value;return v.length<minLength?{minlength:{requiredLength:minLength,actualLength:v.length}}:null}},Validators.maxLength=function(maxLength){return function(control){if(lang_1.isPresent(Validators.required(control)))return null;var v=control.value;return v.length>maxLength?{maxlength:{requiredLength:maxLength,actualLength:v.length}}:null}},Validators.pattern=function(pattern){return function(control){if(lang_1.isPresent(Validators.required(control)))return null;var regex=new RegExp("^"+pattern+"$"),v=control.value;return regex.test(v)?null:{pattern:{requiredPattern:"^"+pattern+"$",actualValue:v}}}},Validators.nullValidator=function(c){return null},Validators.compose=function(validators){if(lang_1.isBlank(validators))return null;var presentValidators=validators.filter(lang_1.isPresent);return 0==presentValidators.length?null:function(control){return _mergeErrors(_executeValidators(control,presentValidators))}},Validators.composeAsync=function(validators){if(lang_1.isBlank(validators))return null;var presentValidators=validators.filter(lang_1.isPresent);return 0==presentValidators.length?null:function(control){var promises=_executeAsyncValidators(control,presentValidators).map(_convertToPromise);return promise_1.PromiseWrapper.all(promises).then(_mergeErrors)}},Validators}();exports.Validators=Validators},{"../facade/async":31,"../facade/collection":33,"../facade/lang":37,"../facade/promise":38,"@angular/core":167}],64:[function(require,module,exports){"use strict";function getPluralCategory(value,cases,ngLocalization){var nbCase="="+value;return cases.indexOf(nbCase)>-1?nbCase:ngLocalization.getPluralCategory(value)}var NgLocalization=function(){function NgLocalization(){}return NgLocalization}();exports.NgLocalization=NgLocalization,exports.getPluralCategory=getPluralCategory},{}],65:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./location/platform_location")),__export(require("./location/location_strategy")),__export(require("./location/hash_location_strategy")),__export(require("./location/path_location_strategy")),__export(require("./location/location"))},{"./location/hash_location_strategy":66,"./location/location":67,"./location/location_strategy":68,"./location/path_location_strategy":69,"./location/platform_location":70}],66:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),lang_1=require("../facade/lang"),location_1=require("./location"),location_strategy_1=require("./location_strategy"),platform_location_1=require("./platform_location"),HashLocationStrategy=function(_super){function HashLocationStrategy(_platformLocation,_baseHref){_super.call(this),this._platformLocation=_platformLocation,this._baseHref="",lang_1.isPresent(_baseHref)&&(this._baseHref=_baseHref)}return __extends(HashLocationStrategy,_super),HashLocationStrategy.prototype.onPopState=function(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)},HashLocationStrategy.prototype.getBaseHref=function(){return this._baseHref},HashLocationStrategy.prototype.path=function(includeHash){void 0===includeHash&&(includeHash=!1);var path=this._platformLocation.hash;return lang_1.isPresent(path)||(path="#"),path.length>0?path.substring(1):path},HashLocationStrategy.prototype.prepareExternalUrl=function(internal){var url=location_1.Location.joinWithSlash(this._baseHref,internal);return url.length>0?"#"+url:url},HashLocationStrategy.prototype.pushState=function(state,title,path,queryParams){var url=this.prepareExternalUrl(path+location_1.Location.normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.pushState(state,title,url)},HashLocationStrategy.prototype.replaceState=function(state,title,path,queryParams){var url=this.prepareExternalUrl(path+location_1.Location.normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.replaceState(state,title,url)},HashLocationStrategy.prototype.forward=function(){this._platformLocation.forward()},HashLocationStrategy.prototype.back=function(){this._platformLocation.back()},HashLocationStrategy.decorators=[{type:core_1.Injectable}],HashLocationStrategy.ctorParameters=[{type:platform_location_1.PlatformLocation},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Inject,args:[location_strategy_1.APP_BASE_HREF]}]}],HashLocationStrategy}(location_strategy_1.LocationStrategy);exports.HashLocationStrategy=HashLocationStrategy},{"../facade/lang":37,"./location":67,"./location_strategy":68,"./platform_location":70,"@angular/core":167}],67:[function(require,module,exports){"use strict";function _stripBaseHref(baseHref,url){return baseHref.length>0&&url.startsWith(baseHref)?url.substring(baseHref.length):url}function _stripIndexHtml(url){return/\/index.html$/g.test(url)?url.substring(0,url.length-11):url}var core_1=require("@angular/core"),async_1=require("../facade/async"),location_strategy_1=require("./location_strategy"),Location=function(){function Location(platformStrategy){var _this=this;this._subject=new core_1.EventEmitter,this._platformStrategy=platformStrategy;var browserBaseHref=this._platformStrategy.getBaseHref();this._baseHref=Location.stripTrailingSlash(_stripIndexHtml(browserBaseHref)),this._platformStrategy.onPopState(function(ev){async_1.ObservableWrapper.callEmit(_this._subject,{url:_this.path(!0),pop:!0,type:ev.type})})}return Location.prototype.path=function(includeHash){return void 0===includeHash&&(includeHash=!1),this.normalize(this._platformStrategy.path(includeHash))},Location.prototype.isCurrentPathEqualTo=function(path,query){return void 0===query&&(query=""),this.path()==this.normalize(path+Location.normalizeQueryParams(query))},Location.prototype.normalize=function(url){return Location.stripTrailingSlash(_stripBaseHref(this._baseHref,_stripIndexHtml(url)))},Location.prototype.prepareExternalUrl=function(url){return url.length>0&&!url.startsWith("/")&&(url="/"+url),this._platformStrategy.prepareExternalUrl(url)},Location.prototype.go=function(path,query){void 0===query&&(query=""),this._platformStrategy.pushState(null,"",path,query)},Location.prototype.replaceState=function(path,query){void 0===query&&(query=""),this._platformStrategy.replaceState(null,"",path,query)},Location.prototype.forward=function(){this._platformStrategy.forward()},Location.prototype.back=function(){this._platformStrategy.back()},Location.prototype.subscribe=function(onNext,onThrow,onReturn){return void 0===onThrow&&(onThrow=null),void 0===onReturn&&(onReturn=null),async_1.ObservableWrapper.subscribe(this._subject,onNext,onThrow,onReturn)},Location.normalizeQueryParams=function(params){return params.length>0&&"?"!=params.substring(0,1)?"?"+params:params},Location.joinWithSlash=function(start,end){if(0==start.length)return end;if(0==end.length)return start;var slashes=0;return start.endsWith("/")&&slashes++,end.startsWith("/")&&slashes++,2==slashes?start+end.substring(1):1==slashes?start+end:start+"/"+end},Location.stripTrailingSlash=function(url){return/\/$/g.test(url)&&(url=url.substring(0,url.length-1)),url},Location.decorators=[{type:core_1.Injectable}],Location.ctorParameters=[{type:location_strategy_1.LocationStrategy}],Location}();exports.Location=Location},{"../facade/async":31,"./location_strategy":68,"@angular/core":167}],68:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),LocationStrategy=function(){function LocationStrategy(){}return LocationStrategy}();exports.LocationStrategy=LocationStrategy,exports.APP_BASE_HREF=new core_1.OpaqueToken("appBaseHref")},{"@angular/core":167}],69:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),location_1=require("./location"),location_strategy_1=require("./location_strategy"),platform_location_1=require("./platform_location"),PathLocationStrategy=function(_super){function PathLocationStrategy(_platformLocation,href){if(_super.call(this),this._platformLocation=_platformLocation,lang_1.isBlank(href)&&(href=this._platformLocation.getBaseHrefFromDOM()),lang_1.isBlank(href))throw new exceptions_1.BaseException("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=href}return __extends(PathLocationStrategy,_super),PathLocationStrategy.prototype.onPopState=function(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)},PathLocationStrategy.prototype.getBaseHref=function(){return this._baseHref},PathLocationStrategy.prototype.prepareExternalUrl=function(internal){return location_1.Location.joinWithSlash(this._baseHref,internal)},PathLocationStrategy.prototype.path=function(includeHash){void 0===includeHash&&(includeHash=!1);var pathname=this._platformLocation.pathname+location_1.Location.normalizeQueryParams(this._platformLocation.search),hash=this._platformLocation.hash;return hash&&includeHash?""+pathname+hash:pathname},PathLocationStrategy.prototype.pushState=function(state,title,url,queryParams){var externalUrl=this.prepareExternalUrl(url+location_1.Location.normalizeQueryParams(queryParams));this._platformLocation.pushState(state,title,externalUrl)},PathLocationStrategy.prototype.replaceState=function(state,title,url,queryParams){var externalUrl=this.prepareExternalUrl(url+location_1.Location.normalizeQueryParams(queryParams));this._platformLocation.replaceState(state,title,externalUrl)},PathLocationStrategy.prototype.forward=function(){this._platformLocation.forward()},PathLocationStrategy.prototype.back=function(){this._platformLocation.back()},PathLocationStrategy.decorators=[{type:core_1.Injectable}],PathLocationStrategy.ctorParameters=[{type:platform_location_1.PlatformLocation},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Inject,args:[location_strategy_1.APP_BASE_HREF]}]}],PathLocationStrategy}(location_strategy_1.LocationStrategy);exports.PathLocationStrategy=PathLocationStrategy},{"../facade/exceptions":35,"../facade/lang":37,"./location":67,"./location_strategy":68,"./platform_location":70,"@angular/core":167}],70:[function(require,module,exports){"use strict";var PlatformLocation=function(){function PlatformLocation(){}return Object.defineProperty(PlatformLocation.prototype,"pathname",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformLocation.prototype,"search",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformLocation.prototype,"hash",{get:function(){return null},enumerable:!0,configurable:!0}),PlatformLocation}();exports.PlatformLocation=PlatformLocation},{}],71:[function(require,module,exports){"use strict";var async_pipe_1=require("./pipes/async_pipe");exports.AsyncPipe=async_pipe_1.AsyncPipe;var common_pipes_1=require("./pipes/common_pipes");exports.COMMON_PIPES=common_pipes_1.COMMON_PIPES;var date_pipe_1=require("./pipes/date_pipe");exports.DatePipe=date_pipe_1.DatePipe;var i18n_plural_pipe_1=require("./pipes/i18n_plural_pipe");exports.I18nPluralPipe=i18n_plural_pipe_1.I18nPluralPipe;var i18n_select_pipe_1=require("./pipes/i18n_select_pipe");exports.I18nSelectPipe=i18n_select_pipe_1.I18nSelectPipe;var json_pipe_1=require("./pipes/json_pipe");exports.JsonPipe=json_pipe_1.JsonPipe;var lowercase_pipe_1=require("./pipes/lowercase_pipe");exports.LowerCasePipe=lowercase_pipe_1.LowerCasePipe;var number_pipe_1=require("./pipes/number_pipe");exports.CurrencyPipe=number_pipe_1.CurrencyPipe,exports.DecimalPipe=number_pipe_1.DecimalPipe,exports.PercentPipe=number_pipe_1.PercentPipe;var replace_pipe_1=require("./pipes/replace_pipe");exports.ReplacePipe=replace_pipe_1.ReplacePipe;var slice_pipe_1=require("./pipes/slice_pipe");exports.SlicePipe=slice_pipe_1.SlicePipe;var uppercase_pipe_1=require("./pipes/uppercase_pipe");exports.UpperCasePipe=uppercase_pipe_1.UpperCasePipe},{"./pipes/async_pipe":72,"./pipes/common_pipes":73,"./pipes/date_pipe":74,"./pipes/i18n_plural_pipe":75,"./pipes/i18n_select_pipe":76,"./pipes/json_pipe":78,"./pipes/lowercase_pipe":79,"./pipes/number_pipe":80,"./pipes/replace_pipe":81,"./pipes/slice_pipe":82,"./pipes/uppercase_pipe":83}],72:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),async_1=require("../facade/async"),lang_1=require("../facade/lang"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),ObservableStrategy=function(){function ObservableStrategy(){}return ObservableStrategy.prototype.createSubscription=function(async,updateLatestValue){return async_1.ObservableWrapper.subscribe(async,updateLatestValue,function(e){throw e})},ObservableStrategy.prototype.dispose=function(subscription){async_1.ObservableWrapper.dispose(subscription)},ObservableStrategy.prototype.onDestroy=function(subscription){async_1.ObservableWrapper.dispose(subscription)},ObservableStrategy}(),PromiseStrategy=function(){function PromiseStrategy(){}return PromiseStrategy.prototype.createSubscription=function(async,updateLatestValue){return async.then(updateLatestValue,function(e){
throw e})},PromiseStrategy.prototype.dispose=function(subscription){},PromiseStrategy.prototype.onDestroy=function(subscription){},PromiseStrategy}(),_promiseStrategy=new PromiseStrategy,_observableStrategy=new ObservableStrategy,AsyncPipe=function(){function AsyncPipe(_ref){this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=_ref}return AsyncPipe.prototype.ngOnDestroy=function(){lang_1.isPresent(this._subscription)&&this._dispose()},AsyncPipe.prototype.transform=function(obj){return lang_1.isBlank(this._obj)?(lang_1.isPresent(obj)&&this._subscribe(obj),this._latestReturnedValue=this._latestValue,this._latestValue):obj!==this._obj?(this._dispose(),this.transform(obj)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,core_1.WrappedValue.wrap(this._latestValue))},AsyncPipe.prototype._subscribe=function(obj){var _this=this;this._obj=obj,this._strategy=this._selectStrategy(obj),this._subscription=this._strategy.createSubscription(obj,function(value){return _this._updateLatestValue(obj,value)})},AsyncPipe.prototype._selectStrategy=function(obj){if(lang_1.isPromise(obj))return _promiseStrategy;if(async_1.ObservableWrapper.isObservable(obj))return _observableStrategy;throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(AsyncPipe,obj)},AsyncPipe.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},AsyncPipe.prototype._updateLatestValue=function(async,value){async===this._obj&&(this._latestValue=value,this._ref.markForCheck())},AsyncPipe.decorators=[{type:core_1.Pipe,args:[{name:"async",pure:!1}]}],AsyncPipe.ctorParameters=[{type:core_1.ChangeDetectorRef}],AsyncPipe}();exports.AsyncPipe=AsyncPipe},{"../facade/async":31,"../facade/lang":37,"./invalid_pipe_argument_exception":77,"@angular/core":167}],73:[function(require,module,exports){"use strict";var async_pipe_1=require("./async_pipe"),date_pipe_1=require("./date_pipe"),i18n_plural_pipe_1=require("./i18n_plural_pipe"),i18n_select_pipe_1=require("./i18n_select_pipe"),json_pipe_1=require("./json_pipe"),lowercase_pipe_1=require("./lowercase_pipe"),number_pipe_1=require("./number_pipe"),replace_pipe_1=require("./replace_pipe"),slice_pipe_1=require("./slice_pipe"),uppercase_pipe_1=require("./uppercase_pipe");exports.COMMON_PIPES=[async_pipe_1.AsyncPipe,uppercase_pipe_1.UpperCasePipe,lowercase_pipe_1.LowerCasePipe,json_pipe_1.JsonPipe,slice_pipe_1.SlicePipe,number_pipe_1.DecimalPipe,number_pipe_1.PercentPipe,number_pipe_1.CurrencyPipe,date_pipe_1.DatePipe,replace_pipe_1.ReplacePipe,i18n_plural_pipe_1.I18nPluralPipe,i18n_select_pipe_1.I18nSelectPipe]},{"./async_pipe":72,"./date_pipe":74,"./i18n_plural_pipe":75,"./i18n_select_pipe":76,"./json_pipe":78,"./lowercase_pipe":79,"./number_pipe":80,"./replace_pipe":81,"./slice_pipe":82,"./uppercase_pipe":83}],74:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),collection_1=require("../facade/collection"),intl_1=require("../facade/intl"),lang_1=require("../facade/lang"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),defaultLocale="en-US",DatePipe=function(){function DatePipe(){}return DatePipe.prototype.transform=function(value,pattern){if(void 0===pattern&&(pattern="mediumDate"),lang_1.isBlank(value))return null;if(!this.supports(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(DatePipe,value);return lang_1.NumberWrapper.isNumeric(value)?value=lang_1.DateWrapper.fromMillis(lang_1.NumberWrapper.parseInt(value,10)):lang_1.isString(value)&&(value=lang_1.DateWrapper.fromISOString(value)),collection_1.StringMapWrapper.contains(DatePipe._ALIASES,pattern)&&(pattern=collection_1.StringMapWrapper.get(DatePipe._ALIASES,pattern)),intl_1.DateFormatter.format(value,defaultLocale,pattern)},DatePipe.prototype.supports=function(obj){return!(!lang_1.isDate(obj)&&!lang_1.NumberWrapper.isNumeric(obj))||!(!lang_1.isString(obj)||!lang_1.isDate(lang_1.DateWrapper.fromISOString(obj)))},DatePipe._ALIASES={medium:"yMMMdjms","short":"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},DatePipe.decorators=[{type:core_1.Pipe,args:[{name:"date",pure:!0}]}],DatePipe}();exports.DatePipe=DatePipe},{"../facade/collection":33,"../facade/intl":36,"../facade/lang":37,"./invalid_pipe_argument_exception":77,"@angular/core":167}],75:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../facade/lang"),localization_1=require("../localization"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),_INTERPOLATION_REGEXP=/#/g,I18nPluralPipe=function(){function I18nPluralPipe(_localization){this._localization=_localization}return I18nPluralPipe.prototype.transform=function(value,pluralMap){if(lang_1.isBlank(value))return"";if(!lang_1.isStringMap(pluralMap))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(I18nPluralPipe,pluralMap);var key=localization_1.getPluralCategory(value,Object.getOwnPropertyNames(pluralMap),this._localization);return lang_1.StringWrapper.replaceAll(pluralMap[key],_INTERPOLATION_REGEXP,value.toString())},I18nPluralPipe.decorators=[{type:core_1.Pipe,args:[{name:"i18nPlural",pure:!0}]}],I18nPluralPipe.ctorParameters=[{type:localization_1.NgLocalization}],I18nPluralPipe}();exports.I18nPluralPipe=I18nPluralPipe},{"../facade/lang":37,"../localization":64,"./invalid_pipe_argument_exception":77,"@angular/core":167}],76:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../facade/lang"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),I18nSelectPipe=function(){function I18nSelectPipe(){}return I18nSelectPipe.prototype.transform=function(value,mapping){if(lang_1.isBlank(value))return"";if(!lang_1.isStringMap(mapping))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(I18nSelectPipe,mapping);return mapping.hasOwnProperty(value)?mapping[value]:""},I18nSelectPipe.decorators=[{type:core_1.Pipe,args:[{name:"i18nSelect",pure:!0}]}],I18nSelectPipe}();exports.I18nSelectPipe=I18nSelectPipe},{"../facade/lang":37,"./invalid_pipe_argument_exception":77,"@angular/core":167}],77:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),InvalidPipeArgumentException=function(_super){function InvalidPipeArgumentException(type,value){_super.call(this,"Invalid argument '"+value+"' for pipe '"+lang_1.stringify(type)+"'")}return __extends(InvalidPipeArgumentException,_super),InvalidPipeArgumentException}(exceptions_1.BaseException);exports.InvalidPipeArgumentException=InvalidPipeArgumentException},{"../facade/exceptions":35,"../facade/lang":37}],78:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../facade/lang"),JsonPipe=function(){function JsonPipe(){}return JsonPipe.prototype.transform=function(value){return lang_1.Json.stringify(value)},JsonPipe.decorators=[{type:core_1.Pipe,args:[{name:"json",pure:!1}]}],JsonPipe}();exports.JsonPipe=JsonPipe},{"../facade/lang":37,"@angular/core":167}],79:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../facade/lang"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),LowerCasePipe=function(){function LowerCasePipe(){}return LowerCasePipe.prototype.transform=function(value){if(lang_1.isBlank(value))return value;if(!lang_1.isString(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(LowerCasePipe,value);return value.toLowerCase()},LowerCasePipe.decorators=[{type:core_1.Pipe,args:[{name:"lowercase"}]}],LowerCasePipe}();exports.LowerCasePipe=LowerCasePipe},{"../facade/lang":37,"./invalid_pipe_argument_exception":77,"@angular/core":167}],80:[function(require,module,exports){"use strict";function formatNumber(pipe,value,style,digits,currency,currencyAsSymbol){if(void 0===currency&&(currency=null),void 0===currencyAsSymbol&&(currencyAsSymbol=!1),lang_1.isBlank(value))return null;if(!lang_1.isNumber(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(pipe,value);var minInt=1,minFraction=0,maxFraction=3;if(lang_1.isPresent(digits)){var parts=lang_1.RegExpWrapper.firstMatch(_NUMBER_FORMAT_REGEXP,digits);if(lang_1.isBlank(parts))throw new exceptions_1.BaseException(digits+" is not a valid digit info for number pipes");lang_1.isPresent(parts[1])&&(minInt=lang_1.NumberWrapper.parseIntAutoRadix(parts[1])),lang_1.isPresent(parts[3])&&(minFraction=lang_1.NumberWrapper.parseIntAutoRadix(parts[3])),lang_1.isPresent(parts[5])&&(maxFraction=lang_1.NumberWrapper.parseIntAutoRadix(parts[5]))}return intl_1.NumberFormatter.format(value,defaultLocale,style,{minimumIntegerDigits:minInt,minimumFractionDigits:minFraction,maximumFractionDigits:maxFraction,currency:currency,currencyAsSymbol:currencyAsSymbol})}var core_1=require("@angular/core"),exceptions_1=require("../facade/exceptions"),intl_1=require("../facade/intl"),lang_1=require("../facade/lang"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),defaultLocale="en-US",_NUMBER_FORMAT_REGEXP=/^(\d+)?\.((\d+)(\-(\d+))?)?$/g,DecimalPipe=function(){function DecimalPipe(){}return DecimalPipe.prototype.transform=function(value,digits){return void 0===digits&&(digits=null),formatNumber(DecimalPipe,value,intl_1.NumberFormatStyle.Decimal,digits)},DecimalPipe.decorators=[{type:core_1.Pipe,args:[{name:"number"}]}],DecimalPipe}();exports.DecimalPipe=DecimalPipe;var PercentPipe=function(){function PercentPipe(){}return PercentPipe.prototype.transform=function(value,digits){return void 0===digits&&(digits=null),formatNumber(PercentPipe,value,intl_1.NumberFormatStyle.Percent,digits)},PercentPipe.decorators=[{type:core_1.Pipe,args:[{name:"percent"}]}],PercentPipe}();exports.PercentPipe=PercentPipe;var CurrencyPipe=function(){function CurrencyPipe(){}return CurrencyPipe.prototype.transform=function(value,currencyCode,symbolDisplay,digits){return void 0===currencyCode&&(currencyCode="USD"),void 0===symbolDisplay&&(symbolDisplay=!1),void 0===digits&&(digits=null),formatNumber(CurrencyPipe,value,intl_1.NumberFormatStyle.Currency,digits,currencyCode,symbolDisplay)},CurrencyPipe.decorators=[{type:core_1.Pipe,args:[{name:"currency"}]}],CurrencyPipe}();exports.CurrencyPipe=CurrencyPipe},{"../facade/exceptions":35,"../facade/intl":36,"../facade/lang":37,"./invalid_pipe_argument_exception":77,"@angular/core":167}],81:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../facade/lang"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),ReplacePipe=function(){function ReplacePipe(){}return ReplacePipe.prototype.transform=function(value,pattern,replacement){if(lang_1.isBlank(value))return value;if(!this._supportedInput(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(ReplacePipe,value);var input=value.toString();if(!this._supportedPattern(pattern))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(ReplacePipe,pattern);if(!this._supportedReplacement(replacement))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(ReplacePipe,replacement);if(lang_1.isFunction(replacement)){var rgxPattern=lang_1.isString(pattern)?lang_1.RegExpWrapper.create(pattern):pattern;return lang_1.StringWrapper.replaceAllMapped(input,rgxPattern,replacement)}return pattern instanceof RegExp?lang_1.StringWrapper.replaceAll(input,pattern,replacement):lang_1.StringWrapper.replace(input,pattern,replacement)},ReplacePipe.prototype._supportedInput=function(input){return lang_1.isString(input)||lang_1.isNumber(input)},ReplacePipe.prototype._supportedPattern=function(pattern){return lang_1.isString(pattern)||pattern instanceof RegExp},ReplacePipe.prototype._supportedReplacement=function(replacement){return lang_1.isString(replacement)||lang_1.isFunction(replacement)},ReplacePipe.decorators=[{type:core_1.Pipe,args:[{name:"replace"}]}],ReplacePipe}();exports.ReplacePipe=ReplacePipe},{"../facade/lang":37,"./invalid_pipe_argument_exception":77,"@angular/core":167}],82:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),SlicePipe=function(){function SlicePipe(){}return SlicePipe.prototype.transform=function(value,start,end){if(void 0===end&&(end=null),lang_1.isBlank(value))return value;if(!this.supports(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(SlicePipe,value);return lang_1.isString(value)?lang_1.StringWrapper.slice(value,start,end):collection_1.ListWrapper.slice(value,start,end)},SlicePipe.prototype.supports=function(obj){return lang_1.isString(obj)||lang_1.isArray(obj)},SlicePipe.decorators=[{type:core_1.Pipe,args:[{name:"slice",pure:!1}]}],SlicePipe}();exports.SlicePipe=SlicePipe},{"../facade/collection":33,"../facade/lang":37,"./invalid_pipe_argument_exception":77,"@angular/core":167}],83:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../facade/lang"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),UpperCasePipe=function(){function UpperCasePipe(){}return UpperCasePipe.prototype.transform=function(value){if(lang_1.isBlank(value))return value;if(!lang_1.isString(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(UpperCasePipe,value);return value.toUpperCase()},UpperCasePipe.decorators=[{type:core_1.Pipe,args:[{name:"uppercase"}]}],UpperCasePipe}();exports.UpperCasePipe=UpperCasePipe},{"../facade/lang":37,"./invalid_pipe_argument_exception":77,"@angular/core":167}],84:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var compiler_1=require("./src/compiler");exports.COMPILER_PROVIDERS=compiler_1.COMPILER_PROVIDERS,exports.CompileDiDependencyMetadata=compiler_1.CompileDiDependencyMetadata,exports.CompileDirectiveMetadata=compiler_1.CompileDirectiveMetadata,exports.CompileFactoryMetadata=compiler_1.CompileFactoryMetadata,exports.CompileIdentifierMetadata=compiler_1.CompileIdentifierMetadata,exports.CompileMetadataWithIdentifier=compiler_1.CompileMetadataWithIdentifier,exports.CompileMetadataWithType=compiler_1.CompileMetadataWithType,exports.CompilePipeMetadata=compiler_1.CompilePipeMetadata,exports.CompileProviderMetadata=compiler_1.CompileProviderMetadata,exports.CompileQueryMetadata=compiler_1.CompileQueryMetadata,exports.CompileTemplateMetadata=compiler_1.CompileTemplateMetadata,exports.CompileTokenMetadata=compiler_1.CompileTokenMetadata,exports.CompileTypeMetadata=compiler_1.CompileTypeMetadata,exports.CompilerConfig=compiler_1.CompilerConfig,exports.DEFAULT_PACKAGE_URL_PROVIDER=compiler_1.DEFAULT_PACKAGE_URL_PROVIDER,exports.DirectiveResolver=compiler_1.DirectiveResolver,exports.NormalizedComponentWithViewDirectives=compiler_1.NormalizedComponentWithViewDirectives,exports.OfflineCompiler=compiler_1.OfflineCompiler,exports.PipeResolver=compiler_1.PipeResolver,exports.RenderTypes=compiler_1.RenderTypes,exports.RuntimeCompiler=compiler_1.RuntimeCompiler,exports.SourceModule=compiler_1.SourceModule,exports.TEMPLATE_TRANSFORMS=compiler_1.TEMPLATE_TRANSFORMS,exports.UrlResolver=compiler_1.UrlResolver,exports.ViewResolver=compiler_1.ViewResolver,exports.XHR=compiler_1.XHR,exports.createOfflineCompileUrlResolver=compiler_1.createOfflineCompileUrlResolver;var element_schema_registry_1=require("./src/schema/element_schema_registry");exports.ElementSchemaRegistry=element_schema_registry_1.ElementSchemaRegistry,__export(require("./src/template_ast")),__export(require("./private_export"))},{"./private_export":87,"./src/compiler":95,"./src/schema/element_schema_registry":140,"./src/template_ast":145}],85:[function(require,module,exports){"use strict";var core_1=require("@angular/core");exports.isDefaultChangeDetectionStrategy=core_1.__core_private__.isDefaultChangeDetectionStrategy,exports.ChangeDetectorStatus=core_1.__core_private__.ChangeDetectorStatus,exports.CHANGE_DETECTION_STRATEGY_VALUES=core_1.__core_private__.CHANGE_DETECTION_STRATEGY_VALUES,exports.constructDependencies=core_1.__core_private__.constructDependencies,exports.LifecycleHooks=core_1.__core_private__.LifecycleHooks,exports.LIFECYCLE_HOOKS_VALUES=core_1.__core_private__.LIFECYCLE_HOOKS_VALUES,exports.ReflectorReader=core_1.__core_private__.ReflectorReader,exports.ReflectorComponentResolver=core_1.__core_private__.ReflectorComponentResolver,exports.AppElement=core_1.__core_private__.AppElement,exports.CodegenComponentFactoryResolver=core_1.__core_private__.CodegenComponentFactoryResolver,exports.AppView=core_1.__core_private__.AppView,exports.DebugAppView=core_1.__core_private__.DebugAppView,exports.ViewType=core_1.__core_private__.ViewType,exports.MAX_INTERPOLATION_VALUES=core_1.__core_private__.MAX_INTERPOLATION_VALUES,exports.checkBinding=core_1.__core_private__.checkBinding,exports.flattenNestedViewRenderNodes=core_1.__core_private__.flattenNestedViewRenderNodes,exports.interpolate=core_1.__core_private__.interpolate,exports.ViewUtils=core_1.__core_private__.ViewUtils,exports.VIEW_ENCAPSULATION_VALUES=core_1.__core_private__.VIEW_ENCAPSULATION_VALUES,exports.DebugContext=core_1.__core_private__.DebugContext,exports.StaticNodeDebugInfo=core_1.__core_private__.StaticNodeDebugInfo,exports.devModeEqual=core_1.__core_private__.devModeEqual,exports.uninitialized=core_1.__core_private__.uninitialized,exports.ValueUnwrapper=core_1.__core_private__.ValueUnwrapper,exports.TemplateRef_=core_1.__core_private__.TemplateRef_,exports.RenderDebugInfo=core_1.__core_private__.RenderDebugInfo,exports.SecurityContext=core_1.__core_private__.SecurityContext,exports.SanitizationService=core_1.__core_private__.SanitizationService,exports.createProvider=core_1.__core_private__.createProvider,exports.isProviderLiteral=core_1.__core_private__.isProviderLiteral,exports.EMPTY_ARRAY=core_1.__core_private__.EMPTY_ARRAY,exports.EMPTY_MAP=core_1.__core_private__.EMPTY_MAP,exports.pureProxy1=core_1.__core_private__.pureProxy1,exports.pureProxy2=core_1.__core_private__.pureProxy2,exports.pureProxy3=core_1.__core_private__.pureProxy3,exports.pureProxy4=core_1.__core_private__.pureProxy4,exports.pureProxy5=core_1.__core_private__.pureProxy5,exports.pureProxy6=core_1.__core_private__.pureProxy6,exports.pureProxy7=core_1.__core_private__.pureProxy7,exports.pureProxy8=core_1.__core_private__.pureProxy8,exports.pureProxy9=core_1.__core_private__.pureProxy9,exports.pureProxy10=core_1.__core_private__.pureProxy10,exports.castByValue=core_1.__core_private__.castByValue,exports.Console=core_1.__core_private__.Console,exports.reflector=core_1.__core_private__.reflector,exports.NoOpAnimationPlayer=core_1.__core_private__.NoOpAnimationPlayer,exports.AnimationPlayer=core_1.__core_private__.AnimationPlayer,exports.NoOpAnimationDriver=core_1.__core_private__.NoOpAnimationDriver,exports.AnimationDriver=core_1.__core_private__.AnimationDriver,exports.AnimationSequencePlayer=core_1.__core_private__.AnimationSequencePlayer,exports.AnimationGroupPlayer=core_1.__core_private__.AnimationGroupPlayer,exports.AnimationKeyframe=core_1.__core_private__.AnimationKeyframe,exports.AnimationStyles=core_1.__core_private__.AnimationStyles,exports.ANY_STATE=core_1.__core_private__.ANY_STATE,exports.DEFAULT_STATE=core_1.__core_private__.DEFAULT_STATE,exports.EMPTY_STATE=core_1.__core_private__.EMPTY_STATE,exports.FILL_STYLE_FLAG=core_1.__core_private__.FILL_STYLE_FLAG,exports.prepareFinalAnimationStyles=core_1.__core_private__.prepareFinalAnimationStyles,exports.balanceAnimationKeyframes=core_1.__core_private__.balanceAnimationKeyframes,exports.flattenStyles=core_1.__core_private__.flattenStyles,exports.clearStyles=core_1.__core_private__.clearStyles,exports.collectAndResolveStyles=core_1.__core_private__.collectAndResolveStyles,exports.renderStyles=core_1.__core_private__.renderStyles},{"@angular/core":167}],86:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./compiler"))},{"./compiler":84}],87:[function(require,module,exports){"use strict";var __compiler_private__,directive_normalizer=require("./src/directive_normalizer"),lexer=require("./src/expression_parser/lexer"),parser=require("./src/expression_parser/parser"),html_parser=require("./src/html_parser"),i18n_html_parser=require("./src/i18n/i18n_html_parser"),i18n_message=require("./src/i18n/message"),i18n_extractor=require("./src/i18n/message_extractor"),xmb_serializer=require("./src/i18n/xmb_serializer"),metadata_resolver=require("./src/metadata_resolver"),path_util=require("./src/output/path_util"),ts_emitter=require("./src/output/ts_emitter"),parse_util=require("./src/parse_util"),dom_element_schema_registry=require("./src/schema/dom_element_schema_registry"),selector=require("./src/selector"),style_compiler=require("./src/style_compiler"),template_parser=require("./src/template_parser"),view_compiler=require("./src/view_compiler/view_compiler");!function(__compiler_private__){__compiler_private__.SelectorMatcher=selector.SelectorMatcher,__compiler_private__.CssSelector=selector.CssSelector,__compiler_private__.AssetUrl=path_util.AssetUrl,__compiler_private__.ImportGenerator=path_util.ImportGenerator,__compiler_private__.CompileMetadataResolver=metadata_resolver.CompileMetadataResolver,__compiler_private__.HtmlParser=html_parser.HtmlParser,__compiler_private__.I18nHtmlParser=i18n_html_parser.I18nHtmlParser,__compiler_private__.ExtractionResult=i18n_extractor.ExtractionResult,__compiler_private__.Message=i18n_message.Message,__compiler_private__.MessageExtractor=i18n_extractor.MessageExtractor,__compiler_private__.removeDuplicates=i18n_extractor.removeDuplicates,__compiler_private__.serializeXmb=xmb_serializer.serializeXmb,__compiler_private__.deserializeXmb=xmb_serializer.deserializeXmb,__compiler_private__.DirectiveNormalizer=directive_normalizer.DirectiveNormalizer,__compiler_private__.Lexer=lexer.Lexer,__compiler_private__.Parser=parser.Parser,__compiler_private__.ParseLocation=parse_util.ParseLocation,__compiler_private__.ParseError=parse_util.ParseError,__compiler_private__.ParseErrorLevel=parse_util.ParseErrorLevel,__compiler_private__.ParseSourceFile=parse_util.ParseSourceFile,__compiler_private__.ParseSourceSpan=parse_util.ParseSourceSpan,__compiler_private__.TemplateParser=template_parser.TemplateParser,__compiler_private__.DomElementSchemaRegistry=dom_element_schema_registry.DomElementSchemaRegistry,__compiler_private__.StyleCompiler=style_compiler.StyleCompiler,__compiler_private__.ViewCompiler=view_compiler.ViewCompiler,__compiler_private__.TypeScriptEmitter=ts_emitter.TypeScriptEmitter}(__compiler_private__=exports.__compiler_private__||(exports.__compiler_private__={}))},{"./src/directive_normalizer":98,"./src/expression_parser/lexer":101,"./src/expression_parser/parser":102,"./src/html_parser":113,"./src/i18n/i18n_html_parser":116,"./src/i18n/message":117,"./src/i18n/message_extractor":118,"./src/i18n/xmb_serializer":120,"./src/metadata_resolver":123,"./src/output/path_util":132,"./src/output/ts_emitter":133,"./src/parse_util":134,"./src/schema/dom_element_schema_registry":138,"./src/selector":141,"./src/style_compiler":143,"./src/template_parser":146,"./src/view_compiler/view_compiler":164}],88:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AnimationAst=function(){function AnimationAst(){this.startTime=0,this.playTime=0}return AnimationAst}();exports.AnimationAst=AnimationAst;var AnimationStateAst=function(_super){function AnimationStateAst(){_super.apply(this,arguments)}return __extends(AnimationStateAst,_super),AnimationStateAst}(AnimationAst);exports.AnimationStateAst=AnimationStateAst;var AnimationEntryAst=function(_super){function AnimationEntryAst(name,stateDeclarations,stateTransitions){_super.call(this),this.name=name,this.stateDeclarations=stateDeclarations,this.stateTransitions=stateTransitions}return __extends(AnimationEntryAst,_super),AnimationEntryAst.prototype.visit=function(visitor,context){return visitor.visitAnimationEntry(this,context)},AnimationEntryAst}(AnimationAst);exports.AnimationEntryAst=AnimationEntryAst;var AnimationStateDeclarationAst=function(_super){function AnimationStateDeclarationAst(stateName,styles){_super.call(this),this.stateName=stateName,this.styles=styles}return __extends(AnimationStateDeclarationAst,_super),AnimationStateDeclarationAst.prototype.visit=function(visitor,context){return visitor.visitAnimationStateDeclaration(this,context)},AnimationStateDeclarationAst}(AnimationStateAst);exports.AnimationStateDeclarationAst=AnimationStateDeclarationAst;var AnimationStateTransitionExpression=function(){function AnimationStateTransitionExpression(fromState,toState){this.fromState=fromState,this.toState=toState}return AnimationStateTransitionExpression}();exports.AnimationStateTransitionExpression=AnimationStateTransitionExpression;var AnimationStateTransitionAst=function(_super){function AnimationStateTransitionAst(stateChanges,animation){_super.call(this),this.stateChanges=stateChanges,this.animation=animation}return __extends(AnimationStateTransitionAst,_super),AnimationStateTransitionAst.prototype.visit=function(visitor,context){return visitor.visitAnimationStateTransition(this,context)},AnimationStateTransitionAst}(AnimationStateAst);exports.AnimationStateTransitionAst=AnimationStateTransitionAst;var AnimationStepAst=function(_super){function AnimationStepAst(startingStyles,keyframes,duration,delay,easing){_super.call(this),this.startingStyles=startingStyles,this.keyframes=keyframes,this.duration=duration,this.delay=delay,this.easing=easing}return __extends(AnimationStepAst,_super),AnimationStepAst.prototype.visit=function(visitor,context){return visitor.visitAnimationStep(this,context)},AnimationStepAst}(AnimationAst);exports.AnimationStepAst=AnimationStepAst;var AnimationStylesAst=function(_super){function AnimationStylesAst(styles){_super.call(this),this.styles=styles}return __extends(AnimationStylesAst,_super),AnimationStylesAst.prototype.visit=function(visitor,context){return visitor.visitAnimationStyles(this,context)},AnimationStylesAst}(AnimationAst);exports.AnimationStylesAst=AnimationStylesAst;var AnimationKeyframeAst=function(_super){function AnimationKeyframeAst(offset,styles){_super.call(this),this.offset=offset,this.styles=styles}return __extends(AnimationKeyframeAst,_super),AnimationKeyframeAst.prototype.visit=function(visitor,context){return visitor.visitAnimationKeyframe(this,context)},AnimationKeyframeAst}(AnimationAst);exports.AnimationKeyframeAst=AnimationKeyframeAst;var AnimationWithStepsAst=function(_super){function AnimationWithStepsAst(steps){_super.call(this),this.steps=steps}return __extends(AnimationWithStepsAst,_super),AnimationWithStepsAst}(AnimationAst);exports.AnimationWithStepsAst=AnimationWithStepsAst;var AnimationGroupAst=function(_super){function AnimationGroupAst(steps){_super.call(this,steps)}return __extends(AnimationGroupAst,_super),AnimationGroupAst.prototype.visit=function(visitor,context){return visitor.visitAnimationGroup(this,context)},AnimationGroupAst}(AnimationWithStepsAst);exports.AnimationGroupAst=AnimationGroupAst;var AnimationSequenceAst=function(_super){function AnimationSequenceAst(steps){_super.call(this,steps)}return __extends(AnimationSequenceAst,_super),AnimationSequenceAst.prototype.visit=function(visitor,context){return visitor.visitAnimationSequence(this,context)},AnimationSequenceAst}(AnimationWithStepsAst);exports.AnimationSequenceAst=AnimationSequenceAst},{}],89:[function(require,module,exports){"use strict";function _compareToAnimationStateExpr(value,animationState){var emptyStateLiteral=o.literal(core_private_1.EMPTY_STATE);switch(animationState){case core_private_1.EMPTY_STATE:return value.equals(emptyStateLiteral);case core_private_1.ANY_STATE:return o.literal(!0);default:return value.equals(o.literal(animationState))}}function _isEndStateAnimateStep(step){if(step instanceof animation_ast_1.AnimationStepAst&&step.duration>0&&2==step.keyframes.length){var styles1=_getStylesArray(step.keyframes[0])[0],styles2=_getStylesArray(step.keyframes[1])[0];return collection_1.StringMapWrapper.isEmpty(styles1)&&collection_1.StringMapWrapper.isEmpty(styles2)}return!1}function _getStylesArray(obj){return obj.styles.styles}var core_private_1=require("../../core_private"),collection_1=require("../facade/collection"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),identifiers_1=require("../identifiers"),o=require("../output/output_ast"),animation_ast_1=require("./animation_ast"),animation_parser_1=require("./animation_parser"),CompiledAnimation=function(){function CompiledAnimation(name,statesMapStatement,statesVariableName,fnStatement,fnVariable){this.name=name,this.statesMapStatement=statesMapStatement,this.statesVariableName=statesVariableName,this.fnStatement=fnStatement,this.fnVariable=fnVariable}return CompiledAnimation}();exports.CompiledAnimation=CompiledAnimation;var AnimationCompiler=function(){function AnimationCompiler(){}return AnimationCompiler.prototype.compileComponent=function(component){var compiledAnimations=[],index=0;return component.template.animations.forEach(function(entry){var result=animation_parser_1.parseAnimationEntry(entry);if(result.errors.length>0){var errorMessage="";throw result.errors.forEach(function(error){errorMessage+="\n- "+error.msg}),new exceptions_1.BaseException('Unable to parse the animation sequence for "'+entry.name+'" due to the following errors: '+errorMessage)}var factoryName=component.type.name+"_"+entry.name+"_"+index;index++;var visitor=new _AnimationBuilder(entry.name,factoryName);compiledAnimations.push(visitor.build(result.ast))}),compiledAnimations},AnimationCompiler}();exports.AnimationCompiler=AnimationCompiler;var _ANIMATION_FACTORY_ELEMENT_VAR=o.variable("element"),_ANIMATION_DEFAULT_STATE_VAR=o.variable("defaultStateStyles"),_ANIMATION_FACTORY_VIEW_VAR=o.variable("view"),_ANIMATION_FACTORY_RENDERER_VAR=_ANIMATION_FACTORY_VIEW_VAR.prop("renderer"),_ANIMATION_CURRENT_STATE_VAR=o.variable("currentState"),_ANIMATION_NEXT_STATE_VAR=o.variable("nextState"),_ANIMATION_PLAYER_VAR=o.variable("player"),_ANIMATION_START_STATE_STYLES_VAR=o.variable("startStateStyles"),_ANIMATION_END_STATE_STYLES_VAR=o.variable("endStateStyles"),_ANIMATION_COLLECTED_STYLES=o.variable("collectedStyles"),EMPTY_MAP=o.literalMap([]),_AnimationBuilder=function(){function _AnimationBuilder(animationName,factoryName){this.animationName=animationName,this._fnVarName=factoryName+"_factory",this._statesMapVarName=factoryName+"_states",this._statesMapVar=o.variable(this._statesMapVarName)}return _AnimationBuilder.prototype.visitAnimationStyles=function(ast,context){var stylesArr=[];return context.isExpectingFirstStyleStep&&(stylesArr.push(_ANIMATION_START_STATE_STYLES_VAR),context.isExpectingFirstStyleStep=!1),ast.styles.forEach(function(entry){stylesArr.push(o.literalMap(collection_1.StringMapWrapper.keys(entry).map(function(key){
return[key,o.literal(entry[key])]})))}),o.importExpr(identifiers_1.Identifiers.AnimationStyles).instantiate([o.importExpr(identifiers_1.Identifiers.collectAndResolveStyles).callFn([_ANIMATION_COLLECTED_STYLES,o.literalArr(stylesArr)])])},_AnimationBuilder.prototype.visitAnimationKeyframe=function(ast,context){return o.importExpr(identifiers_1.Identifiers.AnimationKeyframe).instantiate([o.literal(ast.offset),ast.styles.visit(this,context)])},_AnimationBuilder.prototype.visitAnimationStep=function(ast,context){var _this=this;if(context.endStateAnimateStep===ast)return this._visitEndStateAnimation(ast,context);var startingStylesExpr=ast.startingStyles.visit(this,context),keyframeExpressions=ast.keyframes.map(function(keyframeEntry){return keyframeEntry.visit(_this,context)});return this._callAnimateMethod(ast,startingStylesExpr,o.literalArr(keyframeExpressions))},_AnimationBuilder.prototype._visitEndStateAnimation=function(ast,context){var _this=this,startingStylesExpr=ast.startingStyles.visit(this,context),keyframeExpressions=ast.keyframes.map(function(keyframe){return keyframe.visit(_this,context)}),keyframesExpr=o.importExpr(identifiers_1.Identifiers.balanceAnimationKeyframes).callFn([_ANIMATION_COLLECTED_STYLES,_ANIMATION_END_STATE_STYLES_VAR,o.literalArr(keyframeExpressions)]);return this._callAnimateMethod(ast,startingStylesExpr,keyframesExpr)},_AnimationBuilder.prototype._callAnimateMethod=function(ast,startingStylesExpr,keyframesExpr){return _ANIMATION_FACTORY_RENDERER_VAR.callMethod("animate",[_ANIMATION_FACTORY_ELEMENT_VAR,startingStylesExpr,keyframesExpr,o.literal(ast.duration),o.literal(ast.delay),o.literal(ast.easing)])},_AnimationBuilder.prototype.visitAnimationSequence=function(ast,context){var _this=this,playerExprs=ast.steps.map(function(step){return step.visit(_this,context)});return o.importExpr(identifiers_1.Identifiers.AnimationSequencePlayer).instantiate([o.literalArr(playerExprs)])},_AnimationBuilder.prototype.visitAnimationGroup=function(ast,context){var _this=this,playerExprs=ast.steps.map(function(step){return step.visit(_this,context)});return o.importExpr(identifiers_1.Identifiers.AnimationGroupPlayer).instantiate([o.literalArr(playerExprs)])},_AnimationBuilder.prototype.visitAnimationStateDeclaration=function(ast,context){var flatStyles={};_getStylesArray(ast).forEach(function(entry){collection_1.StringMapWrapper.forEach(entry,function(value,key){flatStyles[key]=value})}),context.stateMap.registerState(ast.stateName,flatStyles)},_AnimationBuilder.prototype.visitAnimationStateTransition=function(ast,context){var steps=ast.animation.steps,lastStep=steps[steps.length-1];_isEndStateAnimateStep(lastStep)&&(context.endStateAnimateStep=lastStep),context.isExpectingFirstStyleStep=!0;var stateChangePreconditions=[];ast.stateChanges.forEach(function(stateChange){stateChangePreconditions.push(_compareToAnimationStateExpr(_ANIMATION_CURRENT_STATE_VAR,stateChange.fromState).and(_compareToAnimationStateExpr(_ANIMATION_NEXT_STATE_VAR,stateChange.toState))),stateChange.fromState!=core_private_1.ANY_STATE&&context.stateMap.registerState(stateChange.fromState),stateChange.toState!=core_private_1.ANY_STATE&&context.stateMap.registerState(stateChange.toState)});var animationPlayerExpr=ast.animation.visit(this,context),reducedStateChangesPrecondition=stateChangePreconditions.reduce(function(a,b){return a.or(b)}),precondition=_ANIMATION_PLAYER_VAR.equals(o.NULL_EXPR).and(reducedStateChangesPrecondition);return new o.IfStmt(precondition,[_ANIMATION_PLAYER_VAR.set(animationPlayerExpr).toStmt()])},_AnimationBuilder.prototype.visitAnimationEntry=function(ast,context){var _this=this;ast.stateDeclarations.forEach(function(def){return def.visit(_this,context)}),context.stateMap.registerState(core_private_1.DEFAULT_STATE,{});var statements=[];statements.push(_ANIMATION_FACTORY_VIEW_VAR.callMethod("cancelActiveAnimation",[_ANIMATION_FACTORY_ELEMENT_VAR,o.literal(this.animationName),_ANIMATION_NEXT_STATE_VAR.equals(o.literal(core_private_1.EMPTY_STATE))]).toStmt()),statements.push(_ANIMATION_COLLECTED_STYLES.set(EMPTY_MAP).toDeclStmt()),statements.push(_ANIMATION_PLAYER_VAR.set(o.NULL_EXPR).toDeclStmt()),statements.push(_ANIMATION_DEFAULT_STATE_VAR.set(this._statesMapVar.key(o.literal(core_private_1.DEFAULT_STATE))).toDeclStmt()),statements.push(_ANIMATION_START_STATE_STYLES_VAR.set(this._statesMapVar.key(_ANIMATION_CURRENT_STATE_VAR)).toDeclStmt()),statements.push(new o.IfStmt(_ANIMATION_START_STATE_STYLES_VAR.equals(o.NULL_EXPR),[_ANIMATION_START_STATE_STYLES_VAR.set(_ANIMATION_DEFAULT_STATE_VAR).toStmt()])),statements.push(_ANIMATION_END_STATE_STYLES_VAR.set(this._statesMapVar.key(_ANIMATION_NEXT_STATE_VAR)).toDeclStmt()),statements.push(new o.IfStmt(_ANIMATION_END_STATE_STYLES_VAR.equals(o.NULL_EXPR),[_ANIMATION_END_STATE_STYLES_VAR.set(_ANIMATION_DEFAULT_STATE_VAR).toStmt()]));var RENDER_STYLES_FN=o.importExpr(identifiers_1.Identifiers.renderStyles);return statements.push(RENDER_STYLES_FN.callFn([_ANIMATION_FACTORY_ELEMENT_VAR,_ANIMATION_FACTORY_RENDERER_VAR,o.importExpr(identifiers_1.Identifiers.clearStyles).callFn([_ANIMATION_START_STATE_STYLES_VAR])]).toStmt()),ast.stateTransitions.forEach(function(transAst){return statements.push(transAst.visit(_this,context))}),statements.push(new o.IfStmt(_ANIMATION_PLAYER_VAR.equals(o.NULL_EXPR),[_ANIMATION_PLAYER_VAR.set(o.importExpr(identifiers_1.Identifiers.NoOpAnimationPlayer).instantiate([])).toStmt()])),statements.push(_ANIMATION_PLAYER_VAR.callMethod("onDone",[o.fn([],[RENDER_STYLES_FN.callFn([_ANIMATION_FACTORY_ELEMENT_VAR,_ANIMATION_FACTORY_RENDERER_VAR,o.importExpr(identifiers_1.Identifiers.prepareFinalAnimationStyles).callFn([_ANIMATION_START_STATE_STYLES_VAR,_ANIMATION_END_STATE_STYLES_VAR])]).toStmt()])]).toStmt()),statements.push(_ANIMATION_FACTORY_VIEW_VAR.callMethod("registerAndStartAnimation",[_ANIMATION_FACTORY_ELEMENT_VAR,o.literal(this.animationName),_ANIMATION_PLAYER_VAR]).toStmt()),o.fn([new o.FnParam(_ANIMATION_FACTORY_VIEW_VAR.name,o.importType(identifiers_1.Identifiers.AppView,[o.DYNAMIC_TYPE])),new o.FnParam(_ANIMATION_FACTORY_ELEMENT_VAR.name,o.DYNAMIC_TYPE),new o.FnParam(_ANIMATION_CURRENT_STATE_VAR.name,o.DYNAMIC_TYPE),new o.FnParam(_ANIMATION_NEXT_STATE_VAR.name,o.DYNAMIC_TYPE)],statements)},_AnimationBuilder.prototype.build=function(ast){var context=new _AnimationBuilderContext,fnStatement=ast.visit(this,context).toDeclStmt(this._fnVarName),fnVariable=o.variable(this._fnVarName),lookupMap=[];collection_1.StringMapWrapper.forEach(context.stateMap.states,function(value,stateName){var variableValue=EMPTY_MAP;if(lang_1.isPresent(value)){var styleMap_1=[];collection_1.StringMapWrapper.forEach(value,function(value,key){styleMap_1.push([key,o.literal(value)])}),variableValue=o.literalMap(styleMap_1)}lookupMap.push([stateName,variableValue])});var compiledStatesMapExpr=this._statesMapVar.set(o.literalMap(lookupMap)).toDeclStmt();return new CompiledAnimation(this.animationName,compiledStatesMapExpr,this._statesMapVarName,fnStatement,fnVariable)},_AnimationBuilder}(),_AnimationBuilderContext=function(){function _AnimationBuilderContext(){this.stateMap=new _AnimationBuilderStateMap,this.endStateAnimateStep=null,this.isExpectingFirstStyleStep=!1}return _AnimationBuilderContext}(),_AnimationBuilderStateMap=function(){function _AnimationBuilderStateMap(){this._states={}}return Object.defineProperty(_AnimationBuilderStateMap.prototype,"states",{get:function(){return this._states},enumerable:!0,configurable:!0}),_AnimationBuilderStateMap.prototype.registerState=function(name,value){void 0===value&&(value=null);var existingEntry=this._states[name];lang_1.isBlank(existingEntry)&&(this._states[name]=value)},_AnimationBuilderStateMap}()},{"../../core_private":85,"../facade/collection":105,"../facade/exceptions":107,"../facade/lang":108,"../identifiers":121,"../output/output_ast":129,"./animation_ast":88,"./animation_parser":90}],90:[function(require,module,exports){"use strict";function parseAnimationEntry(entry){var errors=[],stateStyles={},transitions=[],stateDeclarationAsts=[];entry.definitions.forEach(function(def){def instanceof compile_metadata_1.CompileAnimationStateDeclarationMetadata?_parseAnimationDeclarationStates(def,errors).forEach(function(ast){stateDeclarationAsts.push(ast),stateStyles[ast.stateName]=ast.styles}):transitions.push(def)});var stateTransitionAsts=transitions.map(function(transDef){return _parseAnimationStateTransition(transDef,stateStyles,errors)}),ast=new animation_ast_1.AnimationEntryAst(entry.name,stateDeclarationAsts,stateTransitionAsts);return new ParsedAnimationResult(ast,errors)}function _parseAnimationDeclarationStates(stateMetadata,errors){var styleValues=[];stateMetadata.styles.styles.forEach(function(stylesEntry){lang_1.isStringMap(stylesEntry)?styleValues.push(stylesEntry):errors.push(new AnimationParseError("State based animations cannot contain references to other states"))});var defStyles=new animation_ast_1.AnimationStylesAst(styleValues),states=stateMetadata.stateNameExpr.split(/\s*,\s*/);return states.map(function(state){return new animation_ast_1.AnimationStateDeclarationAst(state,defStyles)})}function _parseAnimationStateTransition(transitionStateMetadata,stateStyles,errors){var styles=new styles_collection_1.StylesCollection,transitionExprs=[],transitionStates=transitionStateMetadata.stateChangeExpr.split(/\s*,\s*/);transitionStates.forEach(function(expr){_parseAnimationTransitionExpr(expr,errors).forEach(function(transExpr){transitionExprs.push(transExpr)})});var entry=_normalizeAnimationEntry(transitionStateMetadata.steps),animation=_normalizeStyleSteps(entry,stateStyles,errors),animationAst=_parseTransitionAnimation(animation,0,styles,stateStyles,errors);0==errors.length&&_fillAnimationAstStartingKeyframes(animationAst,styles,errors);var sequenceAst=animationAst instanceof animation_ast_1.AnimationSequenceAst?animationAst:new animation_ast_1.AnimationSequenceAst([animationAst]);return new animation_ast_1.AnimationStateTransitionAst(transitionExprs,sequenceAst)}function _parseAnimationTransitionExpr(eventStr,errors){var expressions=[],match=eventStr.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(!lang_1.isPresent(match)||match.length<4)return errors.push(new AnimationParseError("the provided "+eventStr+" is not of a supported format")),expressions;var fromState=match[1],separator=match[2],toState=match[3];expressions.push(new animation_ast_1.AnimationStateTransitionExpression(fromState,toState));var isFullAnyStateExpr=fromState==core_private_1.ANY_STATE&&toState==core_private_1.ANY_STATE;return"<"!=separator[0]||isFullAnyStateExpr||expressions.push(new animation_ast_1.AnimationStateTransitionExpression(toState,fromState)),expressions}function _normalizeAnimationEntry(entry){return lang_1.isArray(entry)?new compile_metadata_1.CompileAnimationSequenceMetadata(entry):entry}function _normalizeStyleMetadata(entry,stateStyles,errors){var normalizedStyles=[];return entry.styles.forEach(function(styleEntry){lang_1.isString(styleEntry)?collection_1.ListWrapper.addAll(normalizedStyles,_resolveStylesFromState(styleEntry,stateStyles,errors)):normalizedStyles.push(styleEntry)}),normalizedStyles}function _normalizeStyleSteps(entry,stateStyles,errors){var steps=_normalizeStyleStepEntry(entry,stateStyles,errors);return new compile_metadata_1.CompileAnimationSequenceMetadata(steps)}function _mergeAnimationStyles(stylesList,newItem){if(lang_1.isStringMap(newItem)&&stylesList.length>0){var lastIndex=stylesList.length-1,lastItem=stylesList[lastIndex];if(lang_1.isStringMap(lastItem))return void(stylesList[lastIndex]=collection_1.StringMapWrapper.merge(lastItem,newItem))}stylesList.push(newItem)}function _normalizeStyleStepEntry(entry,stateStyles,errors){var steps;if(!(entry instanceof compile_metadata_1.CompileAnimationWithStepsMetadata))return[entry];steps=entry.steps;var combinedStyles,newSteps=[];return steps.forEach(function(step){if(step instanceof compile_metadata_1.CompileAnimationStyleMetadata)lang_1.isPresent(combinedStyles)||(combinedStyles=[]),_normalizeStyleMetadata(step,stateStyles,errors).forEach(function(entry){_mergeAnimationStyles(combinedStyles,entry)});else{if(lang_1.isPresent(combinedStyles)&&(newSteps.push(new compile_metadata_1.CompileAnimationStyleMetadata(0,combinedStyles)),combinedStyles=null),step instanceof compile_metadata_1.CompileAnimationAnimateMetadata){var animateStyleValue=step.styles;animateStyleValue instanceof compile_metadata_1.CompileAnimationStyleMetadata?animateStyleValue.styles=_normalizeStyleMetadata(animateStyleValue,stateStyles,errors):animateStyleValue instanceof compile_metadata_1.CompileAnimationKeyframesSequenceMetadata&&animateStyleValue.steps.forEach(function(step){step.styles=_normalizeStyleMetadata(step,stateStyles,errors)})}else if(step instanceof compile_metadata_1.CompileAnimationWithStepsMetadata){var innerSteps=_normalizeStyleStepEntry(step,stateStyles,errors);step=step instanceof compile_metadata_1.CompileAnimationGroupMetadata?new compile_metadata_1.CompileAnimationGroupMetadata(innerSteps):new compile_metadata_1.CompileAnimationSequenceMetadata(innerSteps)}newSteps.push(step)}}),lang_1.isPresent(combinedStyles)&&newSteps.push(new compile_metadata_1.CompileAnimationStyleMetadata(0,combinedStyles)),newSteps}function _resolveStylesFromState(stateName,stateStyles,errors){var styles=[];if(":"!=stateName[0])errors.push(new AnimationParseError('Animation states via styles must be prefixed with a ":"'));else{var normalizedStateName=stateName.substring(1),value=stateStyles[normalizedStateName];lang_1.isPresent(value)?value.styles.forEach(function(stylesEntry){lang_1.isStringMap(stylesEntry)&&styles.push(stylesEntry)}):errors.push(new AnimationParseError('Unable to apply styles due to missing a state: "'+normalizedStateName+'"'))}return styles}function _parseAnimationKeyframes(keyframeSequence,currentTime,collectedStyles,stateStyles,errors){var totalEntries=keyframeSequence.steps.length,totalOffsets=0;keyframeSequence.steps.forEach(function(step){return totalOffsets+=lang_1.isPresent(step.offset)?1:0}),totalOffsets>0&&totalOffsets<totalEntries&&(errors.push(new AnimationParseError("Not all style() entries contain an offset for the provided keyframe()")),totalOffsets=totalEntries);var limit=totalEntries-1,margin=0==totalOffsets?1/limit:0,rawKeyframes=[],index=0,doSortKeyframes=!1,lastOffset=0;keyframeSequence.steps.forEach(function(styleMetadata){var offset=styleMetadata.offset,keyframeStyles={};styleMetadata.styles.forEach(function(entry){collection_1.StringMapWrapper.forEach(entry,function(value,prop){"offset"!=prop&&(keyframeStyles[prop]=value)})}),lang_1.isPresent(offset)?doSortKeyframes=doSortKeyframes||offset<lastOffset:offset=index==limit?_TERMINAL_KEYFRAME:margin*index,rawKeyframes.push([offset,keyframeStyles]),lastOffset=offset,index++}),doSortKeyframes&&collection_1.ListWrapper.sort(rawKeyframes,function(a,b){return a[0]<=b[0]?-1:1});var i,firstKeyframe=rawKeyframes[0];firstKeyframe[0]!=_INITIAL_KEYFRAME&&collection_1.ListWrapper.insert(rawKeyframes,0,firstKeyframe=[_INITIAL_KEYFRAME,{}]);var firstKeyframeStyles=firstKeyframe[1],limit=rawKeyframes.length-1,lastKeyframe=rawKeyframes[limit];lastKeyframe[0]!=_TERMINAL_KEYFRAME&&(rawKeyframes.push(lastKeyframe=[_TERMINAL_KEYFRAME,{}]),limit++);var lastKeyframeStyles=lastKeyframe[1];for(i=1;i<=limit;i++){var entry=rawKeyframes[i],styles=entry[1];collection_1.StringMapWrapper.forEach(styles,function(value,prop){lang_1.isPresent(firstKeyframeStyles[prop])||(firstKeyframeStyles[prop]=core_private_1.FILL_STYLE_FLAG)})}for(i=limit-1;i>=0;i--){var entry=rawKeyframes[i],styles=entry[1];collection_1.StringMapWrapper.forEach(styles,function(value,prop){lang_1.isPresent(lastKeyframeStyles[prop])||(lastKeyframeStyles[prop]=value)})}return rawKeyframes.map(function(entry){return new animation_ast_1.AnimationKeyframeAst(entry[0],new animation_ast_1.AnimationStylesAst([entry[1]]))})}function _parseTransitionAnimation(entry,currentTime,collectedStyles,stateStyles,errors){var ast,playTime=0,startingTime=currentTime;if(entry instanceof compile_metadata_1.CompileAnimationWithStepsMetadata){var previousStyles,maxDuration=0,steps=[],isGroup=entry instanceof compile_metadata_1.CompileAnimationGroupMetadata;if(entry.steps.forEach(function(entry){var time=isGroup?startingTime:currentTime;if(entry instanceof compile_metadata_1.CompileAnimationStyleMetadata)return entry.styles.forEach(function(stylesEntry){var map=stylesEntry;collection_1.StringMapWrapper.forEach(map,function(value,prop){collectedStyles.insertAtTime(prop,time,value)})}),void(previousStyles=entry.styles);var innerAst=_parseTransitionAnimation(entry,time,collectedStyles,stateStyles,errors);if(lang_1.isPresent(previousStyles)){if(entry instanceof compile_metadata_1.CompileAnimationWithStepsMetadata){var startingStyles=new animation_ast_1.AnimationStylesAst(previousStyles);steps.push(new animation_ast_1.AnimationStepAst(startingStyles,[],0,0,""))}else{var innerStep=innerAst;collection_1.ListWrapper.addAll(innerStep.startingStyles.styles,previousStyles)}previousStyles=null}var astDuration=innerAst.playTime;currentTime+=astDuration,playTime+=astDuration,maxDuration=math_1.Math.max(astDuration,maxDuration),steps.push(innerAst)}),lang_1.isPresent(previousStyles)){var startingStyles=new animation_ast_1.AnimationStylesAst(previousStyles);steps.push(new animation_ast_1.AnimationStepAst(startingStyles,[],0,0,""))}isGroup?(ast=new animation_ast_1.AnimationGroupAst(steps),playTime=maxDuration,currentTime=startingTime+playTime):ast=new animation_ast_1.AnimationSequenceAst(steps)}else if(entry instanceof compile_metadata_1.CompileAnimationAnimateMetadata){var keyframes,timings=_parseTimeExpression(entry.timings,errors),styles=entry.styles;if(styles instanceof compile_metadata_1.CompileAnimationKeyframesSequenceMetadata)keyframes=_parseAnimationKeyframes(styles,currentTime,collectedStyles,stateStyles,errors);else{var styleData=styles,offset=_TERMINAL_KEYFRAME,styleAst=new animation_ast_1.AnimationStylesAst(styleData.styles),keyframe=new animation_ast_1.AnimationKeyframeAst(offset,styleAst);keyframes=[keyframe]}ast=new animation_ast_1.AnimationStepAst(new animation_ast_1.AnimationStylesAst([]),keyframes,timings.duration,timings.delay,timings.easing),playTime=timings.duration+timings.delay,currentTime+=playTime,keyframes.forEach(function(keyframe){return keyframe.styles.styles.forEach(function(entry){return collection_1.StringMapWrapper.forEach(entry,function(value,prop){return collectedStyles.insertAtTime(prop,currentTime,value)})})})}else ast=new animation_ast_1.AnimationStepAst(null,[],0,0,"");return ast.playTime=playTime,ast.startTime=startingTime,ast}function _fillAnimationAstStartingKeyframes(ast,collectedStyles,errors){if(ast instanceof animation_ast_1.AnimationStepAst&&ast.keyframes.length>0){var keyframes=ast.keyframes;if(1==keyframes.length){var endKeyframe=keyframes[0],startKeyframe=_createStartKeyframeFromEndKeyframe(endKeyframe,ast.startTime,ast.playTime,collectedStyles,errors);ast.keyframes=[startKeyframe,endKeyframe]}}else ast instanceof animation_ast_1.AnimationWithStepsAst&&ast.steps.forEach(function(entry){return _fillAnimationAstStartingKeyframes(entry,collectedStyles,errors)})}function _parseTimeExpression(exp,errors){var duration,regex=/^([\.\d]+)(m?s)(?:\s+([\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?/gi,delay=0,easing=null;if(lang_1.isString(exp)){var matches=lang_1.RegExpWrapper.firstMatch(regex,exp);if(!lang_1.isPresent(matches))return errors.push(new AnimationParseError('The provided timing value "'+exp+'" is invalid.')),new _AnimationTimings(0,0,null);var durationMatch=lang_1.NumberWrapper.parseFloat(matches[1]),durationUnit=matches[2];"s"==durationUnit&&(durationMatch*=_ONE_SECOND),duration=math_1.Math.floor(durationMatch);var delayMatch=matches[3],delayUnit=matches[4];if(lang_1.isPresent(delayMatch)){var delayVal=lang_1.NumberWrapper.parseFloat(delayMatch);lang_1.isPresent(delayUnit)&&"s"==delayUnit&&(delayVal*=_ONE_SECOND),delay=math_1.Math.floor(delayVal)}var easingVal=matches[5];lang_1.isBlank(easingVal)||(easing=easingVal)}else duration=exp;return new _AnimationTimings(duration,delay,easing)}function _createStartKeyframeFromEndKeyframe(endKeyframe,startTime,duration,collectedStyles,errors){var values={},endTime=startTime+duration;return endKeyframe.styles.styles.forEach(function(styleData){collection_1.StringMapWrapper.forEach(styleData,function(val,prop){if("offset"!=prop){var resultEntry,nextEntry,value,resultIndex=collectedStyles.indexOfAtOrBeforeTime(prop,startTime);lang_1.isPresent(resultIndex)?(resultEntry=collectedStyles.getByIndex(prop,resultIndex),value=resultEntry.value,nextEntry=collectedStyles.getByIndex(prop,resultIndex+1)):value=core_private_1.FILL_STYLE_FLAG,lang_1.isPresent(nextEntry)&&!nextEntry.matches(endTime,val)&&errors.push(new AnimationParseError('The animated CSS property "'+prop+'" unexpectedly changes between steps "'+resultEntry.time+'ms" and "'+endTime+'ms" at "'+nextEntry.time+'ms"')),values[prop]=value}})}),new animation_ast_1.AnimationKeyframeAst(_INITIAL_KEYFRAME,new animation_ast_1.AnimationStylesAst([values]))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_private_1=require("../../core_private"),compile_metadata_1=require("../compile_metadata"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),math_1=require("../facade/math"),parse_util_1=require("../parse_util"),animation_ast_1=require("./animation_ast"),styles_collection_1=require("./styles_collection"),_INITIAL_KEYFRAME=0,_TERMINAL_KEYFRAME=1,_ONE_SECOND=1e3,AnimationParseError=function(_super){function AnimationParseError(message){_super.call(this,null,message)}return __extends(AnimationParseError,_super),AnimationParseError.prototype.toString=function(){return""+this.msg},AnimationParseError}(parse_util_1.ParseError);exports.AnimationParseError=AnimationParseError;var ParsedAnimationResult=function(){function ParsedAnimationResult(ast,errors){this.ast=ast,this.errors=errors}return ParsedAnimationResult}();exports.ParsedAnimationResult=ParsedAnimationResult,exports.parseAnimationEntry=parseAnimationEntry;var _AnimationTimings=function(){function _AnimationTimings(duration,delay,easing){this.duration=duration,this.delay=delay,this.easing=easing}return _AnimationTimings}()},{"../../core_private":85,"../compile_metadata":94,"../facade/collection":105,"../facade/lang":108,"../facade/math":109,"../parse_util":134,"./animation_ast":88,"./styles_collection":91}],91:[function(require,module,exports){"use strict";var collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),StylesCollectionEntry=function(){function StylesCollectionEntry(time,value){this.time=time,this.value=value}return StylesCollectionEntry.prototype.matches=function(time,value){return time==this.time&&value==this.value},StylesCollectionEntry}();exports.StylesCollectionEntry=StylesCollectionEntry;var StylesCollection=function(){function StylesCollection(){this.styles={}}return StylesCollection.prototype.insertAtTime=function(property,time,value){var tuple=new StylesCollectionEntry(time,value),entries=this.styles[property];lang_1.isPresent(entries)||(entries=this.styles[property]=[]);for(var insertionIndex=0,i=entries.length-1;i>=0;i--)if(entries[i].time<=time){insertionIndex=i+1;break}collection_1.ListWrapper.insert(entries,insertionIndex,tuple)},StylesCollection.prototype.getByIndex=function(property,index){var items=this.styles[property];return lang_1.isPresent(items)?index>=items.length?null:items[index]:null},StylesCollection.prototype.indexOfAtOrBeforeTime=function(property,time){var entries=this.styles[property];if(lang_1.isPresent(entries))for(var i=entries.length-1;i>=0;i--)if(entries[i].time<=time)return i;return null},StylesCollection}();exports.StylesCollection=StylesCollection},{"../facade/collection":105,"../facade/lang":108}],92:[function(require,module,exports){"use strict";function assertArrayOfStrings(identifier,value){if(core_1.isDevMode()&&!lang_1.isBlank(value)){if(!lang_1.isArray(value))throw new exceptions_1.BaseException("Expected '"+identifier+"' to be an array of strings.");for(var i=0;i<value.length;i+=1)if(!lang_1.isString(value[i]))throw new exceptions_1.BaseException("Expected '"+identifier+"' to be an array of strings.")}}function assertInterpolationSymbols(identifier,value){if(!(!core_1.isDevMode()||lang_1.isBlank(value)||lang_1.isArray(value)&&2==value.length))throw new exceptions_1.BaseException("Expected '"+identifier+"' to be an array, [start, end].");if(core_1.isDevMode()&&!lang_1.isBlank(value)){var start_1=value[0],end_1=value[1];INTERPOLATION_BLACKLIST_REGEXPS.forEach(function(regexp){if(regexp.test(start_1)||regexp.test(end_1))throw new exceptions_1.BaseException("['"+start_1+"', '"+end_1+"'] contains unusable interpolation symbol.")})}}var core_1=require("@angular/core"),exceptions_1=require("../src/facade/exceptions"),lang_1=require("../src/facade/lang");exports.assertArrayOfStrings=assertArrayOfStrings;var INTERPOLATION_BLACKLIST_REGEXPS=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i];exports.assertInterpolationSymbols=assertInterpolationSymbols},{"../src/facade/exceptions":107,"../src/facade/lang":108,"@angular/core":167}],93:[function(require,module,exports){"use strict";function isWhitespace(code){return code>=exports.$TAB&&code<=exports.$SPACE||code==exports.$NBSP}function isDigit(code){return exports.$0<=code&&code<=exports.$9}function isAsciiLetter(code){return code>=exports.$a&&code<=exports.$z||code>=exports.$A&&code<=exports.$Z}function isAsciiHexDigit(code){return code>=exports.$a&&code<=exports.$f||code>=exports.$A&&code<=exports.$F||isDigit(code)}exports.$EOF=0,exports.$TAB=9,exports.$LF=10,exports.$VTAB=11,exports.$FF=12,exports.$CR=13,exports.$SPACE=32,exports.$BANG=33,exports.$DQ=34,exports.$HASH=35,exports.$$=36,exports.$PERCENT=37,exports.$AMPERSAND=38,exports.$SQ=39,exports.$LPAREN=40,exports.$RPAREN=41,exports.$STAR=42,exports.$PLUS=43,exports.$COMMA=44,exports.$MINUS=45,exports.$PERIOD=46,exports.$SLASH=47,exports.$COLON=58,exports.$SEMICOLON=59,exports.$LT=60,exports.$EQ=61,exports.$GT=62,exports.$QUESTION=63,exports.$0=48,exports.$9=57,exports.$A=65,exports.$E=69,exports.$F=70,exports.$X=88,exports.$Z=90,exports.$LBRACKET=91,exports.$BACKSLASH=92,exports.$RBRACKET=93,exports.$CARET=94,exports.$_=95,exports.$a=97,exports.$e=101,exports.$f=102,exports.$n=110,exports.$r=114,exports.$t=116,exports.$u=117,exports.$v=118,exports.$x=120,exports.$z=122,exports.$LBRACE=123,exports.$BAR=124,exports.$RBRACE=125,exports.$NBSP=160,exports.$PIPE=124,exports.$TILDA=126,exports.$AT=64,exports.$BT=96,exports.isWhitespace=isWhitespace,exports.isDigit=isDigit,exports.isAsciiLetter=isAsciiLetter,exports.isAsciiHexDigit=isAsciiHexDigit},{}],94:[function(require,module,exports){"use strict";function metadataFromJson(data){return _COMPILE_METADATA_FROM_JSON[data["class"]](data)}function createHostComponentMeta(componentType,componentSelector){var template=selector_1.CssSelector.parse(componentSelector)[0].getMatchingElementTemplate();return CompileDirectiveMetadata.create({type:new CompileTypeMetadata({runtime:Object,name:componentType.name+"_Host",moduleUrl:componentType.moduleUrl,isHost:!0}),template:new CompileTemplateMetadata({template:template,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[],animations:[]}),changeDetection:core_1.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},lifecycleHooks:[],isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[]})}function _arrayFromJson(obj,fn){return lang_1.isBlank(obj)?null:obj.map(function(o){return _objFromJson(o,fn)})}function _arrayToJson(obj){return lang_1.isBlank(obj)?null:obj.map(_objToJson)}function _objFromJson(obj,fn){return lang_1.isArray(obj)?_arrayFromJson(obj,fn):lang_1.isString(obj)||lang_1.isBlank(obj)||lang_1.isBoolean(obj)||lang_1.isNumber(obj)?obj:fn(obj)}function _objToJson(obj){return lang_1.isArray(obj)?_arrayToJson(obj):lang_1.isString(obj)||lang_1.isBlank(obj)||lang_1.isBoolean(obj)||lang_1.isNumber(obj)?obj:obj.toJson()}function _normalizeArray(obj){return lang_1.isPresent(obj)?obj:[]}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),core_private_1=require("../core_private"),collection_1=require("../src/facade/collection"),exceptions_1=require("../src/facade/exceptions"),lang_1=require("../src/facade/lang"),selector_1=require("./selector"),url_resolver_1=require("./url_resolver"),util_1=require("./util"),HOST_REG_EXP=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))$/g,CompileMetadataWithIdentifier=function(){function CompileMetadataWithIdentifier(){}return Object.defineProperty(CompileMetadataWithIdentifier.prototype,"identifier",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),CompileMetadataWithIdentifier}();exports.CompileMetadataWithIdentifier=CompileMetadataWithIdentifier;var CompileMetadataWithType=function(_super){function CompileMetadataWithType(){_super.apply(this,arguments)}return __extends(CompileMetadataWithType,_super),Object.defineProperty(CompileMetadataWithType.prototype,"type",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(CompileMetadataWithType.prototype,"identifier",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),CompileMetadataWithType}(CompileMetadataWithIdentifier);exports.CompileMetadataWithType=CompileMetadataWithType,exports.metadataFromJson=metadataFromJson;var CompileAnimationEntryMetadata=function(){function CompileAnimationEntryMetadata(name,definitions){void 0===name&&(name=null),void 0===definitions&&(definitions=null),this.name=name,this.definitions=definitions}return CompileAnimationEntryMetadata.fromJson=function(data){var value=data.value,defs=_arrayFromJson(value.definitions,metadataFromJson);return new CompileAnimationEntryMetadata(value.name,defs)},CompileAnimationEntryMetadata.prototype.toJson=function(){return{"class":"AnimationEntryMetadata",value:{name:this.name,definitions:_arrayToJson(this.definitions)}}},CompileAnimationEntryMetadata}();exports.CompileAnimationEntryMetadata=CompileAnimationEntryMetadata;var CompileAnimationStateMetadata=function(){function CompileAnimationStateMetadata(){}return CompileAnimationStateMetadata}();exports.CompileAnimationStateMetadata=CompileAnimationStateMetadata;var CompileAnimationStateDeclarationMetadata=function(_super){function CompileAnimationStateDeclarationMetadata(stateNameExpr,styles){_super.call(this),this.stateNameExpr=stateNameExpr,this.styles=styles}return __extends(CompileAnimationStateDeclarationMetadata,_super),CompileAnimationStateDeclarationMetadata.fromJson=function(data){var value=data.value,styles=_objFromJson(value.styles,metadataFromJson);return new CompileAnimationStateDeclarationMetadata(value.stateNameExpr,styles)},CompileAnimationStateDeclarationMetadata.prototype.toJson=function(){return{"class":"AnimationStateDeclarationMetadata",value:{stateNameExpr:this.stateNameExpr,styles:this.styles.toJson()}}},CompileAnimationStateDeclarationMetadata}(CompileAnimationStateMetadata);exports.CompileAnimationStateDeclarationMetadata=CompileAnimationStateDeclarationMetadata;var CompileAnimationStateTransitionMetadata=function(_super){function CompileAnimationStateTransitionMetadata(stateChangeExpr,steps){_super.call(this),this.stateChangeExpr=stateChangeExpr,this.steps=steps}return __extends(CompileAnimationStateTransitionMetadata,_super),CompileAnimationStateTransitionMetadata.fromJson=function(data){var value=data.value,steps=_objFromJson(value.steps,metadataFromJson);
return new CompileAnimationStateTransitionMetadata(value.stateChangeExpr,steps)},CompileAnimationStateTransitionMetadata.prototype.toJson=function(){return{"class":"AnimationStateTransitionMetadata",value:{stateChangeExpr:this.stateChangeExpr,steps:this.steps.toJson()}}},CompileAnimationStateTransitionMetadata}(CompileAnimationStateMetadata);exports.CompileAnimationStateTransitionMetadata=CompileAnimationStateTransitionMetadata;var CompileAnimationMetadata=function(){function CompileAnimationMetadata(){}return CompileAnimationMetadata}();exports.CompileAnimationMetadata=CompileAnimationMetadata;var CompileAnimationKeyframesSequenceMetadata=function(_super){function CompileAnimationKeyframesSequenceMetadata(steps){void 0===steps&&(steps=[]),_super.call(this),this.steps=steps}return __extends(CompileAnimationKeyframesSequenceMetadata,_super),CompileAnimationKeyframesSequenceMetadata.fromJson=function(data){var steps=_arrayFromJson(data.value,metadataFromJson);return new CompileAnimationKeyframesSequenceMetadata(steps)},CompileAnimationKeyframesSequenceMetadata.prototype.toJson=function(){return{"class":"AnimationKeyframesSequenceMetadata",value:_arrayToJson(this.steps)}},CompileAnimationKeyframesSequenceMetadata}(CompileAnimationMetadata);exports.CompileAnimationKeyframesSequenceMetadata=CompileAnimationKeyframesSequenceMetadata;var CompileAnimationStyleMetadata=function(_super){function CompileAnimationStyleMetadata(offset,styles){void 0===styles&&(styles=null),_super.call(this),this.offset=offset,this.styles=styles}return __extends(CompileAnimationStyleMetadata,_super),CompileAnimationStyleMetadata.fromJson=function(data){var value=data.value,offsetVal=value.offset,offset=lang_1.isPresent(offsetVal)?lang_1.NumberWrapper.parseFloat(offsetVal):null,styles=value.styles;return new CompileAnimationStyleMetadata(offset,styles)},CompileAnimationStyleMetadata.prototype.toJson=function(){return{"class":"AnimationStyleMetadata",value:{offset:this.offset,styles:this.styles}}},CompileAnimationStyleMetadata}(CompileAnimationMetadata);exports.CompileAnimationStyleMetadata=CompileAnimationStyleMetadata;var CompileAnimationAnimateMetadata=function(_super){function CompileAnimationAnimateMetadata(timings,styles){void 0===timings&&(timings=0),void 0===styles&&(styles=null),_super.call(this),this.timings=timings,this.styles=styles}return __extends(CompileAnimationAnimateMetadata,_super),CompileAnimationAnimateMetadata.fromJson=function(data){var value=data.value,timings=value.timings,styles=_objFromJson(value.styles,metadataFromJson);return new CompileAnimationAnimateMetadata(timings,styles)},CompileAnimationAnimateMetadata.prototype.toJson=function(){return{"class":"AnimationAnimateMetadata",value:{timings:this.timings,styles:_objToJson(this.styles)}}},CompileAnimationAnimateMetadata}(CompileAnimationMetadata);exports.CompileAnimationAnimateMetadata=CompileAnimationAnimateMetadata;var CompileAnimationWithStepsMetadata=function(_super){function CompileAnimationWithStepsMetadata(steps){void 0===steps&&(steps=null),_super.call(this),this.steps=steps}return __extends(CompileAnimationWithStepsMetadata,_super),CompileAnimationWithStepsMetadata}(CompileAnimationMetadata);exports.CompileAnimationWithStepsMetadata=CompileAnimationWithStepsMetadata;var CompileAnimationSequenceMetadata=function(_super){function CompileAnimationSequenceMetadata(steps){void 0===steps&&(steps=null),_super.call(this,steps)}return __extends(CompileAnimationSequenceMetadata,_super),CompileAnimationSequenceMetadata.fromJson=function(data){var steps=_arrayFromJson(data.value,metadataFromJson);return new CompileAnimationSequenceMetadata(steps)},CompileAnimationSequenceMetadata.prototype.toJson=function(){return{"class":"AnimationSequenceMetadata",value:_arrayToJson(this.steps)}},CompileAnimationSequenceMetadata}(CompileAnimationWithStepsMetadata);exports.CompileAnimationSequenceMetadata=CompileAnimationSequenceMetadata;var CompileAnimationGroupMetadata=function(_super){function CompileAnimationGroupMetadata(steps){void 0===steps&&(steps=null),_super.call(this,steps)}return __extends(CompileAnimationGroupMetadata,_super),CompileAnimationGroupMetadata.fromJson=function(data){var steps=_arrayFromJson(data.value,metadataFromJson);return new CompileAnimationGroupMetadata(steps)},CompileAnimationGroupMetadata.prototype.toJson=function(){return{"class":"AnimationGroupMetadata",value:_arrayToJson(this.steps)}},CompileAnimationGroupMetadata}(CompileAnimationWithStepsMetadata);exports.CompileAnimationGroupMetadata=CompileAnimationGroupMetadata;var CompileIdentifierMetadata=function(){function CompileIdentifierMetadata(_a){var _b=void 0===_a?{}:_a,runtime=_b.runtime,name=_b.name,moduleUrl=_b.moduleUrl,prefix=_b.prefix,value=_b.value;this.runtime=runtime,this.name=name,this.prefix=prefix,this.moduleUrl=moduleUrl,this.value=value}return CompileIdentifierMetadata.fromJson=function(data){var value=lang_1.isArray(data.value)?_arrayFromJson(data.value,metadataFromJson):_objFromJson(data.value,metadataFromJson);return new CompileIdentifierMetadata({name:data.name,prefix:data.prefix,moduleUrl:data.moduleUrl,value:value})},CompileIdentifierMetadata.prototype.toJson=function(){var value=lang_1.isArray(this.value)?_arrayToJson(this.value):_objToJson(this.value);return{"class":"Identifier",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,value:value}},Object.defineProperty(CompileIdentifierMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),CompileIdentifierMetadata}();exports.CompileIdentifierMetadata=CompileIdentifierMetadata;var CompileDiDependencyMetadata=function(){function CompileDiDependencyMetadata(_a){var _b=void 0===_a?{}:_a,isAttribute=_b.isAttribute,isSelf=_b.isSelf,isHost=_b.isHost,isSkipSelf=_b.isSkipSelf,isOptional=_b.isOptional,isValue=_b.isValue,query=_b.query,viewQuery=_b.viewQuery,token=_b.token,value=_b.value;this.isAttribute=lang_1.normalizeBool(isAttribute),this.isSelf=lang_1.normalizeBool(isSelf),this.isHost=lang_1.normalizeBool(isHost),this.isSkipSelf=lang_1.normalizeBool(isSkipSelf),this.isOptional=lang_1.normalizeBool(isOptional),this.isValue=lang_1.normalizeBool(isValue),this.query=query,this.viewQuery=viewQuery,this.token=token,this.value=value}return CompileDiDependencyMetadata.fromJson=function(data){return new CompileDiDependencyMetadata({token:_objFromJson(data.token,CompileTokenMetadata.fromJson),query:_objFromJson(data.query,CompileQueryMetadata.fromJson),viewQuery:_objFromJson(data.viewQuery,CompileQueryMetadata.fromJson),value:data.value,isAttribute:data.isAttribute,isSelf:data.isSelf,isHost:data.isHost,isSkipSelf:data.isSkipSelf,isOptional:data.isOptional,isValue:data.isValue})},CompileDiDependencyMetadata.prototype.toJson=function(){return{token:_objToJson(this.token),query:_objToJson(this.query),viewQuery:_objToJson(this.viewQuery),value:this.value,isAttribute:this.isAttribute,isSelf:this.isSelf,isHost:this.isHost,isSkipSelf:this.isSkipSelf,isOptional:this.isOptional,isValue:this.isValue}},CompileDiDependencyMetadata}();exports.CompileDiDependencyMetadata=CompileDiDependencyMetadata;var CompileProviderMetadata=function(){function CompileProviderMetadata(_a){var token=_a.token,useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;this.token=token,this.useClass=useClass,this.useValue=useValue,this.useExisting=useExisting,this.useFactory=useFactory,this.deps=lang_1.normalizeBlank(deps),this.multi=lang_1.normalizeBool(multi)}return CompileProviderMetadata.fromJson=function(data){return new CompileProviderMetadata({token:_objFromJson(data.token,CompileTokenMetadata.fromJson),useClass:_objFromJson(data.useClass,CompileTypeMetadata.fromJson),useExisting:_objFromJson(data.useExisting,CompileTokenMetadata.fromJson),useValue:_objFromJson(data.useValue,CompileIdentifierMetadata.fromJson),useFactory:_objFromJson(data.useFactory,CompileFactoryMetadata.fromJson),multi:data.multi,deps:_arrayFromJson(data.deps,CompileDiDependencyMetadata.fromJson)})},CompileProviderMetadata.prototype.toJson=function(){return{"class":"Provider",token:_objToJson(this.token),useClass:_objToJson(this.useClass),useExisting:_objToJson(this.useExisting),useValue:_objToJson(this.useValue),useFactory:_objToJson(this.useFactory),multi:this.multi,deps:_arrayToJson(this.deps)}},CompileProviderMetadata}();exports.CompileProviderMetadata=CompileProviderMetadata;var CompileFactoryMetadata=function(){function CompileFactoryMetadata(_a){var runtime=_a.runtime,name=_a.name,moduleUrl=_a.moduleUrl,prefix=_a.prefix,diDeps=_a.diDeps,value=_a.value;this.runtime=runtime,this.name=name,this.prefix=prefix,this.moduleUrl=moduleUrl,this.diDeps=_normalizeArray(diDeps),this.value=value}return Object.defineProperty(CompileFactoryMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),CompileFactoryMetadata.fromJson=function(data){return new CompileFactoryMetadata({name:data.name,prefix:data.prefix,moduleUrl:data.moduleUrl,value:data.value,diDeps:_arrayFromJson(data.diDeps,CompileDiDependencyMetadata.fromJson)})},CompileFactoryMetadata.prototype.toJson=function(){return{"class":"Factory",name:this.name,prefix:this.prefix,moduleUrl:this.moduleUrl,value:this.value,diDeps:_arrayToJson(this.diDeps)}},CompileFactoryMetadata}();exports.CompileFactoryMetadata=CompileFactoryMetadata;var UNDEFINED=new Object,CompileTokenMetadata=function(){function CompileTokenMetadata(_a){var value=_a.value,identifier=_a.identifier,identifierIsInstance=_a.identifierIsInstance;this._assetCacheKey=UNDEFINED,this.value=value,this.identifier=identifier,this.identifierIsInstance=lang_1.normalizeBool(identifierIsInstance)}return CompileTokenMetadata.fromJson=function(data){return new CompileTokenMetadata({value:data.value,identifier:_objFromJson(data.identifier,CompileIdentifierMetadata.fromJson),identifierIsInstance:data.identifierIsInstance})},CompileTokenMetadata.prototype.toJson=function(){return{value:this.value,identifier:_objToJson(this.identifier),identifierIsInstance:this.identifierIsInstance}},Object.defineProperty(CompileTokenMetadata.prototype,"runtimeCacheKey",{get:function(){return lang_1.isPresent(this.identifier)?this.identifier.runtime:this.value},enumerable:!0,configurable:!0}),Object.defineProperty(CompileTokenMetadata.prototype,"assetCacheKey",{get:function(){if(this._assetCacheKey===UNDEFINED)if(lang_1.isPresent(this.identifier))if(lang_1.isPresent(this.identifier.moduleUrl)&&lang_1.isPresent(url_resolver_1.getUrlScheme(this.identifier.moduleUrl))){var uri=core_private_1.reflector.importUri({filePath:this.identifier.moduleUrl,name:this.identifier.name});this._assetCacheKey=this.identifier.name+"|"+uri+"|"+this.identifierIsInstance}else this._assetCacheKey=null;else this._assetCacheKey=this.value;return this._assetCacheKey},enumerable:!0,configurable:!0}),CompileTokenMetadata.prototype.equalsTo=function(token2){var rk=this.runtimeCacheKey,ak=this.assetCacheKey;return lang_1.isPresent(rk)&&rk==token2.runtimeCacheKey||lang_1.isPresent(ak)&&ak==token2.assetCacheKey},Object.defineProperty(CompileTokenMetadata.prototype,"name",{get:function(){return lang_1.isPresent(this.value)?util_1.sanitizeIdentifier(this.value):this.identifier.name},enumerable:!0,configurable:!0}),CompileTokenMetadata}();exports.CompileTokenMetadata=CompileTokenMetadata;var CompileTokenMap=function(){function CompileTokenMap(){this._valueMap=new Map,this._values=[]}return CompileTokenMap.prototype.add=function(token,value){var existing=this.get(token);if(lang_1.isPresent(existing))throw new exceptions_1.BaseException("Can only add to a TokenMap! Token: "+token.name);this._values.push(value);var rk=token.runtimeCacheKey;lang_1.isPresent(rk)&&this._valueMap.set(rk,value);var ak=token.assetCacheKey;lang_1.isPresent(ak)&&this._valueMap.set(ak,value)},CompileTokenMap.prototype.get=function(token){var result,rk=token.runtimeCacheKey,ak=token.assetCacheKey;return lang_1.isPresent(rk)&&(result=this._valueMap.get(rk)),lang_1.isBlank(result)&&lang_1.isPresent(ak)&&(result=this._valueMap.get(ak)),result},CompileTokenMap.prototype.values=function(){return this._values},Object.defineProperty(CompileTokenMap.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),CompileTokenMap}();exports.CompileTokenMap=CompileTokenMap;var CompileTypeMetadata=function(){function CompileTypeMetadata(_a){var _b=void 0===_a?{}:_a,runtime=_b.runtime,name=_b.name,moduleUrl=_b.moduleUrl,prefix=_b.prefix,isHost=_b.isHost,value=_b.value,diDeps=_b.diDeps;this.runtime=runtime,this.name=name,this.moduleUrl=moduleUrl,this.prefix=prefix,this.isHost=lang_1.normalizeBool(isHost),this.value=value,this.diDeps=_normalizeArray(diDeps)}return CompileTypeMetadata.fromJson=function(data){return new CompileTypeMetadata({name:data.name,moduleUrl:data.moduleUrl,prefix:data.prefix,isHost:data.isHost,value:data.value,diDeps:_arrayFromJson(data.diDeps,CompileDiDependencyMetadata.fromJson)})},Object.defineProperty(CompileTypeMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(CompileTypeMetadata.prototype,"type",{get:function(){return this},enumerable:!0,configurable:!0}),CompileTypeMetadata.prototype.toJson=function(){return{"class":"Type",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,isHost:this.isHost,value:this.value,diDeps:_arrayToJson(this.diDeps)}},CompileTypeMetadata}();exports.CompileTypeMetadata=CompileTypeMetadata;var CompileQueryMetadata=function(){function CompileQueryMetadata(_a){var _b=void 0===_a?{}:_a,selectors=_b.selectors,descendants=_b.descendants,first=_b.first,propertyName=_b.propertyName,read=_b.read;this.selectors=selectors,this.descendants=lang_1.normalizeBool(descendants),this.first=lang_1.normalizeBool(first),this.propertyName=propertyName,this.read=read}return CompileQueryMetadata.fromJson=function(data){return new CompileQueryMetadata({selectors:_arrayFromJson(data.selectors,CompileTokenMetadata.fromJson),descendants:data.descendants,first:data.first,propertyName:data.propertyName,read:_objFromJson(data.read,CompileTokenMetadata.fromJson)})},CompileQueryMetadata.prototype.toJson=function(){return{selectors:_arrayToJson(this.selectors),descendants:this.descendants,first:this.first,propertyName:this.propertyName,read:_objToJson(this.read)}},CompileQueryMetadata}();exports.CompileQueryMetadata=CompileQueryMetadata;var CompileStylesheetMetadata=function(){function CompileStylesheetMetadata(_a){var _b=void 0===_a?{}:_a,moduleUrl=_b.moduleUrl,styles=_b.styles,styleUrls=_b.styleUrls;this.moduleUrl=moduleUrl,this.styles=_normalizeArray(styles),this.styleUrls=_normalizeArray(styleUrls)}return CompileStylesheetMetadata.fromJson=function(data){return new CompileStylesheetMetadata({moduleUrl:data.moduleUrl,styles:data.styles,styleUrls:data.styleUrls})},CompileStylesheetMetadata.prototype.toJson=function(){return{moduleUrl:this.moduleUrl,styles:this.styles,styleUrls:this.styleUrls}},CompileStylesheetMetadata}();exports.CompileStylesheetMetadata=CompileStylesheetMetadata;var CompileTemplateMetadata=function(){function CompileTemplateMetadata(_a){var _b=void 0===_a?{}:_a,encapsulation=_b.encapsulation,template=_b.template,templateUrl=_b.templateUrl,styles=_b.styles,styleUrls=_b.styleUrls,externalStylesheets=_b.externalStylesheets,animations=_b.animations,ngContentSelectors=_b.ngContentSelectors,interpolation=_b.interpolation;if(this.encapsulation=encapsulation,this.template=template,this.templateUrl=templateUrl,this.styles=_normalizeArray(styles),this.styleUrls=_normalizeArray(styleUrls),this.externalStylesheets=_normalizeArray(externalStylesheets),this.animations=lang_1.isPresent(animations)?collection_1.ListWrapper.flatten(animations):[],this.ngContentSelectors=lang_1.isPresent(ngContentSelectors)?ngContentSelectors:[],lang_1.isPresent(interpolation)&&2!=interpolation.length)throw new exceptions_1.BaseException("'interpolation' should have a start and an end symbol.");this.interpolation=interpolation}return CompileTemplateMetadata.fromJson=function(data){var animations=_arrayFromJson(data.animations,metadataFromJson);return new CompileTemplateMetadata({encapsulation:lang_1.isPresent(data.encapsulation)?core_private_1.VIEW_ENCAPSULATION_VALUES[data.encapsulation]:data.encapsulation,template:data.template,templateUrl:data.templateUrl,styles:data.styles,styleUrls:data.styleUrls,externalStylesheets:_arrayFromJson(data.externalStylesheets,CompileStylesheetMetadata.fromJson),animations:animations,ngContentSelectors:data.ngContentSelectors,interpolation:data.interpolation})},CompileTemplateMetadata.prototype.toJson=function(){return{encapsulation:lang_1.isPresent(this.encapsulation)?lang_1.serializeEnum(this.encapsulation):this.encapsulation,template:this.template,templateUrl:this.templateUrl,styles:this.styles,styleUrls:this.styleUrls,externalStylesheets:_objToJson(this.externalStylesheets),animations:_objToJson(this.animations),ngContentSelectors:this.ngContentSelectors,interpolation:this.interpolation}},CompileTemplateMetadata}();exports.CompileTemplateMetadata=CompileTemplateMetadata;var CompileDirectiveMetadata=function(){function CompileDirectiveMetadata(_a){var _b=void 0===_a?{}:_a,type=_b.type,isComponent=_b.isComponent,selector=_b.selector,exportAs=_b.exportAs,changeDetection=_b.changeDetection,inputs=_b.inputs,outputs=_b.outputs,hostListeners=_b.hostListeners,hostProperties=_b.hostProperties,hostAttributes=_b.hostAttributes,lifecycleHooks=_b.lifecycleHooks,providers=_b.providers,viewProviders=_b.viewProviders,queries=_b.queries,viewQueries=_b.viewQueries,precompile=_b.precompile,template=_b.template;this.type=type,this.isComponent=isComponent,this.selector=selector,this.exportAs=exportAs,this.changeDetection=changeDetection,this.inputs=inputs,this.outputs=outputs,this.hostListeners=hostListeners,this.hostProperties=hostProperties,this.hostAttributes=hostAttributes,this.lifecycleHooks=_normalizeArray(lifecycleHooks),this.providers=_normalizeArray(providers),this.viewProviders=_normalizeArray(viewProviders),this.queries=_normalizeArray(queries),this.viewQueries=_normalizeArray(viewQueries),this.precompile=_normalizeArray(precompile),this.template=template}return CompileDirectiveMetadata.create=function(_a){var _b=void 0===_a?{}:_a,type=_b.type,isComponent=_b.isComponent,selector=_b.selector,exportAs=_b.exportAs,changeDetection=_b.changeDetection,inputs=_b.inputs,outputs=_b.outputs,host=_b.host,lifecycleHooks=_b.lifecycleHooks,providers=_b.providers,viewProviders=_b.viewProviders,queries=_b.queries,viewQueries=_b.viewQueries,precompile=_b.precompile,template=_b.template,hostListeners={},hostProperties={},hostAttributes={};lang_1.isPresent(host)&&collection_1.StringMapWrapper.forEach(host,function(value,key){var matches=lang_1.RegExpWrapper.firstMatch(HOST_REG_EXP,key);lang_1.isBlank(matches)?hostAttributes[key]=value:lang_1.isPresent(matches[1])?hostProperties[matches[1]]=value:lang_1.isPresent(matches[2])&&(hostListeners[matches[2]]=value)});var inputsMap={};lang_1.isPresent(inputs)&&inputs.forEach(function(bindConfig){var parts=util_1.splitAtColon(bindConfig,[bindConfig,bindConfig]);inputsMap[parts[0]]=parts[1]});var outputsMap={};return lang_1.isPresent(outputs)&&outputs.forEach(function(bindConfig){var parts=util_1.splitAtColon(bindConfig,[bindConfig,bindConfig]);outputsMap[parts[0]]=parts[1]}),new CompileDirectiveMetadata({type:type,isComponent:lang_1.normalizeBool(isComponent),selector:selector,exportAs:exportAs,changeDetection:changeDetection,inputs:inputsMap,outputs:outputsMap,hostListeners:hostListeners,hostProperties:hostProperties,hostAttributes:hostAttributes,lifecycleHooks:lang_1.isPresent(lifecycleHooks)?lifecycleHooks:[],providers:providers,viewProviders:viewProviders,queries:queries,viewQueries:viewQueries,precompile:precompile,template:template})},Object.defineProperty(CompileDirectiveMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompileDirectiveMetadata.fromJson=function(data){return new CompileDirectiveMetadata({isComponent:data.isComponent,selector:data.selector,exportAs:data.exportAs,type:lang_1.isPresent(data.type)?CompileTypeMetadata.fromJson(data.type):data.type,changeDetection:lang_1.isPresent(data.changeDetection)?core_private_1.CHANGE_DETECTION_STRATEGY_VALUES[data.changeDetection]:data.changeDetection,inputs:data.inputs,outputs:data.outputs,hostListeners:data.hostListeners,hostProperties:data.hostProperties,hostAttributes:data.hostAttributes,lifecycleHooks:data.lifecycleHooks.map(function(hookValue){return core_private_1.LIFECYCLE_HOOKS_VALUES[hookValue]}),template:lang_1.isPresent(data.template)?CompileTemplateMetadata.fromJson(data.template):data.template,providers:_arrayFromJson(data.providers,metadataFromJson),viewProviders:_arrayFromJson(data.viewProviders,metadataFromJson),queries:_arrayFromJson(data.queries,CompileQueryMetadata.fromJson),viewQueries:_arrayFromJson(data.viewQueries,CompileQueryMetadata.fromJson),precompile:_arrayFromJson(data.precompile,CompileTypeMetadata.fromJson)})},CompileDirectiveMetadata.prototype.toJson=function(){return{"class":"Directive",isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,type:lang_1.isPresent(this.type)?this.type.toJson():this.type,changeDetection:lang_1.isPresent(this.changeDetection)?lang_1.serializeEnum(this.changeDetection):this.changeDetection,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,lifecycleHooks:this.lifecycleHooks.map(function(hook){return lang_1.serializeEnum(hook)}),template:lang_1.isPresent(this.template)?this.template.toJson():this.template,providers:_arrayToJson(this.providers),viewProviders:_arrayToJson(this.viewProviders),queries:_arrayToJson(this.queries),viewQueries:_arrayToJson(this.viewQueries),precompile:_arrayToJson(this.precompile)}},CompileDirectiveMetadata}();exports.CompileDirectiveMetadata=CompileDirectiveMetadata,exports.createHostComponentMeta=createHostComponentMeta;var CompilePipeMetadata=function(){function CompilePipeMetadata(_a){var _b=void 0===_a?{}:_a,type=_b.type,name=_b.name,pure=_b.pure,lifecycleHooks=_b.lifecycleHooks;this.type=type,this.name=name,this.pure=lang_1.normalizeBool(pure),this.lifecycleHooks=_normalizeArray(lifecycleHooks)}return Object.defineProperty(CompilePipeMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompilePipeMetadata.fromJson=function(data){return new CompilePipeMetadata({type:lang_1.isPresent(data.type)?CompileTypeMetadata.fromJson(data.type):data.type,name:data.name,pure:data.pure})},CompilePipeMetadata.prototype.toJson=function(){return{"class":"Pipe",type:lang_1.isPresent(this.type)?this.type.toJson():null,name:this.name,pure:this.pure}},CompilePipeMetadata}();exports.CompilePipeMetadata=CompilePipeMetadata;var _COMPILE_METADATA_FROM_JSON={Directive:CompileDirectiveMetadata.fromJson,Pipe:CompilePipeMetadata.fromJson,Type:CompileTypeMetadata.fromJson,Provider:CompileProviderMetadata.fromJson,Identifier:CompileIdentifierMetadata.fromJson,Factory:CompileFactoryMetadata.fromJson,AnimationEntryMetadata:CompileAnimationEntryMetadata.fromJson,AnimationStateDeclarationMetadata:CompileAnimationStateDeclarationMetadata.fromJson,AnimationStateTransitionMetadata:CompileAnimationStateTransitionMetadata.fromJson,AnimationSequenceMetadata:CompileAnimationSequenceMetadata.fromJson,AnimationGroupMetadata:CompileAnimationGroupMetadata.fromJson,AnimationAnimateMetadata:CompileAnimationAnimateMetadata.fromJson,AnimationStyleMetadata:CompileAnimationStyleMetadata.fromJson,AnimationKeyframesSequenceMetadata:CompileAnimationKeyframesSequenceMetadata.fromJson}},{"../core_private":85,"../src/facade/collection":105,"../src/facade/exceptions":107,"../src/facade/lang":108,"./selector":141,"./url_resolver":148,"./util":149,"@angular/core":167}],95:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var core_1=require("@angular/core");__export(require("./template_ast"));var template_parser_1=require("./template_parser");exports.TEMPLATE_TRANSFORMS=template_parser_1.TEMPLATE_TRANSFORMS;var config_1=require("./config");exports.CompilerConfig=config_1.CompilerConfig,exports.RenderTypes=config_1.RenderTypes,__export(require("./compile_metadata")),__export(require("./offline_compiler"));var runtime_compiler_1=require("./runtime_compiler");exports.RuntimeCompiler=runtime_compiler_1.RuntimeCompiler,__export(require("./url_resolver")),__export(require("./xhr"));var view_resolver_1=require("./view_resolver");exports.ViewResolver=view_resolver_1.ViewResolver;var directive_resolver_1=require("./directive_resolver");exports.DirectiveResolver=directive_resolver_1.DirectiveResolver;var pipe_resolver_1=require("./pipe_resolver");exports.PipeResolver=pipe_resolver_1.PipeResolver;var template_parser_2=require("./template_parser"),html_parser_1=require("./html_parser"),directive_normalizer_1=require("./directive_normalizer"),metadata_resolver_1=require("./metadata_resolver"),style_compiler_1=require("./style_compiler"),view_compiler_1=require("./view_compiler/view_compiler"),config_2=require("./config"),runtime_compiler_2=require("./runtime_compiler"),element_schema_registry_1=require("./schema/element_schema_registry"),dom_element_schema_registry_1=require("./schema/dom_element_schema_registry"),url_resolver_2=require("./url_resolver"),parser_1=require("./expression_parser/parser"),lexer_1=require("./expression_parser/lexer"),view_resolver_2=require("./view_resolver"),directive_resolver_2=require("./directive_resolver"),pipe_resolver_2=require("./pipe_resolver");exports.COMPILER_PROVIDERS=[lexer_1.Lexer,parser_1.Parser,html_parser_1.HtmlParser,template_parser_2.TemplateParser,directive_normalizer_1.DirectiveNormalizer,metadata_resolver_1.CompileMetadataResolver,url_resolver_2.DEFAULT_PACKAGE_URL_PROVIDER,style_compiler_1.StyleCompiler,view_compiler_1.ViewCompiler,{provide:config_2.CompilerConfig,useValue:new config_2.CompilerConfig},runtime_compiler_2.RuntimeCompiler,{provide:core_1.ComponentResolver,useExisting:runtime_compiler_2.RuntimeCompiler},{provide:core_1.Compiler,useExisting:runtime_compiler_2.RuntimeCompiler},dom_element_schema_registry_1.DomElementSchemaRegistry,{provide:element_schema_registry_1.ElementSchemaRegistry,useExisting:dom_element_schema_registry_1.DomElementSchemaRegistry},url_resolver_2.UrlResolver,view_resolver_2.ViewResolver,directive_resolver_2.DirectiveResolver,pipe_resolver_2.PipeResolver]},{"./compile_metadata":94,"./config":96,"./directive_normalizer":98,"./directive_resolver":99,"./expression_parser/lexer":101,"./expression_parser/parser":102,"./html_parser":113,"./metadata_resolver":123,"./offline_compiler":124,"./pipe_resolver":135,"./runtime_compiler":137,"./schema/dom_element_schema_registry":138,"./schema/element_schema_registry":140,"./style_compiler":143,"./template_ast":145,"./template_parser":146,"./url_resolver":148,"./view_compiler/view_compiler":164,"./view_resolver":165,"./xhr":166,"@angular/core":167}],96:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),exceptions_1=require("../src/facade/exceptions"),identifiers_1=require("./identifiers"),CompilerConfig=function(){function CompilerConfig(_a){var _b=void 0===_a?{}:_a,_c=_b.renderTypes,renderTypes=void 0===_c?new DefaultRenderTypes:_c,_d=_b.defaultEncapsulation,defaultEncapsulation=void 0===_d?core_1.ViewEncapsulation.Emulated:_d,genDebugInfo=_b.genDebugInfo,logBindingUpdate=_b.logBindingUpdate,_e=_b.useJit,useJit=void 0===_e||_e,_f=_b.platformDirectives,platformDirectives=void 0===_f?[]:_f,_g=_b.platformPipes,platformPipes=void 0===_g?[]:_g;this.renderTypes=renderTypes,this.defaultEncapsulation=defaultEncapsulation,this._genDebugInfo=genDebugInfo,this._logBindingUpdate=logBindingUpdate,this.useJit=useJit,this.platformDirectives=platformDirectives,this.platformPipes=platformPipes}return Object.defineProperty(CompilerConfig.prototype,"genDebugInfo",{get:function(){return void 0===this._genDebugInfo?core_1.isDevMode():this._genDebugInfo},enumerable:!0,configurable:!0}),Object.defineProperty(CompilerConfig.prototype,"logBindingUpdate",{get:function(){return void 0===this._logBindingUpdate?core_1.isDevMode():this._logBindingUpdate},enumerable:!0,configurable:!0}),CompilerConfig}();exports.CompilerConfig=CompilerConfig;var RenderTypes=function(){function RenderTypes(){}return Object.defineProperty(RenderTypes.prototype,"renderer",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderText",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderElement",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderComment",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderNode",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderEvent",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),RenderTypes}();exports.RenderTypes=RenderTypes;var DefaultRenderTypes=function(){function DefaultRenderTypes(){this.renderer=identifiers_1.Identifiers.Renderer,this.renderText=null,this.renderElement=null,this.renderComment=null,this.renderNode=null,this.renderEvent=null}return DefaultRenderTypes}();exports.DefaultRenderTypes=DefaultRenderTypes},{"../src/facade/exceptions":107,"./identifiers":121,"@angular/core":167}],97:[function(require,module,exports){"use strict";function hasLifecycleHook(hook,token){var lcInterface=LIFECYCLE_INTERFACES.get(hook),lcProp=LIFECYCLE_PROPS.get(hook);return core_private_1.reflector.hasLifecycleHook(token,lcInterface,lcProp)}var core_1=require("@angular/core"),core_private_1=require("../core_private"),collection_1=require("../src/facade/collection"),LIFECYCLE_INTERFACES=collection_1.MapWrapper.createFromPairs([[core_private_1.LifecycleHooks.OnInit,core_1.OnInit],[core_private_1.LifecycleHooks.OnDestroy,core_1.OnDestroy],[core_private_1.LifecycleHooks.DoCheck,core_1.DoCheck],[core_private_1.LifecycleHooks.OnChanges,core_1.OnChanges],[core_private_1.LifecycleHooks.AfterContentInit,core_1.AfterContentInit],[core_private_1.LifecycleHooks.AfterContentChecked,core_1.AfterContentChecked],[core_private_1.LifecycleHooks.AfterViewInit,core_1.AfterViewInit],[core_private_1.LifecycleHooks.AfterViewChecked,core_1.AfterViewChecked]]),LIFECYCLE_PROPS=collection_1.MapWrapper.createFromPairs([[core_private_1.LifecycleHooks.OnInit,"ngOnInit"],[core_private_1.LifecycleHooks.OnDestroy,"ngOnDestroy"],[core_private_1.LifecycleHooks.DoCheck,"ngDoCheck"],[core_private_1.LifecycleHooks.OnChanges,"ngOnChanges"],[core_private_1.LifecycleHooks.AfterContentInit,"ngAfterContentInit"],[core_private_1.LifecycleHooks.AfterContentChecked,"ngAfterContentChecked"],[core_private_1.LifecycleHooks.AfterViewInit,"ngAfterViewInit"],[core_private_1.LifecycleHooks.AfterViewChecked,"ngAfterViewChecked"]]);exports.hasLifecycleHook=hasLifecycleHook},{"../core_private":85,"../src/facade/collection":105,"@angular/core":167}],98:[function(require,module,exports){"use strict";function _cloneDirectiveWithTemplate(directive,template){return new compile_metadata_1.CompileDirectiveMetadata({type:directive.type,isComponent:directive.isComponent,selector:directive.selector,exportAs:directive.exportAs,changeDetection:directive.changeDetection,inputs:directive.inputs,outputs:directive.outputs,hostListeners:directive.hostListeners,hostProperties:directive.hostProperties,hostAttributes:directive.hostAttributes,
lifecycleHooks:directive.lifecycleHooks,providers:directive.providers,viewProviders:directive.viewProviders,queries:directive.queries,viewQueries:directive.viewQueries,precompile:directive.precompile,template:template})}var core_1=require("@angular/core"),collection_1=require("../src/facade/collection"),exceptions_1=require("../src/facade/exceptions"),lang_1=require("../src/facade/lang"),compile_metadata_1=require("./compile_metadata"),config_1=require("./config"),html_ast_1=require("./html_ast"),html_parser_1=require("./html_parser"),style_url_resolver_1=require("./style_url_resolver"),template_preparser_1=require("./template_preparser"),url_resolver_1=require("./url_resolver"),xhr_1=require("./xhr"),NormalizeDirectiveResult=function(){function NormalizeDirectiveResult(syncResult,asyncResult){this.syncResult=syncResult,this.asyncResult=asyncResult}return NormalizeDirectiveResult}();exports.NormalizeDirectiveResult=NormalizeDirectiveResult;var DirectiveNormalizer=function(){function DirectiveNormalizer(_xhr,_urlResolver,_htmlParser,_config){this._xhr=_xhr,this._urlResolver=_urlResolver,this._htmlParser=_htmlParser,this._config=_config,this._xhrCache=new Map}return DirectiveNormalizer.prototype.clearCache=function(){this._xhrCache.clear()},DirectiveNormalizer.prototype.clearCacheFor=function(normalizedDirective){var _this=this;normalizedDirective.isComponent&&(this._xhrCache["delete"](normalizedDirective.template.templateUrl),normalizedDirective.template.externalStylesheets.forEach(function(stylesheet){_this._xhrCache["delete"](stylesheet.moduleUrl)}))},DirectiveNormalizer.prototype._fetch=function(url){var result=this._xhrCache.get(url);return result||(result=this._xhr.get(url),this._xhrCache.set(url,result)),result},DirectiveNormalizer.prototype.normalizeDirective=function(directive){var _this=this;if(!directive.isComponent)return new NormalizeDirectiveResult(directive,Promise.resolve(directive));var normalizedTemplateAsync,normalizedTemplateSync=null;if(lang_1.isPresent(directive.template.template))normalizedTemplateSync=this.normalizeTemplateSync(directive.type,directive.template),normalizedTemplateAsync=Promise.resolve(normalizedTemplateSync);else{if(!directive.template.templateUrl)throw new exceptions_1.BaseException("No template specified for component "+directive.type.name);normalizedTemplateAsync=this.normalizeTemplateAsync(directive.type,directive.template)}if(normalizedTemplateSync&&0===normalizedTemplateSync.styleUrls.length){var normalizedDirective=_cloneDirectiveWithTemplate(directive,normalizedTemplateSync);return new NormalizeDirectiveResult(normalizedDirective,Promise.resolve(normalizedDirective))}return new NormalizeDirectiveResult(null,normalizedTemplateAsync.then(function(normalizedTemplate){return _this.normalizeExternalStylesheets(normalizedTemplate)}).then(function(normalizedTemplate){return _cloneDirectiveWithTemplate(directive,normalizedTemplate)}))},DirectiveNormalizer.prototype.normalizeTemplateSync=function(directiveType,template){return this.normalizeLoadedTemplate(directiveType,template,template.template,directiveType.moduleUrl)},DirectiveNormalizer.prototype.normalizeTemplateAsync=function(directiveType,template){var _this=this,templateUrl=this._urlResolver.resolve(directiveType.moduleUrl,template.templateUrl);return this._fetch(templateUrl).then(function(value){return _this.normalizeLoadedTemplate(directiveType,template,value,templateUrl)})},DirectiveNormalizer.prototype.normalizeLoadedTemplate=function(directiveType,templateMeta,template,templateAbsUrl){var rootNodesAndErrors=this._htmlParser.parse(template,directiveType.name);if(rootNodesAndErrors.errors.length>0){var errorString=rootNodesAndErrors.errors.join("\n");throw new exceptions_1.BaseException("Template parse errors:\n"+errorString)}var templateMetadataStyles=this.normalizeStylesheet(new compile_metadata_1.CompileStylesheetMetadata({styles:templateMeta.styles,styleUrls:templateMeta.styleUrls,moduleUrl:directiveType.moduleUrl})),visitor=new TemplatePreparseVisitor;html_ast_1.htmlVisitAll(visitor,rootNodesAndErrors.rootNodes);var templateStyles=this.normalizeStylesheet(new compile_metadata_1.CompileStylesheetMetadata({styles:visitor.styles,styleUrls:visitor.styleUrls,moduleUrl:templateAbsUrl})),allStyles=templateMetadataStyles.styles.concat(templateStyles.styles),allStyleUrls=templateMetadataStyles.styleUrls.concat(templateStyles.styleUrls),encapsulation=templateMeta.encapsulation;return lang_1.isBlank(encapsulation)&&(encapsulation=this._config.defaultEncapsulation),encapsulation===core_1.ViewEncapsulation.Emulated&&0===allStyles.length&&0===allStyleUrls.length&&(encapsulation=core_1.ViewEncapsulation.None),new compile_metadata_1.CompileTemplateMetadata({encapsulation:encapsulation,template:template,templateUrl:templateAbsUrl,styles:allStyles,styleUrls:allStyleUrls,externalStylesheets:templateMeta.externalStylesheets,ngContentSelectors:visitor.ngContentSelectors,animations:templateMeta.animations,interpolation:templateMeta.interpolation})},DirectiveNormalizer.prototype.normalizeExternalStylesheets=function(templateMeta){return this._loadMissingExternalStylesheets(templateMeta.styleUrls).then(function(externalStylesheets){return new compile_metadata_1.CompileTemplateMetadata({encapsulation:templateMeta.encapsulation,template:templateMeta.template,templateUrl:templateMeta.templateUrl,styles:templateMeta.styles,styleUrls:templateMeta.styleUrls,externalStylesheets:externalStylesheets,ngContentSelectors:templateMeta.ngContentSelectors,animations:templateMeta.animations,interpolation:templateMeta.interpolation})})},DirectiveNormalizer.prototype._loadMissingExternalStylesheets=function(styleUrls,loadedStylesheets){var _this=this;return void 0===loadedStylesheets&&(loadedStylesheets=new Map),Promise.all(styleUrls.filter(function(styleUrl){return!loadedStylesheets.has(styleUrl)}).map(function(styleUrl){return _this._fetch(styleUrl).then(function(loadedStyle){var stylesheet=_this.normalizeStylesheet(new compile_metadata_1.CompileStylesheetMetadata({styles:[loadedStyle],moduleUrl:styleUrl}));return loadedStylesheets.set(styleUrl,stylesheet),_this._loadMissingExternalStylesheets(stylesheet.styleUrls,loadedStylesheets)})})).then(function(_){return collection_1.MapWrapper.values(loadedStylesheets)})},DirectiveNormalizer.prototype.normalizeStylesheet=function(stylesheet){var _this=this,allStyleUrls=stylesheet.styleUrls.filter(style_url_resolver_1.isStyleUrlResolvable).map(function(url){return _this._urlResolver.resolve(stylesheet.moduleUrl,url)}),allStyles=stylesheet.styles.map(function(style){var styleWithImports=style_url_resolver_1.extractStyleUrls(_this._urlResolver,stylesheet.moduleUrl,style);return allStyleUrls.push.apply(allStyleUrls,styleWithImports.styleUrls),styleWithImports.style});return new compile_metadata_1.CompileStylesheetMetadata({styles:allStyles,styleUrls:allStyleUrls,moduleUrl:stylesheet.moduleUrl})},DirectiveNormalizer.decorators=[{type:core_1.Injectable}],DirectiveNormalizer.ctorParameters=[{type:xhr_1.XHR},{type:url_resolver_1.UrlResolver},{type:html_parser_1.HtmlParser},{type:config_1.CompilerConfig}],DirectiveNormalizer}();exports.DirectiveNormalizer=DirectiveNormalizer;var TemplatePreparseVisitor=function(){function TemplatePreparseVisitor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return TemplatePreparseVisitor.prototype.visitElement=function(ast,context){var preparsedElement=template_preparser_1.preparseElement(ast);switch(preparsedElement.type){case template_preparser_1.PreparsedElementType.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(preparsedElement.selectAttr);break;case template_preparser_1.PreparsedElementType.STYLE:var textContent="";ast.children.forEach(function(child){child instanceof html_ast_1.HtmlTextAst&&(textContent+=child.value)}),this.styles.push(textContent);break;case template_preparser_1.PreparsedElementType.STYLESHEET:this.styleUrls.push(preparsedElement.hrefAttr)}return preparsedElement.nonBindable&&this.ngNonBindableStackCount++,html_ast_1.htmlVisitAll(this,ast.children),preparsedElement.nonBindable&&this.ngNonBindableStackCount--,null},TemplatePreparseVisitor.prototype.visitComment=function(ast,context){return null},TemplatePreparseVisitor.prototype.visitAttr=function(ast,context){return null},TemplatePreparseVisitor.prototype.visitText=function(ast,context){return null},TemplatePreparseVisitor.prototype.visitExpansion=function(ast,context){return null},TemplatePreparseVisitor.prototype.visitExpansionCase=function(ast,context){return null},TemplatePreparseVisitor}()},{"../src/facade/collection":105,"../src/facade/exceptions":107,"../src/facade/lang":108,"./compile_metadata":94,"./config":96,"./html_ast":111,"./html_parser":113,"./style_url_resolver":144,"./template_preparser":147,"./url_resolver":148,"./xhr":166,"@angular/core":167}],99:[function(require,module,exports){"use strict";function _isDirectiveMetadata(type){return type instanceof core_1.DirectiveMetadata}var core_1=require("@angular/core"),core_private_1=require("../core_private"),collection_1=require("../src/facade/collection"),exceptions_1=require("../src/facade/exceptions"),lang_1=require("../src/facade/lang"),DirectiveResolver=function(){function DirectiveResolver(_reflector){void 0===_reflector&&(_reflector=core_private_1.reflector),this._reflector=_reflector}return DirectiveResolver.prototype.resolve=function(type){var typeMetadata=this._reflector.annotations(core_1.resolveForwardRef(type));if(lang_1.isPresent(typeMetadata)){var metadata=typeMetadata.find(_isDirectiveMetadata);if(lang_1.isPresent(metadata)){var propertyMetadata=this._reflector.propMetadata(type);return this._mergeWithPropertyMetadata(metadata,propertyMetadata,type)}}throw new exceptions_1.BaseException("No Directive annotation found on "+lang_1.stringify(type))},DirectiveResolver.prototype._mergeWithPropertyMetadata=function(dm,propertyMetadata,directiveType){var inputs=[],outputs=[],host={},queries={};return collection_1.StringMapWrapper.forEach(propertyMetadata,function(metadata,propName){metadata.forEach(function(a){if(a instanceof core_1.InputMetadata&&(lang_1.isPresent(a.bindingPropertyName)?inputs.push(propName+": "+a.bindingPropertyName):inputs.push(propName)),a instanceof core_1.OutputMetadata&&(lang_1.isPresent(a.bindingPropertyName)?outputs.push(propName+": "+a.bindingPropertyName):outputs.push(propName)),a instanceof core_1.HostBindingMetadata&&(lang_1.isPresent(a.hostPropertyName)?host["["+a.hostPropertyName+"]"]=propName:host["["+propName+"]"]=propName),a instanceof core_1.HostListenerMetadata){var args=lang_1.isPresent(a.args)?a.args.join(", "):"";host["("+a.eventName+")"]=propName+"("+args+")"}a instanceof core_1.QueryMetadata&&(queries[propName]=a)})}),this._merge(dm,inputs,outputs,host,queries,directiveType)},DirectiveResolver.prototype._merge=function(dm,inputs,outputs,host,queries,directiveType){var mergedOutputs,mergedInputs=lang_1.isPresent(dm.inputs)?collection_1.ListWrapper.concat(dm.inputs,inputs):inputs;lang_1.isPresent(dm.outputs)?(dm.outputs.forEach(function(propName){if(collection_1.ListWrapper.contains(outputs,propName))throw new exceptions_1.BaseException("Output event '"+propName+"' defined multiple times in '"+lang_1.stringify(directiveType)+"'")}),mergedOutputs=collection_1.ListWrapper.concat(dm.outputs,outputs)):mergedOutputs=outputs;var mergedHost=lang_1.isPresent(dm.host)?collection_1.StringMapWrapper.merge(dm.host,host):host,mergedQueries=lang_1.isPresent(dm.queries)?collection_1.StringMapWrapper.merge(dm.queries,queries):queries;return dm instanceof core_1.ComponentMetadata?new core_1.ComponentMetadata({selector:dm.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:dm.exportAs,moduleId:dm.moduleId,queries:mergedQueries,changeDetection:dm.changeDetection,providers:dm.providers,viewProviders:dm.viewProviders,precompile:dm.precompile}):new core_1.DirectiveMetadata({selector:dm.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:dm.exportAs,queries:mergedQueries,providers:dm.providers})},DirectiveResolver.decorators=[{type:core_1.Injectable}],DirectiveResolver.ctorParameters=[{type:core_private_1.ReflectorReader}],DirectiveResolver}();exports.DirectiveResolver=DirectiveResolver,exports.CODEGEN_DIRECTIVE_RESOLVER=new DirectiveResolver(core_private_1.reflector)},{"../core_private":85,"../src/facade/collection":105,"../src/facade/exceptions":107,"../src/facade/lang":108,"@angular/core":167}],100:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},collection_1=require("../facade/collection"),AST=function(){function AST(){}return AST.prototype.visit=function(visitor,context){return void 0===context&&(context=null),null},AST.prototype.toString=function(){return"AST"},AST}();exports.AST=AST;var Quote=function(_super){function Quote(prefix,uninterpretedExpression,location){_super.call(this),this.prefix=prefix,this.uninterpretedExpression=uninterpretedExpression,this.location=location}return __extends(Quote,_super),Quote.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitQuote(this,context)},Quote.prototype.toString=function(){return"Quote"},Quote}(AST);exports.Quote=Quote;var EmptyExpr=function(_super){function EmptyExpr(){_super.apply(this,arguments)}return __extends(EmptyExpr,_super),EmptyExpr.prototype.visit=function(visitor,context){void 0===context&&(context=null)},EmptyExpr}(AST);exports.EmptyExpr=EmptyExpr;var ImplicitReceiver=function(_super){function ImplicitReceiver(){_super.apply(this,arguments)}return __extends(ImplicitReceiver,_super),ImplicitReceiver.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitImplicitReceiver(this,context)},ImplicitReceiver}(AST);exports.ImplicitReceiver=ImplicitReceiver;var Chain=function(_super){function Chain(expressions){_super.call(this),this.expressions=expressions}return __extends(Chain,_super),Chain.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitChain(this,context)},Chain}(AST);exports.Chain=Chain;var Conditional=function(_super){function Conditional(condition,trueExp,falseExp){_super.call(this),this.condition=condition,this.trueExp=trueExp,this.falseExp=falseExp}return __extends(Conditional,_super),Conditional.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitConditional(this,context)},Conditional}(AST);exports.Conditional=Conditional;var PropertyRead=function(_super){function PropertyRead(receiver,name){_super.call(this),this.receiver=receiver,this.name=name}return __extends(PropertyRead,_super),PropertyRead.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitPropertyRead(this,context)},PropertyRead}(AST);exports.PropertyRead=PropertyRead;var PropertyWrite=function(_super){function PropertyWrite(receiver,name,value){_super.call(this),this.receiver=receiver,this.name=name,this.value=value}return __extends(PropertyWrite,_super),PropertyWrite.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitPropertyWrite(this,context)},PropertyWrite}(AST);exports.PropertyWrite=PropertyWrite;var SafePropertyRead=function(_super){function SafePropertyRead(receiver,name){_super.call(this),this.receiver=receiver,this.name=name}return __extends(SafePropertyRead,_super),SafePropertyRead.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitSafePropertyRead(this,context)},SafePropertyRead}(AST);exports.SafePropertyRead=SafePropertyRead;var KeyedRead=function(_super){function KeyedRead(obj,key){_super.call(this),this.obj=obj,this.key=key}return __extends(KeyedRead,_super),KeyedRead.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitKeyedRead(this,context)},KeyedRead}(AST);exports.KeyedRead=KeyedRead;var KeyedWrite=function(_super){function KeyedWrite(obj,key,value){_super.call(this),this.obj=obj,this.key=key,this.value=value}return __extends(KeyedWrite,_super),KeyedWrite.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitKeyedWrite(this,context)},KeyedWrite}(AST);exports.KeyedWrite=KeyedWrite;var BindingPipe=function(_super){function BindingPipe(exp,name,args){_super.call(this),this.exp=exp,this.name=name,this.args=args}return __extends(BindingPipe,_super),BindingPipe.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitPipe(this,context)},BindingPipe}(AST);exports.BindingPipe=BindingPipe;var LiteralPrimitive=function(_super){function LiteralPrimitive(value){_super.call(this),this.value=value}return __extends(LiteralPrimitive,_super),LiteralPrimitive.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitLiteralPrimitive(this,context)},LiteralPrimitive}(AST);exports.LiteralPrimitive=LiteralPrimitive;var LiteralArray=function(_super){function LiteralArray(expressions){_super.call(this),this.expressions=expressions}return __extends(LiteralArray,_super),LiteralArray.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitLiteralArray(this,context)},LiteralArray}(AST);exports.LiteralArray=LiteralArray;var LiteralMap=function(_super){function LiteralMap(keys,values){_super.call(this),this.keys=keys,this.values=values}return __extends(LiteralMap,_super),LiteralMap.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitLiteralMap(this,context)},LiteralMap}(AST);exports.LiteralMap=LiteralMap;var Interpolation=function(_super){function Interpolation(strings,expressions){_super.call(this),this.strings=strings,this.expressions=expressions}return __extends(Interpolation,_super),Interpolation.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitInterpolation(this,context)},Interpolation}(AST);exports.Interpolation=Interpolation;var Binary=function(_super){function Binary(operation,left,right){_super.call(this),this.operation=operation,this.left=left,this.right=right}return __extends(Binary,_super),Binary.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitBinary(this,context)},Binary}(AST);exports.Binary=Binary;var PrefixNot=function(_super){function PrefixNot(expression){_super.call(this),this.expression=expression}return __extends(PrefixNot,_super),PrefixNot.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitPrefixNot(this,context)},PrefixNot}(AST);exports.PrefixNot=PrefixNot;var MethodCall=function(_super){function MethodCall(receiver,name,args){_super.call(this),this.receiver=receiver,this.name=name,this.args=args}return __extends(MethodCall,_super),MethodCall.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitMethodCall(this,context)},MethodCall}(AST);exports.MethodCall=MethodCall;var SafeMethodCall=function(_super){function SafeMethodCall(receiver,name,args){_super.call(this),this.receiver=receiver,this.name=name,this.args=args}return __extends(SafeMethodCall,_super),SafeMethodCall.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitSafeMethodCall(this,context)},SafeMethodCall}(AST);exports.SafeMethodCall=SafeMethodCall;var FunctionCall=function(_super){function FunctionCall(target,args){_super.call(this),this.target=target,this.args=args}return __extends(FunctionCall,_super),FunctionCall.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitFunctionCall(this,context)},FunctionCall}(AST);exports.FunctionCall=FunctionCall;var ASTWithSource=function(_super){function ASTWithSource(ast,source,location){_super.call(this),this.ast=ast,this.source=source,this.location=location}return __extends(ASTWithSource,_super),ASTWithSource.prototype.visit=function(visitor,context){return void 0===context&&(context=null),this.ast.visit(visitor,context)},ASTWithSource.prototype.toString=function(){return this.source+" in "+this.location},ASTWithSource}(AST);exports.ASTWithSource=ASTWithSource;var TemplateBinding=function(){function TemplateBinding(key,keyIsVar,name,expression){this.key=key,this.keyIsVar=keyIsVar,this.name=name,this.expression=expression}return TemplateBinding}();exports.TemplateBinding=TemplateBinding;var RecursiveAstVisitor=function(){function RecursiveAstVisitor(){}return RecursiveAstVisitor.prototype.visitBinary=function(ast,context){return ast.left.visit(this),ast.right.visit(this),null},RecursiveAstVisitor.prototype.visitChain=function(ast,context){return this.visitAll(ast.expressions,context)},RecursiveAstVisitor.prototype.visitConditional=function(ast,context){return ast.condition.visit(this),ast.trueExp.visit(this),ast.falseExp.visit(this),null},RecursiveAstVisitor.prototype.visitPipe=function(ast,context){return ast.exp.visit(this),this.visitAll(ast.args,context),null},RecursiveAstVisitor.prototype.visitFunctionCall=function(ast,context){return ast.target.visit(this),this.visitAll(ast.args,context),null},RecursiveAstVisitor.prototype.visitImplicitReceiver=function(ast,context){return null},RecursiveAstVisitor.prototype.visitInterpolation=function(ast,context){return this.visitAll(ast.expressions,context)},RecursiveAstVisitor.prototype.visitKeyedRead=function(ast,context){return ast.obj.visit(this),ast.key.visit(this),null},RecursiveAstVisitor.prototype.visitKeyedWrite=function(ast,context){return ast.obj.visit(this),ast.key.visit(this),ast.value.visit(this),null},RecursiveAstVisitor.prototype.visitLiteralArray=function(ast,context){return this.visitAll(ast.expressions,context)},RecursiveAstVisitor.prototype.visitLiteralMap=function(ast,context){return this.visitAll(ast.values,context)},RecursiveAstVisitor.prototype.visitLiteralPrimitive=function(ast,context){return null},RecursiveAstVisitor.prototype.visitMethodCall=function(ast,context){return ast.receiver.visit(this),this.visitAll(ast.args,context)},RecursiveAstVisitor.prototype.visitPrefixNot=function(ast,context){return ast.expression.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyRead=function(ast,context){return ast.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyWrite=function(ast,context){return ast.receiver.visit(this),ast.value.visit(this),null},RecursiveAstVisitor.prototype.visitSafePropertyRead=function(ast,context){return ast.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitSafeMethodCall=function(ast,context){return ast.receiver.visit(this),this.visitAll(ast.args,context)},RecursiveAstVisitor.prototype.visitAll=function(asts,context){var _this=this;return asts.forEach(function(ast){return ast.visit(_this,context)}),null},RecursiveAstVisitor.prototype.visitQuote=function(ast,context){return null},RecursiveAstVisitor}();exports.RecursiveAstVisitor=RecursiveAstVisitor;var AstTransformer=function(){function AstTransformer(){}return AstTransformer.prototype.visitImplicitReceiver=function(ast,context){return ast},AstTransformer.prototype.visitInterpolation=function(ast,context){return new Interpolation(ast.strings,this.visitAll(ast.expressions))},AstTransformer.prototype.visitLiteralPrimitive=function(ast,context){return new LiteralPrimitive(ast.value)},AstTransformer.prototype.visitPropertyRead=function(ast,context){return new PropertyRead(ast.receiver.visit(this),ast.name)},AstTransformer.prototype.visitPropertyWrite=function(ast,context){return new PropertyWrite(ast.receiver.visit(this),ast.name,ast.value)},AstTransformer.prototype.visitSafePropertyRead=function(ast,context){return new SafePropertyRead(ast.receiver.visit(this),ast.name)},AstTransformer.prototype.visitMethodCall=function(ast,context){return new MethodCall(ast.receiver.visit(this),ast.name,this.visitAll(ast.args))},AstTransformer.prototype.visitSafeMethodCall=function(ast,context){return new SafeMethodCall(ast.receiver.visit(this),ast.name,this.visitAll(ast.args))},AstTransformer.prototype.visitFunctionCall=function(ast,context){return new FunctionCall(ast.target.visit(this),this.visitAll(ast.args))},AstTransformer.prototype.visitLiteralArray=function(ast,context){return new LiteralArray(this.visitAll(ast.expressions))},AstTransformer.prototype.visitLiteralMap=function(ast,context){return new LiteralMap(ast.keys,this.visitAll(ast.values))},AstTransformer.prototype.visitBinary=function(ast,context){return new Binary(ast.operation,ast.left.visit(this),ast.right.visit(this))},AstTransformer.prototype.visitPrefixNot=function(ast,context){return new PrefixNot(ast.expression.visit(this))},AstTransformer.prototype.visitConditional=function(ast,context){return new Conditional(ast.condition.visit(this),ast.trueExp.visit(this),ast.falseExp.visit(this))},AstTransformer.prototype.visitPipe=function(ast,context){return new BindingPipe(ast.exp.visit(this),ast.name,this.visitAll(ast.args))},AstTransformer.prototype.visitKeyedRead=function(ast,context){return new KeyedRead(ast.obj.visit(this),ast.key.visit(this))},AstTransformer.prototype.visitKeyedWrite=function(ast,context){return new KeyedWrite(ast.obj.visit(this),ast.key.visit(this),ast.value.visit(this))},AstTransformer.prototype.visitAll=function(asts){for(var res=collection_1.ListWrapper.createFixedSize(asts.length),i=0;i<asts.length;++i)res[i]=asts[i].visit(this);return res},AstTransformer.prototype.visitChain=function(ast,context){return new Chain(this.visitAll(ast.expressions))},AstTransformer.prototype.visitQuote=function(ast,context){return new Quote(ast.prefix,ast.uninterpretedExpression,ast.location)},AstTransformer}();exports.AstTransformer=AstTransformer},{"../facade/collection":105}],101:[function(require,module,exports){"use strict";function newCharacterToken(index,code){return new Token(index,TokenType.Character,code,lang_1.StringWrapper.fromCharCode(code))}function newIdentifierToken(index,text){return new Token(index,TokenType.Identifier,0,text)}function newKeywordToken(index,text){return new Token(index,TokenType.Keyword,0,text)}function newOperatorToken(index,text){return new Token(index,TokenType.Operator,0,text)}function newStringToken(index,text){return new Token(index,TokenType.String,0,text)}function newNumberToken(index,n){return new Token(index,TokenType.Number,n,"")}function isIdentifierStart(code){return chars.$a<=code&&code<=chars.$z||chars.$A<=code&&code<=chars.$Z||code==chars.$_||code==chars.$$}function isIdentifier(input){if(0==input.length)return!1;var scanner=new _Scanner(input);if(!isIdentifierStart(scanner.peek))return!1;for(scanner.advance();scanner.peek!==chars.$EOF;){if(!isIdentifierPart(scanner.peek))return!1;scanner.advance()}return!0}function isIdentifierPart(code){return chars.isAsciiLetter(code)||chars.isDigit(code)||code==chars.$_||code==chars.$$}function isExponentStart(code){return code==chars.$e||code==chars.$E}function isExponentSign(code){return code==chars.$MINUS||code==chars.$PLUS}function isQuote(code){return code===chars.$SQ||code===chars.$DQ||code===chars.$BT}function unescape(code){switch(code){case chars.$n:return chars.$LF;case chars.$f:return chars.$FF;case chars.$r:return chars.$CR;case chars.$t:return chars.$TAB;case chars.$v:return chars.$VTAB;default:return code}}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),chars=require("../chars"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang");!function(TokenType){TokenType[TokenType.Character=0]="Character",TokenType[TokenType.Identifier=1]="Identifier",TokenType[TokenType.Keyword=2]="Keyword",TokenType[TokenType.String=3]="String",TokenType[TokenType.Operator=4]="Operator",TokenType[TokenType.Number=5]="Number"}(exports.TokenType||(exports.TokenType={}));var TokenType=exports.TokenType,KEYWORDS=["var","let","null","undefined","true","false","if","else"],Lexer=function(){function Lexer(){}return Lexer.prototype.tokenize=function(text){for(var scanner=new _Scanner(text),tokens=[],token=scanner.scanToken();null!=token;)tokens.push(token),token=scanner.scanToken();return tokens},Lexer.decorators=[{type:core_1.Injectable}],Lexer}();exports.Lexer=Lexer;var Token=function(){function Token(index,type,numValue,strValue){this.index=index,this.type=type,this.numValue=numValue,this.strValue=strValue}return Token.prototype.isCharacter=function(code){return this.type==TokenType.Character&&this.numValue==code},Token.prototype.isNumber=function(){return this.type==TokenType.Number},Token.prototype.isString=function(){return this.type==TokenType.String},Token.prototype.isOperator=function(operater){return this.type==TokenType.Operator&&this.strValue==operater},Token.prototype.isIdentifier=function(){return this.type==TokenType.Identifier},Token.prototype.isKeyword=function(){return this.type==TokenType.Keyword},Token.prototype.isKeywordDeprecatedVar=function(){return this.type==TokenType.Keyword&&"var"==this.strValue},Token.prototype.isKeywordLet=function(){return this.type==TokenType.Keyword&&"let"==this.strValue},Token.prototype.isKeywordNull=function(){return this.type==TokenType.Keyword&&"null"==this.strValue},Token.prototype.isKeywordUndefined=function(){return this.type==TokenType.Keyword&&"undefined"==this.strValue},Token.prototype.isKeywordTrue=function(){return this.type==TokenType.Keyword&&"true"==this.strValue},Token.prototype.isKeywordFalse=function(){return this.type==TokenType.Keyword&&"false"==this.strValue},Token.prototype.toNumber=function(){return this.type==TokenType.Number?this.numValue:-1},Token.prototype.toString=function(){switch(this.type){case TokenType.Character:case TokenType.Identifier:case TokenType.Keyword:case TokenType.Operator:case TokenType.String:return this.strValue;case TokenType.Number:return this.numValue.toString();default:return null}},Token}();exports.Token=Token,exports.EOF=new Token((-1),TokenType.Character,0,"");var ScannerError=function(_super){function ScannerError(message){_super.call(this),this.message=message}return __extends(ScannerError,_super),ScannerError.prototype.toString=function(){return this.message},ScannerError}(exceptions_1.BaseException);exports.ScannerError=ScannerError;var _Scanner=function(){function _Scanner(input){this.input=input,this.peek=0,this.index=-1,this.length=input.length,this.advance()}return _Scanner.prototype.advance=function(){this.peek=++this.index>=this.length?chars.$EOF:lang_1.StringWrapper.charCodeAt(this.input,this.index)},_Scanner.prototype.scanToken=function(){for(var input=this.input,length=this.length,peek=this.peek,index=this.index;peek<=chars.$SPACE;){if(++index>=length){peek=chars.$EOF;break}peek=lang_1.StringWrapper.charCodeAt(input,index)}if(this.peek=peek,this.index=index,index>=length)return null;if(isIdentifierStart(peek))return this.scanIdentifier();if(chars.isDigit(peek))return this.scanNumber(index);var start=index;switch(peek){case chars.$PERIOD:return this.advance(),chars.isDigit(this.peek)?this.scanNumber(start):newCharacterToken(start,chars.$PERIOD);case chars.$LPAREN:case chars.$RPAREN:case chars.$LBRACE:case chars.$RBRACE:case chars.$LBRACKET:case chars.$RBRACKET:case chars.$COMMA:case chars.$COLON:case chars.$SEMICOLON:return this.scanCharacter(start,peek);case chars.$SQ:case chars.$DQ:return this.scanString();case chars.$HASH:case chars.$PLUS:case chars.$MINUS:case chars.$STAR:case chars.$SLASH:case chars.$PERCENT:case chars.$CARET:return this.scanOperator(start,lang_1.StringWrapper.fromCharCode(peek));case chars.$QUESTION:return this.scanComplexOperator(start,"?",chars.$PERIOD,".");
case chars.$LT:case chars.$GT:return this.scanComplexOperator(start,lang_1.StringWrapper.fromCharCode(peek),chars.$EQ,"=");case chars.$BANG:case chars.$EQ:return this.scanComplexOperator(start,lang_1.StringWrapper.fromCharCode(peek),chars.$EQ,"=",chars.$EQ,"=");case chars.$AMPERSAND:return this.scanComplexOperator(start,"&",chars.$AMPERSAND,"&");case chars.$BAR:return this.scanComplexOperator(start,"|",chars.$BAR,"|");case chars.$NBSP:for(;chars.isWhitespace(this.peek);)this.advance();return this.scanToken()}return this.error("Unexpected character ["+lang_1.StringWrapper.fromCharCode(peek)+"]",0),null},_Scanner.prototype.scanCharacter=function(start,code){return this.advance(),newCharacterToken(start,code)},_Scanner.prototype.scanOperator=function(start,str){return this.advance(),newOperatorToken(start,str)},_Scanner.prototype.scanComplexOperator=function(start,one,twoCode,two,threeCode,three){this.advance();var str=one;return this.peek==twoCode&&(this.advance(),str+=two),lang_1.isPresent(threeCode)&&this.peek==threeCode&&(this.advance(),str+=three),newOperatorToken(start,str)},_Scanner.prototype.scanIdentifier=function(){var start=this.index;for(this.advance();isIdentifierPart(this.peek);)this.advance();var str=this.input.substring(start,this.index);return KEYWORDS.indexOf(str)>-1?newKeywordToken(start,str):newIdentifierToken(start,str)},_Scanner.prototype.scanNumber=function(start){var simple=this.index===start;for(this.advance();;){if(chars.isDigit(this.peek));else if(this.peek==chars.$PERIOD)simple=!1;else{if(!isExponentStart(this.peek))break;this.advance(),isExponentSign(this.peek)&&this.advance(),chars.isDigit(this.peek)||this.error("Invalid exponent",-1),simple=!1}this.advance()}var str=this.input.substring(start,this.index),value=simple?lang_1.NumberWrapper.parseIntAutoRadix(str):lang_1.NumberWrapper.parseFloat(str);return newNumberToken(start,value)},_Scanner.prototype.scanString=function(){var start=this.index,quote=this.peek;this.advance();for(var buffer,marker=this.index,input=this.input;this.peek!=quote;)if(this.peek==chars.$BACKSLASH){null==buffer&&(buffer=new lang_1.StringJoiner),buffer.add(input.substring(marker,this.index)),this.advance();var unescapedCode;if(this.peek==chars.$u){var hex=input.substring(this.index+1,this.index+5);try{unescapedCode=lang_1.NumberWrapper.parseInt(hex,16)}catch(e){this.error("Invalid unicode escape [\\u"+hex+"]",0)}for(var i=0;i<5;i++)this.advance()}else unescapedCode=unescape(this.peek),this.advance();buffer.add(lang_1.StringWrapper.fromCharCode(unescapedCode)),marker=this.index}else this.peek==chars.$EOF?this.error("Unterminated quote",0):this.advance();var last=input.substring(marker,this.index);this.advance();var unescaped=last;return null!=buffer&&(buffer.add(last),unescaped=buffer.toString()),newStringToken(start,unescaped)},_Scanner.prototype.error=function(message,offset){var position=this.index+offset;throw new ScannerError("Lexer Error: "+message+" at column "+position+" in expression ["+this.input+"]")},_Scanner}();exports.isIdentifier=isIdentifier,exports.isQuote=isQuote},{"../chars":93,"../facade/exceptions":107,"../facade/lang":108,"@angular/core":167}],102:[function(require,module,exports){"use strict";function _createInterpolateRegExp(config){var regexp=lang_1.escapeRegExp(config.start)+"([\\s\\S]*?)"+lang_1.escapeRegExp(config.end);return lang_1.RegExpWrapper.create(regexp,"g")}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),chars=require("../chars"),collection_1=require("../facade/collection"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),interpolation_config_1=require("../interpolation_config"),ast_1=require("./ast"),lexer_1=require("./lexer"),_implicitReceiver=new ast_1.ImplicitReceiver,ParseException=function(_super){function ParseException(message,input,errLocation,ctxLocation){_super.call(this,"Parser Error: "+message+" "+errLocation+" ["+input+"] in "+ctxLocation)}return __extends(ParseException,_super),ParseException}(exceptions_1.BaseException),SplitInterpolation=function(){function SplitInterpolation(strings,expressions){this.strings=strings,this.expressions=expressions}return SplitInterpolation}();exports.SplitInterpolation=SplitInterpolation;var TemplateBindingParseResult=function(){function TemplateBindingParseResult(templateBindings,warnings){this.templateBindings=templateBindings,this.warnings=warnings}return TemplateBindingParseResult}();exports.TemplateBindingParseResult=TemplateBindingParseResult;var Parser=function(){function Parser(_lexer){this._lexer=_lexer}return Parser.prototype.parseAction=function(input,location,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=interpolation_config_1.DEFAULT_INTERPOLATION_CONFIG),this._checkNoInterpolation(input,location,interpolationConfig);var tokens=this._lexer.tokenize(this._stripComments(input)),ast=new _ParseAST(input,location,tokens,(!0)).parseChain();return new ast_1.ASTWithSource(ast,input,location)},Parser.prototype.parseBinding=function(input,location,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=interpolation_config_1.DEFAULT_INTERPOLATION_CONFIG);var ast=this._parseBindingAst(input,location,interpolationConfig);return new ast_1.ASTWithSource(ast,input,location)},Parser.prototype.parseSimpleBinding=function(input,location,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=interpolation_config_1.DEFAULT_INTERPOLATION_CONFIG);var ast=this._parseBindingAst(input,location,interpolationConfig);if(!SimpleExpressionChecker.check(ast))throw new ParseException("Host binding expression can only contain field access and constants",input,location);return new ast_1.ASTWithSource(ast,input,location)},Parser.prototype._parseBindingAst=function(input,location,interpolationConfig){var quote=this._parseQuote(input,location);if(lang_1.isPresent(quote))return quote;this._checkNoInterpolation(input,location,interpolationConfig);var tokens=this._lexer.tokenize(this._stripComments(input));return new _ParseAST(input,location,tokens,(!1)).parseChain()},Parser.prototype._parseQuote=function(input,location){if(lang_1.isBlank(input))return null;var prefixSeparatorIndex=input.indexOf(":");if(prefixSeparatorIndex==-1)return null;var prefix=input.substring(0,prefixSeparatorIndex).trim();if(!lexer_1.isIdentifier(prefix))return null;var uninterpretedExpression=input.substring(prefixSeparatorIndex+1);return new ast_1.Quote(prefix,uninterpretedExpression,location)},Parser.prototype.parseTemplateBindings=function(input,location){var tokens=this._lexer.tokenize(input);return new _ParseAST(input,location,tokens,(!1)).parseTemplateBindings()},Parser.prototype.parseInterpolation=function(input,location,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=interpolation_config_1.DEFAULT_INTERPOLATION_CONFIG);var split=this.splitInterpolation(input,location,interpolationConfig);if(null==split)return null;for(var expressions=[],i=0;i<split.expressions.length;++i){var tokens=this._lexer.tokenize(this._stripComments(split.expressions[i])),ast=new _ParseAST(input,location,tokens,(!1)).parseChain();expressions.push(ast)}return new ast_1.ASTWithSource(new ast_1.Interpolation(split.strings,expressions),input,location)},Parser.prototype.splitInterpolation=function(input,location,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=interpolation_config_1.DEFAULT_INTERPOLATION_CONFIG);var regexp=_createInterpolateRegExp(interpolationConfig),parts=lang_1.StringWrapper.split(input,regexp);if(parts.length<=1)return null;for(var strings=[],expressions=[],i=0;i<parts.length;i++){var part=parts[i];if(i%2===0)strings.push(part);else{if(!(part.trim().length>0))throw new ParseException("Blank expressions are not allowed in interpolated strings",input,"at column "+this._findInterpolationErrorColumn(parts,i,interpolationConfig)+" in",location);expressions.push(part)}}return new SplitInterpolation(strings,expressions)},Parser.prototype.wrapLiteralPrimitive=function(input,location){return new ast_1.ASTWithSource(new ast_1.LiteralPrimitive(input),input,location)},Parser.prototype._stripComments=function(input){var i=this._commentStart(input);return lang_1.isPresent(i)?input.substring(0,i).trim():input},Parser.prototype._commentStart=function(input){for(var outerQuote=null,i=0;i<input.length-1;i++){var char=lang_1.StringWrapper.charCodeAt(input,i),nextChar=lang_1.StringWrapper.charCodeAt(input,i+1);if(char===chars.$SLASH&&nextChar==chars.$SLASH&&lang_1.isBlank(outerQuote))return i;outerQuote===char?outerQuote=null:lang_1.isBlank(outerQuote)&&lexer_1.isQuote(char)&&(outerQuote=char)}return null},Parser.prototype._checkNoInterpolation=function(input,location,interpolationConfig){var regexp=_createInterpolateRegExp(interpolationConfig),parts=lang_1.StringWrapper.split(input,regexp);if(parts.length>1)throw new ParseException("Got interpolation ("+interpolationConfig.start+interpolationConfig.end+") where expression was expected",input,"at column "+this._findInterpolationErrorColumn(parts,1,interpolationConfig)+" in",location)},Parser.prototype._findInterpolationErrorColumn=function(parts,partInErrIdx,interpolationConfig){for(var errLocation="",j=0;j<partInErrIdx;j++)errLocation+=j%2===0?parts[j]:""+interpolationConfig.start+parts[j]+interpolationConfig.end;return errLocation.length},Parser.decorators=[{type:core_1.Injectable}],Parser.ctorParameters=[{type:lexer_1.Lexer}],Parser}();exports.Parser=Parser;var _ParseAST=function(){function _ParseAST(input,location,tokens,parseAction){this.input=input,this.location=location,this.tokens=tokens,this.parseAction=parseAction,this.index=0}return _ParseAST.prototype.peek=function(offset){var i=this.index+offset;return i<this.tokens.length?this.tokens[i]:lexer_1.EOF},Object.defineProperty(_ParseAST.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(_ParseAST.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index:this.input.length},enumerable:!0,configurable:!0}),_ParseAST.prototype.advance=function(){this.index++},_ParseAST.prototype.optionalCharacter=function(code){return!!this.next.isCharacter(code)&&(this.advance(),!0)},_ParseAST.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},_ParseAST.prototype.peekDeprecatedKeywordVar=function(){return this.next.isKeywordDeprecatedVar()},_ParseAST.prototype.peekDeprecatedOperatorHash=function(){return this.next.isOperator("#")},_ParseAST.prototype.expectCharacter=function(code){this.optionalCharacter(code)||this.error("Missing expected "+lang_1.StringWrapper.fromCharCode(code))},_ParseAST.prototype.optionalOperator=function(op){return!!this.next.isOperator(op)&&(this.advance(),!0)},_ParseAST.prototype.expectOperator=function(operator){this.optionalOperator(operator)||this.error("Missing expected operator "+operator)},_ParseAST.prototype.expectIdentifierOrKeyword=function(){var n=this.next;return n.isIdentifier()||n.isKeyword()||this.error("Unexpected token "+n+", expected identifier or keyword"),this.advance(),n.toString()},_ParseAST.prototype.expectIdentifierOrKeywordOrString=function(){var n=this.next;return n.isIdentifier()||n.isKeyword()||n.isString()||this.error("Unexpected token "+n+", expected identifier, keyword, or string"),this.advance(),n.toString()},_ParseAST.prototype.parseChain=function(){for(var exprs=[];this.index<this.tokens.length;){var expr=this.parsePipe();if(exprs.push(expr),this.optionalCharacter(chars.$SEMICOLON))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(chars.$SEMICOLON););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==exprs.length?new ast_1.EmptyExpr:1==exprs.length?exprs[0]:new ast_1.Chain(exprs)},_ParseAST.prototype.parsePipe=function(){var result=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var name=this.expectIdentifierOrKeyword(),args=[];this.optionalCharacter(chars.$COLON);)args.push(this.parseExpression());result=new ast_1.BindingPipe(result,name,args)}while(this.optionalOperator("|"))}return result},_ParseAST.prototype.parseExpression=function(){return this.parseConditional()},_ParseAST.prototype.parseConditional=function(){var start=this.inputIndex,result=this.parseLogicalOr();if(this.optionalOperator("?")){var yes=this.parsePipe();if(!this.optionalCharacter(chars.$COLON)){var end=this.inputIndex,expression=this.input.substring(start,end);this.error("Conditional expression "+expression+" requires all 3 expressions")}var no=this.parsePipe();return new ast_1.Conditional(result,yes,no)}return result},_ParseAST.prototype.parseLogicalOr=function(){for(var result=this.parseLogicalAnd();this.optionalOperator("||");)result=new ast_1.Binary("||",result,this.parseLogicalAnd());return result},_ParseAST.prototype.parseLogicalAnd=function(){for(var result=this.parseEquality();this.optionalOperator("&&");)result=new ast_1.Binary("&&",result,this.parseEquality());return result},_ParseAST.prototype.parseEquality=function(){for(var result=this.parseRelational();;)if(this.optionalOperator("=="))result=new ast_1.Binary("==",result,this.parseRelational());else if(this.optionalOperator("==="))result=new ast_1.Binary("===",result,this.parseRelational());else if(this.optionalOperator("!="))result=new ast_1.Binary("!=",result,this.parseRelational());else{if(!this.optionalOperator("!=="))return result;result=new ast_1.Binary("!==",result,this.parseRelational())}},_ParseAST.prototype.parseRelational=function(){for(var result=this.parseAdditive();;)if(this.optionalOperator("<"))result=new ast_1.Binary("<",result,this.parseAdditive());else if(this.optionalOperator(">"))result=new ast_1.Binary(">",result,this.parseAdditive());else if(this.optionalOperator("<="))result=new ast_1.Binary("<=",result,this.parseAdditive());else{if(!this.optionalOperator(">="))return result;result=new ast_1.Binary(">=",result,this.parseAdditive())}},_ParseAST.prototype.parseAdditive=function(){for(var result=this.parseMultiplicative();;)if(this.optionalOperator("+"))result=new ast_1.Binary("+",result,this.parseMultiplicative());else{if(!this.optionalOperator("-"))return result;result=new ast_1.Binary("-",result,this.parseMultiplicative())}},_ParseAST.prototype.parseMultiplicative=function(){for(var result=this.parsePrefix();;)if(this.optionalOperator("*"))result=new ast_1.Binary("*",result,this.parsePrefix());else if(this.optionalOperator("%"))result=new ast_1.Binary("%",result,this.parsePrefix());else{if(!this.optionalOperator("/"))return result;result=new ast_1.Binary("/",result,this.parsePrefix())}},_ParseAST.prototype.parsePrefix=function(){return this.optionalOperator("+")?this.parsePrefix():this.optionalOperator("-")?new ast_1.Binary("-",new ast_1.LiteralPrimitive(0),this.parsePrefix()):this.optionalOperator("!")?new ast_1.PrefixNot(this.parsePrefix()):this.parseCallChain()},_ParseAST.prototype.parseCallChain=function(){for(var result=this.parsePrimary();;)if(this.optionalCharacter(chars.$PERIOD))result=this.parseAccessMemberOrMethodCall(result,!1);else if(this.optionalOperator("?."))result=this.parseAccessMemberOrMethodCall(result,!0);else if(this.optionalCharacter(chars.$LBRACKET)){var key=this.parsePipe();if(this.expectCharacter(chars.$RBRACKET),this.optionalOperator("=")){var value=this.parseConditional();result=new ast_1.KeyedWrite(result,key,value)}else result=new ast_1.KeyedRead(result,key)}else{if(!this.optionalCharacter(chars.$LPAREN))return result;var args=this.parseCallArguments();this.expectCharacter(chars.$RPAREN),result=new ast_1.FunctionCall(result,args)}},_ParseAST.prototype.parsePrimary=function(){if(this.optionalCharacter(chars.$LPAREN)){var result=this.parsePipe();return this.expectCharacter(chars.$RPAREN),result}if(this.next.isKeywordNull()||this.next.isKeywordUndefined())return this.advance(),new ast_1.LiteralPrimitive(null);if(this.next.isKeywordTrue())return this.advance(),new ast_1.LiteralPrimitive((!0));if(this.next.isKeywordFalse())return this.advance(),new ast_1.LiteralPrimitive((!1));if(this.optionalCharacter(chars.$LBRACKET)){var elements=this.parseExpressionList(chars.$RBRACKET);return this.expectCharacter(chars.$RBRACKET),new ast_1.LiteralArray(elements)}if(this.next.isCharacter(chars.$LBRACE))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(_implicitReceiver,!1);if(this.next.isNumber()){var value=this.next.toNumber();return this.advance(),new ast_1.LiteralPrimitive(value)}if(this.next.isString()){var literalValue=this.next.toString();return this.advance(),new ast_1.LiteralPrimitive(literalValue)}throw this.index>=this.tokens.length?this.error("Unexpected end of expression: "+this.input):this.error("Unexpected token "+this.next),new exceptions_1.BaseException("Fell through all cases in parsePrimary")},_ParseAST.prototype.parseExpressionList=function(terminator){var result=[];if(!this.next.isCharacter(terminator))do result.push(this.parsePipe());while(this.optionalCharacter(chars.$COMMA));return result},_ParseAST.prototype.parseLiteralMap=function(){var keys=[],values=[];if(this.expectCharacter(chars.$LBRACE),!this.optionalCharacter(chars.$RBRACE)){do{var key=this.expectIdentifierOrKeywordOrString();keys.push(key),this.expectCharacter(chars.$COLON),values.push(this.parsePipe())}while(this.optionalCharacter(chars.$COMMA));this.expectCharacter(chars.$RBRACE)}return new ast_1.LiteralMap(keys,values)},_ParseAST.prototype.parseAccessMemberOrMethodCall=function(receiver,isSafe){void 0===isSafe&&(isSafe=!1);var id=this.expectIdentifierOrKeyword();if(this.optionalCharacter(chars.$LPAREN)){var args=this.parseCallArguments();return this.expectCharacter(chars.$RPAREN),isSafe?new ast_1.SafeMethodCall(receiver,id,args):new ast_1.MethodCall(receiver,id,args)}if(!isSafe){if(this.optionalOperator("=")){this.parseAction||this.error("Bindings cannot contain assignments");var value=this.parseConditional();return new ast_1.PropertyWrite(receiver,id,value)}return new ast_1.PropertyRead(receiver,id)}return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),null):new ast_1.SafePropertyRead(receiver,id)},_ParseAST.prototype.parseCallArguments=function(){if(this.next.isCharacter(chars.$RPAREN))return[];var positionals=[];do positionals.push(this.parsePipe());while(this.optionalCharacter(chars.$COMMA));return positionals},_ParseAST.prototype.expectTemplateBindingKey=function(){var result="",operatorFound=!1;do result+=this.expectIdentifierOrKeywordOrString(),operatorFound=this.optionalOperator("-"),operatorFound&&(result+="-");while(operatorFound);return result.toString()},_ParseAST.prototype.parseTemplateBindings=function(){for(var bindings=[],prefix=null,warnings=[];this.index<this.tokens.length;){var keyIsVar=this.peekKeywordLet();!keyIsVar&&this.peekDeprecatedKeywordVar()&&(keyIsVar=!0,warnings.push('"var" inside of expressions is deprecated. Use "let" instead!')),!keyIsVar&&this.peekDeprecatedOperatorHash()&&(keyIsVar=!0,warnings.push('"#" inside of expressions is deprecated. Use "let" instead!')),keyIsVar&&this.advance();var key=this.expectTemplateBindingKey();keyIsVar||(null==prefix?prefix=key:key=prefix+key[0].toUpperCase()+key.substring(1)),this.optionalCharacter(chars.$COLON);var name=null,expression=null;if(keyIsVar)name=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==lexer_1.EOF&&!this.peekKeywordLet()&&!this.peekDeprecatedKeywordVar()&&!this.peekDeprecatedOperatorHash()){var start=this.inputIndex,ast=this.parsePipe(),source=this.input.substring(start,this.inputIndex);expression=new ast_1.ASTWithSource(ast,source,this.location)}bindings.push(new ast_1.TemplateBinding(key,keyIsVar,name,expression)),this.optionalCharacter(chars.$SEMICOLON)||this.optionalCharacter(chars.$COMMA)}return new TemplateBindingParseResult(bindings,warnings)},_ParseAST.prototype.error=function(message,index){void 0===index&&(index=null),lang_1.isBlank(index)&&(index=this.index);var location=index<this.tokens.length?"at column "+(this.tokens[index].index+1)+" in":"at the end of the expression";throw new ParseException(message,this.input,location,this.location)},_ParseAST}();exports._ParseAST=_ParseAST;var SimpleExpressionChecker=function(){function SimpleExpressionChecker(){this.simple=!0}return SimpleExpressionChecker.check=function(ast){var s=new SimpleExpressionChecker;return ast.visit(s),s.simple},SimpleExpressionChecker.prototype.visitImplicitReceiver=function(ast,context){},SimpleExpressionChecker.prototype.visitInterpolation=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralPrimitive=function(ast,context){},SimpleExpressionChecker.prototype.visitPropertyRead=function(ast,context){},SimpleExpressionChecker.prototype.visitPropertyWrite=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitSafePropertyRead=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitMethodCall=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitSafeMethodCall=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitFunctionCall=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralArray=function(ast,context){this.visitAll(ast.expressions)},SimpleExpressionChecker.prototype.visitLiteralMap=function(ast,context){this.visitAll(ast.values)},SimpleExpressionChecker.prototype.visitBinary=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitPrefixNot=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitConditional=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitPipe=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedRead=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedWrite=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitAll=function(asts){for(var res=collection_1.ListWrapper.createFixedSize(asts.length),i=0;i<asts.length;++i)res[i]=asts[i].visit(this);return res},SimpleExpressionChecker.prototype.visitChain=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitQuote=function(ast,context){this.simple=!1},SimpleExpressionChecker}()},{"../chars":93,"../facade/collection":105,"../facade/exceptions":107,"../facade/lang":108,"../interpolation_config":122,"./ast":100,"./lexer":101,"@angular/core":167}],103:[function(require,module,exports){arguments[4][31][0].apply(exports,arguments)},{"./lang":108,"./promise":110,dup:31,"rxjs/Observable":629,"rxjs/Subject":635,"rxjs/observable/PromiseObservable":758,"rxjs/operator/toPromise":856}],104:[function(require,module,exports){arguments[4][32][0].apply(exports,arguments)},{dup:32}],105:[function(require,module,exports){arguments[4][33][0].apply(exports,arguments)},{"./lang":108,dup:33}],106:[function(require,module,exports){arguments[4][34][0].apply(exports,arguments)},{"./base_wrapped_exception":104,"./collection":105,"./lang":108,dup:34}],107:[function(require,module,exports){arguments[4][35][0].apply(exports,arguments)},{"./base_wrapped_exception":104,"./exception_handler":106,dup:35}],108:[function(require,module,exports){arguments[4][37][0].apply(exports,arguments)},{dup:37}],109:[function(require,module,exports){"use strict";var lang_1=require("./lang");exports.Math=lang_1.global.Math,exports.NaN=typeof exports.NaN},{"./lang":108}],110:[function(require,module,exports){arguments[4][38][0].apply(exports,arguments)},{dup:38}],111:[function(require,module,exports){"use strict";function htmlVisitAll(visitor,asts,context){void 0===context&&(context=null);var result=[];return asts.forEach(function(ast){var astResult=ast.visit(visitor,context);lang_1.isPresent(astResult)&&result.push(astResult)}),result}var lang_1=require("../src/facade/lang"),HtmlTextAst=function(){function HtmlTextAst(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}return HtmlTextAst.prototype.visit=function(visitor,context){return visitor.visitText(this,context)},HtmlTextAst}();exports.HtmlTextAst=HtmlTextAst;var HtmlExpansionAst=function(){function HtmlExpansionAst(switchValue,type,cases,sourceSpan,switchValueSourceSpan){this.switchValue=switchValue,this.type=type,this.cases=cases,this.sourceSpan=sourceSpan,this.switchValueSourceSpan=switchValueSourceSpan}return HtmlExpansionAst.prototype.visit=function(visitor,context){return visitor.visitExpansion(this,context)},HtmlExpansionAst}();exports.HtmlExpansionAst=HtmlExpansionAst;var HtmlExpansionCaseAst=function(){function HtmlExpansionCaseAst(value,expression,sourceSpan,valueSourceSpan,expSourceSpan){this.value=value,this.expression=expression,this.sourceSpan=sourceSpan,this.valueSourceSpan=valueSourceSpan,this.expSourceSpan=expSourceSpan}return HtmlExpansionCaseAst.prototype.visit=function(visitor,context){return visitor.visitExpansionCase(this,context)},HtmlExpansionCaseAst}();exports.HtmlExpansionCaseAst=HtmlExpansionCaseAst;var HtmlAttrAst=function(){function HtmlAttrAst(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return HtmlAttrAst.prototype.visit=function(visitor,context){return visitor.visitAttr(this,context)},HtmlAttrAst}();exports.HtmlAttrAst=HtmlAttrAst;var HtmlElementAst=function(){function HtmlElementAst(name,attrs,children,sourceSpan,startSourceSpan,endSourceSpan){this.name=name,this.attrs=attrs,this.children=children,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan}return HtmlElementAst.prototype.visit=function(visitor,context){return visitor.visitElement(this,context)},HtmlElementAst}();exports.HtmlElementAst=HtmlElementAst;var HtmlCommentAst=function(){function HtmlCommentAst(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}return HtmlCommentAst.prototype.visit=function(visitor,context){return visitor.visitComment(this,context)},HtmlCommentAst}();exports.HtmlCommentAst=HtmlCommentAst,exports.htmlVisitAll=htmlVisitAll},{"../src/facade/lang":108}],112:[function(require,module,exports){"use strict";function tokenizeHtml(sourceContent,sourceUrl,tokenizeExpansionForms,interpolationConfig){return void 0===tokenizeExpansionForms&&(tokenizeExpansionForms=!1),void 0===interpolationConfig&&(interpolationConfig=interpolation_config_1.DEFAULT_INTERPOLATION_CONFIG),new _HtmlTokenizer(new parse_util_1.ParseSourceFile(sourceContent,sourceUrl),tokenizeExpansionForms,interpolationConfig).tokenize()}function unexpectedCharacterErrorMsg(charCode){var char=charCode===chars.$EOF?"EOF":lang_1.StringWrapper.fromCharCode(charCode);return'Unexpected character "'+char+'"'}function unknownEntityErrorMsg(entitySrc){return'Unknown entity "'+entitySrc+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function isNotWhitespace(code){return!chars.isWhitespace(code)||code===chars.$EOF}function isNameEnd(code){return chars.isWhitespace(code)||code===chars.$GT||code===chars.$SLASH||code===chars.$SQ||code===chars.$DQ||code===chars.$EQ}function isPrefixEnd(code){return(code<chars.$a||chars.$z<code)&&(code<chars.$A||chars.$Z<code)&&(code<chars.$0||code>chars.$9)}function isDigitEntityEnd(code){return code==chars.$SEMICOLON||code==chars.$EOF||!chars.isAsciiHexDigit(code)}function isNamedEntityEnd(code){return code==chars.$SEMICOLON||code==chars.$EOF||!chars.isAsciiLetter(code)}function isExpansionFormStart(input,offset,interpolationStart){return input.charCodeAt(offset)==chars.$LBRACE&&input.indexOf(interpolationStart,offset)!=offset}function isExpansionCaseStart(peek){return peek===chars.$EQ||chars.isAsciiLetter(peek)}function compareCharCodeCaseInsensitive(code1,code2){return toUpperCaseCharCode(code1)==toUpperCaseCharCode(code2)}function toUpperCaseCharCode(code){return code>=chars.$a&&code<=chars.$z?code-chars.$a+chars.$A:code}function mergeTextTokens(srcTokens){for(var lastDstToken,dstTokens=[],i=0;i<srcTokens.length;i++){var token=srcTokens[i];lang_1.isPresent(lastDstToken)&&lastDstToken.type==HtmlTokenType.TEXT&&token.type==HtmlTokenType.TEXT?(lastDstToken.parts[0]+=token.parts[0],lastDstToken.sourceSpan.end=token.sourceSpan.end):(lastDstToken=token,dstTokens.push(lastDstToken))}return dstTokens}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},chars=require("./chars"),lang_1=require("./facade/lang"),html_tags_1=require("./html_tags"),interpolation_config_1=require("./interpolation_config"),parse_util_1=require("./parse_util");!function(HtmlTokenType){HtmlTokenType[HtmlTokenType.TAG_OPEN_START=0]="TAG_OPEN_START",HtmlTokenType[HtmlTokenType.TAG_OPEN_END=1]="TAG_OPEN_END",HtmlTokenType[HtmlTokenType.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",HtmlTokenType[HtmlTokenType.TAG_CLOSE=3]="TAG_CLOSE",HtmlTokenType[HtmlTokenType.TEXT=4]="TEXT",HtmlTokenType[HtmlTokenType.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",HtmlTokenType[HtmlTokenType.RAW_TEXT=6]="RAW_TEXT",HtmlTokenType[HtmlTokenType.COMMENT_START=7]="COMMENT_START",HtmlTokenType[HtmlTokenType.COMMENT_END=8]="COMMENT_END",HtmlTokenType[HtmlTokenType.CDATA_START=9]="CDATA_START",HtmlTokenType[HtmlTokenType.CDATA_END=10]="CDATA_END",HtmlTokenType[HtmlTokenType.ATTR_NAME=11]="ATTR_NAME",HtmlTokenType[HtmlTokenType.ATTR_VALUE=12]="ATTR_VALUE",HtmlTokenType[HtmlTokenType.DOC_TYPE=13]="DOC_TYPE",HtmlTokenType[HtmlTokenType.EXPANSION_FORM_START=14]="EXPANSION_FORM_START",HtmlTokenType[HtmlTokenType.EXPANSION_CASE_VALUE=15]="EXPANSION_CASE_VALUE",HtmlTokenType[HtmlTokenType.EXPANSION_CASE_EXP_START=16]="EXPANSION_CASE_EXP_START",HtmlTokenType[HtmlTokenType.EXPANSION_CASE_EXP_END=17]="EXPANSION_CASE_EXP_END",HtmlTokenType[HtmlTokenType.EXPANSION_FORM_END=18]="EXPANSION_FORM_END",HtmlTokenType[HtmlTokenType.EOF=19]="EOF"}(exports.HtmlTokenType||(exports.HtmlTokenType={}));var HtmlTokenType=exports.HtmlTokenType,HtmlToken=function(){function HtmlToken(type,parts,sourceSpan){this.type=type,this.parts=parts,this.sourceSpan=sourceSpan}return HtmlToken}();exports.HtmlToken=HtmlToken;var HtmlTokenError=function(_super){function HtmlTokenError(errorMsg,tokenType,span){_super.call(this,span,errorMsg),this.tokenType=tokenType}return __extends(HtmlTokenError,_super),HtmlTokenError}(parse_util_1.ParseError);exports.HtmlTokenError=HtmlTokenError;var HtmlTokenizeResult=function(){function HtmlTokenizeResult(tokens,errors){this.tokens=tokens,this.errors=errors}return HtmlTokenizeResult}();exports.HtmlTokenizeResult=HtmlTokenizeResult,exports.tokenizeHtml=tokenizeHtml;var CR_OR_CRLF_REGEXP=/\r\n?/g,ControlFlowError=function(){function ControlFlowError(error){this.error=error}return ControlFlowError}(),_HtmlTokenizer=function(){function _HtmlTokenizer(file,tokenizeExpansionForms,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=interpolation_config_1.DEFAULT_INTERPOLATION_CONFIG),this.file=file,this.tokenizeExpansionForms=tokenizeExpansionForms,this.interpolationConfig=interpolationConfig,this._peek=-1,this._nextPeek=-1,this._index=-1,this._line=0,this._column=-1,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._input=file.content,this._length=file.content.length,this._advance()}return _HtmlTokenizer.prototype._processCarriageReturns=function(content){return lang_1.StringWrapper.replaceAll(content,CR_OR_CRLF_REGEXP,"\n")},_HtmlTokenizer.prototype.tokenize=function(){for(;this._peek!==chars.$EOF;){var start=this._getLocation();try{this._attemptCharCode(chars.$LT)?this._attemptCharCode(chars.$BANG)?this._attemptCharCode(chars.$LBRACKET)?this._consumeCdata(start):this._attemptCharCode(chars.$MINUS)?this._consumeComment(start):this._consumeDocType(start):this._attemptCharCode(chars.$SLASH)?this._consumeTagClose(start):this._consumeTagOpen(start):isExpansionFormStart(this._input,this._index,this.interpolationConfig.start)&&this.tokenizeExpansionForms?this._consumeExpansionFormStart():isExpansionCaseStart(this._peek)&&this._isInExpansionForm()&&this.tokenizeExpansionForms?this._consumeExpansionCaseStart():this._peek===chars.$RBRACE&&this._isInExpansionCase()&&this.tokenizeExpansionForms?this._consumeExpansionCaseEnd():this._peek===chars.$RBRACE&&this._isInExpansionForm()&&this.tokenizeExpansionForms?this._consumeExpansionFormEnd():this._consumeText();
}catch(e){if(!(e instanceof ControlFlowError))throw e;this.errors.push(e.error)}}return this._beginToken(HtmlTokenType.EOF),this._endToken([]),new HtmlTokenizeResult(mergeTextTokens(this.tokens),this.errors)},_HtmlTokenizer.prototype._getLocation=function(){return new parse_util_1.ParseLocation(this.file,this._index,this._line,this._column)},_HtmlTokenizer.prototype._getSpan=function(start,end){return lang_1.isBlank(start)&&(start=this._getLocation()),lang_1.isBlank(end)&&(end=this._getLocation()),new parse_util_1.ParseSourceSpan(start,end)},_HtmlTokenizer.prototype._beginToken=function(type,start){void 0===start&&(start=null),lang_1.isBlank(start)&&(start=this._getLocation()),this._currentTokenStart=start,this._currentTokenType=type},_HtmlTokenizer.prototype._endToken=function(parts,end){void 0===end&&(end=null),lang_1.isBlank(end)&&(end=this._getLocation());var token=new HtmlToken(this._currentTokenType,parts,new parse_util_1.ParseSourceSpan(this._currentTokenStart,end));return this.tokens.push(token),this._currentTokenStart=null,this._currentTokenType=null,token},_HtmlTokenizer.prototype._createError=function(msg,span){var error=new HtmlTokenError(msg,this._currentTokenType,span);return this._currentTokenStart=null,this._currentTokenType=null,new ControlFlowError(error)},_HtmlTokenizer.prototype._advance=function(){if(this._index>=this._length)throw this._createError(unexpectedCharacterErrorMsg(chars.$EOF),this._getSpan());this._peek===chars.$LF?(this._line++,this._column=0):this._peek!==chars.$LF&&this._peek!==chars.$CR&&this._column++,this._index++,this._peek=this._index>=this._length?chars.$EOF:lang_1.StringWrapper.charCodeAt(this._input,this._index),this._nextPeek=this._index+1>=this._length?chars.$EOF:lang_1.StringWrapper.charCodeAt(this._input,this._index+1)},_HtmlTokenizer.prototype._attemptCharCode=function(charCode){return this._peek===charCode&&(this._advance(),!0)},_HtmlTokenizer.prototype._attemptCharCodeCaseInsensitive=function(charCode){return!!compareCharCodeCaseInsensitive(this._peek,charCode)&&(this._advance(),!0)},_HtmlTokenizer.prototype._requireCharCode=function(charCode){var location=this._getLocation();if(!this._attemptCharCode(charCode))throw this._createError(unexpectedCharacterErrorMsg(this._peek),this._getSpan(location,location))},_HtmlTokenizer.prototype._attemptStr=function(chars){var len=chars.length;if(this._index+len>this._length)return!1;for(var initialPosition=this._savePosition(),i=0;i<len;i++)if(!this._attemptCharCode(lang_1.StringWrapper.charCodeAt(chars,i)))return this._restorePosition(initialPosition),!1;return!0},_HtmlTokenizer.prototype._attemptStrCaseInsensitive=function(chars){for(var i=0;i<chars.length;i++)if(!this._attemptCharCodeCaseInsensitive(lang_1.StringWrapper.charCodeAt(chars,i)))return!1;return!0},_HtmlTokenizer.prototype._requireStr=function(chars){var location=this._getLocation();if(!this._attemptStr(chars))throw this._createError(unexpectedCharacterErrorMsg(this._peek),this._getSpan(location))},_HtmlTokenizer.prototype._attemptCharCodeUntilFn=function(predicate){for(;!predicate(this._peek);)this._advance()},_HtmlTokenizer.prototype._requireCharCodeUntilFn=function(predicate,len){var start=this._getLocation();if(this._attemptCharCodeUntilFn(predicate),this._index-start.offset<len)throw this._createError(unexpectedCharacterErrorMsg(this._peek),this._getSpan(start,start))},_HtmlTokenizer.prototype._attemptUntilChar=function(char){for(;this._peek!==char;)this._advance()},_HtmlTokenizer.prototype._readChar=function(decodeEntities){if(decodeEntities&&this._peek===chars.$AMPERSAND)return this._decodeEntity();var index=this._index;return this._advance(),this._input[index]},_HtmlTokenizer.prototype._decodeEntity=function(){var start=this._getLocation();if(this._advance(),!this._attemptCharCode(chars.$HASH)){var startPosition=this._savePosition();if(this._attemptCharCodeUntilFn(isNamedEntityEnd),this._peek!=chars.$SEMICOLON)return this._restorePosition(startPosition),"&";this._advance();var name_1=this._input.substring(start.offset+1,this._index-1),char=html_tags_1.NAMED_ENTITIES[name_1];if(lang_1.isBlank(char))throw this._createError(unknownEntityErrorMsg(name_1),this._getSpan(start));return char}var isHex=this._attemptCharCode(chars.$x)||this._attemptCharCode(chars.$X),numberStart=this._getLocation().offset;if(this._attemptCharCodeUntilFn(isDigitEntityEnd),this._peek!=chars.$SEMICOLON)throw this._createError(unexpectedCharacterErrorMsg(this._peek),this._getSpan());this._advance();var strNum=this._input.substring(numberStart,this._index-1);try{var charCode=lang_1.NumberWrapper.parseInt(strNum,isHex?16:10);return lang_1.StringWrapper.fromCharCode(charCode)}catch(e){var entity=this._input.substring(start.offset+1,this._index-1);throw this._createError(unknownEntityErrorMsg(entity),this._getSpan(start))}},_HtmlTokenizer.prototype._consumeRawText=function(decodeEntities,firstCharOfEnd,attemptEndRest){var tagCloseStart,textStart=this._getLocation();this._beginToken(decodeEntities?HtmlTokenType.ESCAPABLE_RAW_TEXT:HtmlTokenType.RAW_TEXT,textStart);for(var parts=[];;){if(tagCloseStart=this._getLocation(),this._attemptCharCode(firstCharOfEnd)&&attemptEndRest())break;for(this._index>tagCloseStart.offset&&parts.push(this._input.substring(tagCloseStart.offset,this._index));this._peek!==firstCharOfEnd;)parts.push(this._readChar(decodeEntities))}return this._endToken([this._processCarriageReturns(parts.join(""))],tagCloseStart)},_HtmlTokenizer.prototype._consumeComment=function(start){var _this=this;this._beginToken(HtmlTokenType.COMMENT_START,start),this._requireCharCode(chars.$MINUS),this._endToken([]);var textToken=this._consumeRawText(!1,chars.$MINUS,function(){return _this._attemptStr("->")});this._beginToken(HtmlTokenType.COMMENT_END,textToken.sourceSpan.end),this._endToken([])},_HtmlTokenizer.prototype._consumeCdata=function(start){var _this=this;this._beginToken(HtmlTokenType.CDATA_START,start),this._requireStr("CDATA["),this._endToken([]);var textToken=this._consumeRawText(!1,chars.$RBRACKET,function(){return _this._attemptStr("]>")});this._beginToken(HtmlTokenType.CDATA_END,textToken.sourceSpan.end),this._endToken([])},_HtmlTokenizer.prototype._consumeDocType=function(start){this._beginToken(HtmlTokenType.DOC_TYPE,start),this._attemptUntilChar(chars.$GT),this._advance(),this._endToken([this._input.substring(start.offset+2,this._index-1)])},_HtmlTokenizer.prototype._consumePrefixAndName=function(){for(var nameOrPrefixStart=this._index,prefix=null;this._peek!==chars.$COLON&&!isPrefixEnd(this._peek);)this._advance();var nameStart;this._peek===chars.$COLON?(this._advance(),prefix=this._input.substring(nameOrPrefixStart,this._index-1),nameStart=this._index):nameStart=nameOrPrefixStart,this._requireCharCodeUntilFn(isNameEnd,this._index===nameStart?1:0);var name=this._input.substring(nameStart,this._index);return[prefix,name]},_HtmlTokenizer.prototype._consumeTagOpen=function(start){var lowercaseTagName,savedPos=this._savePosition();try{if(!chars.isAsciiLetter(this._peek))throw this._createError(unexpectedCharacterErrorMsg(this._peek),this._getSpan());var nameStart=this._index;for(this._consumeTagOpenStart(start),lowercaseTagName=this._input.substring(nameStart,this._index).toLowerCase(),this._attemptCharCodeUntilFn(isNotWhitespace);this._peek!==chars.$SLASH&&this._peek!==chars.$GT;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode(chars.$EQ)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeTagOpenEnd()}catch(e){if(e instanceof ControlFlowError)return this._restorePosition(savedPos),this._beginToken(HtmlTokenType.TEXT,start),void this._endToken(["<"]);throw e}var contentTokenType=html_tags_1.getHtmlTagDefinition(lowercaseTagName).contentType;contentTokenType===html_tags_1.HtmlTagContentType.RAW_TEXT?this._consumeRawTextWithTagClose(lowercaseTagName,!1):contentTokenType===html_tags_1.HtmlTagContentType.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(lowercaseTagName,!0)},_HtmlTokenizer.prototype._consumeRawTextWithTagClose=function(lowercaseTagName,decodeEntities){var _this=this,textToken=this._consumeRawText(decodeEntities,chars.$LT,function(){return!!_this._attemptCharCode(chars.$SLASH)&&(_this._attemptCharCodeUntilFn(isNotWhitespace),!!_this._attemptStrCaseInsensitive(lowercaseTagName)&&(_this._attemptCharCodeUntilFn(isNotWhitespace),!!_this._attemptCharCode(chars.$GT)))});this._beginToken(HtmlTokenType.TAG_CLOSE,textToken.sourceSpan.end),this._endToken([null,lowercaseTagName])},_HtmlTokenizer.prototype._consumeTagOpenStart=function(start){this._beginToken(HtmlTokenType.TAG_OPEN_START,start);var parts=this._consumePrefixAndName();this._endToken(parts)},_HtmlTokenizer.prototype._consumeAttributeName=function(){this._beginToken(HtmlTokenType.ATTR_NAME);var prefixAndName=this._consumePrefixAndName();this._endToken(prefixAndName)},_HtmlTokenizer.prototype._consumeAttributeValue=function(){this._beginToken(HtmlTokenType.ATTR_VALUE);var value;if(this._peek===chars.$SQ||this._peek===chars.$DQ){var quoteChar=this._peek;this._advance();for(var parts=[];this._peek!==quoteChar;)parts.push(this._readChar(!0));value=parts.join(""),this._advance()}else{var valueStart=this._index;this._requireCharCodeUntilFn(isNameEnd,1),value=this._input.substring(valueStart,this._index)}this._endToken([this._processCarriageReturns(value)])},_HtmlTokenizer.prototype._consumeTagOpenEnd=function(){var tokenType=this._attemptCharCode(chars.$SLASH)?HtmlTokenType.TAG_OPEN_END_VOID:HtmlTokenType.TAG_OPEN_END;this._beginToken(tokenType),this._requireCharCode(chars.$GT),this._endToken([])},_HtmlTokenizer.prototype._consumeTagClose=function(start){this._beginToken(HtmlTokenType.TAG_CLOSE,start),this._attemptCharCodeUntilFn(isNotWhitespace);var prefixAndName=this._consumePrefixAndName();this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode(chars.$GT),this._endToken(prefixAndName)},_HtmlTokenizer.prototype._consumeExpansionFormStart=function(){this._beginToken(HtmlTokenType.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode(chars.$LBRACE),this._endToken([]),this._beginToken(HtmlTokenType.RAW_TEXT,this._getLocation());var condition=this._readUntil(chars.$COMMA);this._endToken([condition],this._getLocation()),this._requireCharCode(chars.$COMMA),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(HtmlTokenType.RAW_TEXT,this._getLocation());var type=this._readUntil(chars.$COMMA);this._endToken([type],this._getLocation()),this._requireCharCode(chars.$COMMA),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.push(HtmlTokenType.EXPANSION_FORM_START)},_HtmlTokenizer.prototype._consumeExpansionCaseStart=function(){this._beginToken(HtmlTokenType.EXPANSION_CASE_VALUE,this._getLocation());var value=this._readUntil(chars.$LBRACE).trim();this._endToken([value],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(HtmlTokenType.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode(chars.$LBRACE),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.push(HtmlTokenType.EXPANSION_CASE_EXP_START)},_HtmlTokenizer.prototype._consumeExpansionCaseEnd=function(){this._beginToken(HtmlTokenType.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode(chars.$RBRACE),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.pop()},_HtmlTokenizer.prototype._consumeExpansionFormEnd=function(){this._beginToken(HtmlTokenType.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode(chars.$RBRACE),this._endToken([]),this._expansionCaseStack.pop()},_HtmlTokenizer.prototype._consumeText=function(){var start=this._getLocation();this._beginToken(HtmlTokenType.TEXT,start);var parts=[];do this._attemptStr(this.interpolationConfig.start)?(parts.push(this.interpolationConfig.start),this._inInterpolation=!0):this._attemptStr(this.interpolationConfig.end)&&this._inInterpolation?(parts.push(this.interpolationConfig.end),this._inInterpolation=!1):parts.push(this._readChar(!0));while(!this._isTextEnd());this._endToken([this._processCarriageReturns(parts.join(""))])},_HtmlTokenizer.prototype._isTextEnd=function(){if(this._peek===chars.$LT||this._peek===chars.$EOF)return!0;if(this.tokenizeExpansionForms){if(isExpansionFormStart(this._input,this._index,this.interpolationConfig.start))return!0;if(this._peek===chars.$RBRACE&&!this._inInterpolation&&this._isInExpansionCase())return!0}return!1},_HtmlTokenizer.prototype._savePosition=function(){return[this._peek,this._index,this._column,this._line,this.tokens.length]},_HtmlTokenizer.prototype._readUntil=function(char){var start=this._index;return this._attemptUntilChar(char),this._input.substring(start,this._index)},_HtmlTokenizer.prototype._restorePosition=function(position){this._peek=position[0],this._index=position[1],this._column=position[2],this._line=position[3];var nbTokens=position[4];nbTokens<this.tokens.length&&(this.tokens=this.tokens.slice(0,nbTokens))},_HtmlTokenizer.prototype._isInExpansionCase=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===HtmlTokenType.EXPANSION_CASE_EXP_START},_HtmlTokenizer.prototype._isInExpansionForm=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===HtmlTokenType.EXPANSION_FORM_START},_HtmlTokenizer}()},{"./chars":93,"./facade/lang":108,"./html_tags":114,"./interpolation_config":122,"./parse_util":134}],113:[function(require,module,exports){"use strict";function getElementFullName(prefix,localName,parentElement){return lang_1.isBlank(prefix)&&(prefix=html_tags_1.getHtmlTagDefinition(localName).implicitNamespacePrefix,lang_1.isBlank(prefix)&&lang_1.isPresent(parentElement)&&(prefix=html_tags_1.getNsPrefix(parentElement.name))),html_tags_1.mergeNsAndName(prefix,localName)}function lastOnStack(stack,element){return stack.length>0&&stack[stack.length-1]===element}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),lang_1=require("../src/facade/lang"),collection_1=require("../src/facade/collection"),html_ast_1=require("./html_ast"),html_lexer_1=require("./html_lexer"),parse_util_1=require("./parse_util"),html_tags_1=require("./html_tags"),HtmlTreeError=function(_super){function HtmlTreeError(elementName,span,msg){_super.call(this,span,msg),this.elementName=elementName}return __extends(HtmlTreeError,_super),HtmlTreeError.create=function(elementName,span,msg){return new HtmlTreeError(elementName,span,msg)},HtmlTreeError}(parse_util_1.ParseError);exports.HtmlTreeError=HtmlTreeError;var HtmlParseTreeResult=function(){function HtmlParseTreeResult(rootNodes,errors){this.rootNodes=rootNodes,this.errors=errors}return HtmlParseTreeResult}();exports.HtmlParseTreeResult=HtmlParseTreeResult;var HtmlParser=function(){function HtmlParser(){}return HtmlParser.prototype.parse=function(sourceContent,sourceUrl,parseExpansionForms){void 0===parseExpansionForms&&(parseExpansionForms=!1);var tokensAndErrors=html_lexer_1.tokenizeHtml(sourceContent,sourceUrl,parseExpansionForms),treeAndErrors=new TreeBuilder(tokensAndErrors.tokens).build();return new HtmlParseTreeResult(treeAndErrors.rootNodes,tokensAndErrors.errors.concat(treeAndErrors.errors))},HtmlParser.decorators=[{type:core_1.Injectable}],HtmlParser}();exports.HtmlParser=HtmlParser;var TreeBuilder=function(){function TreeBuilder(tokens){this.tokens=tokens,this.index=-1,this.rootNodes=[],this.errors=[],this.elementStack=[],this._advance()}return TreeBuilder.prototype.build=function(){for(;this.peek.type!==html_lexer_1.HtmlTokenType.EOF;)this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_START?this._consumeStartTag(this._advance()):this.peek.type===html_lexer_1.HtmlTokenType.TAG_CLOSE?this._consumeEndTag(this._advance()):this.peek.type===html_lexer_1.HtmlTokenType.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this.peek.type===html_lexer_1.HtmlTokenType.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this.peek.type===html_lexer_1.HtmlTokenType.TEXT||this.peek.type===html_lexer_1.HtmlTokenType.RAW_TEXT||this.peek.type===html_lexer_1.HtmlTokenType.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this.peek.type===html_lexer_1.HtmlTokenType.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new HtmlParseTreeResult(this.rootNodes,this.errors)},TreeBuilder.prototype._advance=function(){var prev=this.peek;return this.index<this.tokens.length-1&&this.index++,this.peek=this.tokens[this.index],prev},TreeBuilder.prototype._advanceIf=function(type){return this.peek.type===type?this._advance():null},TreeBuilder.prototype._consumeCdata=function(startToken){this._consumeText(this._advance()),this._advanceIf(html_lexer_1.HtmlTokenType.CDATA_END)},TreeBuilder.prototype._consumeComment=function(token){var text=this._advanceIf(html_lexer_1.HtmlTokenType.RAW_TEXT);this._advanceIf(html_lexer_1.HtmlTokenType.COMMENT_END);var value=lang_1.isPresent(text)?text.parts[0].trim():null;this._addToParent(new html_ast_1.HtmlCommentAst(value,token.sourceSpan))},TreeBuilder.prototype._consumeExpansion=function(token){for(var switchValue=this._advance(),type=this._advance(),cases=[];this.peek.type===html_lexer_1.HtmlTokenType.EXPANSION_CASE_VALUE;){var expCase=this._parseExpansionCase();if(lang_1.isBlank(expCase))return;cases.push(expCase)}if(this.peek.type!==html_lexer_1.HtmlTokenType.EXPANSION_FORM_END)return void this.errors.push(HtmlTreeError.create(null,this.peek.sourceSpan,"Invalid expansion form. Missing '}'."));this._advance();var mainSourceSpan=new parse_util_1.ParseSourceSpan(token.sourceSpan.start,this.peek.sourceSpan.end);this._addToParent(new html_ast_1.HtmlExpansionAst(switchValue.parts[0],type.parts[0],cases,mainSourceSpan,switchValue.sourceSpan))},TreeBuilder.prototype._parseExpansionCase=function(){var value=this._advance();if(this.peek.type!==html_lexer_1.HtmlTokenType.EXPANSION_CASE_EXP_START)return this.errors.push(HtmlTreeError.create(null,this.peek.sourceSpan,"Invalid expansion form. Missing '{'.,")),null;var start=this._advance(),exp=this._collectExpansionExpTokens(start);if(lang_1.isBlank(exp))return null;var end=this._advance();exp.push(new html_lexer_1.HtmlToken(html_lexer_1.HtmlTokenType.EOF,[],end.sourceSpan));var parsedExp=new TreeBuilder(exp).build();if(parsedExp.errors.length>0)return this.errors=this.errors.concat(parsedExp.errors),null;var sourceSpan=new parse_util_1.ParseSourceSpan(value.sourceSpan.start,end.sourceSpan.end),expSourceSpan=new parse_util_1.ParseSourceSpan(start.sourceSpan.start,end.sourceSpan.end);return new html_ast_1.HtmlExpansionCaseAst(value.parts[0],parsedExp.rootNodes,sourceSpan,value.sourceSpan,expSourceSpan)},TreeBuilder.prototype._collectExpansionExpTokens=function(start){for(var exp=[],expansionFormStack=[html_lexer_1.HtmlTokenType.EXPANSION_CASE_EXP_START];;){if(this.peek.type!==html_lexer_1.HtmlTokenType.EXPANSION_FORM_START&&this.peek.type!==html_lexer_1.HtmlTokenType.EXPANSION_CASE_EXP_START||expansionFormStack.push(this.peek.type),this.peek.type===html_lexer_1.HtmlTokenType.EXPANSION_CASE_EXP_END){if(!lastOnStack(expansionFormStack,html_lexer_1.HtmlTokenType.EXPANSION_CASE_EXP_START))return this.errors.push(HtmlTreeError.create(null,start.sourceSpan,"Invalid expansion form. Missing '}'.")),null;if(expansionFormStack.pop(),0==expansionFormStack.length)return exp}if(this.peek.type===html_lexer_1.HtmlTokenType.EXPANSION_FORM_END){if(!lastOnStack(expansionFormStack,html_lexer_1.HtmlTokenType.EXPANSION_FORM_START))return this.errors.push(HtmlTreeError.create(null,start.sourceSpan,"Invalid expansion form. Missing '}'.")),null;expansionFormStack.pop()}if(this.peek.type===html_lexer_1.HtmlTokenType.EOF)return this.errors.push(HtmlTreeError.create(null,start.sourceSpan,"Invalid expansion form. Missing '}'.")),null;exp.push(this._advance())}},TreeBuilder.prototype._consumeText=function(token){var text=token.parts[0];if(text.length>0&&"\n"==text[0]){var parent_1=this._getParentElement();lang_1.isPresent(parent_1)&&0==parent_1.children.length&&html_tags_1.getHtmlTagDefinition(parent_1.name).ignoreFirstLf&&(text=text.substring(1))}text.length>0&&this._addToParent(new html_ast_1.HtmlTextAst(text,token.sourceSpan))},TreeBuilder.prototype._closeVoidElement=function(){if(this.elementStack.length>0){var el=collection_1.ListWrapper.last(this.elementStack);html_tags_1.getHtmlTagDefinition(el.name).isVoid&&this.elementStack.pop()}},TreeBuilder.prototype._consumeStartTag=function(startTagToken){for(var prefix=startTagToken.parts[0],name=startTagToken.parts[1],attrs=[];this.peek.type===html_lexer_1.HtmlTokenType.ATTR_NAME;)attrs.push(this._consumeAttr(this._advance()));var fullName=getElementFullName(prefix,name,this._getParentElement()),selfClosing=!1;this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_END_VOID?(this._advance(),selfClosing=!0,null!=html_tags_1.getNsPrefix(fullName)||html_tags_1.getHtmlTagDefinition(fullName).isVoid||this.errors.push(HtmlTreeError.create(fullName,startTagToken.sourceSpan,'Only void and foreign elements can be self closed "'+startTagToken.parts[1]+'"'))):this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_END&&(this._advance(),selfClosing=!1);var end=this.peek.sourceSpan.start,span=new parse_util_1.ParseSourceSpan(startTagToken.sourceSpan.start,end),el=new html_ast_1.HtmlElementAst(fullName,attrs,[],span,span,null);this._pushElement(el),selfClosing&&(this._popElement(fullName),el.endSourceSpan=span)},TreeBuilder.prototype._pushElement=function(el){if(this.elementStack.length>0){var parentEl=collection_1.ListWrapper.last(this.elementStack);html_tags_1.getHtmlTagDefinition(parentEl.name).isClosedByChild(el.name)&&this.elementStack.pop()}var tagDef=html_tags_1.getHtmlTagDefinition(el.name),_a=this._getParentElementSkippingContainers(),parent=_a.parent,container=_a.container;if(lang_1.isPresent(parent)&&tagDef.requireExtraParent(parent.name)){var newParent=new html_ast_1.HtmlElementAst(tagDef.parentToAdd,[],[],el.sourceSpan,el.startSourceSpan,el.endSourceSpan);this._insertBeforeContainer(parent,container,newParent)}this._addToParent(el),this.elementStack.push(el)},TreeBuilder.prototype._consumeEndTag=function(endTagToken){var fullName=getElementFullName(endTagToken.parts[0],endTagToken.parts[1],this._getParentElement());this._getParentElement()&&(this._getParentElement().endSourceSpan=endTagToken.sourceSpan),html_tags_1.getHtmlTagDefinition(fullName).isVoid?this.errors.push(HtmlTreeError.create(fullName,endTagToken.sourceSpan,'Void elements do not have end tags "'+endTagToken.parts[1]+'"')):this._popElement(fullName)||this.errors.push(HtmlTreeError.create(fullName,endTagToken.sourceSpan,'Unexpected closing tag "'+endTagToken.parts[1]+'"'))},TreeBuilder.prototype._popElement=function(fullName){for(var stackIndex=this.elementStack.length-1;stackIndex>=0;stackIndex--){var el=this.elementStack[stackIndex];if(el.name==fullName)return collection_1.ListWrapper.splice(this.elementStack,stackIndex,this.elementStack.length-stackIndex),!0;if(!html_tags_1.getHtmlTagDefinition(el.name).closedByParent)return!1}return!1},TreeBuilder.prototype._consumeAttr=function(attrName){var fullName=html_tags_1.mergeNsAndName(attrName.parts[0],attrName.parts[1]),end=attrName.sourceSpan.end,value="";if(this.peek.type===html_lexer_1.HtmlTokenType.ATTR_VALUE){var valueToken=this._advance();value=valueToken.parts[0],end=valueToken.sourceSpan.end}return new html_ast_1.HtmlAttrAst(fullName,value,new parse_util_1.ParseSourceSpan(attrName.sourceSpan.start,end))},TreeBuilder.prototype._getParentElement=function(){return this.elementStack.length>0?collection_1.ListWrapper.last(this.elementStack):null},TreeBuilder.prototype._getParentElementSkippingContainers=function(){for(var container=null,i=this.elementStack.length-1;i>=0;i--){if("ng-container"!==this.elementStack[i].name)return{parent:this.elementStack[i],container:container};container=this.elementStack[i]}return{parent:collection_1.ListWrapper.last(this.elementStack),container:container}},TreeBuilder.prototype._addToParent=function(node){var parent=this._getParentElement();lang_1.isPresent(parent)?parent.children.push(node):this.rootNodes.push(node)},TreeBuilder.prototype._insertBeforeContainer=function(parent,container,node){if(container){if(parent){var index=parent.children.indexOf(container);parent.children[index]=node}else this.rootNodes.push(node);node.children.push(container),this.elementStack.splice(this.elementStack.indexOf(container),0,node)}else this._addToParent(node),this.elementStack.push(node)},TreeBuilder}()},{"../src/facade/collection":105,"../src/facade/lang":108,"./html_ast":111,"./html_lexer":112,"./html_tags":114,"./parse_util":134,"@angular/core":167}],114:[function(require,module,exports){"use strict";function getHtmlTagDefinition(tagName){var result=TAG_DEFINITIONS[tagName.toLowerCase()];return lang_1.isPresent(result)?result:DEFAULT_TAG_DEFINITION}function splitNsName(elementName){if(":"!=elementName[0])return[null,elementName];var match=lang_1.RegExpWrapper.firstMatch(NS_PREFIX_RE,elementName);return[match[1],match[2]]}function getNsPrefix(elementName){return splitNsName(elementName)[0]}function mergeNsAndName(prefix,localName){return lang_1.isPresent(prefix)?":"+prefix+":"+localName:localName}var lang_1=require("../src/facade/lang");exports.NAMED_ENTITIES={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞","int":"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌"},function(HtmlTagContentType){HtmlTagContentType[HtmlTagContentType.RAW_TEXT=0]="RAW_TEXT",HtmlTagContentType[HtmlTagContentType.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",HtmlTagContentType[HtmlTagContentType.PARSABLE_DATA=2]="PARSABLE_DATA"}(exports.HtmlTagContentType||(exports.HtmlTagContentType={}));var HtmlTagContentType=exports.HtmlTagContentType,HtmlTagDefinition=function(){function HtmlTagDefinition(_a){var _this=this,_b=void 0===_a?{}:_a,closedByChildren=_b.closedByChildren,requiredParents=_b.requiredParents,implicitNamespacePrefix=_b.implicitNamespacePrefix,contentType=_b.contentType,closedByParent=_b.closedByParent,isVoid=_b.isVoid,ignoreFirstLf=_b.ignoreFirstLf;this.closedByChildren={},this.closedByParent=!1,lang_1.isPresent(closedByChildren)&&closedByChildren.length>0&&closedByChildren.forEach(function(tagName){return _this.closedByChildren[tagName]=!0}),this.isVoid=lang_1.normalizeBool(isVoid),this.closedByParent=lang_1.normalizeBool(closedByParent)||this.isVoid,lang_1.isPresent(requiredParents)&&requiredParents.length>0&&(this.requiredParents={},this.parentToAdd=requiredParents[0],requiredParents.forEach(function(tagName){return _this.requiredParents[tagName]=!0})),this.implicitNamespacePrefix=implicitNamespacePrefix,this.contentType=lang_1.isPresent(contentType)?contentType:HtmlTagContentType.PARSABLE_DATA,this.ignoreFirstLf=lang_1.normalizeBool(ignoreFirstLf)}return HtmlTagDefinition.prototype.requireExtraParent=function(currentParent){if(lang_1.isBlank(this.requiredParents))return!1;if(lang_1.isBlank(currentParent))return!0;var lcParent=currentParent.toLowerCase();return 1!=this.requiredParents[lcParent]&&"template"!=lcParent},HtmlTagDefinition.prototype.isClosedByChild=function(name){return this.isVoid||lang_1.normalizeBool(this.closedByChildren[name.toLowerCase()])},HtmlTagDefinition}();exports.HtmlTagDefinition=HtmlTagDefinition;var TAG_DEFINITIONS={base:new HtmlTagDefinition({isVoid:!0}),meta:new HtmlTagDefinition({isVoid:!0}),area:new HtmlTagDefinition({isVoid:!0}),embed:new HtmlTagDefinition({isVoid:!0}),link:new HtmlTagDefinition({isVoid:!0}),img:new HtmlTagDefinition({isVoid:!0}),input:new HtmlTagDefinition({isVoid:!0}),param:new HtmlTagDefinition({isVoid:!0}),hr:new HtmlTagDefinition({isVoid:!0}),br:new HtmlTagDefinition({isVoid:!0}),source:new HtmlTagDefinition({isVoid:!0}),track:new HtmlTagDefinition({isVoid:!0}),wbr:new HtmlTagDefinition({isVoid:!0}),p:new HtmlTagDefinition({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"]}),tbody:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new HtmlTagDefinition({closedByChildren:["tbody"],closedByParent:!0}),tr:new HtmlTagDefinition({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),th:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),col:new HtmlTagDefinition({requiredParents:["colgroup"],isVoid:!0}),svg:new HtmlTagDefinition({implicitNamespacePrefix:"svg"}),math:new HtmlTagDefinition({implicitNamespacePrefix:"math"}),li:new HtmlTagDefinition({closedByChildren:["li"],closedByParent:!0}),dt:new HtmlTagDefinition({closedByChildren:["dt","dd"]}),dd:new HtmlTagDefinition({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new HtmlTagDefinition({closedByChildren:["rb","rtc","rp"],closedByParent:!0
}),rp:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new HtmlTagDefinition({closedByChildren:["optgroup"],closedByParent:!0}),option:new HtmlTagDefinition({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new HtmlTagDefinition({ignoreFirstLf:!0}),listing:new HtmlTagDefinition({ignoreFirstLf:!0}),style:new HtmlTagDefinition({contentType:HtmlTagContentType.RAW_TEXT}),script:new HtmlTagDefinition({contentType:HtmlTagContentType.RAW_TEXT}),title:new HtmlTagDefinition({contentType:HtmlTagContentType.ESCAPABLE_RAW_TEXT}),textarea:new HtmlTagDefinition({contentType:HtmlTagContentType.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},DEFAULT_TAG_DEFINITION=new HtmlTagDefinition;exports.getHtmlTagDefinition=getHtmlTagDefinition;var NS_PREFIX_RE=/^:([^:]+):(.+)/g;exports.splitNsName=splitNsName,exports.getNsPrefix=getNsPrefix,exports.mergeNsAndName=mergeNsAndName},{"../src/facade/lang":108}],115:[function(require,module,exports){"use strict";function expandNodes(nodes){var expander=new _Expander;return new ExpansionResult(html_ast_1.htmlVisitAll(expander,nodes),expander.isExpanded,expander.errors)}function _expandPluralForm(ast,errors){var children=ast.cases.map(function(c){PLURAL_CASES.indexOf(c.value)!=-1||c.value.match(/^=\d+$/)||errors.push(new shared_1.I18nError(c.valueSourceSpan,'Plural cases should be "=<number>" or one of '+PLURAL_CASES.join(", ")));var expansionResult=expandNodes(c.expression);return errors.push.apply(errors,expansionResult.errors),new html_ast_1.HtmlElementAst("template",[new html_ast_1.HtmlAttrAst("ngPluralCase",""+c.value,c.valueSourceSpan)],expansionResult.nodes,c.sourceSpan,c.sourceSpan,c.sourceSpan)}),switchAttr=new html_ast_1.HtmlAttrAst("[ngPlural]",ast.switchValue,ast.switchValueSourceSpan);return new html_ast_1.HtmlElementAst("ng-container",[switchAttr],children,ast.sourceSpan,ast.sourceSpan,ast.sourceSpan)}function _expandDefaultForm(ast,errors){var children=ast.cases.map(function(c){var expansionResult=expandNodes(c.expression);return errors.push.apply(errors,expansionResult.errors),new html_ast_1.HtmlElementAst("template",[new html_ast_1.HtmlAttrAst("ngSwitchCase",""+c.value,c.valueSourceSpan)],expansionResult.nodes,c.sourceSpan,c.sourceSpan,c.sourceSpan)}),switchAttr=new html_ast_1.HtmlAttrAst("[ngSwitch]",ast.switchValue,ast.switchValueSourceSpan);return new html_ast_1.HtmlElementAst("ng-container",[switchAttr],children,ast.sourceSpan,ast.sourceSpan,ast.sourceSpan)}var exceptions_1=require("../facade/exceptions"),html_ast_1=require("../html_ast"),shared_1=require("./shared"),PLURAL_CASES=["zero","one","two","few","many","other"];exports.expandNodes=expandNodes;var ExpansionResult=function(){function ExpansionResult(nodes,expanded,errors){this.nodes=nodes,this.expanded=expanded,this.errors=errors}return ExpansionResult}();exports.ExpansionResult=ExpansionResult;var _Expander=function(){function _Expander(){this.isExpanded=!1,this.errors=[]}return _Expander.prototype.visitElement=function(ast,context){return new html_ast_1.HtmlElementAst(ast.name,ast.attrs,html_ast_1.htmlVisitAll(this,ast.children),ast.sourceSpan,ast.startSourceSpan,ast.endSourceSpan)},_Expander.prototype.visitAttr=function(ast,context){return ast},_Expander.prototype.visitText=function(ast,context){return ast},_Expander.prototype.visitComment=function(ast,context){return ast},_Expander.prototype.visitExpansion=function(ast,context){return this.isExpanded=!0,"plural"==ast.type?_expandPluralForm(ast,this.errors):_expandDefaultForm(ast,this.errors)},_Expander.prototype.visitExpansionCase=function(ast,context){throw new exceptions_1.BaseException("Should not be reached")},_Expander}()},{"../facade/exceptions":107,"../html_ast":111,"./shared":119}],116:[function(require,module,exports){"use strict";var collection_1=require("../facade/collection"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),html_ast_1=require("../html_ast"),html_parser_1=require("../html_parser"),interpolation_config_1=require("../interpolation_config"),expander_1=require("./expander"),message_1=require("./message"),shared_1=require("./shared"),_PLACEHOLDER_ELEMENT="ph",_NAME_ATTR="name",_PLACEHOLDER_EXPANDED_REGEXP=/<ph(\s)+name=("(\w)+")><\/ph>/gi,I18nHtmlParser=function(){function I18nHtmlParser(_htmlParser,_parser,_messagesContent,_messages,_implicitTags,_implicitAttrs){this._htmlParser=_htmlParser,this._parser=_parser,this._messagesContent=_messagesContent,this._messages=_messages,this._implicitTags=_implicitTags,this._implicitAttrs=_implicitAttrs}return I18nHtmlParser.prototype.parse=function(sourceContent,sourceUrl,parseExpansionForms,interpolationConfig){void 0===parseExpansionForms&&(parseExpansionForms=!1),void 0===interpolationConfig&&(interpolationConfig=interpolation_config_1.DEFAULT_INTERPOLATION_CONFIG),this.errors=[],this._interpolationConfig=interpolationConfig;var res=this._htmlParser.parse(sourceContent,sourceUrl,!0);if(res.errors.length>0)return res;var expanded=expander_1.expandNodes(res.rootNodes),nodes=this._recurse(expanded.nodes);return(_a=this.errors).push.apply(_a,expanded.errors),this.errors.length>0?new html_parser_1.HtmlParseTreeResult([],this.errors):new html_parser_1.HtmlParseTreeResult(nodes,[]);var _a},I18nHtmlParser.prototype._processI18nPart=function(part){try{return part.hasI18n?this._mergeI18Part(part):this._recurseIntoI18nPart(part)}catch(e){if(e instanceof shared_1.I18nError)return this.errors.push(e),[];throw e}},I18nHtmlParser.prototype._mergeI18Part=function(part){var message=part.createMessage(this._parser,this._interpolationConfig),messageId=message_1.id(message);if(!collection_1.StringMapWrapper.contains(this._messages,messageId))throw new shared_1.I18nError(part.sourceSpan,"Cannot find message for id '"+messageId+"', content '"+message.content+"'.");var parsedMessage=this._messages[messageId];return this._mergeTrees(part,parsedMessage,part.children)},I18nHtmlParser.prototype._recurseIntoI18nPart=function(p){if(lang_1.isPresent(p.rootElement)){var root=p.rootElement,children=this._recurse(p.children),attrs=this._i18nAttributes(root);return[new html_ast_1.HtmlElementAst(root.name,attrs,children,root.sourceSpan,root.startSourceSpan,root.endSourceSpan)]}return lang_1.isPresent(p.rootTextNode)?[p.rootTextNode]:this._recurse(p.children)},I18nHtmlParser.prototype._recurse=function(nodes){var _this=this,parts=shared_1.partition(nodes,this.errors,this._implicitTags);return collection_1.ListWrapper.flatten(parts.map(function(p){return _this._processI18nPart(p)}))},I18nHtmlParser.prototype._mergeTrees=function(p,translated,original){var l=new _CreateNodeMapping;html_ast_1.htmlVisitAll(l,original);var merged=this._mergeTreesHelper(translated,l.mapping);if(lang_1.isPresent(p.rootElement)){var root=p.rootElement,attrs=this._i18nAttributes(root);return[new html_ast_1.HtmlElementAst(root.name,attrs,merged,root.sourceSpan,root.startSourceSpan,root.endSourceSpan)]}if(lang_1.isPresent(p.rootTextNode))throw new exceptions_1.BaseException("should not be reached");return merged},I18nHtmlParser.prototype._mergeTreesHelper=function(translated,mapping){var _this=this;return translated.map(function(t){if(t instanceof html_ast_1.HtmlElementAst)return _this._mergeElementOrInterpolation(t,translated,mapping);if(t instanceof html_ast_1.HtmlTextAst)return t;throw new exceptions_1.BaseException("should not be reached")})},I18nHtmlParser.prototype._mergeElementOrInterpolation=function(t,translated,mapping){var name=this._getName(t),type=name[0],index=lang_1.NumberWrapper.parseInt(name.substring(1),10),originalNode=mapping[index];if("t"==type)return this._mergeTextInterpolation(t,originalNode);if("e"==type)return this._mergeElement(t,originalNode,mapping);throw new exceptions_1.BaseException("should not be reached")},I18nHtmlParser.prototype._getName=function(t){if(t.name!=_PLACEHOLDER_ELEMENT)throw new shared_1.I18nError(t.sourceSpan,'Unexpected tag "'+t.name+'". Only "'+_PLACEHOLDER_ELEMENT+'" tags are allowed.');var names=t.attrs.filter(function(a){return a.name==_NAME_ATTR});if(0==names.length)throw new shared_1.I18nError(t.sourceSpan,'Missing "'+_NAME_ATTR+'" attribute.');return names[0].value},I18nHtmlParser.prototype._mergeTextInterpolation=function(t,originalNode){var split=this._parser.splitInterpolation(originalNode.value,originalNode.sourceSpan.toString(),this._interpolationConfig),exps=lang_1.isPresent(split)?split.expressions:[],messageSubstring=this._messagesContent.substring(t.startSourceSpan.end.offset,t.endSourceSpan.start.offset),translated=this._replacePlaceholdersWithExpressions(messageSubstring,exps,originalNode.sourceSpan);return new html_ast_1.HtmlTextAst(translated,originalNode.sourceSpan)},I18nHtmlParser.prototype._mergeElement=function(t,originalNode,mapping){var children=this._mergeTreesHelper(t.children,mapping);return new html_ast_1.HtmlElementAst(originalNode.name,this._i18nAttributes(originalNode),children,originalNode.sourceSpan,originalNode.startSourceSpan,originalNode.endSourceSpan)},I18nHtmlParser.prototype._i18nAttributes=function(el){var _this=this,res=[],implicitAttrs=lang_1.isPresent(this._implicitAttrs[el.name])?this._implicitAttrs[el.name]:[];return el.attrs.forEach(function(attr){if(!attr.name.startsWith(shared_1.I18N_ATTR_PREFIX)&&attr.name!=shared_1.I18N_ATTR){var message,i18ns=el.attrs.filter(function(a){return a.name==""+shared_1.I18N_ATTR_PREFIX+attr.name});if(0==i18ns.length){if(implicitAttrs.indexOf(attr.name)==-1)return void res.push(attr);message=shared_1.messageFromAttribute(_this._parser,_this._interpolationConfig,attr)}else message=shared_1.messageFromI18nAttribute(_this._parser,_this._interpolationConfig,el,i18ns[0]);var messageId=message_1.id(message);if(!collection_1.StringMapWrapper.contains(_this._messages,messageId))throw new shared_1.I18nError(attr.sourceSpan,"Cannot find message for id '"+messageId+"', content '"+message.content+"'.");var updatedMessage=_this._replaceInterpolationInAttr(attr,_this._messages[messageId]);res.push(new html_ast_1.HtmlAttrAst(attr.name,updatedMessage,attr.sourceSpan))}}),res},I18nHtmlParser.prototype._replaceInterpolationInAttr=function(attr,msg){var split=this._parser.splitInterpolation(attr.value,attr.sourceSpan.toString(),this._interpolationConfig),exps=lang_1.isPresent(split)?split.expressions:[],first=msg[0],last=msg[msg.length-1],start=first.sourceSpan.start.offset,end=last instanceof html_ast_1.HtmlElementAst?last.endSourceSpan.end.offset:last.sourceSpan.end.offset,messageSubstring=this._messagesContent.substring(start,end);return this._replacePlaceholdersWithExpressions(messageSubstring,exps,attr.sourceSpan)},I18nHtmlParser.prototype._replacePlaceholdersWithExpressions=function(message,exps,sourceSpan){var _this=this,expMap=this._buildExprMap(exps);return lang_1.RegExpWrapper.replaceAll(_PLACEHOLDER_EXPANDED_REGEXP,message,function(match){var nameWithQuotes=match[2],name=nameWithQuotes.substring(1,nameWithQuotes.length-1);return _this._convertIntoExpression(name,expMap,sourceSpan)})},I18nHtmlParser.prototype._buildExprMap=function(exps){for(var expMap=new Map,usedNames=new Map,i=0;i<exps.length;i++){var phName=shared_1.getPhNameFromBinding(exps[i],i);expMap.set(shared_1.dedupePhName(usedNames,phName),exps[i])}return expMap},I18nHtmlParser.prototype._convertIntoExpression=function(name,expMap,sourceSpan){if(expMap.has(name))return""+this._interpolationConfig.start+expMap.get(name)+this._interpolationConfig.end;throw new shared_1.I18nError(sourceSpan,"Invalid interpolation name '"+name+"'")},I18nHtmlParser}();exports.I18nHtmlParser=I18nHtmlParser;var _CreateNodeMapping=function(){function _CreateNodeMapping(){this.mapping=[]}return _CreateNodeMapping.prototype.visitElement=function(ast,context){return this.mapping.push(ast),html_ast_1.htmlVisitAll(this,ast.children),null},_CreateNodeMapping.prototype.visitAttr=function(ast,context){return null},_CreateNodeMapping.prototype.visitText=function(ast,context){return this.mapping.push(ast),null},_CreateNodeMapping.prototype.visitExpansion=function(ast,context){return null},_CreateNodeMapping.prototype.visitExpansionCase=function(ast,context){return null},_CreateNodeMapping.prototype.visitComment=function(ast,context){return""},_CreateNodeMapping}()},{"../facade/collection":105,"../facade/exceptions":107,"../facade/lang":108,"../html_ast":111,"../html_parser":113,"../interpolation_config":122,"./expander":115,"./message":117,"./shared":119}],117:[function(require,module,exports){"use strict";function id(m){var meaning=lang_1.isPresent(m.meaning)?m.meaning:"",content=lang_1.isPresent(m.content)?m.content:"";return lang_1.escape("$ng|"+meaning+"|"+content)}var lang_1=require("../facade/lang"),Message=function(){function Message(content,meaning,description){void 0===description&&(description=null),this.content=content,this.meaning=meaning,this.description=description}return Message}();exports.Message=Message,exports.id=id},{"../facade/lang":108}],118:[function(require,module,exports){"use strict";function removeDuplicates(messages){var uniq={};return messages.forEach(function(m){collection_1.StringMapWrapper.contains(uniq,message_1.id(m))||(uniq[message_1.id(m)]=m)}),collection_1.StringMapWrapper.values(uniq)}var collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),html_ast_1=require("../html_ast"),interpolation_config_1=require("../interpolation_config"),message_1=require("./message"),shared_1=require("./shared"),ExtractionResult=function(){function ExtractionResult(messages,errors){this.messages=messages,this.errors=errors}return ExtractionResult}();exports.ExtractionResult=ExtractionResult,exports.removeDuplicates=removeDuplicates;var MessageExtractor=function(){function MessageExtractor(_htmlParser,_parser,_implicitTags,_implicitAttrs){this._htmlParser=_htmlParser,this._parser=_parser,this._implicitTags=_implicitTags,this._implicitAttrs=_implicitAttrs}return MessageExtractor.prototype.extract=function(template,sourceUrl,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=interpolation_config_1.DEFAULT_INTERPOLATION_CONFIG),this._messages=[],this._errors=[];var res=this._htmlParser.parse(template,sourceUrl,!0);return 0==res.errors.length&&this._recurse(res.rootNodes,interpolationConfig),new ExtractionResult(this._messages,this._errors.concat(res.errors))},MessageExtractor.prototype._extractMessagesFromPart=function(part,interpolationConfig){part.hasI18n?(this._messages.push(part.createMessage(this._parser,interpolationConfig)),this._recurseToExtractMessagesFromAttributes(part.children,interpolationConfig)):this._recurse(part.children,interpolationConfig),lang_1.isPresent(part.rootElement)&&this._extractMessagesFromAttributes(part.rootElement,interpolationConfig)},MessageExtractor.prototype._recurse=function(nodes,interpolationConfig){var _this=this;if(lang_1.isPresent(nodes)){var parts=shared_1.partition(nodes,this._errors,this._implicitTags);parts.forEach(function(part){return _this._extractMessagesFromPart(part,interpolationConfig)})}},MessageExtractor.prototype._recurseToExtractMessagesFromAttributes=function(nodes,interpolationConfig){var _this=this;nodes.forEach(function(n){n instanceof html_ast_1.HtmlElementAst&&(_this._extractMessagesFromAttributes(n,interpolationConfig),_this._recurseToExtractMessagesFromAttributes(n.children,interpolationConfig))})},MessageExtractor.prototype._extractMessagesFromAttributes=function(p,interpolationConfig){var _this=this,transAttrs=lang_1.isPresent(this._implicitAttrs[p.name])?this._implicitAttrs[p.name]:[],explicitAttrs=[];p.attrs.filter(function(attr){return attr.name.startsWith(shared_1.I18N_ATTR_PREFIX)}).forEach(function(attr){try{explicitAttrs.push(attr.name.substring(shared_1.I18N_ATTR_PREFIX.length)),_this._messages.push(shared_1.messageFromI18nAttribute(_this._parser,interpolationConfig,p,attr))}catch(e){if(!(e instanceof shared_1.I18nError))throw e;_this._errors.push(e)}}),p.attrs.filter(function(attr){return!attr.name.startsWith(shared_1.I18N_ATTR_PREFIX)}).filter(function(attr){return explicitAttrs.indexOf(attr.name)==-1}).filter(function(attr){return transAttrs.indexOf(attr.name)>-1}).forEach(function(attr){return _this._messages.push(shared_1.messageFromAttribute(_this._parser,interpolationConfig,attr))})},MessageExtractor}();exports.MessageExtractor=MessageExtractor},{"../facade/collection":105,"../facade/lang":108,"../html_ast":111,"../interpolation_config":122,"./message":117,"./shared":119}],119:[function(require,module,exports){"use strict";function partition(nodes,errors,implicitTags){for(var parts=[],i=0;i<nodes.length;++i){var node=nodes[i],msgNodes=[];if(_isOpeningComment(node)){for(var i18n=node.value.replace(/^i18n:?/,"").trim();++i<nodes.length&&!_isClosingComment(nodes[i]);)msgNodes.push(nodes[i]);if(i===nodes.length){errors.push(new I18nError(node.sourceSpan,"Missing closing 'i18n' comment."));break}parts.push(new Part(null,null,msgNodes,i18n,(!0)))}else if(node instanceof html_ast_1.HtmlElementAst){var i18n=_findI18nAttr(node),hasI18n=lang_1.isPresent(i18n)||implicitTags.indexOf(node.name)>-1;parts.push(new Part(node,null,node.children,lang_1.isPresent(i18n)?i18n.value:null,hasI18n))}else node instanceof html_ast_1.HtmlTextAst&&parts.push(new Part(null,node,null,null,(!1)))}return parts}function _isOpeningComment(n){return n instanceof html_ast_1.HtmlCommentAst&&lang_1.isPresent(n.value)&&n.value.startsWith("i18n")}function _isClosingComment(n){return n instanceof html_ast_1.HtmlCommentAst&&lang_1.isPresent(n.value)&&"/i18n"===n.value}function _findI18nAttr(p){for(var attrs=p.attrs,i=0;i<attrs.length;i++)if(attrs[i].name===exports.I18N_ATTR)return attrs[i];return null}function meaning(i18n){return lang_1.isBlank(i18n)||""==i18n?null:i18n.split("|")[0]}function description(i18n){if(lang_1.isBlank(i18n)||""==i18n)return null;var parts=i18n.split("|",2);return parts.length>1?parts[1]:null}function messageFromI18nAttribute(parser,interpolationConfig,p,i18nAttr){var expectedName=i18nAttr.name.substring(5),attr=p.attrs.find(function(a){return a.name==expectedName});if(attr)return messageFromAttribute(parser,interpolationConfig,attr,meaning(i18nAttr.value),description(i18nAttr.value));throw new I18nError(p.sourceSpan,"Missing attribute '"+expectedName+"'.")}function messageFromAttribute(parser,interpolationConfig,attr,meaning,description){void 0===meaning&&(meaning=null),void 0===description&&(description=null);var value=removeInterpolation(attr.value,attr.sourceSpan,parser,interpolationConfig);return new message_1.Message(value,meaning,description)}function removeInterpolation(value,source,parser,interpolationConfig){try{var parsed=parser.splitInterpolation(value,source.toString(),interpolationConfig),usedNames=new Map;if(lang_1.isPresent(parsed)){for(var res="",i=0;i<parsed.strings.length;++i)if(res+=parsed.strings[i],i!=parsed.strings.length-1){var customPhName=getPhNameFromBinding(parsed.expressions[i],i);customPhName=dedupePhName(usedNames,customPhName),res+='<ph name="'+customPhName+'"/>'}return res}return value}catch(e){return value}}function getPhNameFromBinding(input,index){var customPhMatch=lang_1.StringWrapper.split(input,CUSTOM_PH_EXP);return customPhMatch.length>1?customPhMatch[1]:""+index}function dedupePhName(usedNames,name){var duplicateNameCount=usedNames.get(name);return lang_1.isPresent(duplicateNameCount)?(usedNames.set(name,duplicateNameCount+1),name+"_"+duplicateNameCount):(usedNames.set(name,1),name)}function stringifyNodes(nodes,parser,interpolationConfig){var visitor=new _StringifyVisitor(parser,interpolationConfig);return html_ast_1.htmlVisitAll(visitor,nodes).join("")}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=require("../facade/lang"),html_ast_1=require("../html_ast"),parse_util_1=require("../parse_util"),message_1=require("./message");exports.I18N_ATTR="i18n",exports.I18N_ATTR_PREFIX="i18n-";var CUSTOM_PH_EXP=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*"([\s\S]*?)"[\s\S]*\)/g,I18nError=function(_super){function I18nError(span,msg){_super.call(this,span,msg)}return __extends(I18nError,_super),I18nError}(parse_util_1.ParseError);exports.I18nError=I18nError,exports.partition=partition;var Part=function(){function Part(rootElement,rootTextNode,children,i18n,hasI18n){this.rootElement=rootElement,this.rootTextNode=rootTextNode,this.children=children,this.i18n=i18n,this.hasI18n=hasI18n}return Object.defineProperty(Part.prototype,"sourceSpan",{get:function(){return lang_1.isPresent(this.rootElement)?this.rootElement.sourceSpan:lang_1.isPresent(this.rootTextNode)?this.rootTextNode.sourceSpan:this.children[0].sourceSpan},enumerable:!0,configurable:!0}),Part.prototype.createMessage=function(parser,interpolationConfig){return new message_1.Message(stringifyNodes(this.children,parser,interpolationConfig),meaning(this.i18n),description(this.i18n))},Part}();exports.Part=Part,exports.meaning=meaning,exports.description=description,exports.messageFromI18nAttribute=messageFromI18nAttribute,exports.messageFromAttribute=messageFromAttribute,exports.removeInterpolation=removeInterpolation,exports.getPhNameFromBinding=getPhNameFromBinding,exports.dedupePhName=dedupePhName,exports.stringifyNodes=stringifyNodes;var _StringifyVisitor=function(){function _StringifyVisitor(_parser,_interpolationConfig){this._parser=_parser,this._interpolationConfig=_interpolationConfig,this._index=0}return _StringifyVisitor.prototype.visitElement=function(ast,context){var name=this._index++,children=this._join(html_ast_1.htmlVisitAll(this,ast.children),"");return'<ph name="e'+name+'">'+children+"</ph>"},_StringifyVisitor.prototype.visitAttr=function(ast,context){return null},_StringifyVisitor.prototype.visitText=function(ast,context){var index=this._index++,noInterpolation=removeInterpolation(ast.value,ast.sourceSpan,this._parser,this._interpolationConfig);return noInterpolation!=ast.value?'<ph name="t'+index+'">'+noInterpolation+"</ph>":ast.value},_StringifyVisitor.prototype.visitComment=function(ast,context){return""},_StringifyVisitor.prototype.visitExpansion=function(ast,context){return null},_StringifyVisitor.prototype.visitExpansionCase=function(ast,context){return null},_StringifyVisitor.prototype._join=function(strs,str){return strs.filter(function(s){return s.length>0}).join(str)},_StringifyVisitor}()},{"../facade/lang":108,"../html_ast":111,"../parse_util":134,"./message":117}],120:[function(require,module,exports){"use strict";function serializeXmb(messages){var ms=messages.map(function(m){return _serializeMessage(m)}).join("");return"<message-bundle>"+ms+"</message-bundle>"}function deserializeXmb(content,url){var parser=new html_parser_1.HtmlParser,normalizedContent=_expandPlaceholder(content.trim()),parsed=parser.parse(normalizedContent,url);if(parsed.errors.length>0)return new XmbDeserializationResult(null,{},parsed.errors);if(_checkRootElement(parsed.rootNodes))return new XmbDeserializationResult(null,{},[new XmbDeserializationError(null,'Missing element "'+_BUNDLE_ELEMENT+'"')]);var bundleEl=parsed.rootNodes[0],errors=[],messages={};return _createMessages(bundleEl.children,messages,errors),0==errors.length?new XmbDeserializationResult(normalizedContent,messages,[]):new XmbDeserializationResult(null,{},errors)}function _checkRootElement(nodes){return nodes.length<1||!(nodes[0]instanceof html_ast_1.HtmlElementAst)||nodes[0].name!=_BUNDLE_ELEMENT}function _createMessages(nodes,messages,errors){nodes.forEach(function(item){if(item instanceof html_ast_1.HtmlElementAst){var msg=item;if(msg.name!=_MSG_ELEMENT)return void errors.push(new XmbDeserializationError(item.sourceSpan,'Unexpected element "'+msg.name+'"'));var id_1=_id(msg);if(lang_1.isBlank(id_1))return void errors.push(new XmbDeserializationError(item.sourceSpan,'"'+_ID_ATTR+'" attribute is missing'));messages[id_1]=msg.children}})}function _id(el){var ids=el.attrs.filter(function(a){return a.name==_ID_ATTR});return ids.length>0?ids[0].value:null}function _serializeMessage(m){var desc=lang_1.isPresent(m.description)?" desc='"+_escapeXml(m.description)+"'":"",meaning=lang_1.isPresent(m.meaning)?" meaning='"+_escapeXml(m.meaning)+"'":"";return"<msg id='"+message_1.id(m)+"'"+desc+meaning+">"+m.content+"</msg>"}function _expandPlaceholder(input){return lang_1.RegExpWrapper.replaceAll(_PLACEHOLDER_REGEXP,input,function(match){var nameWithQuotes=match[2];return"<ph name="+nameWithQuotes+"></ph>"})}function _escapeXml(value){return _XML_ESCAPED_CHARS.reduce(function(value,escape){return value.replace(escape[0],escape[1])},value)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=require("../facade/lang"),html_ast_1=require("../html_ast"),html_parser_1=require("../html_parser"),parse_util_1=require("../parse_util"),message_1=require("./message"),_PLACEHOLDER_REGEXP=lang_1.RegExpWrapper.create('\\<ph(\\s)+name=("(\\w)+")\\/\\>'),_ID_ATTR="id",_MSG_ELEMENT="msg",_BUNDLE_ELEMENT="message-bundle";exports.serializeXmb=serializeXmb;var XmbDeserializationResult=function(){function XmbDeserializationResult(content,messages,errors){this.content=content,this.messages=messages,this.errors=errors}return XmbDeserializationResult}();exports.XmbDeserializationResult=XmbDeserializationResult;var XmbDeserializationError=function(_super){function XmbDeserializationError(span,msg){_super.call(this,span,msg)}return __extends(XmbDeserializationError,_super),XmbDeserializationError}(parse_util_1.ParseError);exports.XmbDeserializationError=XmbDeserializationError,exports.deserializeXmb=deserializeXmb;var _XML_ESCAPED_CHARS=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]]},{"../facade/lang":108,"../html_ast":111,"../html_parser":113,"../parse_util":134,"./message":117}],121:[function(require,module,exports){"use strict";function identifierToken(identifier){return new compile_metadata_1.CompileTokenMetadata({identifier:identifier})}var core_1=require("@angular/core"),core_private_1=require("../core_private"),compile_metadata_1=require("./compile_metadata"),util_1=require("./util"),APP_VIEW_MODULE_URL=util_1.assetUrl("core","linker/view"),VIEW_UTILS_MODULE_URL=util_1.assetUrl("core","linker/view_utils"),CD_MODULE_URL=util_1.assetUrl("core","change_detection/change_detection"),impViewUtils=core_private_1.ViewUtils,impAppView=core_private_1.AppView,impDebugAppView=core_private_1.DebugAppView,impDebugContext=core_private_1.DebugContext,impAppElement=core_private_1.AppElement,impElementRef=core_1.ElementRef,impViewContainerRef=core_1.ViewContainerRef,impChangeDetectorRef=core_1.ChangeDetectorRef,impRenderComponentType=core_1.RenderComponentType,impQueryList=core_1.QueryList,impTemplateRef=core_1.TemplateRef,impTemplateRef_=core_private_1.TemplateRef_,impValueUnwrapper=core_private_1.ValueUnwrapper,impInjector=core_1.Injector,impViewEncapsulation=core_1.ViewEncapsulation,impViewType=core_private_1.ViewType,impChangeDetectionStrategy=core_1.ChangeDetectionStrategy,impStaticNodeDebugInfo=core_private_1.StaticNodeDebugInfo,impRenderer=core_1.Renderer,impSimpleChange=core_1.SimpleChange,impUninitialized=core_private_1.uninitialized,impChangeDetectorStatus=core_private_1.ChangeDetectorStatus,impFlattenNestedViewRenderNodes=core_private_1.flattenNestedViewRenderNodes,impDevModeEqual=core_private_1.devModeEqual,impInterpolate=core_private_1.interpolate,impCheckBinding=core_private_1.checkBinding,impCastByValue=core_private_1.castByValue,impEMPTY_ARRAY=core_private_1.EMPTY_ARRAY,impEMPTY_MAP=core_private_1.EMPTY_MAP,impAnimationGroupPlayer=core_private_1.AnimationGroupPlayer,impAnimationSequencePlayer=core_private_1.AnimationSequencePlayer,impAnimationKeyframe=core_private_1.AnimationKeyframe,impAnimationStyles=core_private_1.AnimationStyles,impNoOpAnimationPlayer=core_private_1.NoOpAnimationPlayer,ANIMATION_STYLE_UTIL_ASSET_URL=util_1.assetUrl("core","animation/animation_style_util"),Identifiers=function(){function Identifiers(){}return Identifiers.ViewUtils=new compile_metadata_1.CompileIdentifierMetadata({name:"ViewUtils",moduleUrl:util_1.assetUrl("core","linker/view_utils"),runtime:impViewUtils}),Identifiers.AppView=new compile_metadata_1.CompileIdentifierMetadata({name:"AppView",moduleUrl:APP_VIEW_MODULE_URL,runtime:impAppView}),Identifiers.DebugAppView=new compile_metadata_1.CompileIdentifierMetadata({name:"DebugAppView",moduleUrl:APP_VIEW_MODULE_URL,runtime:impDebugAppView}),Identifiers.AppElement=new compile_metadata_1.CompileIdentifierMetadata({name:"AppElement",moduleUrl:util_1.assetUrl("core","linker/element"),runtime:impAppElement}),Identifiers.ElementRef=new compile_metadata_1.CompileIdentifierMetadata({name:"ElementRef",moduleUrl:util_1.assetUrl("core","linker/element_ref"),runtime:impElementRef}),Identifiers.ViewContainerRef=new compile_metadata_1.CompileIdentifierMetadata({name:"ViewContainerRef",moduleUrl:util_1.assetUrl("core","linker/view_container_ref"),runtime:impViewContainerRef}),Identifiers.ChangeDetectorRef=new compile_metadata_1.CompileIdentifierMetadata({name:"ChangeDetectorRef",moduleUrl:util_1.assetUrl("core","change_detection/change_detector_ref"),runtime:impChangeDetectorRef}),Identifiers.RenderComponentType=new compile_metadata_1.CompileIdentifierMetadata({name:"RenderComponentType",moduleUrl:util_1.assetUrl("core","render/api"),runtime:impRenderComponentType}),Identifiers.QueryList=new compile_metadata_1.CompileIdentifierMetadata({name:"QueryList",moduleUrl:util_1.assetUrl("core","linker/query_list"),runtime:impQueryList}),Identifiers.TemplateRef=new compile_metadata_1.CompileIdentifierMetadata({name:"TemplateRef",moduleUrl:util_1.assetUrl("core","linker/template_ref"),runtime:impTemplateRef}),Identifiers.TemplateRef_=new compile_metadata_1.CompileIdentifierMetadata({name:"TemplateRef_",moduleUrl:util_1.assetUrl("core","linker/template_ref"),runtime:impTemplateRef_}),Identifiers.CodegenComponentFactoryResolver=new compile_metadata_1.CompileIdentifierMetadata({name:"CodegenComponentFactoryResolver",moduleUrl:util_1.assetUrl("core","linker/component_factory_resolver"),runtime:core_private_1.CodegenComponentFactoryResolver}),Identifiers.ComponentFactoryResolver=new compile_metadata_1.CompileIdentifierMetadata({name:"ComponentFactoryResolver",moduleUrl:util_1.assetUrl("core","linker/component_factory_resolver"),runtime:core_1.ComponentFactoryResolver}),Identifiers.ValueUnwrapper=new compile_metadata_1.CompileIdentifierMetadata({name:"ValueUnwrapper",moduleUrl:CD_MODULE_URL,runtime:impValueUnwrapper}),Identifiers.Injector=new compile_metadata_1.CompileIdentifierMetadata({name:"Injector",moduleUrl:util_1.assetUrl("core","di/injector"),runtime:impInjector}),Identifiers.ViewEncapsulation=new compile_metadata_1.CompileIdentifierMetadata({name:"ViewEncapsulation",moduleUrl:util_1.assetUrl("core","metadata/view"),runtime:impViewEncapsulation}),Identifiers.ViewType=new compile_metadata_1.CompileIdentifierMetadata({name:"ViewType",moduleUrl:util_1.assetUrl("core","linker/view_type"),runtime:impViewType}),Identifiers.ChangeDetectionStrategy=new compile_metadata_1.CompileIdentifierMetadata({name:"ChangeDetectionStrategy",moduleUrl:CD_MODULE_URL,runtime:impChangeDetectionStrategy}),Identifiers.StaticNodeDebugInfo=new compile_metadata_1.CompileIdentifierMetadata({name:"StaticNodeDebugInfo",moduleUrl:util_1.assetUrl("core","linker/debug_context"),runtime:impStaticNodeDebugInfo}),Identifiers.DebugContext=new compile_metadata_1.CompileIdentifierMetadata({name:"DebugContext",moduleUrl:util_1.assetUrl("core","linker/debug_context"),runtime:impDebugContext}),Identifiers.Renderer=new compile_metadata_1.CompileIdentifierMetadata({name:"Renderer",moduleUrl:util_1.assetUrl("core","render/api"),runtime:impRenderer}),Identifiers.SimpleChange=new compile_metadata_1.CompileIdentifierMetadata({
name:"SimpleChange",moduleUrl:CD_MODULE_URL,runtime:impSimpleChange}),Identifiers.uninitialized=new compile_metadata_1.CompileIdentifierMetadata({name:"uninitialized",moduleUrl:CD_MODULE_URL,runtime:impUninitialized}),Identifiers.ChangeDetectorStatus=new compile_metadata_1.CompileIdentifierMetadata({name:"ChangeDetectorStatus",moduleUrl:CD_MODULE_URL,runtime:impChangeDetectorStatus}),Identifiers.checkBinding=new compile_metadata_1.CompileIdentifierMetadata({name:"checkBinding",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:impCheckBinding}),Identifiers.flattenNestedViewRenderNodes=new compile_metadata_1.CompileIdentifierMetadata({name:"flattenNestedViewRenderNodes",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:impFlattenNestedViewRenderNodes}),Identifiers.devModeEqual=new compile_metadata_1.CompileIdentifierMetadata({name:"devModeEqual",moduleUrl:CD_MODULE_URL,runtime:impDevModeEqual}),Identifiers.interpolate=new compile_metadata_1.CompileIdentifierMetadata({name:"interpolate",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:impInterpolate}),Identifiers.castByValue=new compile_metadata_1.CompileIdentifierMetadata({name:"castByValue",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:impCastByValue}),Identifiers.EMPTY_ARRAY=new compile_metadata_1.CompileIdentifierMetadata({name:"EMPTY_ARRAY",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:impEMPTY_ARRAY}),Identifiers.EMPTY_MAP=new compile_metadata_1.CompileIdentifierMetadata({name:"EMPTY_MAP",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:impEMPTY_MAP}),Identifiers.pureProxies=[null,new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy1",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_1.pureProxy1}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy2",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_1.pureProxy2}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy3",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_1.pureProxy3}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy4",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_1.pureProxy4}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy5",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_1.pureProxy5}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy6",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_1.pureProxy6}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy7",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_1.pureProxy7}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy8",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_1.pureProxy8}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy9",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_1.pureProxy9}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy10",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_1.pureProxy10})],Identifiers.SecurityContext=new compile_metadata_1.CompileIdentifierMetadata({name:"SecurityContext",moduleUrl:util_1.assetUrl("core","security"),runtime:core_private_1.SecurityContext}),Identifiers.AnimationKeyframe=new compile_metadata_1.CompileIdentifierMetadata({name:"AnimationKeyframe",moduleUrl:util_1.assetUrl("core","animation/animation_keyframe"),runtime:impAnimationKeyframe}),Identifiers.AnimationStyles=new compile_metadata_1.CompileIdentifierMetadata({name:"AnimationStyles",moduleUrl:util_1.assetUrl("core","animation/animation_styles"),runtime:impAnimationStyles}),Identifiers.NoOpAnimationPlayer=new compile_metadata_1.CompileIdentifierMetadata({name:"NoOpAnimationPlayer",moduleUrl:util_1.assetUrl("core","animation/animation_player"),runtime:impNoOpAnimationPlayer}),Identifiers.AnimationGroupPlayer=new compile_metadata_1.CompileIdentifierMetadata({name:"AnimationGroupPlayer",moduleUrl:util_1.assetUrl("core","animation/animation_group_player"),runtime:impAnimationGroupPlayer}),Identifiers.AnimationSequencePlayer=new compile_metadata_1.CompileIdentifierMetadata({name:"AnimationSequencePlayer",moduleUrl:util_1.assetUrl("core","animation/animation_sequence_player"),runtime:impAnimationSequencePlayer}),Identifiers.prepareFinalAnimationStyles=new compile_metadata_1.CompileIdentifierMetadata({name:"prepareFinalAnimationStyles",moduleUrl:ANIMATION_STYLE_UTIL_ASSET_URL,runtime:core_private_1.prepareFinalAnimationStyles}),Identifiers.balanceAnimationKeyframes=new compile_metadata_1.CompileIdentifierMetadata({name:"balanceAnimationKeyframes",moduleUrl:ANIMATION_STYLE_UTIL_ASSET_URL,runtime:core_private_1.balanceAnimationKeyframes}),Identifiers.clearStyles=new compile_metadata_1.CompileIdentifierMetadata({name:"clearStyles",moduleUrl:ANIMATION_STYLE_UTIL_ASSET_URL,runtime:core_private_1.clearStyles}),Identifiers.renderStyles=new compile_metadata_1.CompileIdentifierMetadata({name:"renderStyles",moduleUrl:ANIMATION_STYLE_UTIL_ASSET_URL,runtime:core_private_1.renderStyles}),Identifiers.collectAndResolveStyles=new compile_metadata_1.CompileIdentifierMetadata({name:"collectAndResolveStyles",moduleUrl:ANIMATION_STYLE_UTIL_ASSET_URL,runtime:core_private_1.collectAndResolveStyles}),Identifiers}();exports.Identifiers=Identifiers,exports.identifierToken=identifierToken},{"../core_private":85,"./compile_metadata":94,"./util":149,"@angular/core":167}],122:[function(require,module,exports){"use strict";exports.DEFAULT_INTERPOLATION_CONFIG={start:"{{",end:"}}"}},{}],123:[function(require,module,exports){"use strict";function flattenDirectives(view,platformDirectives){var directives=[];return lang_1.isPresent(platformDirectives)&&flattenArray(platformDirectives,directives),lang_1.isPresent(view.directives)&&flattenArray(view.directives,directives),directives}function flattenPipes(view,platformPipes){var pipes=[];return lang_1.isPresent(platformPipes)&&flattenArray(platformPipes,pipes),lang_1.isPresent(view.pipes)&&flattenArray(view.pipes,pipes),pipes}function flattenArray(tree,out){void 0===out&&(out=[]);for(var i=0;i<tree.length;i++){var item=core_1.resolveForwardRef(tree[i]);lang_1.isArray(item)?flattenArray(item,out):out.push(item)}return out}function verifyNonBlankProviders(directiveType,providersTree,providersType){var errMsg,flat=[];flattenArray(providersTree,flat);for(var i=0;i<flat.length;i++)if(lang_1.isBlank(flat[i]))throw errMsg=flat.map(function(provider){return lang_1.isBlank(provider)?"?":lang_1.stringify(provider)}).join(", "),new exceptions_1.BaseException("One or more of "+providersType+' for "'+lang_1.stringify(directiveType)+'" were not defined: ['+errMsg+"].");return providersTree}function isStaticType(value){return lang_1.isStringMap(value)&&lang_1.isPresent(value.name)&&lang_1.isPresent(value.filePath)}function isValidType(value){return isStaticType(value)||value instanceof lang_1.Type}function staticTypeModuleUrl(value){return isStaticType(value)?value.filePath:null}function componentModuleUrl(reflector,type,cmpMetadata){if(isStaticType(type))return staticTypeModuleUrl(type);if(lang_1.isPresent(cmpMetadata.moduleId)){var moduleId=cmpMetadata.moduleId,scheme=url_resolver_1.getUrlScheme(moduleId);return lang_1.isPresent(scheme)&&scheme.length>0?moduleId:"package:"+moduleId+util_1.MODULE_SUFFIX}return reflector.importUri(type)}function convertToCompileValue(value){return util_1.visitValue(value,new _CompileValueConverter,null)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),core_private_1=require("../core_private"),collection_1=require("../src/facade/collection"),exceptions_1=require("../src/facade/exceptions"),lang_1=require("../src/facade/lang"),assertions_1=require("./assertions"),cpl=require("./compile_metadata"),config_1=require("./config"),directive_lifecycle_reflector_1=require("./directive_lifecycle_reflector"),directive_resolver_1=require("./directive_resolver"),pipe_resolver_1=require("./pipe_resolver"),url_resolver_1=require("./url_resolver"),util_1=require("./util"),view_resolver_1=require("./view_resolver"),CompileMetadataResolver=function(){function CompileMetadataResolver(_directiveResolver,_pipeResolver,_viewResolver,_config,_reflector){void 0===_reflector&&(_reflector=core_private_1.reflector),this._directiveResolver=_directiveResolver,this._pipeResolver=_pipeResolver,this._viewResolver=_viewResolver,this._config=_config,this._reflector=_reflector,this._directiveCache=new Map,this._pipeCache=new Map,this._anonymousTypes=new Map,this._anonymousTypeIndex=0}return CompileMetadataResolver.prototype.sanitizeTokenName=function(token){var identifier=lang_1.stringify(token);if(identifier.indexOf("(")>=0){var found=this._anonymousTypes.get(token);lang_1.isBlank(found)&&(this._anonymousTypes.set(token,this._anonymousTypeIndex++),found=this._anonymousTypes.get(token)),identifier="anonymous_token_"+found+"_"}return util_1.sanitizeIdentifier(identifier)},CompileMetadataResolver.prototype.clearCacheFor=function(compType){this._directiveCache["delete"](compType),this._pipeCache["delete"](compType)},CompileMetadataResolver.prototype.clearCache=function(){this._directiveCache.clear(),this._pipeCache.clear()},CompileMetadataResolver.prototype.getAnimationEntryMetadata=function(entry){var _this=this,defs=entry.definitions.map(function(def){return _this.getAnimationStateMetadata(def)});return new cpl.CompileAnimationEntryMetadata(entry.name,defs)},CompileMetadataResolver.prototype.getAnimationStateMetadata=function(value){if(value instanceof core_1.AnimationStateDeclarationMetadata){var styles=this.getAnimationStyleMetadata(value.styles);return new cpl.CompileAnimationStateDeclarationMetadata(value.stateNameExpr,styles)}return value instanceof core_1.AnimationStateTransitionMetadata?new cpl.CompileAnimationStateTransitionMetadata(value.stateChangeExpr,this.getAnimationMetadata(value.steps)):null},CompileMetadataResolver.prototype.getAnimationStyleMetadata=function(value){return new cpl.CompileAnimationStyleMetadata(value.offset,value.styles)},CompileMetadataResolver.prototype.getAnimationMetadata=function(value){var _this=this;if(value instanceof core_1.AnimationStyleMetadata)return this.getAnimationStyleMetadata(value);if(value instanceof core_1.AnimationKeyframesSequenceMetadata)return new cpl.CompileAnimationKeyframesSequenceMetadata(value.steps.map(function(entry){return _this.getAnimationStyleMetadata(entry)}));if(value instanceof core_1.AnimationAnimateMetadata){var animateData=this.getAnimationMetadata(value.styles);return new cpl.CompileAnimationAnimateMetadata(value.timings,animateData)}if(value instanceof core_1.AnimationWithStepsMetadata){var steps=value.steps.map(function(step){return _this.getAnimationMetadata(step)});return value instanceof core_1.AnimationGroupMetadata?new cpl.CompileAnimationGroupMetadata(steps):new cpl.CompileAnimationSequenceMetadata(steps)}return null},CompileMetadataResolver.prototype.getDirectiveMetadata=function(directiveType){var _this=this,meta=this._directiveCache.get(directiveType);if(lang_1.isBlank(meta)){var dirMeta=this._directiveResolver.resolve(directiveType),templateMeta=null,changeDetectionStrategy=null,viewProviders=[],moduleUrl=staticTypeModuleUrl(directiveType),precompileTypes=[];if(dirMeta instanceof core_1.ComponentMetadata){var cmpMeta=dirMeta,viewMeta=this._viewResolver.resolve(directiveType);assertions_1.assertArrayOfStrings("styles",viewMeta.styles),assertions_1.assertInterpolationSymbols("interpolation",viewMeta.interpolation);var animations=lang_1.isPresent(viewMeta.animations)?viewMeta.animations.map(function(e){return _this.getAnimationEntryMetadata(e)}):null;assertions_1.assertArrayOfStrings("styles",viewMeta.styles),assertions_1.assertArrayOfStrings("styleUrls",viewMeta.styleUrls),templateMeta=new cpl.CompileTemplateMetadata({encapsulation:viewMeta.encapsulation,template:viewMeta.template,templateUrl:viewMeta.templateUrl,styles:viewMeta.styles,styleUrls:viewMeta.styleUrls,animations:animations,interpolation:viewMeta.interpolation}),changeDetectionStrategy=cmpMeta.changeDetection,lang_1.isPresent(dirMeta.viewProviders)&&(viewProviders=this.getProvidersMetadata(verifyNonBlankProviders(directiveType,dirMeta.viewProviders,"viewProviders"))),moduleUrl=componentModuleUrl(this._reflector,directiveType,cmpMeta),cmpMeta.precompile&&(precompileTypes=flattenArray(cmpMeta.precompile).map(function(cmp){return _this.getTypeMetadata(cmp,staticTypeModuleUrl(cmp))}))}var providers=[];lang_1.isPresent(dirMeta.providers)&&(providers=this.getProvidersMetadata(verifyNonBlankProviders(directiveType,dirMeta.providers,"providers")));var queries=[],viewQueries=[];lang_1.isPresent(dirMeta.queries)&&(queries=this.getQueriesMetadata(dirMeta.queries,!1,directiveType),viewQueries=this.getQueriesMetadata(dirMeta.queries,!0,directiveType)),meta=cpl.CompileDirectiveMetadata.create({selector:dirMeta.selector,exportAs:dirMeta.exportAs,isComponent:lang_1.isPresent(templateMeta),type:this.getTypeMetadata(directiveType,moduleUrl),template:templateMeta,changeDetection:changeDetectionStrategy,inputs:dirMeta.inputs,outputs:dirMeta.outputs,host:dirMeta.host,lifecycleHooks:core_private_1.LIFECYCLE_HOOKS_VALUES.filter(function(hook){return directive_lifecycle_reflector_1.hasLifecycleHook(hook,directiveType)}),providers:providers,viewProviders:viewProviders,queries:queries,viewQueries:viewQueries,precompile:precompileTypes}),this._directiveCache.set(directiveType,meta)}return meta},CompileMetadataResolver.prototype.maybeGetDirectiveMetadata=function(someType){try{return this.getDirectiveMetadata(someType)}catch(e){if(e.message.indexOf("No Directive annotation")!==-1)return null;throw e}},CompileMetadataResolver.prototype.getTypeMetadata=function(type,moduleUrl,dependencies){return void 0===dependencies&&(dependencies=null),new cpl.CompileTypeMetadata({name:this.sanitizeTokenName(type),moduleUrl:moduleUrl,runtime:type,diDeps:this.getDependenciesMetadata(type,dependencies)})},CompileMetadataResolver.prototype.getFactoryMetadata=function(factory,moduleUrl,dependencies){return void 0===dependencies&&(dependencies=null),new cpl.CompileFactoryMetadata({name:this.sanitizeTokenName(factory),moduleUrl:moduleUrl,runtime:factory,diDeps:this.getDependenciesMetadata(factory,dependencies)})},CompileMetadataResolver.prototype.getPipeMetadata=function(pipeType){var meta=this._pipeCache.get(pipeType);if(lang_1.isBlank(meta)){var pipeMeta=this._pipeResolver.resolve(pipeType);meta=new cpl.CompilePipeMetadata({type:this.getTypeMetadata(pipeType,staticTypeModuleUrl(pipeType)),name:pipeMeta.name,pure:pipeMeta.pure,lifecycleHooks:core_private_1.LIFECYCLE_HOOKS_VALUES.filter(function(hook){return directive_lifecycle_reflector_1.hasLifecycleHook(hook,pipeType)})}),this._pipeCache.set(pipeType,meta)}return meta},CompileMetadataResolver.prototype.getViewDirectivesMetadata=function(component){for(var _this=this,view=this._viewResolver.resolve(component),directives=flattenDirectives(view,this._config.platformDirectives),i=0;i<directives.length;i++)if(!isValidType(directives[i]))throw new exceptions_1.BaseException("Unexpected directive value '"+lang_1.stringify(directives[i])+"' on the View of component '"+lang_1.stringify(component)+"'");return directives.map(function(type){return _this.getDirectiveMetadata(type)})},CompileMetadataResolver.prototype.getViewPipesMetadata=function(component){for(var _this=this,view=this._viewResolver.resolve(component),pipes=flattenPipes(view,this._config.platformPipes),i=0;i<pipes.length;i++)if(!isValidType(pipes[i]))throw new exceptions_1.BaseException("Unexpected piped value '"+lang_1.stringify(pipes[i])+"' on the View of component '"+lang_1.stringify(component)+"'");return pipes.map(function(type){return _this.getPipeMetadata(type)})},CompileMetadataResolver.prototype.getDependenciesMetadata=function(typeOrFunc,dependencies){var _this=this,hasUnknownDeps=!1,params=lang_1.isPresent(dependencies)?dependencies:this._reflector.parameters(typeOrFunc);lang_1.isBlank(params)&&(params=[]);var dependenciesMetadata=params.map(function(param){var isAttribute=!1,isHost=!1,isSelf=!1,isSkipSelf=!1,isOptional=!1,query=null,viewQuery=null,token=null;return lang_1.isArray(param)?param.forEach(function(paramEntry){paramEntry instanceof core_1.HostMetadata?isHost=!0:paramEntry instanceof core_1.SelfMetadata?isSelf=!0:paramEntry instanceof core_1.SkipSelfMetadata?isSkipSelf=!0:paramEntry instanceof core_1.OptionalMetadata?isOptional=!0:paramEntry instanceof core_1.AttributeMetadata?(isAttribute=!0,token=paramEntry.attributeName):paramEntry instanceof core_1.QueryMetadata?paramEntry.isViewQuery?viewQuery=paramEntry:query=paramEntry:paramEntry instanceof core_1.InjectMetadata?token=paramEntry.token:isValidType(paramEntry)&&lang_1.isBlank(token)&&(token=paramEntry)}):token=param,lang_1.isBlank(token)?(hasUnknownDeps=!0,null):new cpl.CompileDiDependencyMetadata({isAttribute:isAttribute,isHost:isHost,isSelf:isSelf,isSkipSelf:isSkipSelf,isOptional:isOptional,query:lang_1.isPresent(query)?_this.getQueryMetadata(query,null,typeOrFunc):null,viewQuery:lang_1.isPresent(viewQuery)?_this.getQueryMetadata(viewQuery,null,typeOrFunc):null,token:_this.getTokenMetadata(token)})});if(hasUnknownDeps){var depsTokens=dependenciesMetadata.map(function(dep){return dep?lang_1.stringify(dep.token):"?"}).join(", ");throw new exceptions_1.BaseException("Can't resolve all parameters for "+lang_1.stringify(typeOrFunc)+": ("+depsTokens+").")}return dependenciesMetadata},CompileMetadataResolver.prototype.getTokenMetadata=function(token){token=core_1.resolveForwardRef(token);var compileToken;return compileToken=lang_1.isString(token)?new cpl.CompileTokenMetadata({value:token}):new cpl.CompileTokenMetadata({identifier:new cpl.CompileIdentifierMetadata({runtime:token,name:this.sanitizeTokenName(token),moduleUrl:staticTypeModuleUrl(token)})})},CompileMetadataResolver.prototype.getProvidersMetadata=function(providers){var _this=this;return providers.map(function(provider){return provider=core_1.resolveForwardRef(provider),lang_1.isArray(provider)?_this.getProvidersMetadata(provider):provider instanceof core_1.Provider?_this.getProviderMetadata(provider):core_private_1.isProviderLiteral(provider)?_this.getProviderMetadata(core_private_1.createProvider(provider)):_this.getTypeMetadata(provider,staticTypeModuleUrl(provider))})},CompileMetadataResolver.prototype.getProviderMetadata=function(provider){var compileDeps,compileTypeMetadata=null,compileFactoryMetadata=null;return lang_1.isPresent(provider.useClass)?(compileTypeMetadata=this.getTypeMetadata(provider.useClass,staticTypeModuleUrl(provider.useClass),provider.dependencies),compileDeps=compileTypeMetadata.diDeps):lang_1.isPresent(provider.useFactory)&&(compileFactoryMetadata=this.getFactoryMetadata(provider.useFactory,staticTypeModuleUrl(provider.useFactory),provider.dependencies),compileDeps=compileFactoryMetadata.diDeps),new cpl.CompileProviderMetadata({token:this.getTokenMetadata(provider.token),useClass:compileTypeMetadata,useValue:convertToCompileValue(provider.useValue),useFactory:compileFactoryMetadata,useExisting:lang_1.isPresent(provider.useExisting)?this.getTokenMetadata(provider.useExisting):null,deps:compileDeps,multi:provider.multi})},CompileMetadataResolver.prototype.getQueriesMetadata=function(queries,isViewQuery,directiveType){var _this=this,compileQueries=[];return collection_1.StringMapWrapper.forEach(queries,function(query,propertyName){query.isViewQuery===isViewQuery&&compileQueries.push(_this.getQueryMetadata(query,propertyName,directiveType))}),compileQueries},CompileMetadataResolver.prototype.getQueryMetadata=function(q,propertyName,typeOrFunc){var selectors,_this=this;if(q.isVarBindingQuery)selectors=q.varBindings.map(function(varName){return _this.getTokenMetadata(varName)});else{if(!lang_1.isPresent(q.selector))throw new exceptions_1.BaseException("Can't construct a query for the property \""+propertyName+'" of "'+lang_1.stringify(typeOrFunc)+"\" since the query selector wasn't defined.");selectors=[this.getTokenMetadata(q.selector)]}return new cpl.CompileQueryMetadata({selectors:selectors,first:q.first,descendants:q.descendants,propertyName:propertyName,read:lang_1.isPresent(q.read)?this.getTokenMetadata(q.read):null})},CompileMetadataResolver.decorators=[{type:core_1.Injectable}],CompileMetadataResolver.ctorParameters=[{type:directive_resolver_1.DirectiveResolver},{type:pipe_resolver_1.PipeResolver},{type:view_resolver_1.ViewResolver},{type:config_1.CompilerConfig},{type:core_private_1.ReflectorReader}],CompileMetadataResolver}();exports.CompileMetadataResolver=CompileMetadataResolver;var _CompileValueConverter=function(_super){function _CompileValueConverter(){_super.apply(this,arguments)}return __extends(_CompileValueConverter,_super),_CompileValueConverter.prototype.visitOther=function(value,context){return isStaticType(value)?new cpl.CompileIdentifierMetadata({name:value.name,moduleUrl:staticTypeModuleUrl(value)}):new cpl.CompileIdentifierMetadata({runtime:value})},_CompileValueConverter}(util_1.ValueTransformer)},{"../core_private":85,"../src/facade/collection":105,"../src/facade/exceptions":107,"../src/facade/lang":108,"./assertions":92,"./compile_metadata":94,"./config":96,"./directive_lifecycle_reflector":97,"./directive_resolver":99,"./pipe_resolver":135,"./url_resolver":148,"./util":149,"./view_resolver":165,"@angular/core":167}],124:[function(require,module,exports){"use strict";function _resolveViewStatements(compileResult){return compileResult.dependencies.forEach(function(dep){if(dep instanceof view_compiler_1.ViewFactoryDependency){var vfd=dep;vfd.placeholder.moduleUrl=_ngfactoryModuleUrl(vfd.comp)}else if(dep instanceof view_compiler_1.ComponentFactoryDependency){var cfd=dep;cfd.placeholder.name=_componentFactoryName(cfd.comp),cfd.placeholder.moduleUrl=_ngfactoryModuleUrl(cfd.comp)}}),compileResult.statements}function _resolveStyleStatements(compileResult,fileSuffix){return compileResult.dependencies.forEach(function(dep){dep.valuePlaceholder.moduleUrl=_stylesModuleUrl(dep.moduleUrl,dep.isShimmed,fileSuffix)}),compileResult.statements}function _ngfactoryModuleUrl(comp){var urlWithSuffix=_splitLastSuffix(comp.moduleUrl);return urlWithSuffix[0]+".ngfactory"+urlWithSuffix[1]}function _componentFactoryName(comp){return comp.name+"NgFactory"}function _stylesModuleUrl(stylesheetUrl,shim,suffix){return shim?stylesheetUrl+".shim"+suffix:""+stylesheetUrl+suffix}function _assertComponent(meta){if(!meta.isComponent)throw new exceptions_1.BaseException("Could not compile '"+meta.type.name+"' because it is not a component.")}function _splitLastSuffix(path){var lastDot=path.lastIndexOf(".");return lastDot!==-1?[path.substring(0,lastDot),path.substring(lastDot)]:[path,""]}var core_1=require("@angular/core"),compile_metadata_1=require("./compile_metadata"),collection_1=require("./facade/collection"),exceptions_1=require("./facade/exceptions"),o=require("./output/output_ast"),util_1=require("./util"),view_compiler_1=require("./view_compiler/view_compiler"),_COMPONENT_FACTORY_IDENTIFIER=new compile_metadata_1.CompileIdentifierMetadata({name:"ComponentFactory",runtime:core_1.ComponentFactory,moduleUrl:util_1.assetUrl("core","linker/component_factory")}),SourceModule=function(){function SourceModule(moduleUrl,source){this.moduleUrl=moduleUrl,this.source=source}return SourceModule}();exports.SourceModule=SourceModule;var StyleSheetSourceWithImports=function(){function StyleSheetSourceWithImports(source,importedUrls){this.source=source,this.importedUrls=importedUrls}return StyleSheetSourceWithImports}();exports.StyleSheetSourceWithImports=StyleSheetSourceWithImports;var NormalizedComponentWithViewDirectives=function(){function NormalizedComponentWithViewDirectives(component,directives,pipes){this.component=component,this.directives=directives,this.pipes=pipes}return NormalizedComponentWithViewDirectives}();exports.NormalizedComponentWithViewDirectives=NormalizedComponentWithViewDirectives;var OfflineCompiler=function(){function OfflineCompiler(_directiveNormalizer,_templateParser,_styleCompiler,_viewCompiler,_outputEmitter){this._directiveNormalizer=_directiveNormalizer,this._templateParser=_templateParser,this._styleCompiler=_styleCompiler,this._viewCompiler=_viewCompiler,this._outputEmitter=_outputEmitter}return OfflineCompiler.prototype.normalizeDirectiveMetadata=function(directive){return this._directiveNormalizer.normalizeDirective(directive).asyncResult},OfflineCompiler.prototype.compileTemplates=function(components){var _this=this;if(0===components.length)throw new exceptions_1.BaseException("No components given");var statements=[],exportedVars=[],moduleUrl=_ngfactoryModuleUrl(components[0].component.type),outputSourceModules=[];return components.forEach(function(componentWithDirs){var compMeta=componentWithDirs.component;_assertComponent(compMeta);var fileSuffix=_splitLastSuffix(compMeta.type.moduleUrl)[1],stylesCompileResults=_this._styleCompiler.compileComponent(compMeta);stylesCompileResults.externalStylesheets.forEach(function(compiledStyleSheet){outputSourceModules.push(_this._codgenStyles(compiledStyleSheet,fileSuffix))});var compViewFactoryVar=_this._compileComponent(compMeta,componentWithDirs.directives,componentWithDirs.pipes,stylesCompileResults.componentStylesheet,fileSuffix,statements);exportedVars.push(compViewFactoryVar);var hostMeta=compile_metadata_1.createHostComponentMeta(compMeta.type,compMeta.selector),hostViewFactoryVar=_this._compileComponent(hostMeta,[compMeta],[],null,fileSuffix,statements),compFactoryVar=_componentFactoryName(compMeta.type);statements.push(o.variable(compFactoryVar).set(o.importExpr(_COMPONENT_FACTORY_IDENTIFIER,[o.importType(compMeta.type)]).instantiate([o.literal(compMeta.selector),o.variable(hostViewFactoryVar),o.importExpr(compMeta.type)],o.importType(_COMPONENT_FACTORY_IDENTIFIER,[o.importType(compMeta.type)],[o.TypeModifier.Const]))).toDeclStmt(null,[o.StmtModifier.Final])),exportedVars.push(compFactoryVar)}),outputSourceModules.unshift(this._codegenSourceModule(moduleUrl,statements,exportedVars)),outputSourceModules},OfflineCompiler.prototype._compileComponent=function(compMeta,directives,pipes,componentStyles,fileSuffix,targetStatements){var parsedTemplate=this._templateParser.parse(compMeta,compMeta.template.template,directives,pipes,compMeta.type.name),stylesExpr=componentStyles?o.variable(componentStyles.stylesVar):o.literalArr([]),viewResult=this._viewCompiler.compileComponent(compMeta,parsedTemplate,stylesExpr,pipes);return componentStyles&&collection_1.ListWrapper.addAll(targetStatements,_resolveStyleStatements(componentStyles,fileSuffix)),collection_1.ListWrapper.addAll(targetStatements,_resolveViewStatements(viewResult)),viewResult.viewFactoryVar},OfflineCompiler.prototype._codgenStyles=function(stylesCompileResult,fileSuffix){return _resolveStyleStatements(stylesCompileResult,fileSuffix),this._codegenSourceModule(_stylesModuleUrl(stylesCompileResult.meta.moduleUrl,stylesCompileResult.isShimmed,fileSuffix),stylesCompileResult.statements,[stylesCompileResult.stylesVar])},OfflineCompiler.prototype._codegenSourceModule=function(moduleUrl,statements,exportedVars){return new SourceModule(moduleUrl,this._outputEmitter.emitStatements(moduleUrl,statements,exportedVars))},OfflineCompiler}();exports.OfflineCompiler=OfflineCompiler},{"./compile_metadata":94,"./facade/collection":105,"./facade/exceptions":107,"./output/output_ast":129,"./util":149,"./view_compiler/view_compiler":164,"@angular/core":167}],125:[function(require,module,exports){"use strict";function escapeSingleQuoteString(input,escapeDollar){if(lang_1.isBlank(input))return null;var body=lang_1.StringWrapper.replaceAllMapped(input,_SINGLE_QUOTE_ESCAPE_STRING_RE,function(match){return"$"==match[0]?escapeDollar?"\\$":"$":"\n"==match[0]?"\\n":"\r"==match[0]?"\\r":"\\"+match[0]});return"'"+body+"'"}function _createIndent(count){for(var res="",i=0;i<count;i++)res+="  ";return res}var exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),o=require("./output_ast"),_SINGLE_QUOTE_ESCAPE_STRING_RE=/'|\\|\n|\r|\$/g;exports.CATCH_ERROR_VAR=o.variable("error"),exports.CATCH_STACK_VAR=o.variable("stack");var OutputEmitter=function(){function OutputEmitter(){}return OutputEmitter}();exports.OutputEmitter=OutputEmitter;var _EmittedLine=function(){function _EmittedLine(indent){this.indent=indent,this.parts=[]}return _EmittedLine}(),EmitterVisitorContext=function(){function EmitterVisitorContext(_exportedVars,_indent){this._exportedVars=_exportedVars,this._indent=_indent,this._classes=[],this._lines=[new _EmittedLine(_indent)]}return EmitterVisitorContext.createRoot=function(exportedVars){return new EmitterVisitorContext(exportedVars,0)},Object.defineProperty(EmitterVisitorContext.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),EmitterVisitorContext.prototype.isExportedVar=function(varName){return this._exportedVars.indexOf(varName)!==-1},EmitterVisitorContext.prototype.println=function(lastPart){void 0===lastPart&&(lastPart=""),this.print(lastPart,!0)},EmitterVisitorContext.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},EmitterVisitorContext.prototype.print=function(part,newLine){void 0===newLine&&(newLine=!1),part.length>0&&this._currentLine.parts.push(part),newLine&&this._lines.push(new _EmittedLine(this._indent))},EmitterVisitorContext.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},EmitterVisitorContext.prototype.incIndent=function(){this._indent++,this._currentLine.indent=this._indent},EmitterVisitorContext.prototype.decIndent=function(){this._indent--,this._currentLine.indent=this._indent},EmitterVisitorContext.prototype.pushClass=function(clazz){this._classes.push(clazz)},EmitterVisitorContext.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(EmitterVisitorContext.prototype,"currentClass",{get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),EmitterVisitorContext.prototype.toSource=function(){var lines=this._lines;return 0===lines[lines.length-1].parts.length&&(lines=lines.slice(0,lines.length-1)),lines.map(function(line){return line.parts.length>0?_createIndent(line.indent)+line.parts.join(""):""}).join("\n")},EmitterVisitorContext}();exports.EmitterVisitorContext=EmitterVisitorContext;var AbstractEmitterVisitor=function(){function AbstractEmitterVisitor(_escapeDollarInStrings){this._escapeDollarInStrings=_escapeDollarInStrings}return AbstractEmitterVisitor.prototype.visitExpressionStmt=function(stmt,ctx){return stmt.expr.visitExpression(this,ctx),ctx.println(";"),null},AbstractEmitterVisitor.prototype.visitReturnStmt=function(stmt,ctx){return ctx.print("return "),stmt.value.visitExpression(this,ctx),ctx.println(";"),null},AbstractEmitterVisitor.prototype.visitIfStmt=function(stmt,ctx){ctx.print("if ("),stmt.condition.visitExpression(this,ctx),ctx.print(") {");var hasElseCase=lang_1.isPresent(stmt.falseCase)&&stmt.falseCase.length>0;return stmt.trueCase.length<=1&&!hasElseCase?(ctx.print(" "),this.visitAllStatements(stmt.trueCase,ctx),ctx.removeEmptyLastLine(),ctx.print(" ")):(ctx.println(),ctx.incIndent(),this.visitAllStatements(stmt.trueCase,ctx),ctx.decIndent(),hasElseCase&&(ctx.println("} else {"),ctx.incIndent(),this.visitAllStatements(stmt.falseCase,ctx),ctx.decIndent())),ctx.println("}"),null},AbstractEmitterVisitor.prototype.visitThrowStmt=function(stmt,ctx){return ctx.print("throw "),stmt.error.visitExpression(this,ctx),ctx.println(";"),null},AbstractEmitterVisitor.prototype.visitCommentStmt=function(stmt,ctx){var lines=stmt.comment.split("\n");return lines.forEach(function(line){ctx.println("// "+line)}),null},AbstractEmitterVisitor.prototype.visitWriteVarExpr=function(expr,ctx){var lineWasEmpty=ctx.lineIsEmpty();return lineWasEmpty||ctx.print("("),ctx.print(expr.name+" = "),
expr.value.visitExpression(this,ctx),lineWasEmpty||ctx.print(")"),null},AbstractEmitterVisitor.prototype.visitWriteKeyExpr=function(expr,ctx){var lineWasEmpty=ctx.lineIsEmpty();return lineWasEmpty||ctx.print("("),expr.receiver.visitExpression(this,ctx),ctx.print("["),expr.index.visitExpression(this,ctx),ctx.print("] = "),expr.value.visitExpression(this,ctx),lineWasEmpty||ctx.print(")"),null},AbstractEmitterVisitor.prototype.visitWritePropExpr=function(expr,ctx){var lineWasEmpty=ctx.lineIsEmpty();return lineWasEmpty||ctx.print("("),expr.receiver.visitExpression(this,ctx),ctx.print("."+expr.name+" = "),expr.value.visitExpression(this,ctx),lineWasEmpty||ctx.print(")"),null},AbstractEmitterVisitor.prototype.visitInvokeMethodExpr=function(expr,ctx){expr.receiver.visitExpression(this,ctx);var name=expr.name;return lang_1.isPresent(expr.builtin)&&(name=this.getBuiltinMethodName(expr.builtin),lang_1.isBlank(name))?null:(ctx.print("."+name+"("),this.visitAllExpressions(expr.args,ctx,","),ctx.print(")"),null)},AbstractEmitterVisitor.prototype.visitInvokeFunctionExpr=function(expr,ctx){return expr.fn.visitExpression(this,ctx),ctx.print("("),this.visitAllExpressions(expr.args,ctx,","),ctx.print(")"),null},AbstractEmitterVisitor.prototype.visitReadVarExpr=function(ast,ctx){var varName=ast.name;if(lang_1.isPresent(ast.builtin))switch(ast.builtin){case o.BuiltinVar.Super:varName="super";break;case o.BuiltinVar.This:varName="this";break;case o.BuiltinVar.CatchError:varName=exports.CATCH_ERROR_VAR.name;break;case o.BuiltinVar.CatchStack:varName=exports.CATCH_STACK_VAR.name;break;default:throw new exceptions_1.BaseException("Unknown builtin variable "+ast.builtin)}return ctx.print(varName),null},AbstractEmitterVisitor.prototype.visitInstantiateExpr=function(ast,ctx){return ctx.print("new "),ast.classExpr.visitExpression(this,ctx),ctx.print("("),this.visitAllExpressions(ast.args,ctx,","),ctx.print(")"),null},AbstractEmitterVisitor.prototype.visitLiteralExpr=function(ast,ctx){var value=ast.value;return lang_1.isString(value)?ctx.print(escapeSingleQuoteString(value,this._escapeDollarInStrings)):lang_1.isBlank(value)?ctx.print("null"):ctx.print(""+value),null},AbstractEmitterVisitor.prototype.visitConditionalExpr=function(ast,ctx){return ctx.print("("),ast.condition.visitExpression(this,ctx),ctx.print("? "),ast.trueCase.visitExpression(this,ctx),ctx.print(": "),ast.falseCase.visitExpression(this,ctx),ctx.print(")"),null},AbstractEmitterVisitor.prototype.visitNotExpr=function(ast,ctx){return ctx.print("!"),ast.condition.visitExpression(this,ctx),null},AbstractEmitterVisitor.prototype.visitBinaryOperatorExpr=function(ast,ctx){var opStr;switch(ast.operator){case o.BinaryOperator.Equals:opStr="==";break;case o.BinaryOperator.Identical:opStr="===";break;case o.BinaryOperator.NotEquals:opStr="!=";break;case o.BinaryOperator.NotIdentical:opStr="!==";break;case o.BinaryOperator.And:opStr="&&";break;case o.BinaryOperator.Or:opStr="||";break;case o.BinaryOperator.Plus:opStr="+";break;case o.BinaryOperator.Minus:opStr="-";break;case o.BinaryOperator.Divide:opStr="/";break;case o.BinaryOperator.Multiply:opStr="*";break;case o.BinaryOperator.Modulo:opStr="%";break;case o.BinaryOperator.Lower:opStr="<";break;case o.BinaryOperator.LowerEquals:opStr="<=";break;case o.BinaryOperator.Bigger:opStr=">";break;case o.BinaryOperator.BiggerEquals:opStr=">=";break;default:throw new exceptions_1.BaseException("Unknown operator "+ast.operator)}return ctx.print("("),ast.lhs.visitExpression(this,ctx),ctx.print(" "+opStr+" "),ast.rhs.visitExpression(this,ctx),ctx.print(")"),null},AbstractEmitterVisitor.prototype.visitReadPropExpr=function(ast,ctx){return ast.receiver.visitExpression(this,ctx),ctx.print("."),ctx.print(ast.name),null},AbstractEmitterVisitor.prototype.visitReadKeyExpr=function(ast,ctx){return ast.receiver.visitExpression(this,ctx),ctx.print("["),ast.index.visitExpression(this,ctx),ctx.print("]"),null},AbstractEmitterVisitor.prototype.visitLiteralArrayExpr=function(ast,ctx){var useNewLine=ast.entries.length>1;return ctx.print("[",useNewLine),ctx.incIndent(),this.visitAllExpressions(ast.entries,ctx,",",useNewLine),ctx.decIndent(),ctx.print("]",useNewLine),null},AbstractEmitterVisitor.prototype.visitLiteralMapExpr=function(ast,ctx){var _this=this,useNewLine=ast.entries.length>1;return ctx.print("{",useNewLine),ctx.incIndent(),this.visitAllObjects(function(entry){ctx.print(escapeSingleQuoteString(entry[0],_this._escapeDollarInStrings)+": "),entry[1].visitExpression(_this,ctx)},ast.entries,ctx,",",useNewLine),ctx.decIndent(),ctx.print("}",useNewLine),null},AbstractEmitterVisitor.prototype.visitAllExpressions=function(expressions,ctx,separator,newLine){var _this=this;void 0===newLine&&(newLine=!1),this.visitAllObjects(function(expr){return expr.visitExpression(_this,ctx)},expressions,ctx,separator,newLine)},AbstractEmitterVisitor.prototype.visitAllObjects=function(handler,expressions,ctx,separator,newLine){void 0===newLine&&(newLine=!1);for(var i=0;i<expressions.length;i++)i>0&&ctx.print(separator,newLine),handler(expressions[i]);newLine&&ctx.println()},AbstractEmitterVisitor.prototype.visitAllStatements=function(statements,ctx){var _this=this;statements.forEach(function(stmt){return stmt.visitStatement(_this,ctx)})},AbstractEmitterVisitor}();exports.AbstractEmitterVisitor=AbstractEmitterVisitor,exports.escapeSingleQuoteString=escapeSingleQuoteString},{"../facade/exceptions":107,"../facade/lang":108,"./output_ast":129}],126:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),abstract_emitter_1=require("./abstract_emitter"),o=require("./output_ast"),AbstractJsEmitterVisitor=function(_super){function AbstractJsEmitterVisitor(){_super.call(this,!1)}return __extends(AbstractJsEmitterVisitor,_super),AbstractJsEmitterVisitor.prototype.visitDeclareClassStmt=function(stmt,ctx){var _this=this;return ctx.pushClass(stmt),this._visitClassConstructor(stmt,ctx),lang_1.isPresent(stmt.parent)&&(ctx.print(stmt.name+".prototype = Object.create("),stmt.parent.visitExpression(this,ctx),ctx.println(".prototype);")),stmt.getters.forEach(function(getter){return _this._visitClassGetter(stmt,getter,ctx)}),stmt.methods.forEach(function(method){return _this._visitClassMethod(stmt,method,ctx)}),ctx.popClass(),null},AbstractJsEmitterVisitor.prototype._visitClassConstructor=function(stmt,ctx){ctx.print("function "+stmt.name+"("),lang_1.isPresent(stmt.constructorMethod)&&this._visitParams(stmt.constructorMethod.params,ctx),ctx.println(") {"),ctx.incIndent(),lang_1.isPresent(stmt.constructorMethod)&&stmt.constructorMethod.body.length>0&&(ctx.println("var self = this;"),this.visitAllStatements(stmt.constructorMethod.body,ctx)),ctx.decIndent(),ctx.println("}")},AbstractJsEmitterVisitor.prototype._visitClassGetter=function(stmt,getter,ctx){ctx.println("Object.defineProperty("+stmt.name+".prototype, '"+getter.name+"', { get: function() {"),ctx.incIndent(),getter.body.length>0&&(ctx.println("var self = this;"),this.visitAllStatements(getter.body,ctx)),ctx.decIndent(),ctx.println("}});")},AbstractJsEmitterVisitor.prototype._visitClassMethod=function(stmt,method,ctx){ctx.print(stmt.name+".prototype."+method.name+" = function("),this._visitParams(method.params,ctx),ctx.println(") {"),ctx.incIndent(),method.body.length>0&&(ctx.println("var self = this;"),this.visitAllStatements(method.body,ctx)),ctx.decIndent(),ctx.println("};")},AbstractJsEmitterVisitor.prototype.visitReadVarExpr=function(ast,ctx){if(ast.builtin===o.BuiltinVar.This)ctx.print("self");else{if(ast.builtin===o.BuiltinVar.Super)throw new exceptions_1.BaseException("'super' needs to be handled at a parent ast node, not at the variable level!");_super.prototype.visitReadVarExpr.call(this,ast,ctx)}return null},AbstractJsEmitterVisitor.prototype.visitDeclareVarStmt=function(stmt,ctx){return ctx.print("var "+stmt.name+" = "),stmt.value.visitExpression(this,ctx),ctx.println(";"),null},AbstractJsEmitterVisitor.prototype.visitCastExpr=function(ast,ctx){return ast.value.visitExpression(this,ctx),null},AbstractJsEmitterVisitor.prototype.visitInvokeFunctionExpr=function(expr,ctx){var fnExpr=expr.fn;return fnExpr instanceof o.ReadVarExpr&&fnExpr.builtin===o.BuiltinVar.Super?(ctx.currentClass.parent.visitExpression(this,ctx),ctx.print(".call(this"),expr.args.length>0&&(ctx.print(", "),this.visitAllExpressions(expr.args,ctx,",")),ctx.print(")")):_super.prototype.visitInvokeFunctionExpr.call(this,expr,ctx),null},AbstractJsEmitterVisitor.prototype.visitFunctionExpr=function(ast,ctx){return ctx.print("function("),this._visitParams(ast.params,ctx),ctx.println(") {"),ctx.incIndent(),this.visitAllStatements(ast.statements,ctx),ctx.decIndent(),ctx.print("}"),null},AbstractJsEmitterVisitor.prototype.visitDeclareFunctionStmt=function(stmt,ctx){return ctx.print("function "+stmt.name+"("),this._visitParams(stmt.params,ctx),ctx.println(") {"),ctx.incIndent(),this.visitAllStatements(stmt.statements,ctx),ctx.decIndent(),ctx.println("}"),null},AbstractJsEmitterVisitor.prototype.visitTryCatchStmt=function(stmt,ctx){ctx.println("try {"),ctx.incIndent(),this.visitAllStatements(stmt.bodyStmts,ctx),ctx.decIndent(),ctx.println("} catch ("+abstract_emitter_1.CATCH_ERROR_VAR.name+") {"),ctx.incIndent();var catchStmts=[abstract_emitter_1.CATCH_STACK_VAR.set(abstract_emitter_1.CATCH_ERROR_VAR.prop("stack")).toDeclStmt(null,[o.StmtModifier.Final])].concat(stmt.catchStmts);return this.visitAllStatements(catchStmts,ctx),ctx.decIndent(),ctx.println("}"),null},AbstractJsEmitterVisitor.prototype._visitParams=function(params,ctx){this.visitAllObjects(function(param){return ctx.print(param.name)},params,ctx,",")},AbstractJsEmitterVisitor.prototype.getBuiltinMethodName=function(method){var name;switch(method){case o.BuiltinMethod.ConcatArray:name="concat";break;case o.BuiltinMethod.SubscribeObservable:name="subscribe";break;case o.BuiltinMethod.bind:name="bind";break;default:throw new exceptions_1.BaseException("Unknown builtin method: "+method)}return name},AbstractJsEmitterVisitor}(abstract_emitter_1.AbstractEmitterVisitor);exports.AbstractJsEmitterVisitor=AbstractJsEmitterVisitor},{"../facade/exceptions":107,"../facade/lang":108,"./abstract_emitter":125,"./output_ast":129}],127:[function(require,module,exports){"use strict";function debugOutputAstAsDart(ast){var asts,converter=new _DartEmitterVisitor(_debugModuleUrl),ctx=abstract_emitter_1.EmitterVisitorContext.createRoot([]);return asts=lang_1.isArray(ast)?ast:[ast],asts.forEach(function(ast){if(ast instanceof o.Statement)ast.visitStatement(converter,ctx);else if(ast instanceof o.Expression)ast.visitExpression(converter,ctx);else{if(!(ast instanceof o.Type))throw new exceptions_1.BaseException("Don't know how to print debug info for "+ast);ast.visitType(converter,ctx)}}),ctx.toSource()}function getSuperConstructorCallExpr(stmt){if(stmt instanceof o.ExpressionStatement){var expr=stmt.expr;if(expr instanceof o.InvokeFunctionExpr){var fn=expr.fn;if(fn instanceof o.ReadVarExpr&&fn.builtin===o.BuiltinVar.Super)return expr}}return null}function isConstType(type){return lang_1.isPresent(type)&&type.hasModifier(o.TypeModifier.Const)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),o=require("./output_ast"),abstract_emitter_1=require("./abstract_emitter"),_debugModuleUrl="asset://debug/lib";exports.debugOutputAstAsDart=debugOutputAstAsDart;var DartEmitter=function(){function DartEmitter(_importGenerator){this._importGenerator=_importGenerator}return DartEmitter.prototype.emitStatements=function(moduleUrl,stmts,exportedVars){var _this=this,srcParts=[],converter=new _DartEmitterVisitor(moduleUrl),ctx=abstract_emitter_1.EmitterVisitorContext.createRoot(exportedVars);return converter.visitAllStatements(stmts,ctx),converter.importsWithPrefixes.forEach(function(prefix,importedModuleUrl){srcParts.push("import '"+_this._importGenerator.getImportPath(moduleUrl,importedModuleUrl)+"' as "+prefix+";")}),srcParts.push(ctx.toSource()),srcParts.join("\n")},DartEmitter}();exports.DartEmitter=DartEmitter;var _DartEmitterVisitor=function(_super){function _DartEmitterVisitor(_moduleUrl){_super.call(this,!0),this._moduleUrl=_moduleUrl,this.importsWithPrefixes=new Map}return __extends(_DartEmitterVisitor,_super),_DartEmitterVisitor.prototype.visitExternalExpr=function(ast,ctx){return this._visitIdentifier(ast.value,ast.typeParams,ctx),null},_DartEmitterVisitor.prototype.visitDeclareVarStmt=function(stmt,ctx){return stmt.hasModifier(o.StmtModifier.Final)?isConstType(stmt.type)?ctx.print("const "):ctx.print("final "):lang_1.isBlank(stmt.type)&&ctx.print("var "),lang_1.isPresent(stmt.type)&&(stmt.type.visitType(this,ctx),ctx.print(" ")),ctx.print(stmt.name+" = "),stmt.value.visitExpression(this,ctx),ctx.println(";"),null},_DartEmitterVisitor.prototype.visitCastExpr=function(ast,ctx){return ctx.print("("),ast.value.visitExpression(this,ctx),ctx.print(" as "),ast.type.visitType(this,ctx),ctx.print(")"),null},_DartEmitterVisitor.prototype.visitDeclareClassStmt=function(stmt,ctx){var _this=this;return ctx.pushClass(stmt),ctx.print("class "+stmt.name),lang_1.isPresent(stmt.parent)&&(ctx.print(" extends "),stmt.parent.visitExpression(this,ctx)),ctx.println(" {"),ctx.incIndent(),stmt.fields.forEach(function(field){return _this._visitClassField(field,ctx)}),lang_1.isPresent(stmt.constructorMethod)&&this._visitClassConstructor(stmt,ctx),stmt.getters.forEach(function(getter){return _this._visitClassGetter(getter,ctx)}),stmt.methods.forEach(function(method){return _this._visitClassMethod(method,ctx)}),ctx.decIndent(),ctx.println("}"),ctx.popClass(),null},_DartEmitterVisitor.prototype._visitClassField=function(field,ctx){field.hasModifier(o.StmtModifier.Final)?ctx.print("final "):lang_1.isBlank(field.type)&&ctx.print("var "),lang_1.isPresent(field.type)&&(field.type.visitType(this,ctx),ctx.print(" ")),ctx.println(field.name+";")},_DartEmitterVisitor.prototype._visitClassGetter=function(getter,ctx){lang_1.isPresent(getter.type)&&(getter.type.visitType(this,ctx),ctx.print(" ")),ctx.println("get "+getter.name+" {"),ctx.incIndent(),this.visitAllStatements(getter.body,ctx),ctx.decIndent(),ctx.println("}")},_DartEmitterVisitor.prototype._visitClassConstructor=function(stmt,ctx){ctx.print(stmt.name+"("),this._visitParams(stmt.constructorMethod.params,ctx),ctx.print(")");var ctorStmts=stmt.constructorMethod.body,superCtorExpr=ctorStmts.length>0?getSuperConstructorCallExpr(ctorStmts[0]):null;lang_1.isPresent(superCtorExpr)&&(ctx.print(": "),superCtorExpr.visitExpression(this,ctx),ctorStmts=ctorStmts.slice(1)),ctx.println(" {"),ctx.incIndent(),this.visitAllStatements(ctorStmts,ctx),ctx.decIndent(),ctx.println("}")},_DartEmitterVisitor.prototype._visitClassMethod=function(method,ctx){lang_1.isPresent(method.type)?method.type.visitType(this,ctx):ctx.print("void"),ctx.print(" "+method.name+"("),this._visitParams(method.params,ctx),ctx.println(") {"),ctx.incIndent(),this.visitAllStatements(method.body,ctx),ctx.decIndent(),ctx.println("}")},_DartEmitterVisitor.prototype.visitFunctionExpr=function(ast,ctx){return ctx.print("("),this._visitParams(ast.params,ctx),ctx.println(") {"),ctx.incIndent(),this.visitAllStatements(ast.statements,ctx),ctx.decIndent(),ctx.print("}"),null},_DartEmitterVisitor.prototype.visitDeclareFunctionStmt=function(stmt,ctx){return lang_1.isPresent(stmt.type)?stmt.type.visitType(this,ctx):ctx.print("void"),ctx.print(" "+stmt.name+"("),this._visitParams(stmt.params,ctx),ctx.println(") {"),ctx.incIndent(),this.visitAllStatements(stmt.statements,ctx),ctx.decIndent(),ctx.println("}"),null},_DartEmitterVisitor.prototype.getBuiltinMethodName=function(method){var name;switch(method){case o.BuiltinMethod.ConcatArray:name=".addAll";break;case o.BuiltinMethod.SubscribeObservable:name="listen";break;case o.BuiltinMethod.bind:name=null;break;default:throw new exceptions_1.BaseException("Unknown builtin method: "+method)}return name},_DartEmitterVisitor.prototype.visitTryCatchStmt=function(stmt,ctx){return ctx.println("try {"),ctx.incIndent(),this.visitAllStatements(stmt.bodyStmts,ctx),ctx.decIndent(),ctx.println("} catch ("+abstract_emitter_1.CATCH_ERROR_VAR.name+", "+abstract_emitter_1.CATCH_STACK_VAR.name+") {"),ctx.incIndent(),this.visitAllStatements(stmt.catchStmts,ctx),ctx.decIndent(),ctx.println("}"),null},_DartEmitterVisitor.prototype.visitBinaryOperatorExpr=function(ast,ctx){switch(ast.operator){case o.BinaryOperator.Identical:ctx.print("identical("),ast.lhs.visitExpression(this,ctx),ctx.print(", "),ast.rhs.visitExpression(this,ctx),ctx.print(")");break;case o.BinaryOperator.NotIdentical:ctx.print("!identical("),ast.lhs.visitExpression(this,ctx),ctx.print(", "),ast.rhs.visitExpression(this,ctx),ctx.print(")");break;default:_super.prototype.visitBinaryOperatorExpr.call(this,ast,ctx)}return null},_DartEmitterVisitor.prototype.visitLiteralArrayExpr=function(ast,ctx){return isConstType(ast.type)&&ctx.print("const "),_super.prototype.visitLiteralArrayExpr.call(this,ast,ctx)},_DartEmitterVisitor.prototype.visitLiteralMapExpr=function(ast,ctx){return isConstType(ast.type)&&ctx.print("const "),lang_1.isPresent(ast.valueType)&&(ctx.print("<String, "),ast.valueType.visitType(this,ctx),ctx.print(">")),_super.prototype.visitLiteralMapExpr.call(this,ast,ctx)},_DartEmitterVisitor.prototype.visitInstantiateExpr=function(ast,ctx){return ctx.print(isConstType(ast.type)?"const":"new"),ctx.print(" "),ast.classExpr.visitExpression(this,ctx),ctx.print("("),this.visitAllExpressions(ast.args,ctx,","),ctx.print(")"),null},_DartEmitterVisitor.prototype.visitBuiltintType=function(type,ctx){var typeStr;switch(type.name){case o.BuiltinTypeName.Bool:typeStr="bool";break;case o.BuiltinTypeName.Dynamic:typeStr="dynamic";break;case o.BuiltinTypeName.Function:typeStr="Function";break;case o.BuiltinTypeName.Number:typeStr="num";break;case o.BuiltinTypeName.Int:typeStr="int";break;case o.BuiltinTypeName.String:typeStr="String";break;default:throw new exceptions_1.BaseException("Unsupported builtin type "+type.name)}return ctx.print(typeStr),null},_DartEmitterVisitor.prototype.visitExternalType=function(ast,ctx){return this._visitIdentifier(ast.value,ast.typeParams,ctx),null},_DartEmitterVisitor.prototype.visitArrayType=function(type,ctx){return ctx.print("List<"),lang_1.isPresent(type.of)?type.of.visitType(this,ctx):ctx.print("dynamic"),ctx.print(">"),null},_DartEmitterVisitor.prototype.visitMapType=function(type,ctx){return ctx.print("Map<String, "),lang_1.isPresent(type.valueType)?type.valueType.visitType(this,ctx):ctx.print("dynamic"),ctx.print(">"),null},_DartEmitterVisitor.prototype._visitParams=function(params,ctx){var _this=this;this.visitAllObjects(function(param){lang_1.isPresent(param.type)&&(param.type.visitType(_this,ctx),ctx.print(" ")),ctx.print(param.name)},params,ctx,",")},_DartEmitterVisitor.prototype._visitIdentifier=function(value,typeParams,ctx){var _this=this;if(lang_1.isBlank(value.name))throw new exceptions_1.BaseException("Internal error: unknown identifier "+value);if(lang_1.isPresent(value.moduleUrl)&&value.moduleUrl!=this._moduleUrl){var prefix=this.importsWithPrefixes.get(value.moduleUrl);lang_1.isBlank(prefix)&&(prefix="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(value.moduleUrl,prefix)),ctx.print(prefix+".")}ctx.print(value.name),lang_1.isPresent(typeParams)&&typeParams.length>0&&(ctx.print("<"),this.visitAllObjects(function(type){return type.visitType(_this,ctx)},typeParams,ctx,","),ctx.print(">"))},_DartEmitterVisitor}(abstract_emitter_1.AbstractEmitterVisitor)},{"../facade/exceptions":107,"../facade/lang":108,"./abstract_emitter":125,"./output_ast":129}],128:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_private_1=require("../../core_private"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),InterpretiveAppViewInstanceFactory=function(){function InterpretiveAppViewInstanceFactory(){}return InterpretiveAppViewInstanceFactory.prototype.createInstance=function(superClass,clazz,args,props,getters,methods){if(superClass===core_private_1.AppView)return args=args.concat([null]),new _InterpretiveAppView(args,props,getters,methods);if(superClass===core_private_1.DebugAppView)return new _InterpretiveAppView(args,props,getters,methods);throw new exceptions_1.BaseException("Can't instantiate class "+superClass+" in interpretative mode")},InterpretiveAppViewInstanceFactory}();exports.InterpretiveAppViewInstanceFactory=InterpretiveAppViewInstanceFactory;var _InterpretiveAppView=function(_super){function _InterpretiveAppView(args,props,getters,methods){_super.call(this,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]),this.props=props,this.getters=getters,this.methods=methods}return __extends(_InterpretiveAppView,_super),_InterpretiveAppView.prototype.createInternal=function(rootSelector){var m=this.methods.get("createInternal");return lang_1.isPresent(m)?m(rootSelector):_super.prototype.createInternal.call(this,rootSelector)},_InterpretiveAppView.prototype.injectorGetInternal=function(token,nodeIndex,notFoundResult){var m=this.methods.get("injectorGetInternal");return lang_1.isPresent(m)?m(token,nodeIndex,notFoundResult):_super.prototype.injectorGet.call(this,token,nodeIndex,notFoundResult)},_InterpretiveAppView.prototype.detachInternal=function(){var m=this.methods.get("detachInternal");return lang_1.isPresent(m)?m():_super.prototype.detachInternal.call(this)},_InterpretiveAppView.prototype.destroyInternal=function(){var m=this.methods.get("destroyInternal");return lang_1.isPresent(m)?m():_super.prototype.destroyInternal.call(this)},_InterpretiveAppView.prototype.dirtyParentQueriesInternal=function(){var m=this.methods.get("dirtyParentQueriesInternal");return lang_1.isPresent(m)?m():_super.prototype.dirtyParentQueriesInternal.call(this)},_InterpretiveAppView.prototype.detectChangesInternal=function(throwOnChange){var m=this.methods.get("detectChangesInternal");return lang_1.isPresent(m)?m(throwOnChange):_super.prototype.detectChangesInternal.call(this,throwOnChange)},_InterpretiveAppView}(core_private_1.DebugAppView)},{"../../core_private":85,"../facade/exceptions":107,"../facade/lang":108}],129:[function(require,module,exports){"use strict";function replaceVarInExpression(varName,newValue,expression){var transformer=new _ReplaceVariableTransformer(varName,newValue);return expression.visitExpression(transformer,null)}function findReadVarNames(stmts){var finder=new _VariableFinder;return finder.visitAllStatements(stmts,null),finder.varNames}function variable(name,type){return void 0===type&&(type=null),new ReadVarExpr(name,type)}function importExpr(id,typeParams){return void 0===typeParams&&(typeParams=null),new ExternalExpr(id,null,typeParams)}function importType(id,typeParams,typeModifiers){return void 0===typeParams&&(typeParams=null),void 0===typeModifiers&&(typeModifiers=null),lang_1.isPresent(id)?new ExternalType(id,typeParams,typeModifiers):null}function literal(value,type){return void 0===type&&(type=null),new LiteralExpr(value,type)}function literalArr(values,type){return void 0===type&&(type=null),new LiteralArrayExpr(values,type)}function literalMap(values,type){return void 0===type&&(type=null),new LiteralMapExpr(values,type)}function not(expr){return new NotExpr(expr)}function fn(params,body,type){return void 0===type&&(type=null),new FunctionExpr(params,body,type)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=require("../facade/lang");!function(TypeModifier){TypeModifier[TypeModifier.Const=0]="Const"}(exports.TypeModifier||(exports.TypeModifier={}));var Type=(exports.TypeModifier,function(){function Type(modifiers){void 0===modifiers&&(modifiers=null),this.modifiers=modifiers,lang_1.isBlank(modifiers)&&(this.modifiers=[])}return Type.prototype.hasModifier=function(modifier){return this.modifiers.indexOf(modifier)!==-1},Type}());exports.Type=Type,function(BuiltinTypeName){BuiltinTypeName[BuiltinTypeName.Dynamic=0]="Dynamic",BuiltinTypeName[BuiltinTypeName.Bool=1]="Bool",BuiltinTypeName[BuiltinTypeName.String=2]="String",BuiltinTypeName[BuiltinTypeName.Int=3]="Int",BuiltinTypeName[BuiltinTypeName.Number=4]="Number",BuiltinTypeName[BuiltinTypeName.Function=5]="Function"}(exports.BuiltinTypeName||(exports.BuiltinTypeName={}));var BuiltinTypeName=exports.BuiltinTypeName,BuiltinType=function(_super){function BuiltinType(name,modifiers){void 0===modifiers&&(modifiers=null),_super.call(this,modifiers),this.name=name}return __extends(BuiltinType,_super),BuiltinType.prototype.visitType=function(visitor,context){return visitor.visitBuiltintType(this,context)},BuiltinType}(Type);exports.BuiltinType=BuiltinType;var ExternalType=function(_super){function ExternalType(value,typeParams,modifiers){void 0===typeParams&&(typeParams=null),void 0===modifiers&&(modifiers=null),_super.call(this,modifiers),this.value=value,this.typeParams=typeParams}return __extends(ExternalType,_super),ExternalType.prototype.visitType=function(visitor,context){return visitor.visitExternalType(this,context)},ExternalType}(Type);exports.ExternalType=ExternalType;var ArrayType=function(_super){function ArrayType(of,modifiers){void 0===modifiers&&(modifiers=null),_super.call(this,modifiers),this.of=of}return __extends(ArrayType,_super),ArrayType.prototype.visitType=function(visitor,context){return visitor.visitArrayType(this,context)},ArrayType}(Type);exports.ArrayType=ArrayType;var MapType=function(_super){function MapType(valueType,modifiers){void 0===modifiers&&(modifiers=null),_super.call(this,modifiers),this.valueType=valueType}return __extends(MapType,_super),MapType.prototype.visitType=function(visitor,context){return visitor.visitMapType(this,context)},MapType}(Type);exports.MapType=MapType,exports.DYNAMIC_TYPE=new BuiltinType(BuiltinTypeName.Dynamic),exports.BOOL_TYPE=new BuiltinType(BuiltinTypeName.Bool),exports.INT_TYPE=new BuiltinType(BuiltinTypeName.Int),exports.NUMBER_TYPE=new BuiltinType(BuiltinTypeName.Number),exports.STRING_TYPE=new BuiltinType(BuiltinTypeName.String),exports.FUNCTION_TYPE=new BuiltinType(BuiltinTypeName.Function),function(BinaryOperator){BinaryOperator[BinaryOperator.Equals=0]="Equals",BinaryOperator[BinaryOperator.NotEquals=1]="NotEquals",BinaryOperator[BinaryOperator.Identical=2]="Identical",BinaryOperator[BinaryOperator.NotIdentical=3]="NotIdentical",BinaryOperator[BinaryOperator.Minus=4]="Minus",BinaryOperator[BinaryOperator.Plus=5]="Plus",BinaryOperator[BinaryOperator.Divide=6]="Divide",BinaryOperator[BinaryOperator.Multiply=7]="Multiply",BinaryOperator[BinaryOperator.Modulo=8]="Modulo",BinaryOperator[BinaryOperator.And=9]="And",BinaryOperator[BinaryOperator.Or=10]="Or",BinaryOperator[BinaryOperator.Lower=11]="Lower",BinaryOperator[BinaryOperator.LowerEquals=12]="LowerEquals",BinaryOperator[BinaryOperator.Bigger=13]="Bigger",BinaryOperator[BinaryOperator.BiggerEquals=14]="BiggerEquals"}(exports.BinaryOperator||(exports.BinaryOperator={}));var BinaryOperator=exports.BinaryOperator,Expression=function(){function Expression(type){this.type=type}return Expression.prototype.prop=function(name){return new ReadPropExpr(this,name)},Expression.prototype.key=function(index,type){return void 0===type&&(type=null),new ReadKeyExpr(this,index,type)},Expression.prototype.callMethod=function(name,params){return new InvokeMethodExpr(this,name,params)},Expression.prototype.callFn=function(params){return new InvokeFunctionExpr(this,params)},Expression.prototype.instantiate=function(params,type){return void 0===type&&(type=null),new InstantiateExpr(this,params,type)},Expression.prototype.conditional=function(trueCase,falseCase){return void 0===falseCase&&(falseCase=null),new ConditionalExpr(this,trueCase,falseCase)},Expression.prototype.equals=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Equals,this,rhs)},Expression.prototype.notEquals=function(rhs){return new BinaryOperatorExpr(BinaryOperator.NotEquals,this,rhs)},Expression.prototype.identical=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Identical,this,rhs)},Expression.prototype.notIdentical=function(rhs){return new BinaryOperatorExpr(BinaryOperator.NotIdentical,this,rhs)},Expression.prototype.minus=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Minus,this,rhs)},Expression.prototype.plus=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Plus,this,rhs)},Expression.prototype.divide=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Divide,this,rhs)},Expression.prototype.multiply=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Multiply,this,rhs)},Expression.prototype.modulo=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Modulo,this,rhs)},Expression.prototype.and=function(rhs){return new BinaryOperatorExpr(BinaryOperator.And,this,rhs)},Expression.prototype.or=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Or,this,rhs)},Expression.prototype.lower=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Lower,this,rhs)},Expression.prototype.lowerEquals=function(rhs){return new BinaryOperatorExpr(BinaryOperator.LowerEquals,this,rhs)},Expression.prototype.bigger=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Bigger,this,rhs)},Expression.prototype.biggerEquals=function(rhs){return new BinaryOperatorExpr(BinaryOperator.BiggerEquals,this,rhs)},Expression.prototype.isBlank=function(){return this.equals(exports.NULL_EXPR)},Expression.prototype.cast=function(type){return new CastExpr(this,type)},Expression.prototype.toStmt=function(){return new ExpressionStatement(this)},Expression}();exports.Expression=Expression,function(BuiltinVar){BuiltinVar[BuiltinVar.This=0]="This",BuiltinVar[BuiltinVar.Super=1]="Super",BuiltinVar[BuiltinVar.CatchError=2]="CatchError",BuiltinVar[BuiltinVar.CatchStack=3]="CatchStack"}(exports.BuiltinVar||(exports.BuiltinVar={}));var BuiltinVar=exports.BuiltinVar,ReadVarExpr=function(_super){function ReadVarExpr(name,type){void 0===type&&(type=null),_super.call(this,type),lang_1.isString(name)?(this.name=name,this.builtin=null):(this.name=null,this.builtin=name)}return __extends(ReadVarExpr,_super),ReadVarExpr.prototype.visitExpression=function(visitor,context){return visitor.visitReadVarExpr(this,context)},ReadVarExpr.prototype.set=function(value){return new WriteVarExpr(this.name,value)},ReadVarExpr}(Expression);exports.ReadVarExpr=ReadVarExpr;var WriteVarExpr=function(_super){function WriteVarExpr(name,value,type){void 0===type&&(type=null),_super.call(this,lang_1.isPresent(type)?type:value.type),this.name=name,this.value=value}return __extends(WriteVarExpr,_super),WriteVarExpr.prototype.visitExpression=function(visitor,context){return visitor.visitWriteVarExpr(this,context)},WriteVarExpr.prototype.toDeclStmt=function(type,modifiers){return void 0===type&&(type=null),void 0===modifiers&&(modifiers=null),new DeclareVarStmt(this.name,this.value,type,modifiers)},WriteVarExpr}(Expression);exports.WriteVarExpr=WriteVarExpr;var WriteKeyExpr=function(_super){function WriteKeyExpr(receiver,index,value,type){void 0===type&&(type=null),_super.call(this,lang_1.isPresent(type)?type:value.type),this.receiver=receiver,this.index=index,this.value=value}return __extends(WriteKeyExpr,_super),
WriteKeyExpr.prototype.visitExpression=function(visitor,context){return visitor.visitWriteKeyExpr(this,context)},WriteKeyExpr}(Expression);exports.WriteKeyExpr=WriteKeyExpr;var WritePropExpr=function(_super){function WritePropExpr(receiver,name,value,type){void 0===type&&(type=null),_super.call(this,lang_1.isPresent(type)?type:value.type),this.receiver=receiver,this.name=name,this.value=value}return __extends(WritePropExpr,_super),WritePropExpr.prototype.visitExpression=function(visitor,context){return visitor.visitWritePropExpr(this,context)},WritePropExpr}(Expression);exports.WritePropExpr=WritePropExpr,function(BuiltinMethod){BuiltinMethod[BuiltinMethod.ConcatArray=0]="ConcatArray",BuiltinMethod[BuiltinMethod.SubscribeObservable=1]="SubscribeObservable",BuiltinMethod[BuiltinMethod.bind=2]="bind"}(exports.BuiltinMethod||(exports.BuiltinMethod={}));var InvokeMethodExpr=(exports.BuiltinMethod,function(_super){function InvokeMethodExpr(receiver,method,args,type){void 0===type&&(type=null),_super.call(this,type),this.receiver=receiver,this.args=args,lang_1.isString(method)?(this.name=method,this.builtin=null):(this.name=null,this.builtin=method)}return __extends(InvokeMethodExpr,_super),InvokeMethodExpr.prototype.visitExpression=function(visitor,context){return visitor.visitInvokeMethodExpr(this,context)},InvokeMethodExpr}(Expression));exports.InvokeMethodExpr=InvokeMethodExpr;var InvokeFunctionExpr=function(_super){function InvokeFunctionExpr(fn,args,type){void 0===type&&(type=null),_super.call(this,type),this.fn=fn,this.args=args}return __extends(InvokeFunctionExpr,_super),InvokeFunctionExpr.prototype.visitExpression=function(visitor,context){return visitor.visitInvokeFunctionExpr(this,context)},InvokeFunctionExpr}(Expression);exports.InvokeFunctionExpr=InvokeFunctionExpr;var InstantiateExpr=function(_super){function InstantiateExpr(classExpr,args,type){_super.call(this,type),this.classExpr=classExpr,this.args=args}return __extends(InstantiateExpr,_super),InstantiateExpr.prototype.visitExpression=function(visitor,context){return visitor.visitInstantiateExpr(this,context)},InstantiateExpr}(Expression);exports.InstantiateExpr=InstantiateExpr;var LiteralExpr=function(_super){function LiteralExpr(value,type){void 0===type&&(type=null),_super.call(this,type),this.value=value}return __extends(LiteralExpr,_super),LiteralExpr.prototype.visitExpression=function(visitor,context){return visitor.visitLiteralExpr(this,context)},LiteralExpr}(Expression);exports.LiteralExpr=LiteralExpr;var ExternalExpr=function(_super){function ExternalExpr(value,type,typeParams){void 0===type&&(type=null),void 0===typeParams&&(typeParams=null),_super.call(this,type),this.value=value,this.typeParams=typeParams}return __extends(ExternalExpr,_super),ExternalExpr.prototype.visitExpression=function(visitor,context){return visitor.visitExternalExpr(this,context)},ExternalExpr}(Expression);exports.ExternalExpr=ExternalExpr;var ConditionalExpr=function(_super){function ConditionalExpr(condition,trueCase,falseCase,type){void 0===falseCase&&(falseCase=null),void 0===type&&(type=null),_super.call(this,lang_1.isPresent(type)?type:trueCase.type),this.condition=condition,this.falseCase=falseCase,this.trueCase=trueCase}return __extends(ConditionalExpr,_super),ConditionalExpr.prototype.visitExpression=function(visitor,context){return visitor.visitConditionalExpr(this,context)},ConditionalExpr}(Expression);exports.ConditionalExpr=ConditionalExpr;var NotExpr=function(_super){function NotExpr(condition){_super.call(this,exports.BOOL_TYPE),this.condition=condition}return __extends(NotExpr,_super),NotExpr.prototype.visitExpression=function(visitor,context){return visitor.visitNotExpr(this,context)},NotExpr}(Expression);exports.NotExpr=NotExpr;var CastExpr=function(_super){function CastExpr(value,type){_super.call(this,type),this.value=value}return __extends(CastExpr,_super),CastExpr.prototype.visitExpression=function(visitor,context){return visitor.visitCastExpr(this,context)},CastExpr}(Expression);exports.CastExpr=CastExpr;var FnParam=function(){function FnParam(name,type){void 0===type&&(type=null),this.name=name,this.type=type}return FnParam}();exports.FnParam=FnParam;var FunctionExpr=function(_super){function FunctionExpr(params,statements,type){void 0===type&&(type=null),_super.call(this,type),this.params=params,this.statements=statements}return __extends(FunctionExpr,_super),FunctionExpr.prototype.visitExpression=function(visitor,context){return visitor.visitFunctionExpr(this,context)},FunctionExpr.prototype.toDeclStmt=function(name,modifiers){return void 0===modifiers&&(modifiers=null),new DeclareFunctionStmt(name,this.params,this.statements,this.type,modifiers)},FunctionExpr}(Expression);exports.FunctionExpr=FunctionExpr;var BinaryOperatorExpr=function(_super){function BinaryOperatorExpr(operator,lhs,rhs,type){void 0===type&&(type=null),_super.call(this,lang_1.isPresent(type)?type:lhs.type),this.operator=operator,this.rhs=rhs,this.lhs=lhs}return __extends(BinaryOperatorExpr,_super),BinaryOperatorExpr.prototype.visitExpression=function(visitor,context){return visitor.visitBinaryOperatorExpr(this,context)},BinaryOperatorExpr}(Expression);exports.BinaryOperatorExpr=BinaryOperatorExpr;var ReadPropExpr=function(_super){function ReadPropExpr(receiver,name,type){void 0===type&&(type=null),_super.call(this,type),this.receiver=receiver,this.name=name}return __extends(ReadPropExpr,_super),ReadPropExpr.prototype.visitExpression=function(visitor,context){return visitor.visitReadPropExpr(this,context)},ReadPropExpr.prototype.set=function(value){return new WritePropExpr(this.receiver,this.name,value)},ReadPropExpr}(Expression);exports.ReadPropExpr=ReadPropExpr;var ReadKeyExpr=function(_super){function ReadKeyExpr(receiver,index,type){void 0===type&&(type=null),_super.call(this,type),this.receiver=receiver,this.index=index}return __extends(ReadKeyExpr,_super),ReadKeyExpr.prototype.visitExpression=function(visitor,context){return visitor.visitReadKeyExpr(this,context)},ReadKeyExpr.prototype.set=function(value){return new WriteKeyExpr(this.receiver,this.index,value)},ReadKeyExpr}(Expression);exports.ReadKeyExpr=ReadKeyExpr;var LiteralArrayExpr=function(_super){function LiteralArrayExpr(entries,type){void 0===type&&(type=null),_super.call(this,type),this.entries=entries}return __extends(LiteralArrayExpr,_super),LiteralArrayExpr.prototype.visitExpression=function(visitor,context){return visitor.visitLiteralArrayExpr(this,context)},LiteralArrayExpr}(Expression);exports.LiteralArrayExpr=LiteralArrayExpr;var LiteralMapExpr=function(_super){function LiteralMapExpr(entries,type){void 0===type&&(type=null),_super.call(this,type),this.entries=entries,this.valueType=null,lang_1.isPresent(type)&&(this.valueType=type.valueType)}return __extends(LiteralMapExpr,_super),LiteralMapExpr.prototype.visitExpression=function(visitor,context){return visitor.visitLiteralMapExpr(this,context)},LiteralMapExpr}(Expression);exports.LiteralMapExpr=LiteralMapExpr,exports.THIS_EXPR=new ReadVarExpr(BuiltinVar.This),exports.SUPER_EXPR=new ReadVarExpr(BuiltinVar.Super),exports.CATCH_ERROR_VAR=new ReadVarExpr(BuiltinVar.CatchError),exports.CATCH_STACK_VAR=new ReadVarExpr(BuiltinVar.CatchStack),exports.NULL_EXPR=new LiteralExpr(null,null),function(StmtModifier){StmtModifier[StmtModifier.Final=0]="Final",StmtModifier[StmtModifier.Private=1]="Private"}(exports.StmtModifier||(exports.StmtModifier={}));var Statement=(exports.StmtModifier,function(){function Statement(modifiers){void 0===modifiers&&(modifiers=null),this.modifiers=modifiers,lang_1.isBlank(modifiers)&&(this.modifiers=[])}return Statement.prototype.hasModifier=function(modifier){return this.modifiers.indexOf(modifier)!==-1},Statement}());exports.Statement=Statement;var DeclareVarStmt=function(_super){function DeclareVarStmt(name,value,type,modifiers){void 0===type&&(type=null),void 0===modifiers&&(modifiers=null),_super.call(this,modifiers),this.name=name,this.value=value,this.type=lang_1.isPresent(type)?type:value.type}return __extends(DeclareVarStmt,_super),DeclareVarStmt.prototype.visitStatement=function(visitor,context){return visitor.visitDeclareVarStmt(this,context)},DeclareVarStmt}(Statement);exports.DeclareVarStmt=DeclareVarStmt;var DeclareFunctionStmt=function(_super){function DeclareFunctionStmt(name,params,statements,type,modifiers){void 0===type&&(type=null),void 0===modifiers&&(modifiers=null),_super.call(this,modifiers),this.name=name,this.params=params,this.statements=statements,this.type=type}return __extends(DeclareFunctionStmt,_super),DeclareFunctionStmt.prototype.visitStatement=function(visitor,context){return visitor.visitDeclareFunctionStmt(this,context)},DeclareFunctionStmt}(Statement);exports.DeclareFunctionStmt=DeclareFunctionStmt;var ExpressionStatement=function(_super){function ExpressionStatement(expr){_super.call(this),this.expr=expr}return __extends(ExpressionStatement,_super),ExpressionStatement.prototype.visitStatement=function(visitor,context){return visitor.visitExpressionStmt(this,context)},ExpressionStatement}(Statement);exports.ExpressionStatement=ExpressionStatement;var ReturnStatement=function(_super){function ReturnStatement(value){_super.call(this),this.value=value}return __extends(ReturnStatement,_super),ReturnStatement.prototype.visitStatement=function(visitor,context){return visitor.visitReturnStmt(this,context)},ReturnStatement}(Statement);exports.ReturnStatement=ReturnStatement;var AbstractClassPart=function(){function AbstractClassPart(type,modifiers){void 0===type&&(type=null),this.type=type,this.modifiers=modifiers,lang_1.isBlank(modifiers)&&(this.modifiers=[])}return AbstractClassPart.prototype.hasModifier=function(modifier){return this.modifiers.indexOf(modifier)!==-1},AbstractClassPart}();exports.AbstractClassPart=AbstractClassPart;var ClassField=function(_super){function ClassField(name,type,modifiers){void 0===type&&(type=null),void 0===modifiers&&(modifiers=null),_super.call(this,type,modifiers),this.name=name}return __extends(ClassField,_super),ClassField}(AbstractClassPart);exports.ClassField=ClassField;var ClassMethod=function(_super){function ClassMethod(name,params,body,type,modifiers){void 0===type&&(type=null),void 0===modifiers&&(modifiers=null),_super.call(this,type,modifiers),this.name=name,this.params=params,this.body=body}return __extends(ClassMethod,_super),ClassMethod}(AbstractClassPart);exports.ClassMethod=ClassMethod;var ClassGetter=function(_super){function ClassGetter(name,body,type,modifiers){void 0===type&&(type=null),void 0===modifiers&&(modifiers=null),_super.call(this,type,modifiers),this.name=name,this.body=body}return __extends(ClassGetter,_super),ClassGetter}(AbstractClassPart);exports.ClassGetter=ClassGetter;var ClassStmt=function(_super){function ClassStmt(name,parent,fields,getters,constructorMethod,methods,modifiers){void 0===modifiers&&(modifiers=null),_super.call(this,modifiers),this.name=name,this.parent=parent,this.fields=fields,this.getters=getters,this.constructorMethod=constructorMethod,this.methods=methods}return __extends(ClassStmt,_super),ClassStmt.prototype.visitStatement=function(visitor,context){return visitor.visitDeclareClassStmt(this,context)},ClassStmt}(Statement);exports.ClassStmt=ClassStmt;var IfStmt=function(_super){function IfStmt(condition,trueCase,falseCase){void 0===falseCase&&(falseCase=[]),_super.call(this),this.condition=condition,this.trueCase=trueCase,this.falseCase=falseCase}return __extends(IfStmt,_super),IfStmt.prototype.visitStatement=function(visitor,context){return visitor.visitIfStmt(this,context)},IfStmt}(Statement);exports.IfStmt=IfStmt;var CommentStmt=function(_super){function CommentStmt(comment){_super.call(this),this.comment=comment}return __extends(CommentStmt,_super),CommentStmt.prototype.visitStatement=function(visitor,context){return visitor.visitCommentStmt(this,context)},CommentStmt}(Statement);exports.CommentStmt=CommentStmt;var TryCatchStmt=function(_super){function TryCatchStmt(bodyStmts,catchStmts){_super.call(this),this.bodyStmts=bodyStmts,this.catchStmts=catchStmts}return __extends(TryCatchStmt,_super),TryCatchStmt.prototype.visitStatement=function(visitor,context){return visitor.visitTryCatchStmt(this,context)},TryCatchStmt}(Statement);exports.TryCatchStmt=TryCatchStmt;var ThrowStmt=function(_super){function ThrowStmt(error){_super.call(this),this.error=error}return __extends(ThrowStmt,_super),ThrowStmt.prototype.visitStatement=function(visitor,context){return visitor.visitThrowStmt(this,context)},ThrowStmt}(Statement);exports.ThrowStmt=ThrowStmt;var ExpressionTransformer=function(){function ExpressionTransformer(){}return ExpressionTransformer.prototype.visitReadVarExpr=function(ast,context){return ast},ExpressionTransformer.prototype.visitWriteVarExpr=function(expr,context){return new WriteVarExpr(expr.name,expr.value.visitExpression(this,context))},ExpressionTransformer.prototype.visitWriteKeyExpr=function(expr,context){return new WriteKeyExpr(expr.receiver.visitExpression(this,context),expr.index.visitExpression(this,context),expr.value.visitExpression(this,context))},ExpressionTransformer.prototype.visitWritePropExpr=function(expr,context){return new WritePropExpr(expr.receiver.visitExpression(this,context),expr.name,expr.value.visitExpression(this,context))},ExpressionTransformer.prototype.visitInvokeMethodExpr=function(ast,context){var method=lang_1.isPresent(ast.builtin)?ast.builtin:ast.name;return new InvokeMethodExpr(ast.receiver.visitExpression(this,context),method,this.visitAllExpressions(ast.args,context),ast.type)},ExpressionTransformer.prototype.visitInvokeFunctionExpr=function(ast,context){return new InvokeFunctionExpr(ast.fn.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast.type)},ExpressionTransformer.prototype.visitInstantiateExpr=function(ast,context){return new InstantiateExpr(ast.classExpr.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast.type)},ExpressionTransformer.prototype.visitLiteralExpr=function(ast,context){return ast},ExpressionTransformer.prototype.visitExternalExpr=function(ast,context){return ast},ExpressionTransformer.prototype.visitConditionalExpr=function(ast,context){return new ConditionalExpr(ast.condition.visitExpression(this,context),ast.trueCase.visitExpression(this,context),ast.falseCase.visitExpression(this,context))},ExpressionTransformer.prototype.visitNotExpr=function(ast,context){return new NotExpr(ast.condition.visitExpression(this,context))},ExpressionTransformer.prototype.visitCastExpr=function(ast,context){return new CastExpr(ast.value.visitExpression(this,context),context)},ExpressionTransformer.prototype.visitFunctionExpr=function(ast,context){return ast},ExpressionTransformer.prototype.visitBinaryOperatorExpr=function(ast,context){return new BinaryOperatorExpr(ast.operator,ast.lhs.visitExpression(this,context),ast.rhs.visitExpression(this,context),ast.type)},ExpressionTransformer.prototype.visitReadPropExpr=function(ast,context){return new ReadPropExpr(ast.receiver.visitExpression(this,context),ast.name,ast.type)},ExpressionTransformer.prototype.visitReadKeyExpr=function(ast,context){return new ReadKeyExpr(ast.receiver.visitExpression(this,context),ast.index.visitExpression(this,context),ast.type)},ExpressionTransformer.prototype.visitLiteralArrayExpr=function(ast,context){return new LiteralArrayExpr(this.visitAllExpressions(ast.entries,context))},ExpressionTransformer.prototype.visitLiteralMapExpr=function(ast,context){var _this=this;return new LiteralMapExpr(ast.entries.map(function(entry){return[entry[0],entry[1].visitExpression(_this,context)]}))},ExpressionTransformer.prototype.visitAllExpressions=function(exprs,context){var _this=this;return exprs.map(function(expr){return expr.visitExpression(_this,context)})},ExpressionTransformer.prototype.visitDeclareVarStmt=function(stmt,context){return new DeclareVarStmt(stmt.name,stmt.value.visitExpression(this,context),stmt.type,stmt.modifiers)},ExpressionTransformer.prototype.visitDeclareFunctionStmt=function(stmt,context){return stmt},ExpressionTransformer.prototype.visitExpressionStmt=function(stmt,context){return new ExpressionStatement(stmt.expr.visitExpression(this,context))},ExpressionTransformer.prototype.visitReturnStmt=function(stmt,context){return new ReturnStatement(stmt.value.visitExpression(this,context))},ExpressionTransformer.prototype.visitDeclareClassStmt=function(stmt,context){return stmt},ExpressionTransformer.prototype.visitIfStmt=function(stmt,context){return new IfStmt(stmt.condition.visitExpression(this,context),this.visitAllStatements(stmt.trueCase,context),this.visitAllStatements(stmt.falseCase,context))},ExpressionTransformer.prototype.visitTryCatchStmt=function(stmt,context){return new TryCatchStmt(this.visitAllStatements(stmt.bodyStmts,context),this.visitAllStatements(stmt.catchStmts,context))},ExpressionTransformer.prototype.visitThrowStmt=function(stmt,context){return new ThrowStmt(stmt.error.visitExpression(this,context))},ExpressionTransformer.prototype.visitCommentStmt=function(stmt,context){return stmt},ExpressionTransformer.prototype.visitAllStatements=function(stmts,context){var _this=this;return stmts.map(function(stmt){return stmt.visitStatement(_this,context)})},ExpressionTransformer}();exports.ExpressionTransformer=ExpressionTransformer;var RecursiveExpressionVisitor=function(){function RecursiveExpressionVisitor(){}return RecursiveExpressionVisitor.prototype.visitReadVarExpr=function(ast,context){return ast},RecursiveExpressionVisitor.prototype.visitWriteVarExpr=function(expr,context){return expr.value.visitExpression(this,context),expr},RecursiveExpressionVisitor.prototype.visitWriteKeyExpr=function(expr,context){return expr.receiver.visitExpression(this,context),expr.index.visitExpression(this,context),expr.value.visitExpression(this,context),expr},RecursiveExpressionVisitor.prototype.visitWritePropExpr=function(expr,context){return expr.receiver.visitExpression(this,context),expr.value.visitExpression(this,context),expr},RecursiveExpressionVisitor.prototype.visitInvokeMethodExpr=function(ast,context){return ast.receiver.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast},RecursiveExpressionVisitor.prototype.visitInvokeFunctionExpr=function(ast,context){return ast.fn.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast},RecursiveExpressionVisitor.prototype.visitInstantiateExpr=function(ast,context){return ast.classExpr.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast},RecursiveExpressionVisitor.prototype.visitLiteralExpr=function(ast,context){return ast},RecursiveExpressionVisitor.prototype.visitExternalExpr=function(ast,context){return ast},RecursiveExpressionVisitor.prototype.visitConditionalExpr=function(ast,context){return ast.condition.visitExpression(this,context),ast.trueCase.visitExpression(this,context),ast.falseCase.visitExpression(this,context),ast},RecursiveExpressionVisitor.prototype.visitNotExpr=function(ast,context){return ast.condition.visitExpression(this,context),ast},RecursiveExpressionVisitor.prototype.visitCastExpr=function(ast,context){return ast.value.visitExpression(this,context),ast},RecursiveExpressionVisitor.prototype.visitFunctionExpr=function(ast,context){return ast},RecursiveExpressionVisitor.prototype.visitBinaryOperatorExpr=function(ast,context){return ast.lhs.visitExpression(this,context),ast.rhs.visitExpression(this,context),ast},RecursiveExpressionVisitor.prototype.visitReadPropExpr=function(ast,context){return ast.receiver.visitExpression(this,context),ast},RecursiveExpressionVisitor.prototype.visitReadKeyExpr=function(ast,context){return ast.receiver.visitExpression(this,context),ast.index.visitExpression(this,context),ast},RecursiveExpressionVisitor.prototype.visitLiteralArrayExpr=function(ast,context){return this.visitAllExpressions(ast.entries,context),ast},RecursiveExpressionVisitor.prototype.visitLiteralMapExpr=function(ast,context){var _this=this;return ast.entries.forEach(function(entry){return entry[1].visitExpression(_this,context)}),ast},RecursiveExpressionVisitor.prototype.visitAllExpressions=function(exprs,context){var _this=this;exprs.forEach(function(expr){return expr.visitExpression(_this,context)})},RecursiveExpressionVisitor.prototype.visitDeclareVarStmt=function(stmt,context){return stmt.value.visitExpression(this,context),stmt},RecursiveExpressionVisitor.prototype.visitDeclareFunctionStmt=function(stmt,context){return stmt},RecursiveExpressionVisitor.prototype.visitExpressionStmt=function(stmt,context){return stmt.expr.visitExpression(this,context),stmt},RecursiveExpressionVisitor.prototype.visitReturnStmt=function(stmt,context){return stmt.value.visitExpression(this,context),stmt},RecursiveExpressionVisitor.prototype.visitDeclareClassStmt=function(stmt,context){return stmt},RecursiveExpressionVisitor.prototype.visitIfStmt=function(stmt,context){return stmt.condition.visitExpression(this,context),this.visitAllStatements(stmt.trueCase,context),this.visitAllStatements(stmt.falseCase,context),stmt},RecursiveExpressionVisitor.prototype.visitTryCatchStmt=function(stmt,context){return this.visitAllStatements(stmt.bodyStmts,context),this.visitAllStatements(stmt.catchStmts,context),stmt},RecursiveExpressionVisitor.prototype.visitThrowStmt=function(stmt,context){return stmt.error.visitExpression(this,context),stmt},RecursiveExpressionVisitor.prototype.visitCommentStmt=function(stmt,context){return stmt},RecursiveExpressionVisitor.prototype.visitAllStatements=function(stmts,context){var _this=this;stmts.forEach(function(stmt){return stmt.visitStatement(_this,context)})},RecursiveExpressionVisitor}();exports.RecursiveExpressionVisitor=RecursiveExpressionVisitor,exports.replaceVarInExpression=replaceVarInExpression;var _ReplaceVariableTransformer=function(_super){function _ReplaceVariableTransformer(_varName,_newValue){_super.call(this),this._varName=_varName,this._newValue=_newValue}return __extends(_ReplaceVariableTransformer,_super),_ReplaceVariableTransformer.prototype.visitReadVarExpr=function(ast,context){return ast.name==this._varName?this._newValue:ast},_ReplaceVariableTransformer}(ExpressionTransformer);exports.findReadVarNames=findReadVarNames;var _VariableFinder=function(_super){function _VariableFinder(){_super.apply(this,arguments),this.varNames=new Set}return __extends(_VariableFinder,_super),_VariableFinder.prototype.visitReadVarExpr=function(ast,context){return this.varNames.add(ast.name),null},_VariableFinder}(RecursiveExpressionVisitor);exports.variable=variable,exports.importExpr=importExpr,exports.importType=importType,exports.literal=literal,exports.literalArr=literalArr,exports.literalMap=literalMap,exports.not=not,exports.fn=fn},{"../facade/lang":108}],130:[function(require,module,exports){"use strict";function interpretStatements(statements,resultVar,instanceFactory){var stmtsWithReturn=statements.concat([new o.ReturnStatement(o.variable(resultVar))]),ctx=new _ExecutionContext(null,null,null,null,new Map,new Map,new Map,new Map,instanceFactory),visitor=new StatementInterpreter,result=visitor.visitAllStatements(stmtsWithReturn,ctx);return lang_1.isPresent(result)?result.value:null}function isDynamicInstance(instance){return lang_1.IS_DART?instance instanceof DynamicInstance:lang_1.isPresent(instance)&&lang_1.isPresent(instance.props)&&lang_1.isPresent(instance.getters)&&lang_1.isPresent(instance.methods)}function _executeFunctionStatements(varNames,varValues,statements,ctx,visitor){for(var childCtx=ctx.createChildWihtLocalVars(),i=0;i<varNames.length;i++)childCtx.vars.set(varNames[i],varValues[i]);var result=visitor.visitAllStatements(statements,childCtx);return lang_1.isPresent(result)?result.value:null}function _declareFn(varNames,statements,ctx,visitor){switch(varNames.length){case 0:return function(){return _executeFunctionStatements(varNames,[],statements,ctx,visitor)};case 1:return function(d0){return _executeFunctionStatements(varNames,[d0],statements,ctx,visitor)};case 2:return function(d0,d1){return _executeFunctionStatements(varNames,[d0,d1],statements,ctx,visitor)};case 3:return function(d0,d1,d2){return _executeFunctionStatements(varNames,[d0,d1,d2],statements,ctx,visitor)};case 4:return function(d0,d1,d2,d3){return _executeFunctionStatements(varNames,[d0,d1,d2,d3],statements,ctx,visitor)};case 5:return function(d0,d1,d2,d3,d4){return _executeFunctionStatements(varNames,[d0,d1,d2,d3,d4],statements,ctx,visitor)};case 6:return function(d0,d1,d2,d3,d4,d5){return _executeFunctionStatements(varNames,[d0,d1,d2,d3,d4,d5],statements,ctx,visitor)};case 7:return function(d0,d1,d2,d3,d4,d5,d6){return _executeFunctionStatements(varNames,[d0,d1,d2,d3,d4,d5,d6],statements,ctx,visitor)};case 8:return function(d0,d1,d2,d3,d4,d5,d6,d7){return _executeFunctionStatements(varNames,[d0,d1,d2,d3,d4,d5,d6,d7],statements,ctx,visitor)};case 9:return function(d0,d1,d2,d3,d4,d5,d6,d7,d8){return _executeFunctionStatements(varNames,[d0,d1,d2,d3,d4,d5,d6,d7,d8],statements,ctx,visitor)};case 10:return function(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9){return _executeFunctionStatements(varNames,[d0,d1,d2,d3,d4,d5,d6,d7,d8,d9],statements,ctx,visitor)};default:throw new exceptions_1.BaseException("Declaring functions with more than 10 arguments is not supported right now")}}var core_private_1=require("../../core_private"),async_1=require("../facade/async"),collection_1=require("../facade/collection"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),dart_emitter_1=require("./dart_emitter"),o=require("./output_ast"),ts_emitter_1=require("./ts_emitter");exports.interpretStatements=interpretStatements;var DynamicInstance=function(){function DynamicInstance(){}return Object.defineProperty(DynamicInstance.prototype,"props",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(DynamicInstance.prototype,"getters",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(DynamicInstance.prototype,"methods",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(DynamicInstance.prototype,"clazz",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),DynamicInstance}();exports.DynamicInstance=DynamicInstance;var _ExecutionContext=function(){function _ExecutionContext(parent,superClass,superInstance,className,vars,props,getters,methods,instanceFactory){this.parent=parent,this.superClass=superClass,this.superInstance=superInstance,this.className=className,this.vars=vars,this.props=props,this.getters=getters,this.methods=methods,this.instanceFactory=instanceFactory}return _ExecutionContext.prototype.createChildWihtLocalVars=function(){return new _ExecutionContext(this,this.superClass,this.superInstance,this.className,new Map,this.props,this.getters,this.methods,this.instanceFactory)},_ExecutionContext}(),ReturnValue=function(){function ReturnValue(value){this.value=value}return ReturnValue}(),_DynamicClass=function(){function _DynamicClass(_classStmt,_ctx,_visitor){this._classStmt=_classStmt,this._ctx=_ctx,this._visitor=_visitor}return _DynamicClass.prototype.instantiate=function(args){var _this=this,props=new Map,getters=new Map,methods=new Map,superClass=this._classStmt.parent.visitExpression(this._visitor,this._ctx),instanceCtx=new _ExecutionContext(this._ctx,superClass,null,this._classStmt.name,this._ctx.vars,props,getters,methods,this._ctx.instanceFactory);this._classStmt.fields.forEach(function(field){props.set(field.name,null)}),this._classStmt.getters.forEach(function(getter){getters.set(getter.name,function(){return _executeFunctionStatements([],[],getter.body,instanceCtx,_this._visitor)})}),this._classStmt.methods.forEach(function(method){var paramNames=method.params.map(function(param){return param.name});methods.set(method.name,_declareFn(paramNames,method.body,instanceCtx,_this._visitor))});var ctorParamNames=this._classStmt.constructorMethod.params.map(function(param){return param.name});return _executeFunctionStatements(ctorParamNames,args,this._classStmt.constructorMethod.body,instanceCtx,this._visitor),instanceCtx.superInstance},_DynamicClass.prototype.debugAst=function(){return this._visitor.debugAst(this._classStmt)},_DynamicClass}(),StatementInterpreter=function(){function StatementInterpreter(){}return StatementInterpreter.prototype.debugAst=function(ast){return lang_1.IS_DART?dart_emitter_1.debugOutputAstAsDart(ast):ts_emitter_1.debugOutputAstAsTypeScript(ast)},StatementInterpreter.prototype.visitDeclareVarStmt=function(stmt,ctx){return ctx.vars.set(stmt.name,stmt.value.visitExpression(this,ctx)),null},StatementInterpreter.prototype.visitWriteVarExpr=function(expr,ctx){for(var value=expr.value.visitExpression(this,ctx),currCtx=ctx;null!=currCtx;){if(currCtx.vars.has(expr.name))return currCtx.vars.set(expr.name,value),value;currCtx=currCtx.parent}throw new exceptions_1.BaseException("Not declared variable "+expr.name)},StatementInterpreter.prototype.visitReadVarExpr=function(ast,ctx){var varName=ast.name;if(lang_1.isPresent(ast.builtin))switch(ast.builtin){case o.BuiltinVar.Super:case o.BuiltinVar.This:return ctx.superInstance;case o.BuiltinVar.CatchError:varName=CATCH_ERROR_VAR;break;case o.BuiltinVar.CatchStack:varName=CATCH_STACK_VAR;break;default:throw new exceptions_1.BaseException("Unknown builtin variable "+ast.builtin)}for(var currCtx=ctx;null!=currCtx;){if(currCtx.vars.has(varName))return currCtx.vars.get(varName);currCtx=currCtx.parent}throw new exceptions_1.BaseException("Not declared variable "+varName)},StatementInterpreter.prototype.visitWriteKeyExpr=function(expr,ctx){var receiver=expr.receiver.visitExpression(this,ctx),index=expr.index.visitExpression(this,ctx),value=expr.value.visitExpression(this,ctx);return receiver[index]=value,value},StatementInterpreter.prototype.visitWritePropExpr=function(expr,ctx){var receiver=expr.receiver.visitExpression(this,ctx),value=expr.value.visitExpression(this,ctx);if(isDynamicInstance(receiver)){var di=receiver;di.props.has(expr.name)?di.props.set(expr.name,value):core_private_1.reflector.setter(expr.name)(receiver,value)}else core_private_1.reflector.setter(expr.name)(receiver,value);return value},StatementInterpreter.prototype.visitInvokeMethodExpr=function(expr,ctx){var result,receiver=expr.receiver.visitExpression(this,ctx),args=this.visitAllExpressions(expr.args,ctx);if(lang_1.isPresent(expr.builtin))switch(expr.builtin){case o.BuiltinMethod.ConcatArray:result=collection_1.ListWrapper.concat(receiver,args[0]);break;case o.BuiltinMethod.SubscribeObservable:result=async_1.ObservableWrapper.subscribe(receiver,args[0]);break;case o.BuiltinMethod.bind:result=lang_1.IS_DART?receiver:receiver.bind(args[0]);break;default:throw new exceptions_1.BaseException("Unknown builtin method "+expr.builtin)}else if(isDynamicInstance(receiver)){var di=receiver;result=di.methods.has(expr.name)?lang_1.FunctionWrapper.apply(di.methods.get(expr.name),args):core_private_1.reflector.method(expr.name)(receiver,args)}else result=core_private_1.reflector.method(expr.name)(receiver,args);return result},StatementInterpreter.prototype.visitInvokeFunctionExpr=function(stmt,ctx){var args=this.visitAllExpressions(stmt.args,ctx),fnExpr=stmt.fn;if(fnExpr instanceof o.ReadVarExpr&&fnExpr.builtin===o.BuiltinVar.Super)return ctx.superInstance=ctx.instanceFactory.createInstance(ctx.superClass,ctx.className,args,ctx.props,ctx.getters,ctx.methods),ctx.parent.superInstance=ctx.superInstance,null;var fn=stmt.fn.visitExpression(this,ctx);return lang_1.FunctionWrapper.apply(fn,args)},StatementInterpreter.prototype.visitReturnStmt=function(stmt,ctx){return new ReturnValue(stmt.value.visitExpression(this,ctx))},StatementInterpreter.prototype.visitDeclareClassStmt=function(stmt,ctx){var clazz=new _DynamicClass(stmt,ctx,this);return ctx.vars.set(stmt.name,clazz),
null},StatementInterpreter.prototype.visitExpressionStmt=function(stmt,ctx){return stmt.expr.visitExpression(this,ctx)},StatementInterpreter.prototype.visitIfStmt=function(stmt,ctx){var condition=stmt.condition.visitExpression(this,ctx);return condition?this.visitAllStatements(stmt.trueCase,ctx):lang_1.isPresent(stmt.falseCase)?this.visitAllStatements(stmt.falseCase,ctx):null},StatementInterpreter.prototype.visitTryCatchStmt=function(stmt,ctx){try{return this.visitAllStatements(stmt.bodyStmts,ctx)}catch(e){var childCtx=ctx.createChildWihtLocalVars();return childCtx.vars.set(CATCH_ERROR_VAR,e),childCtx.vars.set(CATCH_STACK_VAR,e.stack),this.visitAllStatements(stmt.catchStmts,childCtx)}},StatementInterpreter.prototype.visitThrowStmt=function(stmt,ctx){throw stmt.error.visitExpression(this,ctx)},StatementInterpreter.prototype.visitCommentStmt=function(stmt,context){return null},StatementInterpreter.prototype.visitInstantiateExpr=function(ast,ctx){var args=this.visitAllExpressions(ast.args,ctx),clazz=ast.classExpr.visitExpression(this,ctx);return clazz instanceof _DynamicClass?clazz.instantiate(args):lang_1.FunctionWrapper.apply(core_private_1.reflector.factory(clazz),args)},StatementInterpreter.prototype.visitLiteralExpr=function(ast,ctx){return ast.value},StatementInterpreter.prototype.visitExternalExpr=function(ast,ctx){return ast.value.runtime},StatementInterpreter.prototype.visitConditionalExpr=function(ast,ctx){return ast.condition.visitExpression(this,ctx)?ast.trueCase.visitExpression(this,ctx):lang_1.isPresent(ast.falseCase)?ast.falseCase.visitExpression(this,ctx):null},StatementInterpreter.prototype.visitNotExpr=function(ast,ctx){return!ast.condition.visitExpression(this,ctx)},StatementInterpreter.prototype.visitCastExpr=function(ast,ctx){return ast.value.visitExpression(this,ctx)},StatementInterpreter.prototype.visitFunctionExpr=function(ast,ctx){var paramNames=ast.params.map(function(param){return param.name});return _declareFn(paramNames,ast.statements,ctx,this)},StatementInterpreter.prototype.visitDeclareFunctionStmt=function(stmt,ctx){var paramNames=stmt.params.map(function(param){return param.name});return ctx.vars.set(stmt.name,_declareFn(paramNames,stmt.statements,ctx,this)),null},StatementInterpreter.prototype.visitBinaryOperatorExpr=function(ast,ctx){var _this=this,lhs=function(){return ast.lhs.visitExpression(_this,ctx)},rhs=function(){return ast.rhs.visitExpression(_this,ctx)};switch(ast.operator){case o.BinaryOperator.Equals:return lhs()==rhs();case o.BinaryOperator.Identical:return lhs()===rhs();case o.BinaryOperator.NotEquals:return lhs()!=rhs();case o.BinaryOperator.NotIdentical:return lhs()!==rhs();case o.BinaryOperator.And:return lhs()&&rhs();case o.BinaryOperator.Or:return lhs()||rhs();case o.BinaryOperator.Plus:return lhs()+rhs();case o.BinaryOperator.Minus:return lhs()-rhs();case o.BinaryOperator.Divide:return lhs()/rhs();case o.BinaryOperator.Multiply:return lhs()*rhs();case o.BinaryOperator.Modulo:return lhs()%rhs();case o.BinaryOperator.Lower:return lhs()<rhs();case o.BinaryOperator.LowerEquals:return lhs()<=rhs();case o.BinaryOperator.Bigger:return lhs()>rhs();case o.BinaryOperator.BiggerEquals:return lhs()>=rhs();default:throw new exceptions_1.BaseException("Unknown operator "+ast.operator)}},StatementInterpreter.prototype.visitReadPropExpr=function(ast,ctx){var result,receiver=ast.receiver.visitExpression(this,ctx);if(isDynamicInstance(receiver)){var di=receiver;result=di.props.has(ast.name)?di.props.get(ast.name):di.getters.has(ast.name)?di.getters.get(ast.name)():di.methods.has(ast.name)?di.methods.get(ast.name):core_private_1.reflector.getter(ast.name)(receiver)}else result=core_private_1.reflector.getter(ast.name)(receiver);return result},StatementInterpreter.prototype.visitReadKeyExpr=function(ast,ctx){var receiver=ast.receiver.visitExpression(this,ctx),prop=ast.index.visitExpression(this,ctx);return receiver[prop]},StatementInterpreter.prototype.visitLiteralArrayExpr=function(ast,ctx){return this.visitAllExpressions(ast.entries,ctx)},StatementInterpreter.prototype.visitLiteralMapExpr=function(ast,ctx){var _this=this,result={};return ast.entries.forEach(function(entry){return result[entry[0]]=entry[1].visitExpression(_this,ctx)}),result},StatementInterpreter.prototype.visitAllExpressions=function(expressions,ctx){var _this=this;return expressions.map(function(expr){return expr.visitExpression(_this,ctx)})},StatementInterpreter.prototype.visitAllStatements=function(statements,ctx){for(var i=0;i<statements.length;i++){var stmt=statements[i],val=stmt.visitStatement(this,ctx);if(val instanceof ReturnValue)return val}return null},StatementInterpreter}(),CATCH_ERROR_VAR="error",CATCH_STACK_VAR="stack"},{"../../core_private":85,"../facade/async":103,"../facade/collection":105,"../facade/exceptions":107,"../facade/lang":108,"./dart_emitter":127,"./output_ast":129,"./ts_emitter":133}],131:[function(require,module,exports){"use strict";function jitStatements(sourceUrl,statements,resultVar){var converter=new JitEmitterVisitor,ctx=abstract_emitter_1.EmitterVisitorContext.createRoot([resultVar]);return converter.visitAllStatements(statements,ctx),lang_1.evalExpression(sourceUrl,resultVar,ctx.toSource(),converter.getArgs())}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=require("../facade/lang"),abstract_emitter_1=require("./abstract_emitter"),abstract_js_emitter_1=require("./abstract_js_emitter"),util_1=require("../util");exports.jitStatements=jitStatements;var JitEmitterVisitor=function(_super){function JitEmitterVisitor(){_super.apply(this,arguments),this._evalArgNames=[],this._evalArgValues=[]}return __extends(JitEmitterVisitor,_super),JitEmitterVisitor.prototype.getArgs=function(){for(var result={},i=0;i<this._evalArgNames.length;i++)result[this._evalArgNames[i]]=this._evalArgValues[i];return result},JitEmitterVisitor.prototype.visitExternalExpr=function(ast,ctx){var value=ast.value.runtime,id=this._evalArgValues.indexOf(value);if(id===-1){id=this._evalArgValues.length,this._evalArgValues.push(value);var name=lang_1.isPresent(ast.value.name)?util_1.sanitizeIdentifier(ast.value.name):"val";this._evalArgNames.push(util_1.sanitizeIdentifier("jit_"+name+id))}return ctx.print(this._evalArgNames[id]),null},JitEmitterVisitor}(abstract_js_emitter_1.AbstractJsEmitterVisitor)},{"../facade/lang":108,"../util":149,"./abstract_emitter":125,"./abstract_js_emitter":126}],132:[function(require,module,exports){"use strict";var exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),_ASSET_URL_RE=/asset:([^\/]+)\/([^\/]+)\/(.+)/g,ImportGenerator=function(){function ImportGenerator(){}return ImportGenerator.parseAssetUrl=function(url){return AssetUrl.parse(url)},ImportGenerator}();exports.ImportGenerator=ImportGenerator;var AssetUrl=function(){function AssetUrl(packageName,firstLevelDir,modulePath){this.packageName=packageName,this.firstLevelDir=firstLevelDir,this.modulePath=modulePath}return AssetUrl.parse=function(url,allowNonMatching){void 0===allowNonMatching&&(allowNonMatching=!0);var match=lang_1.RegExpWrapper.firstMatch(_ASSET_URL_RE,url);if(lang_1.isPresent(match))return new AssetUrl(match[1],match[2],match[3]);if(allowNonMatching)return null;throw new exceptions_1.BaseException("Url "+url+" is not a valid asset: url")},AssetUrl}();exports.AssetUrl=AssetUrl},{"../facade/exceptions":107,"../facade/lang":108}],133:[function(require,module,exports){"use strict";function debugOutputAstAsTypeScript(ast){var asts,converter=new _TsEmitterVisitor(_debugModuleUrl),ctx=abstract_emitter_1.EmitterVisitorContext.createRoot([]);return asts=lang_1.isArray(ast)?ast:[ast],asts.forEach(function(ast){if(ast instanceof o.Statement)ast.visitStatement(converter,ctx);else if(ast instanceof o.Expression)ast.visitExpression(converter,ctx);else{if(!(ast instanceof o.Type))throw new exceptions_1.BaseException("Don't know how to print debug info for "+ast);ast.visitType(converter,ctx)}}),ctx.toSource()}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),abstract_emitter_1=require("./abstract_emitter"),o=require("./output_ast"),_debugModuleUrl="asset://debug/lib";exports.debugOutputAstAsTypeScript=debugOutputAstAsTypeScript;var TypeScriptEmitter=function(){function TypeScriptEmitter(_importGenerator){this._importGenerator=_importGenerator}return TypeScriptEmitter.prototype.emitStatements=function(moduleUrl,stmts,exportedVars){var _this=this,converter=new _TsEmitterVisitor(moduleUrl),ctx=abstract_emitter_1.EmitterVisitorContext.createRoot(exportedVars);converter.visitAllStatements(stmts,ctx);var srcParts=[];return converter.importsWithPrefixes.forEach(function(prefix,importedModuleUrl){srcParts.push("imp"+("ort * as "+prefix+" from '"+_this._importGenerator.getImportPath(moduleUrl,importedModuleUrl)+"';"))}),srcParts.push(ctx.toSource()),srcParts.join("\n")},TypeScriptEmitter}();exports.TypeScriptEmitter=TypeScriptEmitter;var _TsEmitterVisitor=function(_super){function _TsEmitterVisitor(_moduleUrl){_super.call(this,!1),this._moduleUrl=_moduleUrl,this.importsWithPrefixes=new Map}return __extends(_TsEmitterVisitor,_super),_TsEmitterVisitor.prototype.visitType=function(t,ctx,defaultType){void 0===defaultType&&(defaultType="any"),lang_1.isPresent(t)?t.visitType(this,ctx):ctx.print(defaultType)},_TsEmitterVisitor.prototype.visitExternalExpr=function(ast,ctx){return this._visitIdentifier(ast.value,ast.typeParams,ctx),null},_TsEmitterVisitor.prototype.visitDeclareVarStmt=function(stmt,ctx){return ctx.isExportedVar(stmt.name)&&ctx.print("export "),stmt.hasModifier(o.StmtModifier.Final)?ctx.print("const"):ctx.print("var"),ctx.print(" "+stmt.name+":"),this.visitType(stmt.type,ctx),ctx.print(" = "),stmt.value.visitExpression(this,ctx),ctx.println(";"),null},_TsEmitterVisitor.prototype.visitCastExpr=function(ast,ctx){return ctx.print("(<"),ast.type.visitType(this,ctx),ctx.print(">"),ast.value.visitExpression(this,ctx),ctx.print(")"),null},_TsEmitterVisitor.prototype.visitDeclareClassStmt=function(stmt,ctx){var _this=this;return ctx.pushClass(stmt),ctx.isExportedVar(stmt.name)&&ctx.print("export "),ctx.print("class "+stmt.name),lang_1.isPresent(stmt.parent)&&(ctx.print(" extends "),stmt.parent.visitExpression(this,ctx)),ctx.println(" {"),ctx.incIndent(),stmt.fields.forEach(function(field){return _this._visitClassField(field,ctx)}),lang_1.isPresent(stmt.constructorMethod)&&this._visitClassConstructor(stmt,ctx),stmt.getters.forEach(function(getter){return _this._visitClassGetter(getter,ctx)}),stmt.methods.forEach(function(method){return _this._visitClassMethod(method,ctx)}),ctx.decIndent(),ctx.println("}"),ctx.popClass(),null},_TsEmitterVisitor.prototype._visitClassField=function(field,ctx){field.hasModifier(o.StmtModifier.Private)&&ctx.print("private "),ctx.print(field.name),ctx.print(":"),this.visitType(field.type,ctx),ctx.println(";")},_TsEmitterVisitor.prototype._visitClassGetter=function(getter,ctx){getter.hasModifier(o.StmtModifier.Private)&&ctx.print("private "),ctx.print("get "+getter.name+"()"),ctx.print(":"),this.visitType(getter.type,ctx),ctx.println(" {"),ctx.incIndent(),this.visitAllStatements(getter.body,ctx),ctx.decIndent(),ctx.println("}")},_TsEmitterVisitor.prototype._visitClassConstructor=function(stmt,ctx){ctx.print("constructor("),this._visitParams(stmt.constructorMethod.params,ctx),ctx.println(") {"),ctx.incIndent(),this.visitAllStatements(stmt.constructorMethod.body,ctx),ctx.decIndent(),ctx.println("}")},_TsEmitterVisitor.prototype._visitClassMethod=function(method,ctx){method.hasModifier(o.StmtModifier.Private)&&ctx.print("private "),ctx.print(method.name+"("),this._visitParams(method.params,ctx),ctx.print("):"),this.visitType(method.type,ctx,"void"),ctx.println(" {"),ctx.incIndent(),this.visitAllStatements(method.body,ctx),ctx.decIndent(),ctx.println("}")},_TsEmitterVisitor.prototype.visitFunctionExpr=function(ast,ctx){return ctx.print("("),this._visitParams(ast.params,ctx),ctx.print("):"),this.visitType(ast.type,ctx,"void"),ctx.println(" => {"),ctx.incIndent(),this.visitAllStatements(ast.statements,ctx),ctx.decIndent(),ctx.print("}"),null},_TsEmitterVisitor.prototype.visitDeclareFunctionStmt=function(stmt,ctx){return ctx.isExportedVar(stmt.name)&&ctx.print("export "),ctx.print("function "+stmt.name+"("),this._visitParams(stmt.params,ctx),ctx.print("):"),this.visitType(stmt.type,ctx,"void"),ctx.println(" {"),ctx.incIndent(),this.visitAllStatements(stmt.statements,ctx),ctx.decIndent(),ctx.println("}"),null},_TsEmitterVisitor.prototype.visitTryCatchStmt=function(stmt,ctx){ctx.println("try {"),ctx.incIndent(),this.visitAllStatements(stmt.bodyStmts,ctx),ctx.decIndent(),ctx.println("} catch ("+abstract_emitter_1.CATCH_ERROR_VAR.name+") {"),ctx.incIndent();var catchStmts=[abstract_emitter_1.CATCH_STACK_VAR.set(abstract_emitter_1.CATCH_ERROR_VAR.prop("stack")).toDeclStmt(null,[o.StmtModifier.Final])].concat(stmt.catchStmts);return this.visitAllStatements(catchStmts,ctx),ctx.decIndent(),ctx.println("}"),null},_TsEmitterVisitor.prototype.visitBuiltintType=function(type,ctx){var typeStr;switch(type.name){case o.BuiltinTypeName.Bool:typeStr="boolean";break;case o.BuiltinTypeName.Dynamic:typeStr="any";break;case o.BuiltinTypeName.Function:typeStr="Function";break;case o.BuiltinTypeName.Number:typeStr="number";break;case o.BuiltinTypeName.Int:typeStr="number";break;case o.BuiltinTypeName.String:typeStr="string";break;default:throw new exceptions_1.BaseException("Unsupported builtin type "+type.name)}return ctx.print(typeStr),null},_TsEmitterVisitor.prototype.visitExternalType=function(ast,ctx){return this._visitIdentifier(ast.value,ast.typeParams,ctx),null},_TsEmitterVisitor.prototype.visitArrayType=function(type,ctx){return this.visitType(type.of,ctx),ctx.print("[]"),null},_TsEmitterVisitor.prototype.visitMapType=function(type,ctx){return ctx.print("{[key: string]:"),this.visitType(type.valueType,ctx),ctx.print("}"),null},_TsEmitterVisitor.prototype.getBuiltinMethodName=function(method){var name;switch(method){case o.BuiltinMethod.ConcatArray:name="concat";break;case o.BuiltinMethod.SubscribeObservable:name="subscribe";break;case o.BuiltinMethod.bind:name="bind";break;default:throw new exceptions_1.BaseException("Unknown builtin method: "+method)}return name},_TsEmitterVisitor.prototype._visitParams=function(params,ctx){var _this=this;this.visitAllObjects(function(param){ctx.print(param.name),ctx.print(":"),_this.visitType(param.type,ctx)},params,ctx,",")},_TsEmitterVisitor.prototype._visitIdentifier=function(value,typeParams,ctx){var _this=this;if(lang_1.isBlank(value.name))throw new exceptions_1.BaseException("Internal error: unknown identifier "+value);if(lang_1.isPresent(value.moduleUrl)&&value.moduleUrl!=this._moduleUrl){var prefix=this.importsWithPrefixes.get(value.moduleUrl);lang_1.isBlank(prefix)&&(prefix="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(value.moduleUrl,prefix)),ctx.print(prefix+".")}ctx.print(value.name),lang_1.isPresent(typeParams)&&typeParams.length>0&&(ctx.print("<"),this.visitAllObjects(function(type){return type.visitType(_this,ctx)},typeParams,ctx,","),ctx.print(">"))},_TsEmitterVisitor}(abstract_emitter_1.AbstractEmitterVisitor)},{"../facade/exceptions":107,"../facade/lang":108,"./abstract_emitter":125,"./output_ast":129}],134:[function(require,module,exports){"use strict";var ParseLocation=function(){function ParseLocation(file,offset,line,col){this.file=file,this.offset=offset,this.line=line,this.col=col}return ParseLocation.prototype.toString=function(){return this.file.url+"@"+this.line+":"+this.col},ParseLocation}();exports.ParseLocation=ParseLocation;var ParseSourceFile=function(){function ParseSourceFile(content,url){this.content=content,this.url=url}return ParseSourceFile}();exports.ParseSourceFile=ParseSourceFile;var ParseSourceSpan=function(){function ParseSourceSpan(start,end){this.start=start,this.end=end}return ParseSourceSpan.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},ParseSourceSpan}();exports.ParseSourceSpan=ParseSourceSpan,function(ParseErrorLevel){ParseErrorLevel[ParseErrorLevel.WARNING=0]="WARNING",ParseErrorLevel[ParseErrorLevel.FATAL=1]="FATAL"}(exports.ParseErrorLevel||(exports.ParseErrorLevel={}));var ParseErrorLevel=exports.ParseErrorLevel,ParseError=function(){function ParseError(span,msg,level){void 0===level&&(level=ParseErrorLevel.FATAL),this.span=span,this.msg=msg,this.level=level}return ParseError.prototype.toString=function(){var source=this.span.start.file.content,ctxStart=this.span.start.offset;ctxStart>source.length-1&&(ctxStart=source.length-1);for(var ctxEnd=ctxStart,ctxLen=0,ctxLines=0;ctxLen<100&&ctxStart>0&&(ctxStart--,ctxLen++,"\n"!=source[ctxStart]||3!=++ctxLines););for(ctxLen=0,ctxLines=0;ctxLen<100&&ctxEnd<source.length-1&&(ctxEnd++,ctxLen++,"\n"!=source[ctxEnd]||3!=++ctxLines););var context=source.substring(ctxStart,this.span.start.offset)+"[ERROR ->]"+source.substring(this.span.start.offset,ctxEnd+1);return this.msg+' ("'+context+'"): '+this.span.start},ParseError}();exports.ParseError=ParseError},{}],135:[function(require,module,exports){"use strict";function _isPipeMetadata(type){return type instanceof core_1.PipeMetadata}var core_1=require("@angular/core"),core_private_1=require("../core_private"),exceptions_1=require("../src/facade/exceptions"),lang_1=require("../src/facade/lang"),PipeResolver=function(){function PipeResolver(_reflector){void 0===_reflector&&(_reflector=core_private_1.reflector),this._reflector=_reflector}return PipeResolver.prototype.resolve=function(type){var metas=this._reflector.annotations(core_1.resolveForwardRef(type));if(lang_1.isPresent(metas)){var annotation=metas.find(_isPipeMetadata);if(lang_1.isPresent(annotation))return annotation}throw new exceptions_1.BaseException("No Pipe decorator found on "+lang_1.stringify(type))},PipeResolver.decorators=[{type:core_1.Injectable}],PipeResolver.ctorParameters=[{type:core_private_1.ReflectorReader}],PipeResolver}();exports.PipeResolver=PipeResolver},{"../core_private":85,"../src/facade/exceptions":107,"../src/facade/lang":108,"@angular/core":167}],136:[function(require,module,exports){"use strict";function _transformProvider(provider,_a){var useExisting=_a.useExisting,useValue=_a.useValue,deps=_a.deps;return new compile_metadata_1.CompileProviderMetadata({token:provider.token,useClass:provider.useClass,useExisting:useExisting,useFactory:provider.useFactory,useValue:useValue,deps:deps,multi:provider.multi})}function _transformProviderAst(provider,_a){var eager=_a.eager,providers=_a.providers;return new template_ast_1.ProviderAst(provider.token,provider.multiProvider,provider.eager||eager,providers,provider.providerType,provider.sourceSpan)}function _normalizeProviders(providers,sourceSpan,targetErrors,targetProviders){return void 0===targetProviders&&(targetProviders=null),lang_1.isBlank(targetProviders)&&(targetProviders=[]),lang_1.isPresent(providers)&&providers.forEach(function(provider){if(lang_1.isArray(provider))_normalizeProviders(provider,sourceSpan,targetErrors,targetProviders);else{var normalizeProvider;provider instanceof compile_metadata_1.CompileProviderMetadata?normalizeProvider=provider:provider instanceof compile_metadata_1.CompileTypeMetadata?normalizeProvider=new compile_metadata_1.CompileProviderMetadata({token:new compile_metadata_1.CompileTokenMetadata({identifier:provider}),useClass:provider}):targetErrors.push(new ProviderError("Unknown provider type "+provider,sourceSpan)),lang_1.isPresent(normalizeProvider)&&targetProviders.push(normalizeProvider)}}),targetProviders}function _resolveProvidersFromDirectives(directives,sourceSpan,targetErrors){var providersByToken=new compile_metadata_1.CompileTokenMap;directives.forEach(function(directive){var dirProvider=new compile_metadata_1.CompileProviderMetadata({token:new compile_metadata_1.CompileTokenMetadata({identifier:directive.type}),useClass:directive.type});_resolveProviders([dirProvider],directive.isComponent?template_ast_1.ProviderAstType.Component:template_ast_1.ProviderAstType.Directive,!0,sourceSpan,targetErrors,providersByToken)});var directivesWithComponentFirst=directives.filter(function(dir){return dir.isComponent}).concat(directives.filter(function(dir){return!dir.isComponent}));return directivesWithComponentFirst.forEach(function(directive){_resolveProviders(_normalizeProviders(directive.providers,sourceSpan,targetErrors),template_ast_1.ProviderAstType.PublicService,!1,sourceSpan,targetErrors,providersByToken),_resolveProviders(_normalizeProviders(directive.viewProviders,sourceSpan,targetErrors),template_ast_1.ProviderAstType.PrivateService,!1,sourceSpan,targetErrors,providersByToken)}),providersByToken}function _resolveProviders(providers,providerType,eager,sourceSpan,targetErrors,targetProvidersByToken){providers.forEach(function(provider){var resolvedProvider=targetProvidersByToken.get(provider.token);lang_1.isPresent(resolvedProvider)&&resolvedProvider.multiProvider!==provider.multi&&targetErrors.push(new ProviderError("Mixing multi and non multi provider is not possible for token "+resolvedProvider.token.name,sourceSpan)),lang_1.isBlank(resolvedProvider)?(resolvedProvider=new template_ast_1.ProviderAst(provider.token,provider.multi,eager,[provider],providerType,sourceSpan),targetProvidersByToken.add(provider.token,resolvedProvider)):(provider.multi||collection_1.ListWrapper.clear(resolvedProvider.providers),resolvedProvider.providers.push(provider))})}function _getViewQueries(component){var viewQueries=new compile_metadata_1.CompileTokenMap;return lang_1.isPresent(component.viewQueries)&&component.viewQueries.forEach(function(query){return _addQueryToTokenMap(viewQueries,query)}),component.type.diDeps.forEach(function(dep){lang_1.isPresent(dep.viewQuery)&&_addQueryToTokenMap(viewQueries,dep.viewQuery)}),viewQueries}function _getContentQueries(directives){var contentQueries=new compile_metadata_1.CompileTokenMap;return directives.forEach(function(directive){lang_1.isPresent(directive.queries)&&directive.queries.forEach(function(query){return _addQueryToTokenMap(contentQueries,query)}),directive.type.diDeps.forEach(function(dep){lang_1.isPresent(dep.query)&&_addQueryToTokenMap(contentQueries,dep.query)})}),contentQueries}function _addQueryToTokenMap(map,query){query.selectors.forEach(function(token){var entry=map.get(token);lang_1.isBlank(entry)&&(entry=[],map.add(token,entry)),entry.push(query)})}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},collection_1=require("../src/facade/collection"),lang_1=require("../src/facade/lang"),compile_metadata_1=require("./compile_metadata"),identifiers_1=require("./identifiers"),parse_util_1=require("./parse_util"),template_ast_1=require("./template_ast"),ProviderError=function(_super){function ProviderError(message,span){_super.call(this,span,message)}return __extends(ProviderError,_super),ProviderError}(parse_util_1.ParseError);exports.ProviderError=ProviderError;var ProviderViewContext=function(){function ProviderViewContext(component,sourceSpan){var _this=this;this.component=component,this.sourceSpan=sourceSpan,this.errors=[],this.viewQueries=_getViewQueries(component),this.viewProviders=new compile_metadata_1.CompileTokenMap,_normalizeProviders(component.viewProviders,sourceSpan,this.errors).forEach(function(provider){lang_1.isBlank(_this.viewProviders.get(provider.token))&&_this.viewProviders.add(provider.token,!0)})}return ProviderViewContext}();exports.ProviderViewContext=ProviderViewContext;var ProviderElementContext=function(){function ProviderElementContext(_viewContext,_parent,_isViewRoot,_directiveAsts,attrs,refs,_sourceSpan){var _this=this;this._viewContext=_viewContext,this._parent=_parent,this._isViewRoot=_isViewRoot,this._directiveAsts=_directiveAsts,this._sourceSpan=_sourceSpan,this._transformedProviders=new compile_metadata_1.CompileTokenMap,this._seenProviders=new compile_metadata_1.CompileTokenMap,this._hasViewContainer=!1,this._attrs={},attrs.forEach(function(attrAst){return _this._attrs[attrAst.name]=attrAst.value});var directivesMeta=_directiveAsts.map(function(directiveAst){return directiveAst.directive});this._allProviders=_resolveProvidersFromDirectives(directivesMeta,_sourceSpan,_viewContext.errors),this._contentQueries=_getContentQueries(directivesMeta);var queriedTokens=new compile_metadata_1.CompileTokenMap;this._allProviders.values().forEach(function(provider){_this._addQueryReadsTo(provider.token,queriedTokens)}),refs.forEach(function(refAst){_this._addQueryReadsTo(new compile_metadata_1.CompileTokenMetadata({value:refAst.name}),queriedTokens)}),lang_1.isPresent(queriedTokens.get(identifiers_1.identifierToken(identifiers_1.Identifiers.ViewContainerRef)))&&(this._hasViewContainer=!0),this._allProviders.values().forEach(function(provider){var eager=provider.eager||lang_1.isPresent(queriedTokens.get(provider.token));eager&&_this._getOrCreateLocalProvider(provider.providerType,provider.token,!0)})}return ProviderElementContext.prototype.afterElement=function(){var _this=this;this._allProviders.values().forEach(function(provider){_this._getOrCreateLocalProvider(provider.providerType,provider.token,!1)})},Object.defineProperty(ProviderElementContext.prototype,"transformProviders",{get:function(){return this._transformedProviders.values()},enumerable:!0,configurable:!0}),Object.defineProperty(ProviderElementContext.prototype,"transformedDirectiveAsts",{get:function(){var sortedProviderTypes=this._transformedProviders.values().map(function(provider){return provider.token.identifier}),sortedDirectives=collection_1.ListWrapper.clone(this._directiveAsts);return collection_1.ListWrapper.sort(sortedDirectives,function(dir1,dir2){return sortedProviderTypes.indexOf(dir1.directive.type)-sortedProviderTypes.indexOf(dir2.directive.type)}),sortedDirectives},enumerable:!0,configurable:!0}),Object.defineProperty(ProviderElementContext.prototype,"transformedHasViewContainer",{get:function(){return this._hasViewContainer},enumerable:!0,configurable:!0}),ProviderElementContext.prototype._addQueryReadsTo=function(token,queryReadTokens){this._getQueriesFor(token).forEach(function(query){var queryReadToken=lang_1.isPresent(query.read)?query.read:token;lang_1.isBlank(queryReadTokens.get(queryReadToken))&&queryReadTokens.add(queryReadToken,!0)})},ProviderElementContext.prototype._getQueriesFor=function(token){for(var queries,result=[],currentEl=this,distance=0;null!==currentEl;)queries=currentEl._contentQueries.get(token),lang_1.isPresent(queries)&&collection_1.ListWrapper.addAll(result,queries.filter(function(query){return query.descendants||distance<=1})),currentEl._directiveAsts.length>0&&distance++,currentEl=currentEl._parent;return queries=this._viewContext.viewQueries.get(token),lang_1.isPresent(queries)&&collection_1.ListWrapper.addAll(result,queries),result},ProviderElementContext.prototype._getOrCreateLocalProvider=function(requestingProviderType,token,eager){var _this=this,resolvedProvider=this._allProviders.get(token);if(lang_1.isBlank(resolvedProvider)||(requestingProviderType===template_ast_1.ProviderAstType.Directive||requestingProviderType===template_ast_1.ProviderAstType.PublicService)&&resolvedProvider.providerType===template_ast_1.ProviderAstType.PrivateService||(requestingProviderType===template_ast_1.ProviderAstType.PrivateService||requestingProviderType===template_ast_1.ProviderAstType.PublicService)&&resolvedProvider.providerType===template_ast_1.ProviderAstType.Builtin)return null;var transformedProviderAst=this._transformedProviders.get(token);if(lang_1.isPresent(transformedProviderAst))return transformedProviderAst;if(lang_1.isPresent(this._seenProviders.get(token)))return this._viewContext.errors.push(new ProviderError("Cannot instantiate cyclic dependency! "+token.name,this._sourceSpan)),null;this._seenProviders.add(token,!0);var transformedProviders=resolvedProvider.providers.map(function(provider){var transformedDeps,transformedUseValue=provider.useValue,transformedUseExisting=provider.useExisting;if(lang_1.isPresent(provider.useExisting)){var existingDiDep=_this._getDependency(resolvedProvider.providerType,new compile_metadata_1.CompileDiDependencyMetadata({token:provider.useExisting}),eager);lang_1.isPresent(existingDiDep.token)?transformedUseExisting=existingDiDep.token:(transformedUseExisting=null,transformedUseValue=existingDiDep.value)}else if(lang_1.isPresent(provider.useFactory)){var deps=lang_1.isPresent(provider.deps)?provider.deps:provider.useFactory.diDeps;transformedDeps=deps.map(function(dep){return _this._getDependency(resolvedProvider.providerType,dep,eager)})}else if(lang_1.isPresent(provider.useClass)){var deps=lang_1.isPresent(provider.deps)?provider.deps:provider.useClass.diDeps;transformedDeps=deps.map(function(dep){return _this._getDependency(resolvedProvider.providerType,dep,eager)})}return _transformProvider(provider,{useExisting:transformedUseExisting,useValue:transformedUseValue,deps:transformedDeps})});return transformedProviderAst=_transformProviderAst(resolvedProvider,{eager:eager,providers:transformedProviders}),this._transformedProviders.add(token,transformedProviderAst),transformedProviderAst},ProviderElementContext.prototype._getLocalDependency=function(requestingProviderType,dep,eager){if(void 0===eager&&(eager=null),dep.isAttribute){var attrValue=this._attrs[dep.token.value];return new compile_metadata_1.CompileDiDependencyMetadata({isValue:!0,value:lang_1.normalizeBlank(attrValue)})}if(lang_1.isPresent(dep.query)||lang_1.isPresent(dep.viewQuery))return dep;if(lang_1.isPresent(dep.token)){if(requestingProviderType===template_ast_1.ProviderAstType.Directive||requestingProviderType===template_ast_1.ProviderAstType.Component){if(dep.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.Renderer))||dep.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.ElementRef))||dep.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.ChangeDetectorRef))||dep.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.TemplateRef)))return dep;dep.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.ViewContainerRef))&&(this._hasViewContainer=!0)}if(dep.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.Injector)))return dep;if(lang_1.isPresent(this._getOrCreateLocalProvider(requestingProviderType,dep.token,eager)))return dep}return null},ProviderElementContext.prototype._getDependency=function(requestingProviderType,dep,eager){void 0===eager&&(eager=null);var currElement=this,currEager=eager,result=null;if(dep.isSkipSelf||(result=this._getLocalDependency(requestingProviderType,dep,eager)),dep.isSelf)lang_1.isBlank(result)&&dep.isOptional&&(result=new compile_metadata_1.CompileDiDependencyMetadata({isValue:!0,value:null}));else{for(;lang_1.isBlank(result)&&lang_1.isPresent(currElement._parent);){var prevElement=currElement;currElement=currElement._parent,prevElement._isViewRoot&&(currEager=!1),result=currElement._getLocalDependency(template_ast_1.ProviderAstType.PublicService,dep,currEager)}lang_1.isBlank(result)&&(result=!dep.isHost||this._viewContext.component.type.isHost||identifiers_1.identifierToken(this._viewContext.component.type).equalsTo(dep.token)||lang_1.isPresent(this._viewContext.viewProviders.get(dep.token))?dep:dep.isOptional?result=new compile_metadata_1.CompileDiDependencyMetadata({isValue:!0,value:null}):null)}return lang_1.isBlank(result)&&this._viewContext.errors.push(new ProviderError("No provider for "+dep.token.name,this._sourceSpan)),
result},ProviderElementContext}();exports.ProviderElementContext=ProviderElementContext},{"../src/facade/collection":105,"../src/facade/lang":108,"./compile_metadata":94,"./identifiers":121,"./parse_util":134,"./template_ast":145}],137:[function(require,module,exports){"use strict";function assertComponent(meta){if(!meta.isComponent)throw new exceptions_1.BaseException("Could not compile '"+meta.type.name+"' because it is not a component.")}var core_1=require("@angular/core"),exceptions_1=require("../src/facade/exceptions"),lang_1=require("../src/facade/lang"),async_1=require("../src/facade/async"),compile_metadata_1=require("./compile_metadata"),style_compiler_1=require("./style_compiler"),view_compiler_1=require("./view_compiler/view_compiler"),template_parser_1=require("./template_parser"),directive_normalizer_1=require("./directive_normalizer"),metadata_resolver_1=require("./metadata_resolver"),config_1=require("./config"),ir=require("./output/output_ast"),output_jit_1=require("./output/output_jit"),output_interpreter_1=require("./output/output_interpreter"),interpretive_view_1=require("./output/interpretive_view"),RuntimeCompiler=function(){function RuntimeCompiler(_metadataResolver,_templateNormalizer,_templateParser,_styleCompiler,_viewCompiler,_genConfig){this._metadataResolver=_metadataResolver,this._templateNormalizer=_templateNormalizer,this._templateParser=_templateParser,this._styleCompiler=_styleCompiler,this._viewCompiler=_viewCompiler,this._genConfig=_genConfig,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map}return RuntimeCompiler.prototype.resolveComponent=function(component){return lang_1.isString(component)?async_1.PromiseWrapper.reject(new exceptions_1.BaseException("Cannot resolve component using '"+component+"'."),null):this.compileComponentAsync(component)},RuntimeCompiler.prototype.compileComponentAsync=function(compType){var _this=this,templates=this._getTransitiveCompiledTemplates(compType,!0),loadingPromises=[];return templates.forEach(function(template){template.loading&&loadingPromises.push(template.loading)}),Promise.all(loadingPromises).then(function(){return templates.forEach(function(template){_this._compileTemplate(template)}),_this._getCompiledHostTemplate(compType).proxyComponentFactory})},RuntimeCompiler.prototype.compileComponentSync=function(compType){var _this=this,templates=this._getTransitiveCompiledTemplates(compType,!0);return templates.forEach(function(template){if(template.loading)throw new exceptions_1.BaseException("Can't compile synchronously as "+template.compType.name+" is still being loaded!")}),templates.forEach(function(template){_this._compileTemplate(template)}),this._getCompiledHostTemplate(compType).proxyComponentFactory},RuntimeCompiler.prototype.clearCacheFor=function(compType){this._metadataResolver.clearCacheFor(compType),this._compiledHostTemplateCache["delete"](compType);var compiledTemplate=this._compiledTemplateCache.get(compType);compiledTemplate&&(this._templateNormalizer.clearCacheFor(compiledTemplate.normalizedCompMeta),this._compiledTemplateCache["delete"](compType))},RuntimeCompiler.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._templateNormalizer.clearCache()},RuntimeCompiler.prototype._getCompiledHostTemplate=function(type){var compiledTemplate=this._compiledHostTemplateCache.get(type);if(lang_1.isBlank(compiledTemplate)){var compMeta=this._metadataResolver.getDirectiveMetadata(type);assertComponent(compMeta);var hostMeta=compile_metadata_1.createHostComponentMeta(compMeta.type,compMeta.selector);compiledTemplate=new CompiledTemplate((!0),compMeta.selector,compMeta.type,[],[type],[],[],this._templateNormalizer.normalizeDirective(hostMeta)),this._compiledHostTemplateCache.set(type,compiledTemplate)}return compiledTemplate},RuntimeCompiler.prototype._getCompiledTemplate=function(type){var compiledTemplate=this._compiledTemplateCache.get(type);if(lang_1.isBlank(compiledTemplate)){var compMeta=this._metadataResolver.getDirectiveMetadata(type);assertComponent(compMeta);var viewDirectives=[],viewComponentTypes=[];this._metadataResolver.getViewDirectivesMetadata(type).forEach(function(dirOrComp){dirOrComp.isComponent?viewComponentTypes.push(dirOrComp.type.runtime):viewDirectives.push(dirOrComp)});var precompileComponentTypes=compMeta.precompile.map(function(typeMeta){return typeMeta.runtime}),pipes=this._metadataResolver.getViewPipesMetadata(type);compiledTemplate=new CompiledTemplate((!1),compMeta.selector,compMeta.type,viewDirectives,viewComponentTypes,precompileComponentTypes,pipes,this._templateNormalizer.normalizeDirective(compMeta)),this._compiledTemplateCache.set(type,compiledTemplate)}return compiledTemplate},RuntimeCompiler.prototype._getTransitiveCompiledTemplates=function(compType,isHost,target){var _this=this;void 0===target&&(target=new Set);var template=isHost?this._getCompiledHostTemplate(compType):this._getCompiledTemplate(compType);return target.has(template)||(target.add(template),template.viewComponentTypes.forEach(function(compType){_this._getTransitiveCompiledTemplates(compType,!1,target)}),template.precompileHostComponentTypes.forEach(function(compType){_this._getTransitiveCompiledTemplates(compType,!0,target)})),target},RuntimeCompiler.prototype._compileTemplate=function(template){var _this=this;if(!template.isCompiled){var compMeta=template.normalizedCompMeta,externalStylesheetsByModuleUrl=new Map,stylesCompileResult=this._styleCompiler.compileComponent(compMeta);stylesCompileResult.externalStylesheets.forEach(function(r){externalStylesheetsByModuleUrl.set(r.meta.moduleUrl,r)}),this._resolveStylesCompileResult(stylesCompileResult.componentStylesheet,externalStylesheetsByModuleUrl);var factory,viewCompMetas=template.viewComponentTypes.map(function(compType){return _this._getCompiledTemplate(compType).normalizedCompMeta}),parsedTemplate=this._templateParser.parse(compMeta,compMeta.template.template,template.viewDirectives.concat(viewCompMetas),template.viewPipes,compMeta.type.name),compileResult=this._viewCompiler.compileComponent(compMeta,parsedTemplate,ir.variable(stylesCompileResult.componentStylesheet.stylesVar),template.viewPipes),statements=(compileResult.dependencies.map(function(dep){var depTemplate;if(dep instanceof view_compiler_1.ViewFactoryDependency){var vfd=dep;depTemplate=_this._getCompiledTemplate(vfd.comp.runtime),vfd.placeholder.runtime=depTemplate.proxyViewFactory,vfd.placeholder.name="viewFactory_"+vfd.comp.name}else if(dep instanceof view_compiler_1.ComponentFactoryDependency){var cfd=dep;depTemplate=_this._getCompiledHostTemplate(cfd.comp.runtime),cfd.placeholder.runtime=depTemplate.proxyComponentFactory,cfd.placeholder.name="compFactory_"+cfd.comp.name}return depTemplate}),stylesCompileResult.componentStylesheet.statements.concat(compileResult.statements));factory=lang_1.IS_DART||!this._genConfig.useJit?output_interpreter_1.interpretStatements(statements,compileResult.viewFactoryVar,new interpretive_view_1.InterpretiveAppViewInstanceFactory):output_jit_1.jitStatements(template.compType.name+".template.js",statements,compileResult.viewFactoryVar),template.compiled(factory)}},RuntimeCompiler.prototype._resolveStylesCompileResult=function(result,externalStylesheetsByModuleUrl){var _this=this;result.dependencies.forEach(function(dep,i){var nestedCompileResult=externalStylesheetsByModuleUrl.get(dep.moduleUrl),nestedStylesArr=_this._resolveAndEvalStylesCompileResult(nestedCompileResult,externalStylesheetsByModuleUrl);dep.valuePlaceholder.runtime=nestedStylesArr,dep.valuePlaceholder.name="importedStyles"+i})},RuntimeCompiler.prototype._resolveAndEvalStylesCompileResult=function(result,externalStylesheetsByModuleUrl){return this._resolveStylesCompileResult(result,externalStylesheetsByModuleUrl),lang_1.IS_DART||!this._genConfig.useJit?output_interpreter_1.interpretStatements(result.statements,result.stylesVar,new interpretive_view_1.InterpretiveAppViewInstanceFactory):output_jit_1.jitStatements(result.meta.moduleUrl+".css.js",result.statements,result.stylesVar)},RuntimeCompiler.decorators=[{type:core_1.Injectable}],RuntimeCompiler.ctorParameters=[{type:metadata_resolver_1.CompileMetadataResolver},{type:directive_normalizer_1.DirectiveNormalizer},{type:template_parser_1.TemplateParser},{type:style_compiler_1.StyleCompiler},{type:view_compiler_1.ViewCompiler},{type:config_1.CompilerConfig}],RuntimeCompiler}();exports.RuntimeCompiler=RuntimeCompiler;var CompiledTemplate=function(){function CompiledTemplate(isHost,selector,compType,viewDirectives,viewComponentTypes,precompileHostComponentTypes,viewPipes,_normalizeResult){var _this=this;this.isHost=isHost,this.compType=compType,this.viewDirectives=viewDirectives,this.viewComponentTypes=viewComponentTypes,this.precompileHostComponentTypes=precompileHostComponentTypes,this.viewPipes=viewPipes,this._normalizeResult=_normalizeResult,this._viewFactory=null,this.loading=null,this._normalizedCompMeta=null,this.isCompiled=!1,this.isCompiledWithDeps=!1,this.proxyViewFactory=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return _this._viewFactory.apply(null,args)},this.proxyComponentFactory=isHost?new core_1.ComponentFactory(selector,this.proxyViewFactory,compType.runtime):null,_normalizeResult.syncResult?this._normalizedCompMeta=_normalizeResult.syncResult:this.loading=_normalizeResult.asyncResult.then(function(normalizedCompMeta){_this._normalizedCompMeta=normalizedCompMeta,_this.loading=null})}return Object.defineProperty(CompiledTemplate.prototype,"normalizedCompMeta",{get:function(){if(this.loading)throw new exceptions_1.BaseException("Template is still loading for "+this.compType.name+"!");return this._normalizedCompMeta},enumerable:!0,configurable:!0}),CompiledTemplate.prototype.compiled=function(viewFactory){this._viewFactory=viewFactory,this.isCompiled=!0},CompiledTemplate.prototype.depsCompiled=function(){this.isCompiledWithDeps=!0},CompiledTemplate}()},{"../src/facade/async":103,"../src/facade/exceptions":107,"../src/facade/lang":108,"./compile_metadata":94,"./config":96,"./directive_normalizer":98,"./metadata_resolver":123,"./output/interpretive_view":128,"./output/output_ast":129,"./output/output_interpreter":130,"./output/output_jit":131,"./style_compiler":143,"./template_parser":146,"./view_compiler/view_compiler":164,"@angular/core":167}],138:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),core_private_1=require("../../core_private"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),dom_security_schema_1=require("./dom_security_schema"),element_schema_registry_1=require("./element_schema_registry"),BOOLEAN="boolean",NUMBER="number",STRING="string",OBJECT="object",SCHEMA=["*|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop","^*|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*autocomplete,*autocompleteerror,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","media|!autoplay,!controls,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,#playbackRate,preload,src,#volume",":svg:^*|*abort,*autocomplete,*autocompleteerror,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerpolicy,rel,rev,search,shape,target,text,type,username","area|alt,coords,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerpolicy,search,shape,target,username","audio^media|","br|clear","base|href,target","body|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas|#height,#width","content|select","dl|!compact","datalist|","details|!open","dialog|!open,returnValue","dir|!compact","div|align","embed|align,height,name,src,type,width","fieldset|!disabled,name","font|color,face,size","form|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr|align,color,!noShade,size,width","head|","h1,h2,h3,h4,h5,h6|align","html|version","iframe|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerpolicy,%sandbox,scrolling,src,srcdoc,width","img|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerpolicy,sizes,src,srcset,useMap,#vspace,#width","input|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","keygen|!autofocus,challenge,!disabled,keytype,name","li|type,#value","label|htmlFor","legend|align","link|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,rel,%relList,rev,%sizes,target,type","map|name","marquee|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu|!compact","meta|content,httpEquiv,name,scheme","meter|#high,#low,#max,#min,#optimum,#value","ins,del|cite,dateTime","ol|!compact,!reversed,#start,type","object|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup|!disabled,label","option|!defaultSelected,!disabled,label,!selected,text,value","output|defaultValue,%htmlFor,name,value","p|align","param|name,type,value,valueType","picture|","pre|#width","progress|#max,#value","q,blockquote,cite|","script|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow|","source|media,sizes,src,srcset,type","span|","style|!disabled,media,type","caption|align","th,td|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup|align,ch,chOff,#span,vAlign,width","table|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody|align,ch,chOff,vAlign","template|","textarea|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title|text","track|!default,kind,label,src,srclang","ul|!compact,type","unknown|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:cursor^:svg:|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan"],attrToPropMap={"class":"className",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},DomElementSchemaRegistry=function(_super){function DomElementSchemaRegistry(){var _this=this;_super.call(this),this.schema={},SCHEMA.forEach(function(encodedType){var parts=encodedType.split("|"),properties=parts[1].split(","),typeParts=(parts[0]+"^").split("^"),typeName=typeParts[0],type={};typeName.split(",").forEach(function(tag){return _this.schema[tag]=type});var superType=_this.schema[typeParts[1]];lang_1.isPresent(superType)&&collection_1.StringMapWrapper.forEach(superType,function(v,k){return type[k]=v}),properties.forEach(function(property){""==property||property.startsWith("*")||(property.startsWith("!")?type[property.substring(1)]=BOOLEAN:property.startsWith("#")?type[property.substring(1)]=NUMBER:property.startsWith("%")?type[property.substring(1)]=OBJECT:type[property]=STRING)})})}return __extends(DomElementSchemaRegistry,_super),DomElementSchemaRegistry.prototype.hasProperty=function(tagName,propName){if(tagName.indexOf("-")!==-1)return"ng-container"!==tagName&&"ng-content"!==tagName;var elementProperties=this.schema[tagName.toLowerCase()];return lang_1.isPresent(elementProperties)||(elementProperties=this.schema.unknown),lang_1.isPresent(elementProperties[propName])},DomElementSchemaRegistry.prototype.securityContext=function(tagName,propName){tagName=tagName.toLowerCase(),propName=propName.toLowerCase();var ctx=dom_security_schema_1.SECURITY_SCHEMA[tagName+"|"+propName];return void 0!==ctx?ctx:(ctx=dom_security_schema_1.SECURITY_SCHEMA["*|"+propName],void 0!==ctx?ctx:core_private_1.SecurityContext.NONE)},DomElementSchemaRegistry.prototype.getMappedPropName=function(propName){var mappedPropName=collection_1.StringMapWrapper.get(attrToPropMap,propName);return lang_1.isPresent(mappedPropName)?mappedPropName:propName},DomElementSchemaRegistry.decorators=[{type:core_1.Injectable}],DomElementSchemaRegistry.ctorParameters=[],DomElementSchemaRegistry}(element_schema_registry_1.ElementSchemaRegistry);exports.DomElementSchemaRegistry=DomElementSchemaRegistry},{"../../core_private":85,"../facade/collection":105,"../facade/lang":108,"./dom_security_schema":139,"./element_schema_registry":140,"@angular/core":167}],139:[function(require,module,exports){"use strict";function registerContext(ctx,specs){for(var _i=0,specs_1=specs;_i<specs_1.length;_i++){var spec=specs_1[_i];exports.SECURITY_SCHEMA[spec.toLowerCase()]=ctx}}var core_private_1=require("../../core_private");exports.SECURITY_SCHEMA={},registerContext(core_private_1.SecurityContext.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),registerContext(core_private_1.SecurityContext.STYLE,["*|style"]),registerContext(core_private_1.SecurityContext.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","video|poster","video|src"]),registerContext(core_private_1.SecurityContext.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src","track|src"])},{"../../core_private":85}],140:[function(require,module,exports){"use strict";var ElementSchemaRegistry=function(){function ElementSchemaRegistry(){}return ElementSchemaRegistry}();exports.ElementSchemaRegistry=ElementSchemaRegistry},{}],141:[function(require,module,exports){"use strict";var collection_1=require("../src/facade/collection"),exceptions_1=require("../src/facade/exceptions"),lang_1=require("../src/facade/lang"),_EMPTY_ATTR_VALUE="",_SELECTOR_REGEXP=lang_1.RegExpWrapper.create("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|(\\))|(\\s*,\\s*)"),CssSelector=function(){function CssSelector(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return CssSelector.parse=function(selector){for(var match,results=[],_addResult=function(res,cssSel){cssSel.notSelectors.length>0&&lang_1.isBlank(cssSel.element)&&collection_1.ListWrapper.isEmpty(cssSel.classNames)&&collection_1.ListWrapper.isEmpty(cssSel.attrs)&&(cssSel.element="*"),res.push(cssSel)},cssSelector=new CssSelector,matcher=lang_1.RegExpWrapper.matcher(_SELECTOR_REGEXP,selector),current=cssSelector,inNot=!1;lang_1.isPresent(match=lang_1.RegExpMatcherWrapper.next(matcher));){if(lang_1.isPresent(match[1])){if(inNot)throw new exceptions_1.BaseException("Nesting :not is not allowed in a selector");inNot=!0,current=new CssSelector,cssSelector.notSelectors.push(current)}if(lang_1.isPresent(match[2])&&current.setElement(match[2]),lang_1.isPresent(match[3])&&current.addClassName(match[3]),lang_1.isPresent(match[4])&&current.addAttribute(match[4],match[5]),lang_1.isPresent(match[6])&&(inNot=!1,current=cssSelector),lang_1.isPresent(match[7])){if(inNot)throw new exceptions_1.BaseException("Multiple selectors in :not are not supported");_addResult(results,cssSelector),cssSelector=current=new CssSelector}}return _addResult(results,cssSelector),results},CssSelector.prototype.isElementSelector=function(){return lang_1.isPresent(this.element)&&collection_1.ListWrapper.isEmpty(this.classNames)&&collection_1.ListWrapper.isEmpty(this.attrs)&&0===this.notSelectors.length},CssSelector.prototype.setElement=function(element){void 0===element&&(element=null),this.element=element},CssSelector.prototype.getMatchingElementTemplate=function(){for(var tagName=lang_1.isPresent(this.element)?this.element:"div",classAttr=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",attrs="",i=0;i<this.attrs.length;i+=2){var attrName=this.attrs[i],attrValue=""!==this.attrs[i+1]?'="'+this.attrs[i+1]+'"':"";attrs+=" "+attrName+attrValue}return"<"+tagName+classAttr+attrs+"></"+tagName+">"},CssSelector.prototype.addAttribute=function(name,value){void 0===value&&(value=_EMPTY_ATTR_VALUE),this.attrs.push(name),value=lang_1.isPresent(value)?value.toLowerCase():_EMPTY_ATTR_VALUE,this.attrs.push(value)},CssSelector.prototype.addClassName=function(name){this.classNames.push(name.toLowerCase())},CssSelector.prototype.toString=function(){var res="";if(lang_1.isPresent(this.element)&&(res+=this.element),lang_1.isPresent(this.classNames))for(var i=0;i<this.classNames.length;i++)res+="."+this.classNames[i];if(lang_1.isPresent(this.attrs))for(var i=0;i<this.attrs.length;){var attrName=this.attrs[i++],attrValue=this.attrs[i++];res+="["+attrName,attrValue.length>0&&(res+="="+attrValue),res+="]"}return this.notSelectors.forEach(function(notSelector){return res+=":not("+notSelector+")"}),res},CssSelector}();exports.CssSelector=CssSelector;var SelectorMatcher=function(){function SelectorMatcher(){this._elementMap=new collection_1.Map,this._elementPartialMap=new collection_1.Map,this._classMap=new collection_1.Map,this._classPartialMap=new collection_1.Map,this._attrValueMap=new collection_1.Map,this._attrValuePartialMap=new collection_1.Map,this._listContexts=[]}return SelectorMatcher.createNotMatcher=function(notSelectors){var notMatcher=new SelectorMatcher;return notMatcher.addSelectables(notSelectors,null),notMatcher},SelectorMatcher.prototype.addSelectables=function(cssSelectors,callbackCtxt){var listContext=null;cssSelectors.length>1&&(listContext=new SelectorListContext(cssSelectors),this._listContexts.push(listContext));for(var i=0;i<cssSelectors.length;i++)this._addSelectable(cssSelectors[i],callbackCtxt,listContext)},SelectorMatcher.prototype._addSelectable=function(cssSelector,callbackCtxt,listContext){var matcher=this,element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs,selectable=new SelectorContext(cssSelector,callbackCtxt,listContext);if(lang_1.isPresent(element)){var isTerminal=0===attrs.length&&0===classNames.length;isTerminal?this._addTerminal(matcher._elementMap,element,selectable):matcher=this._addPartial(matcher._elementPartialMap,element)}if(lang_1.isPresent(classNames))for(var index=0;index<classNames.length;index++){var isTerminal=0===attrs.length&&index===classNames.length-1,className=classNames[index];isTerminal?this._addTerminal(matcher._classMap,className,selectable):matcher=this._addPartial(matcher._classPartialMap,className)}if(lang_1.isPresent(attrs))for(var index=0;index<attrs.length;){var isTerminal=index===attrs.length-2,attrName=attrs[index++],attrValue=attrs[index++];if(isTerminal){var terminalMap=matcher._attrValueMap,terminalValuesMap=terminalMap.get(attrName);lang_1.isBlank(terminalValuesMap)&&(terminalValuesMap=new collection_1.Map,terminalMap.set(attrName,terminalValuesMap)),this._addTerminal(terminalValuesMap,attrValue,selectable)}else{var parttialMap=matcher._attrValuePartialMap,partialValuesMap=parttialMap.get(attrName);lang_1.isBlank(partialValuesMap)&&(partialValuesMap=new collection_1.Map,parttialMap.set(attrName,partialValuesMap)),matcher=this._addPartial(partialValuesMap,attrValue)}}},SelectorMatcher.prototype._addTerminal=function(map,name,selectable){var terminalList=map.get(name);lang_1.isBlank(terminalList)&&(terminalList=[],map.set(name,terminalList)),terminalList.push(selectable)},SelectorMatcher.prototype._addPartial=function(map,name){var matcher=map.get(name);return lang_1.isBlank(matcher)&&(matcher=new SelectorMatcher,map.set(name,matcher)),matcher},SelectorMatcher.prototype.match=function(cssSelector,matchedCallback){for(var result=!1,element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs,i=0;i<this._listContexts.length;i++)this._listContexts[i].alreadyMatched=!1;if(result=this._matchTerminal(this._elementMap,element,cssSelector,matchedCallback)||result,result=this._matchPartial(this._elementPartialMap,element,cssSelector,matchedCallback)||result,lang_1.isPresent(classNames))for(var index=0;index<classNames.length;index++){var className=classNames[index];result=this._matchTerminal(this._classMap,className,cssSelector,matchedCallback)||result,result=this._matchPartial(this._classPartialMap,className,cssSelector,matchedCallback)||result}if(lang_1.isPresent(attrs))for(var index=0;index<attrs.length;){var attrName=attrs[index++],attrValue=attrs[index++],terminalValuesMap=this._attrValueMap.get(attrName);lang_1.StringWrapper.equals(attrValue,_EMPTY_ATTR_VALUE)||(result=this._matchTerminal(terminalValuesMap,_EMPTY_ATTR_VALUE,cssSelector,matchedCallback)||result),result=this._matchTerminal(terminalValuesMap,attrValue,cssSelector,matchedCallback)||result;var partialValuesMap=this._attrValuePartialMap.get(attrName);lang_1.StringWrapper.equals(attrValue,_EMPTY_ATTR_VALUE)||(result=this._matchPartial(partialValuesMap,_EMPTY_ATTR_VALUE,cssSelector,matchedCallback)||result),result=this._matchPartial(partialValuesMap,attrValue,cssSelector,matchedCallback)||result}return result},SelectorMatcher.prototype._matchTerminal=function(map,name,cssSelector,matchedCallback){if(lang_1.isBlank(map)||lang_1.isBlank(name))return!1;var selectables=map.get(name),starSelectables=map.get("*");if(lang_1.isPresent(starSelectables)&&(selectables=selectables.concat(starSelectables)),lang_1.isBlank(selectables))return!1;for(var selectable,result=!1,index=0;index<selectables.length;index++)selectable=selectables[index],result=selectable.finalize(cssSelector,matchedCallback)||result;return result},SelectorMatcher.prototype._matchPartial=function(map,name,cssSelector,matchedCallback){if(lang_1.isBlank(map)||lang_1.isBlank(name))return!1;var nestedSelector=map.get(name);return!lang_1.isBlank(nestedSelector)&&nestedSelector.match(cssSelector,matchedCallback)},SelectorMatcher}();exports.SelectorMatcher=SelectorMatcher;var SelectorListContext=function(){function SelectorListContext(selectors){this.selectors=selectors,this.alreadyMatched=!1}return SelectorListContext}();exports.SelectorListContext=SelectorListContext;var SelectorContext=function(){function SelectorContext(selector,cbContext,listContext){this.selector=selector,this.cbContext=cbContext,this.listContext=listContext,this.notSelectors=selector.notSelectors}return SelectorContext.prototype.finalize=function(cssSelector,callback){var result=!0;if(this.notSelectors.length>0&&(lang_1.isBlank(this.listContext)||!this.listContext.alreadyMatched)){var notMatcher=SelectorMatcher.createNotMatcher(this.notSelectors);result=!notMatcher.match(cssSelector,null)}return result&&lang_1.isPresent(callback)&&(lang_1.isBlank(this.listContext)||!this.listContext.alreadyMatched)&&(lang_1.isPresent(this.listContext)&&(this.listContext.alreadyMatched=!0),callback(this.selector,this.cbContext)),result},SelectorContext}();exports.SelectorContext=SelectorContext},{"../src/facade/collection":105,"../src/facade/exceptions":107,"../src/facade/lang":108}],142:[function(require,module,exports){"use strict";function stripComments(input){return lang_1.StringWrapper.replaceAllMapped(input,_commentRe,function(_){return""})}function processRules(input,ruleCallback){
var inputWithEscapedBlocks=escapeBlocks(input),nextBlockIndex=0;return lang_1.StringWrapper.replaceAllMapped(inputWithEscapedBlocks.escapedString,_ruleRe,function(m){var selector=m[2],content="",suffix=m[4],contentPrefix="";lang_1.isPresent(m[4])&&m[4].startsWith("{"+BLOCK_PLACEHOLDER)&&(content=inputWithEscapedBlocks.blocks[nextBlockIndex++],suffix=m[4].substring(BLOCK_PLACEHOLDER.length+1),contentPrefix="{");var rule=ruleCallback(new CssRule(selector,content));return""+m[1]+rule.selector+m[3]+contentPrefix+rule.content+suffix})}function escapeBlocks(input){for(var inputParts=lang_1.StringWrapper.split(input,_curlyRe),resultParts=[],escapedBlocks=[],bracketCount=0,currentBlockParts=[],partIndex=0;partIndex<inputParts.length;partIndex++){var part=inputParts[partIndex];part==CLOSE_CURLY&&bracketCount--,bracketCount>0?currentBlockParts.push(part):(currentBlockParts.length>0&&(escapedBlocks.push(currentBlockParts.join("")),resultParts.push(BLOCK_PLACEHOLDER),currentBlockParts=[]),resultParts.push(part)),part==OPEN_CURLY&&bracketCount++}return currentBlockParts.length>0&&(escapedBlocks.push(currentBlockParts.join("")),resultParts.push(BLOCK_PLACEHOLDER)),new StringWithEscapedBlocks(resultParts.join(""),escapedBlocks)}var collection_1=require("../src/facade/collection"),lang_1=require("../src/facade/lang"),ShadowCss=function(){function ShadowCss(){this.strictStyling=!0}return ShadowCss.prototype.shimCssText=function(cssText,selector,hostSelector){return void 0===hostSelector&&(hostSelector=""),cssText=stripComments(cssText),cssText=this._insertDirectives(cssText),this._scopeCssText(cssText,selector,hostSelector)},ShadowCss.prototype._insertDirectives=function(cssText){return cssText=this._insertPolyfillDirectivesInCssText(cssText),this._insertPolyfillRulesInCssText(cssText)},ShadowCss.prototype._insertPolyfillDirectivesInCssText=function(cssText){return lang_1.StringWrapper.replaceAllMapped(cssText,_cssContentNextSelectorRe,function(m){return m[1]+"{"})},ShadowCss.prototype._insertPolyfillRulesInCssText=function(cssText){return lang_1.StringWrapper.replaceAllMapped(cssText,_cssContentRuleRe,function(m){var rule=m[0];return rule=lang_1.StringWrapper.replace(rule,m[1],""),rule=lang_1.StringWrapper.replace(rule,m[2],""),m[3]+rule})},ShadowCss.prototype._scopeCssText=function(cssText,scopeSelector,hostSelector){var unscoped=this._extractUnscopedRulesFromCssText(cssText);return cssText=this._insertPolyfillHostInCssText(cssText),cssText=this._convertColonHost(cssText),cssText=this._convertColonHostContext(cssText),cssText=this._convertShadowDOMSelectors(cssText),lang_1.isPresent(scopeSelector)&&(cssText=this._scopeSelectors(cssText,scopeSelector,hostSelector)),cssText=cssText+"\n"+unscoped,cssText.trim()},ShadowCss.prototype._extractUnscopedRulesFromCssText=function(cssText){for(var m,r="",matcher=lang_1.RegExpWrapper.matcher(_cssContentUnscopedRuleRe,cssText);lang_1.isPresent(m=lang_1.RegExpMatcherWrapper.next(matcher));){var rule=m[0];rule=lang_1.StringWrapper.replace(rule,m[2],""),rule=lang_1.StringWrapper.replace(rule,m[1],m[3]),r+=rule+"\n\n"}return r},ShadowCss.prototype._convertColonHost=function(cssText){return this._convertColonRule(cssText,_cssColonHostRe,this._colonHostPartReplacer)},ShadowCss.prototype._convertColonHostContext=function(cssText){return this._convertColonRule(cssText,_cssColonHostContextRe,this._colonHostContextPartReplacer)},ShadowCss.prototype._convertColonRule=function(cssText,regExp,partReplacer){return lang_1.StringWrapper.replaceAllMapped(cssText,regExp,function(m){if(lang_1.isPresent(m[2])){for(var parts=m[2].split(","),r=[],i=0;i<parts.length;i++){var p=parts[i];if(lang_1.isBlank(p))break;p=p.trim(),r.push(partReplacer(_polyfillHostNoCombinator,p,m[3]))}return r.join(",")}return _polyfillHostNoCombinator+m[3]})},ShadowCss.prototype._colonHostContextPartReplacer=function(host,part,suffix){return lang_1.StringWrapper.contains(part,_polyfillHost)?this._colonHostPartReplacer(host,part,suffix):host+part+suffix+", "+part+" "+host+suffix},ShadowCss.prototype._colonHostPartReplacer=function(host,part,suffix){return host+lang_1.StringWrapper.replace(part,_polyfillHost,"")+suffix},ShadowCss.prototype._convertShadowDOMSelectors=function(cssText){for(var i=0;i<_shadowDOMSelectorsRe.length;i++)cssText=lang_1.StringWrapper.replaceAll(cssText,_shadowDOMSelectorsRe[i]," ");return cssText},ShadowCss.prototype._scopeSelectors=function(cssText,scopeSelector,hostSelector){var _this=this;return processRules(cssText,function(rule){var selector=rule.selector,content=rule.content;return"@"!=rule.selector[0]||rule.selector.startsWith("@page")?selector=_this._scopeSelector(rule.selector,scopeSelector,hostSelector,_this.strictStyling):(rule.selector.startsWith("@media")||rule.selector.startsWith("@supports"))&&(content=_this._scopeSelectors(rule.content,scopeSelector,hostSelector)),new CssRule(selector,content)})},ShadowCss.prototype._scopeSelector=function(selector,scopeSelector,hostSelector,strict){for(var r=[],parts=selector.split(","),i=0;i<parts.length;i++){var p=parts[i].trim(),deepParts=lang_1.StringWrapper.split(p,_shadowDeepSelectors),shallowPart=deepParts[0];this._selectorNeedsScoping(shallowPart,scopeSelector)&&(deepParts[0]=strict&&!lang_1.StringWrapper.contains(shallowPart,_polyfillHostNoCombinator)?this._applyStrictSelectorScope(shallowPart,scopeSelector):this._applySelectorScope(shallowPart,scopeSelector,hostSelector)),r.push(deepParts.join(" "))}return r.join(", ")},ShadowCss.prototype._selectorNeedsScoping=function(selector,scopeSelector){var re=this._makeScopeMatcher(scopeSelector);return!lang_1.isPresent(lang_1.RegExpWrapper.firstMatch(re,selector))},ShadowCss.prototype._makeScopeMatcher=function(scopeSelector){var lre=/\[/g,rre=/\]/g;return scopeSelector=lang_1.StringWrapper.replaceAll(scopeSelector,lre,"\\["),scopeSelector=lang_1.StringWrapper.replaceAll(scopeSelector,rre,"\\]"),lang_1.RegExpWrapper.create("^("+scopeSelector+")"+_selectorReSuffix,"m")},ShadowCss.prototype._applySelectorScope=function(selector,scopeSelector,hostSelector){return this._applySimpleSelectorScope(selector,scopeSelector,hostSelector)},ShadowCss.prototype._applySimpleSelectorScope=function(selector,scopeSelector,hostSelector){if(lang_1.isPresent(lang_1.RegExpWrapper.firstMatch(_polyfillHostRe,selector))){var replaceBy=this.strictStyling?"["+hostSelector+"]":scopeSelector;return selector=lang_1.StringWrapper.replace(selector,_polyfillHostNoCombinator,replaceBy),lang_1.StringWrapper.replaceAll(selector,_polyfillHostRe,replaceBy+" ")}return scopeSelector+" "+selector},ShadowCss.prototype._applyStrictSelectorScope=function(selector,scopeSelector){var isRe=/\[is=([^\]]*)\]/g;scopeSelector=lang_1.StringWrapper.replaceAllMapped(scopeSelector,isRe,function(m){return m[1]});for(var splits=[" ",">","+","~"],scoped=selector,attrName="["+scopeSelector+"]",i=0;i<splits.length;i++){var sep=splits[i],parts=scoped.split(sep);scoped=parts.map(function(p){var t=lang_1.StringWrapper.replaceAll(p.trim(),_polyfillHostRe,"");if(t.length>0&&!collection_1.ListWrapper.contains(splits,t)&&!lang_1.StringWrapper.contains(t,attrName)){var re=/([^:]*)(:*)(.*)/g,m=lang_1.RegExpWrapper.firstMatch(re,t);lang_1.isPresent(m)&&(p=m[1]+attrName+m[2]+m[3])}return p}).join(sep)}return scoped},ShadowCss.prototype._insertPolyfillHostInCssText=function(selector){return selector=lang_1.StringWrapper.replaceAll(selector,_colonHostContextRe,_polyfillHostContext),selector=lang_1.StringWrapper.replaceAll(selector,_colonHostRe,_polyfillHost)},ShadowCss}();exports.ShadowCss=ShadowCss;var _cssContentNextSelectorRe=/polyfill-next-selector[^}]*content:[\s]*?['"](.*?)['"][;\s]*}([^{]*?){/gim,_cssContentRuleRe=/(polyfill-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,_cssContentUnscopedRuleRe=/(polyfill-unscoped-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,_polyfillHost="-shadowcsshost",_polyfillHostContext="-shadowcsscontext",_parenSuffix=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",_cssColonHostRe=lang_1.RegExpWrapper.create("("+_polyfillHost+_parenSuffix,"im"),_cssColonHostContextRe=lang_1.RegExpWrapper.create("("+_polyfillHostContext+_parenSuffix,"im"),_polyfillHostNoCombinator=_polyfillHost+"-no-combinator",_shadowDOMSelectorsRe=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],_shadowDeepSelectors=/(?:>>>)|(?:\/deep\/)/g,_selectorReSuffix="([>\\s~+[.,{:][\\s\\S]*)?$",_polyfillHostRe=lang_1.RegExpWrapper.create(_polyfillHost,"im"),_colonHostRe=/:host/gim,_colonHostContextRe=/:host-context/gim,_commentRe=/\/\*[\s\S]*?\*\//g,_ruleRe=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,_curlyRe=/([{}])/g,OPEN_CURLY="{",CLOSE_CURLY="}",BLOCK_PLACEHOLDER="%BLOCK%",CssRule=function(){function CssRule(selector,content){this.selector=selector,this.content=content}return CssRule}();exports.CssRule=CssRule,exports.processRules=processRules;var StringWithEscapedBlocks=function(){function StringWithEscapedBlocks(escapedString,blocks){this.escapedString=escapedString,this.blocks=blocks}return StringWithEscapedBlocks}()},{"../src/facade/collection":105,"../src/facade/lang":108}],143:[function(require,module,exports){"use strict";function getStylesVarName(component){var result="styles";return component&&(result+="_"+component.type.name),result}var core_1=require("@angular/core"),compile_metadata_1=require("./compile_metadata"),o=require("./output/output_ast"),shadow_css_1=require("./shadow_css"),url_resolver_1=require("./url_resolver"),COMPONENT_VARIABLE="%COMP%",HOST_ATTR="_nghost-"+COMPONENT_VARIABLE,CONTENT_ATTR="_ngcontent-"+COMPONENT_VARIABLE,StylesCompileDependency=function(){function StylesCompileDependency(moduleUrl,isShimmed,valuePlaceholder){this.moduleUrl=moduleUrl,this.isShimmed=isShimmed,this.valuePlaceholder=valuePlaceholder}return StylesCompileDependency}();exports.StylesCompileDependency=StylesCompileDependency;var StylesCompileResult=function(){function StylesCompileResult(componentStylesheet,externalStylesheets){this.componentStylesheet=componentStylesheet,this.externalStylesheets=externalStylesheets}return StylesCompileResult}();exports.StylesCompileResult=StylesCompileResult;var CompiledStylesheet=function(){function CompiledStylesheet(statements,stylesVar,dependencies,isShimmed,meta){this.statements=statements,this.stylesVar=stylesVar,this.dependencies=dependencies,this.isShimmed=isShimmed,this.meta=meta}return CompiledStylesheet}();exports.CompiledStylesheet=CompiledStylesheet;var StyleCompiler=function(){function StyleCompiler(_urlResolver){this._urlResolver=_urlResolver,this._shadowCss=new shadow_css_1.ShadowCss}return StyleCompiler.prototype.compileComponent=function(comp){var _this=this,externalStylesheets=(comp.template.encapsulation===core_1.ViewEncapsulation.Emulated,[]),componentStylesheet=this._compileStyles(comp,new compile_metadata_1.CompileStylesheetMetadata({styles:comp.template.styles,styleUrls:comp.template.styleUrls,moduleUrl:comp.type.moduleUrl}),!0);return comp.template.externalStylesheets.forEach(function(stylesheetMeta){var compiledStylesheet=_this._compileStyles(comp,stylesheetMeta,!1);externalStylesheets.push(compiledStylesheet)}),new StylesCompileResult(componentStylesheet,externalStylesheets)},StyleCompiler.prototype._compileStyles=function(comp,stylesheet,isComponentStylesheet){for(var _this=this,shim=comp.template.encapsulation===core_1.ViewEncapsulation.Emulated,styleExpressions=stylesheet.styles.map(function(plainStyle){return o.literal(_this._shimIfNeeded(plainStyle,shim))}),dependencies=[],i=0;i<stylesheet.styleUrls.length;i++){var identifier=new compile_metadata_1.CompileIdentifierMetadata({name:getStylesVarName(null)});dependencies.push(new StylesCompileDependency(stylesheet.styleUrls[i],shim,identifier)),styleExpressions.push(new o.ExternalExpr(identifier))}var stylesVar=getStylesVarName(isComponentStylesheet?comp:null),stmt=o.variable(stylesVar).set(o.literalArr(styleExpressions,new o.ArrayType(o.DYNAMIC_TYPE,[o.TypeModifier.Const]))).toDeclStmt(null,[o.StmtModifier.Final]);return new CompiledStylesheet([stmt],stylesVar,dependencies,shim,stylesheet)},StyleCompiler.prototype._shimIfNeeded=function(style,shim){return shim?this._shadowCss.shimCssText(style,CONTENT_ATTR,HOST_ATTR):style},StyleCompiler.decorators=[{type:core_1.Injectable}],StyleCompiler.ctorParameters=[{type:url_resolver_1.UrlResolver}],StyleCompiler}();exports.StyleCompiler=StyleCompiler},{"./compile_metadata":94,"./output/output_ast":129,"./shadow_css":142,"./url_resolver":148,"@angular/core":167}],144:[function(require,module,exports){"use strict";function isStyleUrlResolvable(url){if(lang_1.isBlank(url)||0===url.length||"/"==url[0])return!1;var schemeMatch=lang_1.RegExpWrapper.firstMatch(_urlWithSchemaRe,url);return lang_1.isBlank(schemeMatch)||"package"==schemeMatch[1]||"asset"==schemeMatch[1]}function extractStyleUrls(resolver,baseUrl,cssText){var foundUrls=[],modifiedCssText=lang_1.StringWrapper.replaceAllMapped(cssText,_cssImportRe,function(m){var url=lang_1.isPresent(m[1])?m[1]:m[2];return isStyleUrlResolvable(url)?(foundUrls.push(resolver.resolve(baseUrl,url)),""):m[0]});return new StyleWithImports(modifiedCssText,foundUrls)}var lang_1=require("../src/facade/lang"),StyleWithImports=function(){function StyleWithImports(style,styleUrls){this.style=style,this.styleUrls=styleUrls}return StyleWithImports}();exports.StyleWithImports=StyleWithImports,exports.isStyleUrlResolvable=isStyleUrlResolvable,exports.extractStyleUrls=extractStyleUrls;var _cssImportRe=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,_urlWithSchemaRe=/^([a-zA-Z\-\+\.]+):/g},{"../src/facade/lang":108}],145:[function(require,module,exports){"use strict";function templateVisitAll(visitor,asts,context){void 0===context&&(context=null);var result=[];return asts.forEach(function(ast){var astResult=ast.visit(visitor,context);lang_1.isPresent(astResult)&&result.push(astResult)}),result}var lang_1=require("../src/facade/lang"),TextAst=function(){function TextAst(value,ngContentIndex,sourceSpan){this.value=value,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return TextAst.prototype.visit=function(visitor,context){return visitor.visitText(this,context)},TextAst}();exports.TextAst=TextAst;var BoundTextAst=function(){function BoundTextAst(value,ngContentIndex,sourceSpan){this.value=value,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return BoundTextAst.prototype.visit=function(visitor,context){return visitor.visitBoundText(this,context)},BoundTextAst}();exports.BoundTextAst=BoundTextAst;var AttrAst=function(){function AttrAst(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return AttrAst.prototype.visit=function(visitor,context){return visitor.visitAttr(this,context)},AttrAst}();exports.AttrAst=AttrAst;var BoundElementPropertyAst=function(){function BoundElementPropertyAst(name,type,securityContext,value,unit,sourceSpan){this.name=name,this.type=type,this.securityContext=securityContext,this.value=value,this.unit=unit,this.sourceSpan=sourceSpan}return BoundElementPropertyAst.prototype.visit=function(visitor,context){return visitor.visitElementProperty(this,context)},BoundElementPropertyAst}();exports.BoundElementPropertyAst=BoundElementPropertyAst;var BoundEventAst=function(){function BoundEventAst(name,target,handler,sourceSpan){this.name=name,this.target=target,this.handler=handler,this.sourceSpan=sourceSpan}return BoundEventAst.prototype.visit=function(visitor,context){return visitor.visitEvent(this,context)},Object.defineProperty(BoundEventAst.prototype,"fullName",{get:function(){return lang_1.isPresent(this.target)?this.target+":"+this.name:this.name},enumerable:!0,configurable:!0}),BoundEventAst}();exports.BoundEventAst=BoundEventAst;var ReferenceAst=function(){function ReferenceAst(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return ReferenceAst.prototype.visit=function(visitor,context){return visitor.visitReference(this,context)},ReferenceAst}();exports.ReferenceAst=ReferenceAst;var VariableAst=function(){function VariableAst(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return VariableAst.prototype.visit=function(visitor,context){return visitor.visitVariable(this,context)},VariableAst}();exports.VariableAst=VariableAst;var ElementAst=function(){function ElementAst(name,attrs,inputs,outputs,references,directives,providers,hasViewContainer,children,ngContentIndex,sourceSpan){this.name=name,this.attrs=attrs,this.inputs=inputs,this.outputs=outputs,this.references=references,this.directives=directives,this.providers=providers,this.hasViewContainer=hasViewContainer,this.children=children,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return ElementAst.prototype.visit=function(visitor,context){return visitor.visitElement(this,context)},ElementAst}();exports.ElementAst=ElementAst;var EmbeddedTemplateAst=function(){function EmbeddedTemplateAst(attrs,outputs,references,variables,directives,providers,hasViewContainer,children,ngContentIndex,sourceSpan){this.attrs=attrs,this.outputs=outputs,this.references=references,this.variables=variables,this.directives=directives,this.providers=providers,this.hasViewContainer=hasViewContainer,this.children=children,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return EmbeddedTemplateAst.prototype.visit=function(visitor,context){return visitor.visitEmbeddedTemplate(this,context)},EmbeddedTemplateAst}();exports.EmbeddedTemplateAst=EmbeddedTemplateAst;var BoundDirectivePropertyAst=function(){function BoundDirectivePropertyAst(directiveName,templateName,value,sourceSpan){this.directiveName=directiveName,this.templateName=templateName,this.value=value,this.sourceSpan=sourceSpan}return BoundDirectivePropertyAst.prototype.visit=function(visitor,context){return visitor.visitDirectiveProperty(this,context)},BoundDirectivePropertyAst}();exports.BoundDirectivePropertyAst=BoundDirectivePropertyAst;var DirectiveAst=function(){function DirectiveAst(directive,inputs,hostProperties,hostEvents,sourceSpan){this.directive=directive,this.inputs=inputs,this.hostProperties=hostProperties,this.hostEvents=hostEvents,this.sourceSpan=sourceSpan}return DirectiveAst.prototype.visit=function(visitor,context){return visitor.visitDirective(this,context)},DirectiveAst}();exports.DirectiveAst=DirectiveAst;var ProviderAst=function(){function ProviderAst(token,multiProvider,eager,providers,providerType,sourceSpan){this.token=token,this.multiProvider=multiProvider,this.eager=eager,this.providers=providers,this.providerType=providerType,this.sourceSpan=sourceSpan}return ProviderAst.prototype.visit=function(visitor,context){return null},ProviderAst}();exports.ProviderAst=ProviderAst,function(ProviderAstType){ProviderAstType[ProviderAstType.PublicService=0]="PublicService",ProviderAstType[ProviderAstType.PrivateService=1]="PrivateService",ProviderAstType[ProviderAstType.Component=2]="Component",ProviderAstType[ProviderAstType.Directive=3]="Directive",ProviderAstType[ProviderAstType.Builtin=4]="Builtin"}(exports.ProviderAstType||(exports.ProviderAstType={}));var NgContentAst=(exports.ProviderAstType,function(){function NgContentAst(index,ngContentIndex,sourceSpan){this.index=index,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return NgContentAst.prototype.visit=function(visitor,context){return visitor.visitNgContent(this,context)},NgContentAst}());exports.NgContentAst=NgContentAst,function(PropertyBindingType){PropertyBindingType[PropertyBindingType.Property=0]="Property",PropertyBindingType[PropertyBindingType.Attribute=1]="Attribute",PropertyBindingType[PropertyBindingType.Class=2]="Class",PropertyBindingType[PropertyBindingType.Style=3]="Style",PropertyBindingType[PropertyBindingType.Animation=4]="Animation"}(exports.PropertyBindingType||(exports.PropertyBindingType={}));exports.PropertyBindingType;exports.templateVisitAll=templateVisitAll},{"../src/facade/lang":108}],146:[function(require,module,exports){"use strict";function splitClasses(classAttrValue){return lang_1.StringWrapper.split(classAttrValue.trim(),/\s+/g)}function createElementCssSelector(elementName,matchableAttrs){var cssSelector=new selector_1.CssSelector,elNameNoNs=html_tags_1.splitNsName(elementName)[1];cssSelector.setElement(elNameNoNs);for(var i=0;i<matchableAttrs.length;i++){var attrName=matchableAttrs[i][0],attrNameNoNs=html_tags_1.splitNsName(attrName)[1],attrValue=matchableAttrs[i][1];if(cssSelector.addAttribute(attrNameNoNs,attrValue),attrName.toLowerCase()==CLASS_ATTR){var classes=splitClasses(attrValue);classes.forEach(function(className){return cssSelector.addClassName(className)})}}return cssSelector}function removeDuplicates(items){var res=[];return items.forEach(function(item){var hasMatch=res.filter(function(r){return r.type.name==item.type.name&&r.type.moduleUrl==item.type.moduleUrl&&r.type.runtime==item.type.runtime}).length>0;hasMatch||res.push(item)}),res}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),core_private_1=require("../core_private"),collection_1=require("../src/facade/collection"),lang_1=require("../src/facade/lang"),exceptions_1=require("../src/facade/exceptions"),ast_1=require("./expression_parser/ast"),parser_1=require("./expression_parser/parser"),html_parser_1=require("./html_parser"),html_tags_1=require("./html_tags"),parse_util_1=require("./parse_util"),template_ast_1=require("./template_ast"),selector_1=require("./selector"),element_schema_registry_1=require("./schema/element_schema_registry"),template_preparser_1=require("./template_preparser"),style_url_resolver_1=require("./style_url_resolver"),html_ast_1=require("./html_ast"),util_1=require("./util"),identifiers_1=require("./identifiers"),provider_parser_1=require("./provider_parser"),BIND_NAME_REGEXP=/^(?:(?:(?:(bind-)|(var-)|(let-)|(ref-|#)|(on-)|(bindon-)|(animate-|@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/g,TEMPLATE_ELEMENT="template",TEMPLATE_ATTR="template",TEMPLATE_ATTR_PREFIX="*",CLASS_ATTR="class",PROPERTY_PARTS_SEPARATOR=".",ATTRIBUTE_PREFIX="attr",CLASS_PREFIX="class",STYLE_PREFIX="style",TEXT_CSS_SELECTOR=selector_1.CssSelector.parse("*")[0];exports.TEMPLATE_TRANSFORMS=new core_1.OpaqueToken("TemplateTransforms");var TemplateParseError=function(_super){function TemplateParseError(message,span,level){_super.call(this,span,message,level)}return __extends(TemplateParseError,_super),TemplateParseError}(parse_util_1.ParseError);exports.TemplateParseError=TemplateParseError;var TemplateParseResult=function(){function TemplateParseResult(templateAst,errors){this.templateAst=templateAst,this.errors=errors}return TemplateParseResult}();exports.TemplateParseResult=TemplateParseResult;var TemplateParser=function(){function TemplateParser(_exprParser,_schemaRegistry,_htmlParser,_console,transforms){this._exprParser=_exprParser,this._schemaRegistry=_schemaRegistry,this._htmlParser=_htmlParser,this._console=_console,this.transforms=transforms}return TemplateParser.prototype.parse=function(component,template,directives,pipes,templateUrl){var result=this.tryParse(component,template,directives,pipes,templateUrl),warnings=result.errors.filter(function(error){return error.level===parse_util_1.ParseErrorLevel.WARNING}),errors=result.errors.filter(function(error){return error.level===parse_util_1.ParseErrorLevel.FATAL});if(warnings.length>0&&this._console.warn("Template parse warnings:\n"+warnings.join("\n")),errors.length>0){var errorString=errors.join("\n");throw new exceptions_1.BaseException("Template parse errors:\n"+errorString)}return result.templateAst},TemplateParser.prototype.tryParse=function(component,template,directives,pipes,templateUrl){var result,htmlAstWithErrors=this._htmlParser.parse(template,templateUrl),errors=htmlAstWithErrors.errors;if(htmlAstWithErrors.rootNodes.length>0){var uniqDirectives=removeDuplicates(directives),uniqPipes=removeDuplicates(pipes),providerViewContext=new provider_parser_1.ProviderViewContext(component,htmlAstWithErrors.rootNodes[0].sourceSpan),parseVisitor=new TemplateParseVisitor(providerViewContext,uniqDirectives,uniqPipes,this._exprParser,this._schemaRegistry);result=html_ast_1.htmlVisitAll(parseVisitor,htmlAstWithErrors.rootNodes,EMPTY_ELEMENT_CONTEXT),errors=errors.concat(parseVisitor.errors).concat(providerViewContext.errors)}else result=[];return this._assertNoReferenceDuplicationOnTemplate(result,errors),errors.length>0?new TemplateParseResult(result,errors):(lang_1.isPresent(this.transforms)&&this.transforms.forEach(function(transform){result=template_ast_1.templateVisitAll(transform,result)}),new TemplateParseResult(result,errors))},TemplateParser.prototype._assertNoReferenceDuplicationOnTemplate=function(result,errors){var existingReferences=[];result.filter(function(element){return!!element.references}).forEach(function(element){return element.references.forEach(function(reference){var name=reference.name;if(existingReferences.indexOf(name)<0)existingReferences.push(name);else{var error=new TemplateParseError('Reference "#'+name+'" is defined several times',reference.sourceSpan,parse_util_1.ParseErrorLevel.FATAL);errors.push(error)}})})},TemplateParser.decorators=[{type:core_1.Injectable}],TemplateParser.ctorParameters=[{type:parser_1.Parser},{type:element_schema_registry_1.ElementSchemaRegistry},{type:html_parser_1.HtmlParser},{type:core_private_1.Console},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Inject,args:[exports.TEMPLATE_TRANSFORMS]}]}],TemplateParser}();exports.TemplateParser=TemplateParser;var TemplateParseVisitor=function(){function TemplateParseVisitor(providerViewContext,directives,pipes,_exprParser,_schemaRegistry){var _this=this;this.providerViewContext=providerViewContext,this._exprParser=_exprParser,this._schemaRegistry=_schemaRegistry,this.errors=[],this.directivesIndex=new Map,this.ngContentCount=0,this.selectorMatcher=new selector_1.SelectorMatcher;var tempMeta=providerViewContext.component.template;lang_1.isPresent(tempMeta)&&lang_1.isPresent(tempMeta.interpolation)&&(this._interpolationConfig={start:tempMeta.interpolation[0],end:tempMeta.interpolation[1]}),collection_1.ListWrapper.forEachWithIndex(directives,function(directive,index){var selector=selector_1.CssSelector.parse(directive.selector);_this.selectorMatcher.addSelectables(selector,directive),_this.directivesIndex.set(directive,index)}),this.pipesByName=new Map,pipes.forEach(function(pipe){return _this.pipesByName.set(pipe.name,pipe)})}return TemplateParseVisitor.prototype._reportError=function(message,sourceSpan,level){void 0===level&&(level=parse_util_1.ParseErrorLevel.FATAL),this.errors.push(new TemplateParseError(message,sourceSpan,level))},TemplateParseVisitor.prototype._parseInterpolation=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseInterpolation(value,sourceInfo,this._interpolationConfig);if(this._checkPipes(ast,sourceSpan),lang_1.isPresent(ast)&&ast.ast.expressions.length>core_private_1.MAX_INTERPOLATION_VALUES)throw new exceptions_1.BaseException("Only support at most "+core_private_1.MAX_INTERPOLATION_VALUES+" interpolation values!");return ast}catch(e){return this._reportError(""+e,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)}},TemplateParseVisitor.prototype._parseAction=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseAction(value,sourceInfo,this._interpolationConfig);return this._checkPipes(ast,sourceSpan),ast}catch(e){return this._reportError(""+e,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)}},TemplateParseVisitor.prototype._parseBinding=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseBinding(value,sourceInfo,this._interpolationConfig);return this._checkPipes(ast,sourceSpan),ast}catch(e){return this._reportError(""+e,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)}},TemplateParseVisitor.prototype._parseTemplateBindings=function(value,sourceSpan){var _this=this,sourceInfo=sourceSpan.start.toString();try{var bindingsResult=this._exprParser.parseTemplateBindings(value,sourceInfo);return bindingsResult.templateBindings.forEach(function(binding){lang_1.isPresent(binding.expression)&&_this._checkPipes(binding.expression,sourceSpan)}),bindingsResult.warnings.forEach(function(warning){_this._reportError(warning,sourceSpan,parse_util_1.ParseErrorLevel.WARNING)}),bindingsResult.templateBindings}catch(e){return this._reportError(""+e,sourceSpan),[]}},TemplateParseVisitor.prototype._checkPipes=function(ast,sourceSpan){var _this=this;if(lang_1.isPresent(ast)){var collector=new PipeCollector;ast.visit(collector),collector.pipes.forEach(function(pipeName){_this.pipesByName.has(pipeName)||_this._reportError("The pipe '"+pipeName+"' could not be found",sourceSpan)})}},TemplateParseVisitor.prototype.visitExpansion=function(ast,context){return null},TemplateParseVisitor.prototype.visitExpansionCase=function(ast,context){return null},TemplateParseVisitor.prototype.visitText=function(ast,parent){var ngContentIndex=parent.findNgContentIndex(TEXT_CSS_SELECTOR),expr=this._parseInterpolation(ast.value,ast.sourceSpan);return lang_1.isPresent(expr)?new template_ast_1.BoundTextAst(expr,ngContentIndex,ast.sourceSpan):new template_ast_1.TextAst(ast.value,ngContentIndex,ast.sourceSpan)},TemplateParseVisitor.prototype.visitAttr=function(ast,contex){return new template_ast_1.AttrAst(ast.name,ast.value,ast.sourceSpan)},TemplateParseVisitor.prototype.visitComment=function(ast,context){return null},TemplateParseVisitor.prototype.visitElement=function(element,parent){var _this=this,nodeName=element.name,preparsedElement=template_preparser_1.preparseElement(element);if(preparsedElement.type===template_preparser_1.PreparsedElementType.SCRIPT||preparsedElement.type===template_preparser_1.PreparsedElementType.STYLE)return null;if(preparsedElement.type===template_preparser_1.PreparsedElementType.STYLESHEET&&style_url_resolver_1.isStyleUrlResolvable(preparsedElement.hrefAttr))return null;var matchableAttrs=[],elementOrDirectiveProps=[],elementOrDirectiveRefs=[],elementVars=[],animationProps=[],events=[],templateElementOrDirectiveProps=[],templateMatchableAttrs=[],templateElementVars=[],hasInlineTemplates=!1,attrs=[],lcElName=html_tags_1.splitNsName(nodeName.toLowerCase())[1],isTemplateElement=lcElName==TEMPLATE_ELEMENT;element.attrs.forEach(function(attr){var hasBinding=_this._parseAttr(isTemplateElement,attr,matchableAttrs,elementOrDirectiveProps,animationProps,events,elementOrDirectiveRefs,elementVars),hasTemplateBinding=_this._parseInlineTemplateBinding(attr,templateMatchableAttrs,templateElementOrDirectiveProps,templateElementVars);hasTemplateBinding&&hasInlineTemplates&&_this._reportError("Can't have multiple template bindings on one element. Use only one attribute named 'template' or prefixed with *",attr.sourceSpan),hasBinding||hasTemplateBinding||(attrs.push(_this.visitAttr(attr,null)),matchableAttrs.push([attr.name,attr.value])),hasTemplateBinding&&(hasInlineTemplates=!0)});var elementCssSelector=createElementCssSelector(nodeName,matchableAttrs),directiveMetas=this._parseDirectives(this.selectorMatcher,elementCssSelector),references=[],directiveAsts=this._createDirectiveAsts(isTemplateElement,element.name,directiveMetas,elementOrDirectiveProps,elementOrDirectiveRefs,element.sourceSpan,references),elementProps=this._createElementPropertyAsts(element.name,elementOrDirectiveProps,directiveAsts).concat(animationProps),isViewRoot=parent.isTemplateElement||hasInlineTemplates,providerContext=new provider_parser_1.ProviderElementContext(this.providerViewContext,parent.providerContext,isViewRoot,directiveAsts,attrs,references,element.sourceSpan),children=html_ast_1.htmlVisitAll(preparsedElement.nonBindable?NON_BINDABLE_VISITOR:this,element.children,ElementContext.create(isTemplateElement,directiveAsts,isTemplateElement?parent.providerContext:providerContext));
providerContext.afterElement();var parsedElement,projectionSelector=lang_1.isPresent(preparsedElement.projectAs)?selector_1.CssSelector.parse(preparsedElement.projectAs)[0]:elementCssSelector,ngContentIndex=parent.findNgContentIndex(projectionSelector);if(preparsedElement.type===template_preparser_1.PreparsedElementType.NG_CONTENT)lang_1.isPresent(element.children)&&element.children.length>0&&this._reportError("<ng-content> element cannot have content. <ng-content> must be immediately followed by </ng-content>",element.sourceSpan),parsedElement=new template_ast_1.NgContentAst((this.ngContentCount++),hasInlineTemplates?null:ngContentIndex,element.sourceSpan);else if(isTemplateElement)this._assertAllEventsPublishedByDirectives(directiveAsts,events),this._assertNoComponentsNorElementBindingsOnTemplate(directiveAsts,elementProps,element.sourceSpan),parsedElement=new template_ast_1.EmbeddedTemplateAst(attrs,events,references,elementVars,providerContext.transformedDirectiveAsts,providerContext.transformProviders,providerContext.transformedHasViewContainer,children,hasInlineTemplates?null:ngContentIndex,element.sourceSpan);else{this._assertOnlyOneComponent(directiveAsts,element.sourceSpan);var ngContentIndex_1=hasInlineTemplates?null:parent.findNgContentIndex(projectionSelector);parsedElement=new template_ast_1.ElementAst(nodeName,attrs,elementProps,events,references,providerContext.transformedDirectiveAsts,providerContext.transformProviders,providerContext.transformedHasViewContainer,children,hasInlineTemplates?null:ngContentIndex_1,element.sourceSpan)}if(hasInlineTemplates){var templateCssSelector=createElementCssSelector(TEMPLATE_ELEMENT,templateMatchableAttrs),templateDirectiveMetas=this._parseDirectives(this.selectorMatcher,templateCssSelector),templateDirectiveAsts=this._createDirectiveAsts(!0,element.name,templateDirectiveMetas,templateElementOrDirectiveProps,[],element.sourceSpan,[]),templateElementProps=this._createElementPropertyAsts(element.name,templateElementOrDirectiveProps,templateDirectiveAsts);this._assertNoComponentsNorElementBindingsOnTemplate(templateDirectiveAsts,templateElementProps,element.sourceSpan);var templateProviderContext=new provider_parser_1.ProviderElementContext(this.providerViewContext,parent.providerContext,parent.isTemplateElement,templateDirectiveAsts,[],[],element.sourceSpan);templateProviderContext.afterElement(),parsedElement=new template_ast_1.EmbeddedTemplateAst([],[],[],templateElementVars,templateProviderContext.transformedDirectiveAsts,templateProviderContext.transformProviders,templateProviderContext.transformedHasViewContainer,[parsedElement],ngContentIndex,element.sourceSpan)}return parsedElement},TemplateParseVisitor.prototype._parseInlineTemplateBinding=function(attr,targetMatchableAttrs,targetProps,targetVars){var templateBindingsSource=null;if(attr.name==TEMPLATE_ATTR)templateBindingsSource=attr.value;else if(attr.name.startsWith(TEMPLATE_ATTR_PREFIX)){var key=attr.name.substring(TEMPLATE_ATTR_PREFIX.length);templateBindingsSource=0==attr.value.length?key:key+" "+attr.value}if(lang_1.isPresent(templateBindingsSource)){for(var bindings=this._parseTemplateBindings(templateBindingsSource,attr.sourceSpan),i=0;i<bindings.length;i++){var binding=bindings[i];binding.keyIsVar?targetVars.push(new template_ast_1.VariableAst(binding.key,binding.name,attr.sourceSpan)):lang_1.isPresent(binding.expression)?this._parsePropertyAst(binding.key,binding.expression,attr.sourceSpan,targetMatchableAttrs,targetProps):(targetMatchableAttrs.push([binding.key,""]),this._parseLiteralAttr(binding.key,null,attr.sourceSpan,targetProps))}return!0}return!1},TemplateParseVisitor.prototype._parseAttr=function(isTemplateElement,attr,targetMatchableAttrs,targetProps,targetAnimationProps,targetEvents,targetRefs,targetVars){var attrName=this._normalizeAttributeName(attr.name),attrValue=attr.value,bindParts=lang_1.RegExpWrapper.firstMatch(BIND_NAME_REGEXP,attrName),hasBinding=!1;if(lang_1.isPresent(bindParts))if(hasBinding=!0,lang_1.isPresent(bindParts[1]))this._parseProperty(bindParts[8],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps);else if(lang_1.isPresent(bindParts[2])){var identifier=bindParts[8];isTemplateElement?(this._reportError('"var-" on <template> elements is deprecated. Use "let-" instead!',attr.sourceSpan,parse_util_1.ParseErrorLevel.WARNING),this._parseVariable(identifier,attrValue,attr.sourceSpan,targetVars)):(this._reportError('"var-" on non <template> elements is deprecated. Use "ref-" instead!',attr.sourceSpan,parse_util_1.ParseErrorLevel.WARNING),this._parseReference(identifier,attrValue,attr.sourceSpan,targetRefs))}else if(lang_1.isPresent(bindParts[3]))if(isTemplateElement){var identifier=bindParts[8];this._parseVariable(identifier,attrValue,attr.sourceSpan,targetVars)}else this._reportError('"let-" is only supported on template elements.',attr.sourceSpan);else if(lang_1.isPresent(bindParts[4])){var identifier=bindParts[8];this._parseReference(identifier,attrValue,attr.sourceSpan,targetRefs)}else lang_1.isPresent(bindParts[5])?this._parseEvent(bindParts[8],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents):lang_1.isPresent(bindParts[6])?(this._parseProperty(bindParts[8],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps),this._parseAssignmentEvent(bindParts[8],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents)):lang_1.isPresent(bindParts[7])?this._parseAnimation(bindParts[8],attrValue,attr.sourceSpan,targetMatchableAttrs,targetAnimationProps):lang_1.isPresent(bindParts[9])?(this._parseProperty(bindParts[9],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps),this._parseAssignmentEvent(bindParts[9],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents)):lang_1.isPresent(bindParts[10])?this._parseProperty(bindParts[10],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps):lang_1.isPresent(bindParts[11])&&this._parseEvent(bindParts[11],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents);else hasBinding=this._parsePropertyInterpolation(attrName,attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps);return hasBinding||this._parseLiteralAttr(attrName,attrValue,attr.sourceSpan,targetProps),hasBinding},TemplateParseVisitor.prototype._normalizeAttributeName=function(attrName){return attrName.toLowerCase().startsWith("data-")?attrName.substring(5):attrName},TemplateParseVisitor.prototype._parseVariable=function(identifier,value,sourceSpan,targetVars){identifier.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',sourceSpan),targetVars.push(new template_ast_1.VariableAst(identifier,value,sourceSpan))},TemplateParseVisitor.prototype._parseReference=function(identifier,value,sourceSpan,targetRefs){identifier.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',sourceSpan),targetRefs.push(new ElementOrDirectiveRef(identifier,value,sourceSpan))},TemplateParseVisitor.prototype._parseProperty=function(name,expression,sourceSpan,targetMatchableAttrs,targetProps){this._parsePropertyAst(name,this._parseBinding(expression,sourceSpan),sourceSpan,targetMatchableAttrs,targetProps)},TemplateParseVisitor.prototype._parseAnimation=function(name,expression,sourceSpan,targetMatchableAttrs,targetAnimationProps){lang_1.isPresent(expression)&&0!=expression.length||(expression="null");var ast=this._parseBinding(expression,sourceSpan);targetMatchableAttrs.push([name,ast.source]),targetAnimationProps.push(new template_ast_1.BoundElementPropertyAst(name,template_ast_1.PropertyBindingType.Animation,core_private_1.SecurityContext.NONE,ast,null,sourceSpan))},TemplateParseVisitor.prototype._parsePropertyInterpolation=function(name,value,sourceSpan,targetMatchableAttrs,targetProps){var expr=this._parseInterpolation(value,sourceSpan);return!!lang_1.isPresent(expr)&&(this._parsePropertyAst(name,expr,sourceSpan,targetMatchableAttrs,targetProps),!0)},TemplateParseVisitor.prototype._parsePropertyAst=function(name,ast,sourceSpan,targetMatchableAttrs,targetProps){targetMatchableAttrs.push([name,ast.source]),targetProps.push(new BoundElementOrDirectiveProperty(name,ast,(!1),sourceSpan))},TemplateParseVisitor.prototype._parseAssignmentEvent=function(name,expression,sourceSpan,targetMatchableAttrs,targetEvents){this._parseEvent(name+"Change",expression+"=$event",sourceSpan,targetMatchableAttrs,targetEvents)},TemplateParseVisitor.prototype._parseEvent=function(name,expression,sourceSpan,targetMatchableAttrs,targetEvents){var parts=util_1.splitAtColon(name,[null,name]),target=parts[0],eventName=parts[1],ast=this._parseAction(expression,sourceSpan);targetMatchableAttrs.push([name,ast.source]),targetEvents.push(new template_ast_1.BoundEventAst(eventName,target,ast,sourceSpan))},TemplateParseVisitor.prototype._parseLiteralAttr=function(name,value,sourceSpan,targetProps){targetProps.push(new BoundElementOrDirectiveProperty(name,this._exprParser.wrapLiteralPrimitive(value,""),(!0),sourceSpan))},TemplateParseVisitor.prototype._parseDirectives=function(selectorMatcher,elementCssSelector){var _this=this,directives=collection_1.ListWrapper.createFixedSize(this.directivesIndex.size);return selectorMatcher.match(elementCssSelector,function(selector,directive){directives[_this.directivesIndex.get(directive)]=directive}),directives.filter(function(dir){return lang_1.isPresent(dir)})},TemplateParseVisitor.prototype._createDirectiveAsts=function(isTemplateElement,elementName,directives,props,elementOrDirectiveRefs,sourceSpan,targetReferences){var _this=this,matchedReferences=new Set,component=null,directiveAsts=directives.map(function(directive){directive.isComponent&&(component=directive);var hostProperties=[],hostEvents=[],directiveProperties=[];return _this._createDirectiveHostPropertyAsts(elementName,directive.hostProperties,sourceSpan,hostProperties),_this._createDirectiveHostEventAsts(directive.hostListeners,sourceSpan,hostEvents),_this._createDirectivePropertyAsts(directive.inputs,props,directiveProperties),elementOrDirectiveRefs.forEach(function(elOrDirRef){(0===elOrDirRef.value.length&&directive.isComponent||directive.exportAs==elOrDirRef.value)&&(targetReferences.push(new template_ast_1.ReferenceAst(elOrDirRef.name,identifiers_1.identifierToken(directive.type),elOrDirRef.sourceSpan)),matchedReferences.add(elOrDirRef.name))}),new template_ast_1.DirectiveAst(directive,directiveProperties,hostProperties,hostEvents,sourceSpan)});return elementOrDirectiveRefs.forEach(function(elOrDirRef){if(elOrDirRef.value.length>0)collection_1.SetWrapper.has(matchedReferences,elOrDirRef.name)||_this._reportError('There is no directive with "exportAs" set to "'+elOrDirRef.value+'"',elOrDirRef.sourceSpan);else if(lang_1.isBlank(component)){var refToken=null;isTemplateElement&&(refToken=identifiers_1.identifierToken(identifiers_1.Identifiers.TemplateRef)),targetReferences.push(new template_ast_1.ReferenceAst(elOrDirRef.name,refToken,elOrDirRef.sourceSpan))}}),directiveAsts},TemplateParseVisitor.prototype._createDirectiveHostPropertyAsts=function(elementName,hostProps,sourceSpan,targetPropertyAsts){var _this=this;lang_1.isPresent(hostProps)&&collection_1.StringMapWrapper.forEach(hostProps,function(expression,propName){var exprAst=_this._parseBinding(expression,sourceSpan);targetPropertyAsts.push(_this._createElementPropertyAst(elementName,propName,exprAst,sourceSpan))})},TemplateParseVisitor.prototype._createDirectiveHostEventAsts=function(hostListeners,sourceSpan,targetEventAsts){var _this=this;lang_1.isPresent(hostListeners)&&collection_1.StringMapWrapper.forEach(hostListeners,function(expression,propName){_this._parseEvent(propName,expression,sourceSpan,[],targetEventAsts)})},TemplateParseVisitor.prototype._createDirectivePropertyAsts=function(directiveProperties,boundProps,targetBoundDirectiveProps){if(lang_1.isPresent(directiveProperties)){var boundPropsByName=new Map;boundProps.forEach(function(boundProp){var prevValue=boundPropsByName.get(boundProp.name);(lang_1.isBlank(prevValue)||prevValue.isLiteral)&&boundPropsByName.set(boundProp.name,boundProp)}),collection_1.StringMapWrapper.forEach(directiveProperties,function(elProp,dirProp){var boundProp=boundPropsByName.get(elProp);lang_1.isPresent(boundProp)&&targetBoundDirectiveProps.push(new template_ast_1.BoundDirectivePropertyAst(dirProp,boundProp.name,boundProp.expression,boundProp.sourceSpan))})}},TemplateParseVisitor.prototype._createElementPropertyAsts=function(elementName,props,directives){var _this=this,boundElementProps=[],boundDirectivePropsIndex=new Map;return directives.forEach(function(directive){directive.inputs.forEach(function(prop){boundDirectivePropsIndex.set(prop.templateName,prop)})}),props.forEach(function(prop){!prop.isLiteral&&lang_1.isBlank(boundDirectivePropsIndex.get(prop.name))&&boundElementProps.push(_this._createElementPropertyAst(elementName,prop.name,prop.expression,prop.sourceSpan))}),boundElementProps},TemplateParseVisitor.prototype._createElementPropertyAst=function(elementName,name,ast,sourceSpan){var bindingType,boundPropertyName,securityContext,unit=null,parts=name.split(PROPERTY_PARTS_SEPARATOR);if(1===parts.length)boundPropertyName=this._schemaRegistry.getMappedPropName(parts[0]),securityContext=this._schemaRegistry.securityContext(elementName,boundPropertyName),bindingType=template_ast_1.PropertyBindingType.Property,this._schemaRegistry.hasProperty(elementName,boundPropertyName)||this._reportError("Can't bind to '"+boundPropertyName+"' since it isn't a known native property",sourceSpan);else if(parts[0]==ATTRIBUTE_PREFIX){boundPropertyName=parts[1],boundPropertyName.toLowerCase().startsWith("on")&&this._reportError("Binding to event attribute '"+boundPropertyName+"' is disallowed "+("for security reasons, please use ("+boundPropertyName.slice(2)+")=..."),sourceSpan),securityContext=this._schemaRegistry.securityContext(elementName,this._schemaRegistry.getMappedPropName(boundPropertyName));var nsSeparatorIdx=boundPropertyName.indexOf(":");if(nsSeparatorIdx>-1){var ns=boundPropertyName.substring(0,nsSeparatorIdx),name_1=boundPropertyName.substring(nsSeparatorIdx+1);boundPropertyName=html_tags_1.mergeNsAndName(ns,name_1)}bindingType=template_ast_1.PropertyBindingType.Attribute}else parts[0]==CLASS_PREFIX?(boundPropertyName=parts[1],bindingType=template_ast_1.PropertyBindingType.Class,securityContext=core_private_1.SecurityContext.NONE):parts[0]==STYLE_PREFIX?(unit=parts.length>2?parts[2]:null,boundPropertyName=parts[1],bindingType=template_ast_1.PropertyBindingType.Style,securityContext=core_private_1.SecurityContext.STYLE):(this._reportError("Invalid property name '"+name+"'",sourceSpan),bindingType=null,securityContext=null);return new template_ast_1.BoundElementPropertyAst(boundPropertyName,bindingType,securityContext,ast,unit,sourceSpan)},TemplateParseVisitor.prototype._findComponentDirectiveNames=function(directives){var componentTypeNames=[];return directives.forEach(function(directive){var typeName=directive.directive.type.name;directive.directive.isComponent&&componentTypeNames.push(typeName)}),componentTypeNames},TemplateParseVisitor.prototype._assertOnlyOneComponent=function(directives,sourceSpan){var componentTypeNames=this._findComponentDirectiveNames(directives);componentTypeNames.length>1&&this._reportError("More than one component: "+componentTypeNames.join(","),sourceSpan)},TemplateParseVisitor.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(directives,elementProps,sourceSpan){var _this=this,componentTypeNames=this._findComponentDirectiveNames(directives);componentTypeNames.length>0&&this._reportError("Components on an embedded template: "+componentTypeNames.join(","),sourceSpan),elementProps.forEach(function(prop){_this._reportError("Property binding "+prop.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "directives" section.',sourceSpan)})},TemplateParseVisitor.prototype._assertAllEventsPublishedByDirectives=function(directives,events){var _this=this,allDirectiveEvents=new Set;directives.forEach(function(directive){collection_1.StringMapWrapper.forEach(directive.directive.outputs,function(eventName){allDirectiveEvents.add(eventName)})}),events.forEach(function(event){!lang_1.isPresent(event.target)&&collection_1.SetWrapper.has(allDirectiveEvents,event.name)||_this._reportError("Event binding "+event.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "directives" section.',event.sourceSpan)})},TemplateParseVisitor}(),NonBindableVisitor=function(){function NonBindableVisitor(){}return NonBindableVisitor.prototype.visitElement=function(ast,parent){var preparsedElement=template_preparser_1.preparseElement(ast);if(preparsedElement.type===template_preparser_1.PreparsedElementType.SCRIPT||preparsedElement.type===template_preparser_1.PreparsedElementType.STYLE||preparsedElement.type===template_preparser_1.PreparsedElementType.STYLESHEET)return null;var attrNameAndValues=ast.attrs.map(function(attrAst){return[attrAst.name,attrAst.value]}),selector=createElementCssSelector(ast.name,attrNameAndValues),ngContentIndex=parent.findNgContentIndex(selector),children=html_ast_1.htmlVisitAll(this,ast.children,EMPTY_ELEMENT_CONTEXT);return new template_ast_1.ElementAst(ast.name,html_ast_1.htmlVisitAll(this,ast.attrs),[],[],[],[],[],(!1),children,ngContentIndex,ast.sourceSpan)},NonBindableVisitor.prototype.visitComment=function(ast,context){return null},NonBindableVisitor.prototype.visitAttr=function(ast,context){return new template_ast_1.AttrAst(ast.name,ast.value,ast.sourceSpan)},NonBindableVisitor.prototype.visitText=function(ast,parent){var ngContentIndex=parent.findNgContentIndex(TEXT_CSS_SELECTOR);return new template_ast_1.TextAst(ast.value,ngContentIndex,ast.sourceSpan)},NonBindableVisitor.prototype.visitExpansion=function(ast,context){return ast},NonBindableVisitor.prototype.visitExpansionCase=function(ast,context){return ast},NonBindableVisitor}(),BoundElementOrDirectiveProperty=function(){function BoundElementOrDirectiveProperty(name,expression,isLiteral,sourceSpan){this.name=name,this.expression=expression,this.isLiteral=isLiteral,this.sourceSpan=sourceSpan}return BoundElementOrDirectiveProperty}(),ElementOrDirectiveRef=function(){function ElementOrDirectiveRef(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return ElementOrDirectiveRef}();exports.splitClasses=splitClasses;var ElementContext=function(){function ElementContext(isTemplateElement,_ngContentIndexMatcher,_wildcardNgContentIndex,providerContext){this.isTemplateElement=isTemplateElement,this._ngContentIndexMatcher=_ngContentIndexMatcher,this._wildcardNgContentIndex=_wildcardNgContentIndex,this.providerContext=providerContext}return ElementContext.create=function(isTemplateElement,directives,providerContext){var matcher=new selector_1.SelectorMatcher,wildcardNgContentIndex=null,component=directives.find(function(directive){return directive.directive.isComponent});if(lang_1.isPresent(component))for(var ngContentSelectors=component.directive.template.ngContentSelectors,i=0;i<ngContentSelectors.length;i++){var selector=ngContentSelectors[i];lang_1.StringWrapper.equals(selector,"*")?wildcardNgContentIndex=i:matcher.addSelectables(selector_1.CssSelector.parse(ngContentSelectors[i]),i)}return new ElementContext(isTemplateElement,matcher,wildcardNgContentIndex,providerContext)},ElementContext.prototype.findNgContentIndex=function(selector){var ngContentIndices=[];return this._ngContentIndexMatcher.match(selector,function(selector,ngContentIndex){ngContentIndices.push(ngContentIndex)}),collection_1.ListWrapper.sort(ngContentIndices),lang_1.isPresent(this._wildcardNgContentIndex)&&ngContentIndices.push(this._wildcardNgContentIndex),ngContentIndices.length>0?ngContentIndices[0]:null},ElementContext}(),EMPTY_ELEMENT_CONTEXT=new ElementContext((!0),new selector_1.SelectorMatcher,null,null),NON_BINDABLE_VISITOR=new NonBindableVisitor,PipeCollector=function(_super){function PipeCollector(){_super.apply(this,arguments),this.pipes=new Set}return __extends(PipeCollector,_super),PipeCollector.prototype.visitPipe=function(ast,context){return this.pipes.add(ast.name),ast.exp.visit(this),this.visitAll(ast.args,context),null},PipeCollector}(ast_1.RecursiveAstVisitor);exports.PipeCollector=PipeCollector},{"../core_private":85,"../src/facade/collection":105,"../src/facade/exceptions":107,"../src/facade/lang":108,"./expression_parser/ast":100,"./expression_parser/parser":102,"./html_ast":111,"./html_parser":113,"./html_tags":114,"./identifiers":121,"./parse_util":134,"./provider_parser":136,"./schema/element_schema_registry":140,"./selector":141,"./style_url_resolver":144,"./template_ast":145,"./template_preparser":147,"./util":149,"@angular/core":167}],147:[function(require,module,exports){"use strict";function preparseElement(ast){var selectAttr=null,hrefAttr=null,relAttr=null,nonBindable=!1,projectAs=null;ast.attrs.forEach(function(attr){var lcAttrName=attr.name.toLowerCase();lcAttrName==NG_CONTENT_SELECT_ATTR?selectAttr=attr.value:lcAttrName==LINK_STYLE_HREF_ATTR?hrefAttr=attr.value:lcAttrName==LINK_STYLE_REL_ATTR?relAttr=attr.value:attr.name==NG_NON_BINDABLE_ATTR?nonBindable=!0:attr.name==NG_PROJECT_AS&&attr.value.length>0&&(projectAs=attr.value)}),selectAttr=normalizeNgContentSelect(selectAttr);var nodeName=ast.name.toLowerCase(),type=PreparsedElementType.OTHER;return html_tags_1.splitNsName(nodeName)[1]==NG_CONTENT_ELEMENT?type=PreparsedElementType.NG_CONTENT:nodeName==STYLE_ELEMENT?type=PreparsedElementType.STYLE:nodeName==SCRIPT_ELEMENT?type=PreparsedElementType.SCRIPT:nodeName==LINK_ELEMENT&&relAttr==LINK_STYLE_REL_VALUE&&(type=PreparsedElementType.STYLESHEET),new PreparsedElement(type,selectAttr,hrefAttr,nonBindable,projectAs)}function normalizeNgContentSelect(selectAttr){return lang_1.isBlank(selectAttr)||0===selectAttr.length?"*":selectAttr}var lang_1=require("../src/facade/lang"),html_tags_1=require("./html_tags"),NG_CONTENT_SELECT_ATTR="select",NG_CONTENT_ELEMENT="ng-content",LINK_ELEMENT="link",LINK_STYLE_REL_ATTR="rel",LINK_STYLE_HREF_ATTR="href",LINK_STYLE_REL_VALUE="stylesheet",STYLE_ELEMENT="style",SCRIPT_ELEMENT="script",NG_NON_BINDABLE_ATTR="ngNonBindable",NG_PROJECT_AS="ngProjectAs";exports.preparseElement=preparseElement,function(PreparsedElementType){PreparsedElementType[PreparsedElementType.NG_CONTENT=0]="NG_CONTENT",PreparsedElementType[PreparsedElementType.STYLE=1]="STYLE",PreparsedElementType[PreparsedElementType.STYLESHEET=2]="STYLESHEET",PreparsedElementType[PreparsedElementType.SCRIPT=3]="SCRIPT",PreparsedElementType[PreparsedElementType.OTHER=4]="OTHER"}(exports.PreparsedElementType||(exports.PreparsedElementType={}));var PreparsedElementType=exports.PreparsedElementType,PreparsedElement=function(){function PreparsedElement(type,selectAttr,hrefAttr,nonBindable,projectAs){this.type=type,this.selectAttr=selectAttr,this.hrefAttr=hrefAttr,this.nonBindable=nonBindable,this.projectAs=projectAs}return PreparsedElement}();exports.PreparsedElement=PreparsedElement},{"../src/facade/lang":108,"./html_tags":114}],148:[function(require,module,exports){"use strict";function createUrlResolverWithoutPackagePrefix(){return new UrlResolver}function createOfflineCompileUrlResolver(){return new UrlResolver(_ASSET_SCHEME)}function getUrlScheme(url){var match=_split(url);return match&&match[_ComponentIndex.Scheme]||""}function _buildFromEncodedParts(opt_scheme,opt_userInfo,opt_domain,opt_port,opt_path,opt_queryData,opt_fragment){var out=[];return lang_1.isPresent(opt_scheme)&&out.push(opt_scheme+":"),lang_1.isPresent(opt_domain)&&(out.push("//"),lang_1.isPresent(opt_userInfo)&&out.push(opt_userInfo+"@"),out.push(opt_domain),lang_1.isPresent(opt_port)&&out.push(":"+opt_port)),lang_1.isPresent(opt_path)&&out.push(opt_path),lang_1.isPresent(opt_queryData)&&out.push("?"+opt_queryData),lang_1.isPresent(opt_fragment)&&out.push("#"+opt_fragment),out.join("")}function _split(uri){return lang_1.RegExpWrapper.firstMatch(_splitRe,uri)}function _removeDotSegments(path){if("/"==path)return"/";for(var leadingSlash="/"==path[0]?"/":"",trailingSlash="/"===path[path.length-1]?"/":"",segments=path.split("/"),out=[],up=0,pos=0;pos<segments.length;pos++){var segment=segments[pos];switch(segment){case"":case".":break;case"..":out.length>0?out.pop():up++;break;default:out.push(segment)}}if(""==leadingSlash){for(;up-- >0;)out.unshift("..");0===out.length&&out.push(".")}return leadingSlash+out.join("/")+trailingSlash}function _joinAndCanonicalizePath(parts){var path=parts[_ComponentIndex.Path];return path=lang_1.isBlank(path)?"":_removeDotSegments(path),parts[_ComponentIndex.Path]=path,_buildFromEncodedParts(parts[_ComponentIndex.Scheme],parts[_ComponentIndex.UserInfo],parts[_ComponentIndex.Domain],parts[_ComponentIndex.Port],path,parts[_ComponentIndex.QueryData],parts[_ComponentIndex.Fragment])}function _resolveUrl(base,url){var parts=_split(encodeURI(url)),baseParts=_split(base);if(lang_1.isPresent(parts[_ComponentIndex.Scheme]))return _joinAndCanonicalizePath(parts);parts[_ComponentIndex.Scheme]=baseParts[_ComponentIndex.Scheme];for(var i=_ComponentIndex.Scheme;i<=_ComponentIndex.Port;i++)lang_1.isBlank(parts[i])&&(parts[i]=baseParts[i]);if("/"==parts[_ComponentIndex.Path][0])return _joinAndCanonicalizePath(parts);var path=baseParts[_ComponentIndex.Path];lang_1.isBlank(path)&&(path="/");var index=path.lastIndexOf("/");return path=path.substring(0,index+1)+parts[_ComponentIndex.Path],parts[_ComponentIndex.Path]=path,_joinAndCanonicalizePath(parts)}var core_1=require("@angular/core"),lang_1=require("../src/facade/lang"),_ASSET_SCHEME="asset:";exports.createUrlResolverWithoutPackagePrefix=createUrlResolverWithoutPackagePrefix,exports.createOfflineCompileUrlResolver=createOfflineCompileUrlResolver,exports.DEFAULT_PACKAGE_URL_PROVIDER={provide:core_1.PACKAGE_ROOT_URL,useValue:"/"};var UrlResolver=function(){function UrlResolver(_packagePrefix){void 0===_packagePrefix&&(_packagePrefix=null),this._packagePrefix=_packagePrefix}return UrlResolver.prototype.resolve=function(baseUrl,url){var resolvedUrl=url;lang_1.isPresent(baseUrl)&&baseUrl.length>0&&(resolvedUrl=_resolveUrl(baseUrl,resolvedUrl));var resolvedParts=_split(resolvedUrl),prefix=this._packagePrefix;if(lang_1.isPresent(prefix)&&lang_1.isPresent(resolvedParts)&&"package"==resolvedParts[_ComponentIndex.Scheme]){var path=resolvedParts[_ComponentIndex.Path];if(this._packagePrefix!==_ASSET_SCHEME)return prefix=lang_1.StringWrapper.stripRight(prefix,"/"),path=lang_1.StringWrapper.stripLeft(path,"/"),prefix+"/"+path;var pathSegements=path.split(/\//);resolvedUrl="asset:"+pathSegements[0]+"/lib/"+pathSegements.slice(1).join("/")}return resolvedUrl},UrlResolver.decorators=[{type:core_1.Injectable}],UrlResolver.ctorParameters=[{type:void 0,decorators:[{type:core_1.Inject,args:[core_1.PACKAGE_ROOT_URL]}]}],UrlResolver}();exports.UrlResolver=UrlResolver,exports.getUrlScheme=getUrlScheme;var _ComponentIndex,_splitRe=lang_1.RegExpWrapper.create("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");!function(_ComponentIndex){_ComponentIndex[_ComponentIndex.Scheme=1]="Scheme",_ComponentIndex[_ComponentIndex.UserInfo=2]="UserInfo",_ComponentIndex[_ComponentIndex.Domain=3]="Domain",_ComponentIndex[_ComponentIndex.Port=4]="Port",_ComponentIndex[_ComponentIndex.Path=5]="Path",_ComponentIndex[_ComponentIndex.QueryData=6]="QueryData",_ComponentIndex[_ComponentIndex.Fragment=7]="Fragment"}(_ComponentIndex||(_ComponentIndex={}))},{"../src/facade/lang":108,"@angular/core":167}],149:[function(require,module,exports){"use strict";function camelCaseToDashCase(input){return lang_1.StringWrapper.replaceAllMapped(input,CAMEL_CASE_REGEXP,function(m){return"-"+m[1].toLowerCase()})}function splitAtColon(input,defaultValues){var parts=lang_1.StringWrapper.split(input.trim(),/\s*:\s*/g);return parts.length>1?parts:defaultValues}function sanitizeIdentifier(name){return lang_1.StringWrapper.replaceAll(name,/\W/g,"_")}function visitValue(value,visitor,context){return lang_1.isArray(value)?visitor.visitArray(value,context):lang_1.isStrictStringMap(value)?visitor.visitStringMap(value,context):lang_1.isBlank(value)||lang_1.isPrimitive(value)?visitor.visitPrimitive(value,context):visitor.visitOther(value,context)}function assetUrl(pkg,path,type){return void 0===path&&(path=null),void 0===type&&(type="src"),lang_1.IS_DART?null==path?"asset:angular2/"+pkg+"/"+pkg+".dart":"asset:angular2/lib/"+pkg+"/src/"+path+".dart":null==path?"asset:@angular/lib/"+pkg+"/index":"asset:@angular/lib/"+pkg+"/src/"+path}var collection_1=require("./facade/collection"),lang_1=require("./facade/lang");exports.MODULE_SUFFIX=lang_1.IS_DART?".dart":"";var CAMEL_CASE_REGEXP=/([A-Z])/g;exports.camelCaseToDashCase=camelCaseToDashCase,exports.splitAtColon=splitAtColon,exports.sanitizeIdentifier=sanitizeIdentifier,exports.visitValue=visitValue;var ValueTransformer=function(){function ValueTransformer(){}return ValueTransformer.prototype.visitArray=function(arr,context){var _this=this;return arr.map(function(value){return visitValue(value,_this,context)})},ValueTransformer.prototype.visitStringMap=function(map,context){var _this=this,result={};return collection_1.StringMapWrapper.forEach(map,function(value,key){result[key]=visitValue(value,_this,context)}),result},ValueTransformer.prototype.visitPrimitive=function(value,context){return value},ValueTransformer.prototype.visitOther=function(value,context){return value},ValueTransformer}();exports.ValueTransformer=ValueTransformer,exports.assetUrl=assetUrl},{"./facade/collection":105,"./facade/lang":108}],150:[function(require,module,exports){"use strict";var CompileBinding=function(){function CompileBinding(node,sourceAst){this.node=node,this.sourceAst=sourceAst}return CompileBinding}();exports.CompileBinding=CompileBinding},{}],151:[function(require,module,exports){"use strict";function createInjectInternalCondition(nodeIndex,childNodeCount,provider,providerExpr){var indexCondition;return indexCondition=childNodeCount>0?o.literal(nodeIndex).lowerEquals(constants_1.InjectMethodVars.requestNodeIndex).and(constants_1.InjectMethodVars.requestNodeIndex.lowerEquals(o.literal(nodeIndex+childNodeCount))):o.literal(nodeIndex).identical(constants_1.InjectMethodVars.requestNodeIndex),new o.IfStmt(constants_1.InjectMethodVars.token.identical(util_1.createDiTokenExpression(provider.token)).and(indexCondition),[new o.ReturnStatement(providerExpr)])}function createProviderProperty(propName,provider,providerValueExpressions,isMulti,isEager,compileElement){var resolvedProviderValueExpr,type,view=compileElement.view;if(isMulti?(resolvedProviderValueExpr=o.literalArr(providerValueExpressions),type=new o.ArrayType(o.DYNAMIC_TYPE)):(resolvedProviderValueExpr=providerValueExpressions[0],type=providerValueExpressions[0].type),lang_1.isBlank(type)&&(type=o.DYNAMIC_TYPE),isEager)view.fields.push(new o.ClassField(propName,type)),view.createMethod.addStmt(o.THIS_EXPR.prop(propName).set(resolvedProviderValueExpr).toStmt());else{var internalField="_"+propName;view.fields.push(new o.ClassField(internalField,type));var getter=new compile_method_1.CompileMethod(view);getter.resetDebugInfo(compileElement.nodeIndex,compileElement.sourceAst),getter.addStmt(new o.IfStmt(o.THIS_EXPR.prop(internalField).isBlank(),[o.THIS_EXPR.prop(internalField).set(resolvedProviderValueExpr).toStmt()])),getter.addStmt(new o.ReturnStatement(o.THIS_EXPR.prop(internalField))),view.getters.push(new o.ClassGetter(propName,getter.finish(),type))}return o.THIS_EXPR.prop(propName)}function _convertValueToOutputAst(value){return util_2.visitValue(value,new _ValueOutputAstTransformer,null)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);
d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),identifiers_1=require("../identifiers"),o=require("../output/output_ast"),template_ast_1=require("../template_ast"),constants_1=require("./constants"),compile_metadata_1=require("../compile_metadata"),util_1=require("./util"),compile_query_1=require("./compile_query"),compile_method_1=require("./compile_method"),util_2=require("../util"),CompileNode=function(){function CompileNode(parent,view,nodeIndex,renderNode,sourceAst){this.parent=parent,this.view=view,this.nodeIndex=nodeIndex,this.renderNode=renderNode,this.sourceAst=sourceAst}return CompileNode.prototype.isNull=function(){return lang_1.isBlank(this.renderNode)},CompileNode.prototype.isRootElement=function(){return this.view!=this.parent.view},CompileNode}();exports.CompileNode=CompileNode;var CompileElement=function(_super){function CompileElement(parent,view,nodeIndex,renderNode,sourceAst,component,_directives,_resolvedProvidersArray,hasViewContainer,hasEmbeddedView,references){var _this=this;_super.call(this,parent,view,nodeIndex,renderNode,sourceAst),this.component=component,this._directives=_directives,this._resolvedProvidersArray=_resolvedProvidersArray,this.hasViewContainer=hasViewContainer,this.hasEmbeddedView=hasEmbeddedView,this._compViewExpr=null,this._instances=new compile_metadata_1.CompileTokenMap,this._queryCount=0,this._queries=new compile_metadata_1.CompileTokenMap,this._componentConstructorViewQueryLists=[],this.contentNodesByNgContentIndex=null,this.referenceTokens={},references.forEach(function(ref){return _this.referenceTokens[ref.name]=ref.value}),this.elementRef=o.importExpr(identifiers_1.Identifiers.ElementRef).instantiate([this.renderNode]),this._instances.add(identifiers_1.identifierToken(identifiers_1.Identifiers.ElementRef),this.elementRef),this.injector=o.THIS_EXPR.callMethod("injector",[o.literal(this.nodeIndex)]),this._instances.add(identifiers_1.identifierToken(identifiers_1.Identifiers.Injector),this.injector),this._instances.add(identifiers_1.identifierToken(identifiers_1.Identifiers.Renderer),o.THIS_EXPR.prop("renderer")),(this.hasViewContainer||this.hasEmbeddedView||lang_1.isPresent(this.component))&&this._createAppElement()}return __extends(CompileElement,_super),CompileElement.createNull=function(){return new CompileElement(null,null,null,null,null,null,[],[],(!1),(!1),[])},CompileElement.prototype._createAppElement=function(){var fieldName="_appEl_"+this.nodeIndex,parentNodeIndex=this.isRootElement()?null:this.parent.nodeIndex;this.view.fields.push(new o.ClassField(fieldName,o.importType(identifiers_1.Identifiers.AppElement),[o.StmtModifier.Private]));var statement=o.THIS_EXPR.prop(fieldName).set(o.importExpr(identifiers_1.Identifiers.AppElement).instantiate([o.literal(this.nodeIndex),o.literal(parentNodeIndex),o.THIS_EXPR,this.renderNode])).toStmt();this.view.createMethod.addStmt(statement),this.appElement=o.THIS_EXPR.prop(fieldName),this._instances.add(identifiers_1.identifierToken(identifiers_1.Identifiers.AppElement),this.appElement)},CompileElement.prototype.createComponentFactoryResolver=function(precompileComponent){if(precompileComponent&&0!==precompileComponent.length){var createComponentFactoryResolverExpr=o.importExpr(identifiers_1.Identifiers.CodegenComponentFactoryResolver).instantiate([o.literalArr(precompileComponent.map(function(precompiledComponent){return o.importExpr(precompiledComponent)})),util_1.injectFromViewParentInjector(identifiers_1.identifierToken(identifiers_1.Identifiers.ComponentFactoryResolver),!1)]),provider=new compile_metadata_1.CompileProviderMetadata({token:identifiers_1.identifierToken(identifiers_1.Identifiers.ComponentFactoryResolver),useValue:createComponentFactoryResolverExpr});this._resolvedProvidersArray.unshift(new template_ast_1.ProviderAst(provider.token,(!1),(!0),[provider],template_ast_1.ProviderAstType.PrivateService,this.sourceAst.sourceSpan))}},CompileElement.prototype.setComponentView=function(compViewExpr){this._compViewExpr=compViewExpr,this.contentNodesByNgContentIndex=collection_1.ListWrapper.createFixedSize(this.component.template.ngContentSelectors.length);for(var i=0;i<this.contentNodesByNgContentIndex.length;i++)this.contentNodesByNgContentIndex[i]=[]},CompileElement.prototype.setEmbeddedView=function(embeddedView){if(this.embeddedView=embeddedView,lang_1.isPresent(embeddedView)){var createTemplateRefExpr=o.importExpr(identifiers_1.Identifiers.TemplateRef_).instantiate([this.appElement,this.embeddedView.viewFactory]),provider=new compile_metadata_1.CompileProviderMetadata({token:identifiers_1.identifierToken(identifiers_1.Identifiers.TemplateRef),useValue:createTemplateRefExpr});this._resolvedProvidersArray.unshift(new template_ast_1.ProviderAst(provider.token,(!1),(!0),[provider],template_ast_1.ProviderAstType.Builtin,this.sourceAst.sourceSpan))}},CompileElement.prototype.beforeChildren=function(){var _this=this;this.hasViewContainer&&this._instances.add(identifiers_1.identifierToken(identifiers_1.Identifiers.ViewContainerRef),this.appElement.prop("vcRef")),this._resolvedProviders=new compile_metadata_1.CompileTokenMap,this._resolvedProvidersArray.forEach(function(provider){return _this._resolvedProviders.add(provider.token,provider)}),this._resolvedProviders.values().forEach(function(resolvedProvider){var providerValueExpressions=resolvedProvider.providers.map(function(provider){if(lang_1.isPresent(provider.useExisting))return _this._getDependency(resolvedProvider.providerType,new compile_metadata_1.CompileDiDependencyMetadata({token:provider.useExisting}));if(lang_1.isPresent(provider.useFactory)){var deps=lang_1.isPresent(provider.deps)?provider.deps:provider.useFactory.diDeps,depsExpr=deps.map(function(dep){return _this._getDependency(resolvedProvider.providerType,dep)});return o.importExpr(provider.useFactory).callFn(depsExpr)}if(lang_1.isPresent(provider.useClass)){var deps=lang_1.isPresent(provider.deps)?provider.deps:provider.useClass.diDeps,depsExpr=deps.map(function(dep){return _this._getDependency(resolvedProvider.providerType,dep)});return o.importExpr(provider.useClass).instantiate(depsExpr,o.importType(provider.useClass))}return _convertValueToOutputAst(provider.useValue)}),propName="_"+resolvedProvider.token.name+"_"+_this.nodeIndex+"_"+_this._instances.size,instance=createProviderProperty(propName,resolvedProvider,providerValueExpressions,resolvedProvider.multiProvider,resolvedProvider.eager,_this);_this._instances.add(resolvedProvider.token,instance)}),this.directiveInstances=this._directives.map(function(directive){return _this._instances.get(identifiers_1.identifierToken(directive.type))});for(var i=0;i<this.directiveInstances.length;i++){var directiveInstance=this.directiveInstances[i],directive=this._directives[i];directive.queries.forEach(function(queryMeta){_this._addQuery(queryMeta,directiveInstance)})}var queriesWithReads=[];if(this._resolvedProviders.values().forEach(function(resolvedProvider){var queriesForProvider=_this._getQueriesFor(resolvedProvider.token);collection_1.ListWrapper.addAll(queriesWithReads,queriesForProvider.map(function(query){return new _QueryWithRead(query,resolvedProvider.token)}))}),collection_1.StringMapWrapper.forEach(this.referenceTokens,function(_,varName){var varValue,token=_this.referenceTokens[varName];varValue=lang_1.isPresent(token)?_this._instances.get(token):_this.renderNode,_this.view.locals.set(varName,varValue);var varToken=new compile_metadata_1.CompileTokenMetadata({value:varName});collection_1.ListWrapper.addAll(queriesWithReads,_this._getQueriesFor(varToken).map(function(query){return new _QueryWithRead(query,varToken)}))}),queriesWithReads.forEach(function(queryWithRead){var value;if(lang_1.isPresent(queryWithRead.read.identifier))value=_this._instances.get(queryWithRead.read);else{var token=_this.referenceTokens[queryWithRead.read.value];value=lang_1.isPresent(token)?_this._instances.get(token):_this.elementRef}lang_1.isPresent(value)&&queryWithRead.query.addValue(value,_this.view)}),lang_1.isPresent(this.component)){var componentConstructorViewQueryList=lang_1.isPresent(this.component)?o.literalArr(this._componentConstructorViewQueryLists):o.NULL_EXPR,compExpr=lang_1.isPresent(this.getComponent())?this.getComponent():o.NULL_EXPR;this.view.createMethod.addStmt(this.appElement.callMethod("initComponent",[compExpr,componentConstructorViewQueryList,this._compViewExpr]).toStmt())}},CompileElement.prototype.afterChildren=function(childNodeCount){var _this=this;this._resolvedProviders.values().forEach(function(resolvedProvider){var providerExpr=_this._instances.get(resolvedProvider.token),providerChildNodeCount=resolvedProvider.providerType===template_ast_1.ProviderAstType.PrivateService?0:childNodeCount;_this.view.injectorGetMethod.addStmt(createInjectInternalCondition(_this.nodeIndex,providerChildNodeCount,resolvedProvider,providerExpr))}),this._queries.values().forEach(function(queries){return queries.forEach(function(query){return query.afterChildren(_this.view.createMethod,_this.view.updateContentQueriesMethod)})})},CompileElement.prototype.addContentNode=function(ngContentIndex,nodeExpr){this.contentNodesByNgContentIndex[ngContentIndex].push(nodeExpr)},CompileElement.prototype.getComponent=function(){return lang_1.isPresent(this.component)?this._instances.get(identifiers_1.identifierToken(this.component.type)):null},CompileElement.prototype.getProviderTokens=function(){return this._resolvedProviders.values().map(function(resolvedProvider){return util_1.createDiTokenExpression(resolvedProvider.token)})},CompileElement.prototype._getQueriesFor=function(token){for(var queries,result=[],currentEl=this,distance=0;!currentEl.isNull();)queries=currentEl._queries.get(token),lang_1.isPresent(queries)&&collection_1.ListWrapper.addAll(result,queries.filter(function(query){return query.meta.descendants||distance<=1})),currentEl._directives.length>0&&distance++,currentEl=currentEl.parent;return queries=this.view.componentView.viewQueries.get(token),lang_1.isPresent(queries)&&collection_1.ListWrapper.addAll(result,queries),result},CompileElement.prototype._addQuery=function(queryMeta,directiveInstance){var propName="_query_"+queryMeta.selectors[0].name+"_"+this.nodeIndex+"_"+this._queryCount++,queryList=compile_query_1.createQueryList(queryMeta,directiveInstance,propName,this.view),query=new compile_query_1.CompileQuery(queryMeta,queryList,directiveInstance,this.view);return compile_query_1.addQueryToTokenMap(this._queries,query),query},CompileElement.prototype._getLocalDependency=function(requestingProviderType,dep){var result=null;if(lang_1.isBlank(result)&&lang_1.isPresent(dep.query)&&(result=this._addQuery(dep.query,null).queryList),lang_1.isBlank(result)&&lang_1.isPresent(dep.viewQuery)&&(result=compile_query_1.createQueryList(dep.viewQuery,null,"_viewQuery_"+dep.viewQuery.selectors[0].name+"_"+this.nodeIndex+"_"+this._componentConstructorViewQueryLists.length,this.view),this._componentConstructorViewQueryLists.push(result)),lang_1.isPresent(dep.token)){if(lang_1.isBlank(result)&&dep.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.ChangeDetectorRef)))return requestingProviderType===template_ast_1.ProviderAstType.Component?this._compViewExpr.prop("ref"):util_1.getPropertyInView(o.THIS_EXPR.prop("ref"),this.view,this.view.componentView);if(lang_1.isBlank(result)){var resolvedProvider=this._resolvedProviders.get(dep.token);if(resolvedProvider&&(requestingProviderType===template_ast_1.ProviderAstType.Directive||requestingProviderType===template_ast_1.ProviderAstType.PublicService)&&resolvedProvider.providerType===template_ast_1.ProviderAstType.PrivateService)return null;result=this._instances.get(dep.token)}}return result},CompileElement.prototype._getDependency=function(requestingProviderType,dep){var currElement=this,result=null;for(dep.isValue&&(result=o.literal(dep.value)),lang_1.isBlank(result)&&!dep.isSkipSelf&&(result=this._getLocalDependency(requestingProviderType,dep));lang_1.isBlank(result)&&!currElement.parent.isNull();)currElement=currElement.parent,result=currElement._getLocalDependency(template_ast_1.ProviderAstType.PublicService,new compile_metadata_1.CompileDiDependencyMetadata({token:dep.token}));return lang_1.isBlank(result)&&(result=util_1.injectFromViewParentInjector(dep.token,dep.isOptional)),lang_1.isBlank(result)&&(result=o.NULL_EXPR),util_1.getPropertyInView(result,this.view,currElement.view)},CompileElement}(CompileNode);exports.CompileElement=CompileElement;var _QueryWithRead=function(){function _QueryWithRead(query,match){this.query=query,this.read=lang_1.isPresent(query.meta.read)?query.meta.read:match}return _QueryWithRead}(),_ValueOutputAstTransformer=function(_super){function _ValueOutputAstTransformer(){_super.apply(this,arguments)}return __extends(_ValueOutputAstTransformer,_super),_ValueOutputAstTransformer.prototype.visitArray=function(arr,context){var _this=this;return o.literalArr(arr.map(function(value){return util_2.visitValue(value,_this,context)}))},_ValueOutputAstTransformer.prototype.visitStringMap=function(map,context){var _this=this,entries=[];return collection_1.StringMapWrapper.forEach(map,function(value,key){entries.push([key,util_2.visitValue(value,_this,context)])}),o.literalMap(entries)},_ValueOutputAstTransformer.prototype.visitPrimitive=function(value,context){return o.literal(value)},_ValueOutputAstTransformer.prototype.visitOther=function(value,context){if(value instanceof compile_metadata_1.CompileIdentifierMetadata)return o.importExpr(value);if(value instanceof o.Expression)return value;throw new core_1.BaseException("Illegal state: Don't now how to compile value "+value)},_ValueOutputAstTransformer}(util_2.ValueTransformer)},{"../compile_metadata":94,"../facade/collection":105,"../facade/lang":108,"../identifiers":121,"../output/output_ast":129,"../template_ast":145,"../util":149,"./compile_method":152,"./compile_query":154,"./constants":156,"./util":161,"@angular/core":167}],152:[function(require,module,exports){"use strict";var collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),o=require("../output/output_ast"),_DebugState=function(){function _DebugState(nodeIndex,sourceAst){this.nodeIndex=nodeIndex,this.sourceAst=sourceAst}return _DebugState}(),NULL_DEBUG_STATE=new _DebugState(null,null),CompileMethod=function(){function CompileMethod(_view){this._view=_view,this._newState=NULL_DEBUG_STATE,this._currState=NULL_DEBUG_STATE,this._bodyStatements=[],this._debugEnabled=this._view.genConfig.genDebugInfo}return CompileMethod.prototype._updateDebugContextIfNeeded=function(){if(this._newState.nodeIndex!==this._currState.nodeIndex||this._newState.sourceAst!==this._currState.sourceAst){var expr=this._updateDebugContext(this._newState);lang_1.isPresent(expr)&&this._bodyStatements.push(expr.toStmt())}},CompileMethod.prototype._updateDebugContext=function(newState){if(this._currState=this._newState=newState,this._debugEnabled){var sourceLocation=lang_1.isPresent(newState.sourceAst)?newState.sourceAst.sourceSpan.start:null;return o.THIS_EXPR.callMethod("debug",[o.literal(newState.nodeIndex),lang_1.isPresent(sourceLocation)?o.literal(sourceLocation.line):o.NULL_EXPR,lang_1.isPresent(sourceLocation)?o.literal(sourceLocation.col):o.NULL_EXPR])}return null},CompileMethod.prototype.resetDebugInfoExpr=function(nodeIndex,templateAst){var res=this._updateDebugContext(new _DebugState(nodeIndex,templateAst));return lang_1.isPresent(res)?res:o.NULL_EXPR},CompileMethod.prototype.resetDebugInfo=function(nodeIndex,templateAst){this._newState=new _DebugState(nodeIndex,templateAst)},CompileMethod.prototype.addStmt=function(stmt){this._updateDebugContextIfNeeded(),this._bodyStatements.push(stmt)},CompileMethod.prototype.addStmts=function(stmts){this._updateDebugContextIfNeeded(),collection_1.ListWrapper.addAll(this._bodyStatements,stmts)},CompileMethod.prototype.finish=function(){return this._bodyStatements},CompileMethod.prototype.isEmpty=function(){return 0===this._bodyStatements.length},CompileMethod}();exports.CompileMethod=CompileMethod},{"../facade/collection":105,"../facade/lang":108,"../output/output_ast":129}],153:[function(require,module,exports){"use strict";function _findPipeMeta(view,name){for(var pipeMeta=null,i=view.pipeMetas.length-1;i>=0;i--){var localPipeMeta=view.pipeMetas[i];if(localPipeMeta.name==name){pipeMeta=localPipeMeta;break}}if(lang_1.isBlank(pipeMeta))throw new exceptions_1.BaseException("Illegal state: Could not find pipe "+name+" although the parser should have detected this error!");return pipeMeta}var exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),identifiers_1=require("../identifiers"),o=require("../output/output_ast"),util_1=require("./util"),_PurePipeProxy=function(){function _PurePipeProxy(view,instance,argCount){this.view=view,this.instance=instance,this.argCount=argCount}return _PurePipeProxy}(),CompilePipe=function(){function CompilePipe(view,meta){this.view=view,this.meta=meta,this._purePipeProxies=[],this.instance=o.THIS_EXPR.prop("_pipe_"+meta.name+"_"+view.pipeCount++)}return CompilePipe.call=function(view,name,args){var pipe,compView=view.componentView,meta=_findPipeMeta(compView,name);return meta.pure?(pipe=compView.purePipes.get(name),lang_1.isBlank(pipe)&&(pipe=new CompilePipe(compView,meta),compView.purePipes.set(name,pipe),compView.pipes.push(pipe))):(pipe=new CompilePipe(view,meta),view.pipes.push(pipe)),pipe._call(view,args)},Object.defineProperty(CompilePipe.prototype,"pure",{get:function(){return this.meta.pure},enumerable:!0,configurable:!0}),CompilePipe.prototype.create=function(){var _this=this,deps=this.meta.type.diDeps.map(function(diDep){return diDep.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.ChangeDetectorRef))?util_1.getPropertyInView(o.THIS_EXPR.prop("ref"),_this.view,_this.view.componentView):util_1.injectFromViewParentInjector(diDep.token,!1)});this.view.fields.push(new o.ClassField(this.instance.name,o.importType(this.meta.type))),this.view.createMethod.resetDebugInfo(null,null),this.view.createMethod.addStmt(o.THIS_EXPR.prop(this.instance.name).set(o.importExpr(this.meta.type).instantiate(deps)).toStmt()),this._purePipeProxies.forEach(function(purePipeProxy){var pipeInstanceSeenFromPureProxy=util_1.getPropertyInView(_this.instance,purePipeProxy.view,_this.view);util_1.createPureProxy(pipeInstanceSeenFromPureProxy.prop("transform").callMethod(o.BuiltinMethod.bind,[pipeInstanceSeenFromPureProxy]),purePipeProxy.argCount,purePipeProxy.instance,purePipeProxy.view)})},CompilePipe.prototype._call=function(callingView,args){if(this.meta.pure){var purePipeProxy=new _PurePipeProxy(callingView,o.THIS_EXPR.prop(this.instance.name+"_"+this._purePipeProxies.length),args.length);return this._purePipeProxies.push(purePipeProxy),o.importExpr(identifiers_1.Identifiers.castByValue).callFn([purePipeProxy.instance,util_1.getPropertyInView(this.instance.prop("transform"),callingView,this.view)]).callFn(args)}return util_1.getPropertyInView(this.instance,callingView,this.view).callMethod("transform",args)},CompilePipe}();exports.CompilePipe=CompilePipe},{"../facade/exceptions":107,"../facade/lang":108,"../identifiers":121,"../output/output_ast":129,"./util":161}],154:[function(require,module,exports){"use strict";function createQueryValues(viewValues){return collection_1.ListWrapper.flatten(viewValues.values.map(function(entry){return entry instanceof ViewQueryValues?mapNestedViews(entry.view.declarationElement.appElement,entry.view,createQueryValues(entry)):entry}))}function mapNestedViews(declarationAppElement,view,expressions){var adjustedExpressions=expressions.map(function(expr){return o.replaceVarInExpression(o.THIS_EXPR.name,o.variable("nestedView"),expr)});return declarationAppElement.callMethod("mapNestedViews",[o.variable(view.className),o.fn([new o.FnParam("nestedView",view.classType)],[new o.ReturnStatement(o.literalArr(adjustedExpressions))])])}function createQueryList(query,directiveInstance,propertyName,compileView){compileView.fields.push(new o.ClassField(propertyName,o.importType(identifiers_1.Identifiers.QueryList,[o.DYNAMIC_TYPE])));var expr=o.THIS_EXPR.prop(propertyName);return compileView.createMethod.addStmt(o.THIS_EXPR.prop(propertyName).set(o.importExpr(identifiers_1.Identifiers.QueryList,[o.DYNAMIC_TYPE]).instantiate([])).toStmt()),expr}function addQueryToTokenMap(map,query){query.meta.selectors.forEach(function(selector){var entry=map.get(selector);lang_1.isBlank(entry)&&(entry=[],map.add(selector,entry)),entry.push(query)})}var collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),identifiers_1=require("../identifiers"),o=require("../output/output_ast"),util_1=require("./util"),ViewQueryValues=function(){function ViewQueryValues(view,values){this.view=view,this.values=values}return ViewQueryValues}(),CompileQuery=function(){function CompileQuery(meta,queryList,ownerDirectiveExpression,view){this.meta=meta,this.queryList=queryList,this.ownerDirectiveExpression=ownerDirectiveExpression,this.view=view,this._values=new ViewQueryValues(view,[])}return CompileQuery.prototype.addValue=function(value,view){for(var currentView=view,elPath=[];lang_1.isPresent(currentView)&&currentView!==this.view;){var parentEl=currentView.declarationElement;elPath.unshift(parentEl),currentView=parentEl.view}var queryListForDirtyExpr=util_1.getPropertyInView(this.queryList,view,this.view),viewValues=this._values;elPath.forEach(function(el){var last=viewValues.values.length>0?viewValues.values[viewValues.values.length-1]:null;if(last instanceof ViewQueryValues&&last.view===el.embeddedView)viewValues=last;else{var newViewValues=new ViewQueryValues(el.embeddedView,[]);viewValues.values.push(newViewValues),viewValues=newViewValues}}),viewValues.values.push(value),elPath.length>0&&view.dirtyParentQueriesMethod.addStmt(queryListForDirtyExpr.callMethod("setDirty",[]).toStmt())},CompileQuery.prototype._isStatic=function(){return!this._values.values.some(function(value){return value instanceof ViewQueryValues})},CompileQuery.prototype.afterChildren=function(targetStaticMethod,targetDynamicMethod){var values=createQueryValues(this._values),updateStmts=[this.queryList.callMethod("reset",[o.literalArr(values)]).toStmt()];if(lang_1.isPresent(this.ownerDirectiveExpression)){var valueExpr=this.meta.first?this.queryList.prop("first"):this.queryList;updateStmts.push(this.ownerDirectiveExpression.prop(this.meta.propertyName).set(valueExpr).toStmt())}this.meta.first||updateStmts.push(this.queryList.callMethod("notifyOnChanges",[]).toStmt()),this.meta.first&&this._isStatic()?targetStaticMethod.addStmts(updateStmts):targetDynamicMethod.addStmt(new o.IfStmt(this.queryList.prop("dirty"),updateStmts))},CompileQuery}();exports.CompileQuery=CompileQuery,exports.createQueryList=createQueryList,exports.addQueryToTokenMap=addQueryToTokenMap},{"../facade/collection":105,"../facade/lang":108,"../identifiers":121,"../output/output_ast":129,"./util":161}],155:[function(require,module,exports){"use strict";function getViewType(component,embeddedTemplateIndex){return embeddedTemplateIndex>0?core_private_1.ViewType.EMBEDDED:component.type.isHost?core_private_1.ViewType.HOST:core_private_1.ViewType.COMPONENT}var core_private_1=require("../../core_private"),compile_metadata_1=require("../compile_metadata"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),identifiers_1=require("../identifiers"),o=require("../output/output_ast"),compile_method_1=require("./compile_method"),compile_pipe_1=require("./compile_pipe"),compile_query_1=require("./compile_query"),constants_1=require("./constants"),util_1=require("./util"),CompileView=function(){function CompileView(component,genConfig,pipeMetas,styles,animations,viewIndex,declarationElement,templateVariableBindings){var _this=this;this.component=component,this.genConfig=genConfig,this.pipeMetas=pipeMetas,this.styles=styles,this.viewIndex=viewIndex,this.declarationElement=declarationElement,this.templateVariableBindings=templateVariableBindings,this.nodes=[],this.rootNodesOrAppElements=[],this.bindings=[],this.classStatements=[],this.eventHandlerMethods=[],this.fields=[],this.getters=[],this.disposables=[],this.subscriptions=[],this.purePipes=new Map,this.pipes=[],this.locals=new Map,this.literalArrayCount=0,this.literalMapCount=0,this.pipeCount=0,this.animations=new Map,animations.forEach(function(entry){return _this.animations.set(entry.name,entry)}),this.createMethod=new compile_method_1.CompileMethod(this),this.injectorGetMethod=new compile_method_1.CompileMethod(this),this.updateContentQueriesMethod=new compile_method_1.CompileMethod(this),this.dirtyParentQueriesMethod=new compile_method_1.CompileMethod(this),this.updateViewQueriesMethod=new compile_method_1.CompileMethod(this),this.detectChangesInInputsMethod=new compile_method_1.CompileMethod(this),this.detectChangesRenderPropertiesMethod=new compile_method_1.CompileMethod(this),this.afterContentLifecycleCallbacksMethod=new compile_method_1.CompileMethod(this),this.afterViewLifecycleCallbacksMethod=new compile_method_1.CompileMethod(this),this.destroyMethod=new compile_method_1.CompileMethod(this),this.detachMethod=new compile_method_1.CompileMethod(this),this.viewType=getViewType(component,viewIndex),this.className="_View_"+component.type.name+viewIndex,this.classType=o.importType(new compile_metadata_1.CompileIdentifierMetadata({name:this.className})),this.viewFactory=o.variable(util_1.getViewFactoryName(component,viewIndex)),this.viewType===core_private_1.ViewType.COMPONENT||this.viewType===core_private_1.ViewType.HOST?this.componentView=this:this.componentView=this.declarationElement.view.componentView,this.componentContext=util_1.getPropertyInView(o.THIS_EXPR.prop("context"),this,this.componentView);var viewQueries=new compile_metadata_1.CompileTokenMap;if(this.viewType===core_private_1.ViewType.COMPONENT){var directiveInstance=o.THIS_EXPR.prop("context");collection_1.ListWrapper.forEachWithIndex(this.component.viewQueries,function(queryMeta,queryIndex){var propName="_viewQuery_"+queryMeta.selectors[0].name+"_"+queryIndex,queryList=compile_query_1.createQueryList(queryMeta,directiveInstance,propName,_this),query=new compile_query_1.CompileQuery(queryMeta,queryList,directiveInstance,_this);compile_query_1.addQueryToTokenMap(viewQueries,query)});var constructorViewQueryCount=0;this.component.type.diDeps.forEach(function(dep){if(lang_1.isPresent(dep.viewQuery)){var queryList=o.THIS_EXPR.prop("declarationAppElement").prop("componentConstructorViewQueries").key(o.literal(constructorViewQueryCount++)),query=new compile_query_1.CompileQuery(dep.viewQuery,queryList,null,_this);compile_query_1.addQueryToTokenMap(viewQueries,query)}})}this.viewQueries=viewQueries,templateVariableBindings.forEach(function(entry){_this.locals.set(entry[1],o.THIS_EXPR.prop("context").prop(entry[0]))}),this.declarationElement.isNull()||this.declarationElement.setEmbeddedView(this)}return CompileView.prototype.callPipe=function(name,input,args){return compile_pipe_1.CompilePipe.call(this,name,[input].concat(args))},CompileView.prototype.getLocal=function(name){if(name==constants_1.EventHandlerVars.event.name)return constants_1.EventHandlerVars.event;for(var currView=this,result=currView.locals.get(name);lang_1.isBlank(result)&&lang_1.isPresent(currView.declarationElement.view);)currView=currView.declarationElement.view,result=currView.locals.get(name);return lang_1.isPresent(result)?util_1.getPropertyInView(result,this,currView):null},CompileView.prototype.createLiteralArray=function(values){if(0===values.length)return o.importExpr(identifiers_1.Identifiers.EMPTY_ARRAY);for(var proxyExpr=o.THIS_EXPR.prop("_arr_"+this.literalArrayCount++),proxyParams=[],proxyReturnEntries=[],i=0;i<values.length;i++){var paramName="p"+i;proxyParams.push(new o.FnParam(paramName)),proxyReturnEntries.push(o.variable(paramName))}return util_1.createPureProxy(o.fn(proxyParams,[new o.ReturnStatement(o.literalArr(proxyReturnEntries))],new o.ArrayType(o.DYNAMIC_TYPE)),values.length,proxyExpr,this),proxyExpr.callFn(values)},CompileView.prototype.createLiteralMap=function(entries){if(0===entries.length)return o.importExpr(identifiers_1.Identifiers.EMPTY_MAP);for(var proxyExpr=o.THIS_EXPR.prop("_map_"+this.literalMapCount++),proxyParams=[],proxyReturnEntries=[],values=[],i=0;i<entries.length;i++){var paramName="p"+i;proxyParams.push(new o.FnParam(paramName)),proxyReturnEntries.push([entries[i][0],o.variable(paramName)]),values.push(entries[i][1])}return util_1.createPureProxy(o.fn(proxyParams,[new o.ReturnStatement(o.literalMap(proxyReturnEntries))],new o.MapType(o.DYNAMIC_TYPE)),entries.length,proxyExpr,this),proxyExpr.callFn(values)},CompileView.prototype.afterNodes=function(){var _this=this;this.pipes.forEach(function(pipe){return pipe.create()}),this.viewQueries.values().forEach(function(queries){return queries.forEach(function(query){return query.afterChildren(_this.createMethod,_this.updateViewQueriesMethod)})})},CompileView}();exports.CompileView=CompileView},{"../../core_private":85,"../compile_metadata":94,"../facade/collection":105,"../facade/lang":108,"../identifiers":121,"../output/output_ast":129,"./compile_method":152,"./compile_pipe":153,"./compile_query":154,"./constants":156,"./util":161}],156:[function(require,module,exports){"use strict";function _enumExpression(classIdentifier,value){if(lang_1.isBlank(value))return o.NULL_EXPR;var name=lang_1.resolveEnumToken(classIdentifier.runtime,value);return o.importExpr(new compile_metadata_1.CompileIdentifierMetadata({name:classIdentifier.name+"."+name,moduleUrl:classIdentifier.moduleUrl,runtime:value}))}var core_1=require("@angular/core"),core_private_1=require("../../core_private"),compile_metadata_1=require("../compile_metadata"),lang_1=require("../facade/lang"),identifiers_1=require("../identifiers"),o=require("../output/output_ast"),ViewTypeEnum=function(){function ViewTypeEnum(){}return ViewTypeEnum.fromValue=function(value){return _enumExpression(identifiers_1.Identifiers.ViewType,value)},ViewTypeEnum.HOST=ViewTypeEnum.fromValue(core_private_1.ViewType.HOST),ViewTypeEnum.COMPONENT=ViewTypeEnum.fromValue(core_private_1.ViewType.COMPONENT),ViewTypeEnum.EMBEDDED=ViewTypeEnum.fromValue(core_private_1.ViewType.EMBEDDED),ViewTypeEnum}();exports.ViewTypeEnum=ViewTypeEnum;var ViewEncapsulationEnum=function(){function ViewEncapsulationEnum(){}return ViewEncapsulationEnum.fromValue=function(value){return _enumExpression(identifiers_1.Identifiers.ViewEncapsulation,value)},ViewEncapsulationEnum.Emulated=ViewEncapsulationEnum.fromValue(core_1.ViewEncapsulation.Emulated),ViewEncapsulationEnum.Native=ViewEncapsulationEnum.fromValue(core_1.ViewEncapsulation.Native),ViewEncapsulationEnum.None=ViewEncapsulationEnum.fromValue(core_1.ViewEncapsulation.None),ViewEncapsulationEnum}();exports.ViewEncapsulationEnum=ViewEncapsulationEnum;var ChangeDetectionStrategyEnum=function(){function ChangeDetectionStrategyEnum(){}return ChangeDetectionStrategyEnum.fromValue=function(value){return _enumExpression(identifiers_1.Identifiers.ChangeDetectionStrategy,value)},ChangeDetectionStrategyEnum.OnPush=ChangeDetectionStrategyEnum.fromValue(core_1.ChangeDetectionStrategy.OnPush),ChangeDetectionStrategyEnum.Default=ChangeDetectionStrategyEnum.fromValue(core_1.ChangeDetectionStrategy.Default),ChangeDetectionStrategyEnum}();exports.ChangeDetectionStrategyEnum=ChangeDetectionStrategyEnum;var ChangeDetectorStatusEnum=function(){function ChangeDetectorStatusEnum(){}return ChangeDetectorStatusEnum.fromValue=function(value){return _enumExpression(identifiers_1.Identifiers.ChangeDetectorStatus,value)},ChangeDetectorStatusEnum.CheckOnce=ChangeDetectorStatusEnum.fromValue(core_private_1.ChangeDetectorStatus.CheckOnce),ChangeDetectorStatusEnum.Checked=ChangeDetectorStatusEnum.fromValue(core_private_1.ChangeDetectorStatus.Checked),
ChangeDetectorStatusEnum.CheckAlways=ChangeDetectorStatusEnum.fromValue(core_private_1.ChangeDetectorStatus.CheckAlways),ChangeDetectorStatusEnum.Detached=ChangeDetectorStatusEnum.fromValue(core_private_1.ChangeDetectorStatus.Detached),ChangeDetectorStatusEnum.Errored=ChangeDetectorStatusEnum.fromValue(core_private_1.ChangeDetectorStatus.Errored),ChangeDetectorStatusEnum.Destroyed=ChangeDetectorStatusEnum.fromValue(core_private_1.ChangeDetectorStatus.Destroyed),ChangeDetectorStatusEnum}();exports.ChangeDetectorStatusEnum=ChangeDetectorStatusEnum;var ViewConstructorVars=function(){function ViewConstructorVars(){}return ViewConstructorVars.viewUtils=o.variable("viewUtils"),ViewConstructorVars.parentInjector=o.variable("parentInjector"),ViewConstructorVars.declarationEl=o.variable("declarationEl"),ViewConstructorVars}();exports.ViewConstructorVars=ViewConstructorVars;var ViewProperties=function(){function ViewProperties(){}return ViewProperties.renderer=o.THIS_EXPR.prop("renderer"),ViewProperties.projectableNodes=o.THIS_EXPR.prop("projectableNodes"),ViewProperties.viewUtils=o.THIS_EXPR.prop("viewUtils"),ViewProperties}();exports.ViewProperties=ViewProperties;var EventHandlerVars=function(){function EventHandlerVars(){}return EventHandlerVars.event=o.variable("$event"),EventHandlerVars}();exports.EventHandlerVars=EventHandlerVars;var InjectMethodVars=function(){function InjectMethodVars(){}return InjectMethodVars.token=o.variable("token"),InjectMethodVars.requestNodeIndex=o.variable("requestNodeIndex"),InjectMethodVars.notFoundResult=o.variable("notFoundResult"),InjectMethodVars}();exports.InjectMethodVars=InjectMethodVars;var DetectChangesVars=function(){function DetectChangesVars(){}return DetectChangesVars.throwOnChange=o.variable("throwOnChange"),DetectChangesVars.changes=o.variable("changes"),DetectChangesVars.changed=o.variable("changed"),DetectChangesVars.valUnwrapper=o.variable("valUnwrapper"),DetectChangesVars}();exports.DetectChangesVars=DetectChangesVars},{"../../core_private":85,"../compile_metadata":94,"../facade/lang":108,"../identifiers":121,"../output/output_ast":129,"@angular/core":167}],157:[function(require,module,exports){"use strict";function collectEventListeners(hostEvents,dirs,compileElement){var eventListeners=[];return hostEvents.forEach(function(hostEvent){compileElement.view.bindings.push(new compile_binding_1.CompileBinding(compileElement,hostEvent));var listener=CompileEventListener.getOrCreate(compileElement,hostEvent.target,hostEvent.name,eventListeners);listener.addAction(hostEvent,null,null)}),collection_1.ListWrapper.forEachWithIndex(dirs,function(directiveAst,i){var directiveInstance=compileElement.directiveInstances[i];directiveAst.hostEvents.forEach(function(hostEvent){compileElement.view.bindings.push(new compile_binding_1.CompileBinding(compileElement,hostEvent));var listener=CompileEventListener.getOrCreate(compileElement,hostEvent.target,hostEvent.name,eventListeners);listener.addAction(hostEvent,directiveAst.directive,directiveInstance)})}),eventListeners.forEach(function(listener){return listener.finishMethod()}),eventListeners}function bindDirectiveOutputs(directiveAst,directiveInstance,eventListeners){collection_1.StringMapWrapper.forEach(directiveAst.directive.outputs,function(eventName,observablePropName){eventListeners.filter(function(listener){return listener.eventName==eventName}).forEach(function(listener){listener.listenToDirective(directiveInstance,observablePropName)})})}function bindRenderOutputs(eventListeners){eventListeners.forEach(function(listener){return listener.listenToRenderer()})}function convertStmtIntoExpression(stmt){return stmt instanceof o.ExpressionStatement?stmt.expr:stmt instanceof o.ReturnStatement?stmt.value:null}function santitizeEventName(name){return lang_1.StringWrapper.replaceAll(name,/[^a-zA-Z_]/g,"_")}var collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),o=require("../output/output_ast"),compile_binding_1=require("./compile_binding"),compile_method_1=require("./compile_method"),constants_1=require("./constants"),expression_converter_1=require("./expression_converter"),CompileEventListener=function(){function CompileEventListener(compileElement,eventTarget,eventName,listenerIndex){this.compileElement=compileElement,this.eventTarget=eventTarget,this.eventName=eventName,this._hasComponentHostListener=!1,this._actionResultExprs=[],this._method=new compile_method_1.CompileMethod(compileElement.view),this._methodName="_handle_"+santitizeEventName(eventName)+"_"+compileElement.nodeIndex+"_"+listenerIndex,this._eventParam=new o.FnParam(constants_1.EventHandlerVars.event.name,o.importType(this.compileElement.view.genConfig.renderTypes.renderEvent))}return CompileEventListener.getOrCreate=function(compileElement,eventTarget,eventName,targetEventListeners){var listener=targetEventListeners.find(function(listener){return listener.eventTarget==eventTarget&&listener.eventName==eventName});return lang_1.isBlank(listener)&&(listener=new CompileEventListener(compileElement,eventTarget,eventName,targetEventListeners.length),targetEventListeners.push(listener)),listener},CompileEventListener.prototype.addAction=function(hostEvent,directive,directiveInstance){lang_1.isPresent(directive)&&directive.isComponent&&(this._hasComponentHostListener=!0),this._method.resetDebugInfo(this.compileElement.nodeIndex,hostEvent);var context=lang_1.isPresent(directiveInstance)?directiveInstance:this.compileElement.view.componentContext,actionStmts=expression_converter_1.convertCdStatementToIr(this.compileElement.view,context,hostEvent.handler),lastIndex=actionStmts.length-1;if(lastIndex>=0){var lastStatement=actionStmts[lastIndex],returnExpr=convertStmtIntoExpression(lastStatement),preventDefaultVar=o.variable("pd_"+this._actionResultExprs.length);this._actionResultExprs.push(preventDefaultVar),lang_1.isPresent(returnExpr)&&(actionStmts[lastIndex]=preventDefaultVar.set(returnExpr.cast(o.DYNAMIC_TYPE).notIdentical(o.literal(!1))).toDeclStmt(null,[o.StmtModifier.Final]))}this._method.addStmts(actionStmts)},CompileEventListener.prototype.finishMethod=function(){var markPathToRootStart=this._hasComponentHostListener?this.compileElement.appElement.prop("componentView"):o.THIS_EXPR,resultExpr=o.literal(!0);this._actionResultExprs.forEach(function(expr){resultExpr=resultExpr.and(expr)});var stmts=[markPathToRootStart.callMethod("markPathToRootAsCheckOnce",[]).toStmt()].concat(this._method.finish()).concat([new o.ReturnStatement(resultExpr)]);this.compileElement.view.eventHandlerMethods.push(new o.ClassMethod(this._methodName,[this._eventParam],stmts,o.BOOL_TYPE,[o.StmtModifier.Private]))},CompileEventListener.prototype.listenToRenderer=function(){var listenExpr,eventListener=o.THIS_EXPR.callMethod("eventHandler",[o.THIS_EXPR.prop(this._methodName).callMethod(o.BuiltinMethod.bind,[o.THIS_EXPR])]);listenExpr=lang_1.isPresent(this.eventTarget)?constants_1.ViewProperties.renderer.callMethod("listenGlobal",[o.literal(this.eventTarget),o.literal(this.eventName),eventListener]):constants_1.ViewProperties.renderer.callMethod("listen",[this.compileElement.renderNode,o.literal(this.eventName),eventListener]);var disposable=o.variable("disposable_"+this.compileElement.view.disposables.length);this.compileElement.view.disposables.push(disposable),this.compileElement.view.createMethod.addStmt(disposable.set(listenExpr).toDeclStmt(o.FUNCTION_TYPE,[o.StmtModifier.Private]))},CompileEventListener.prototype.listenToDirective=function(directiveInstance,observablePropName){var subscription=o.variable("subscription_"+this.compileElement.view.subscriptions.length);this.compileElement.view.subscriptions.push(subscription);var eventListener=o.THIS_EXPR.callMethod("eventHandler",[o.THIS_EXPR.prop(this._methodName).callMethod(o.BuiltinMethod.bind,[o.THIS_EXPR])]);this.compileElement.view.createMethod.addStmt(subscription.set(directiveInstance.prop(observablePropName).callMethod(o.BuiltinMethod.SubscribeObservable,[eventListener])).toDeclStmt(null,[o.StmtModifier.Final]))},CompileEventListener}();exports.CompileEventListener=CompileEventListener,exports.collectEventListeners=collectEventListeners,exports.bindDirectiveOutputs=bindDirectiveOutputs,exports.bindRenderOutputs=bindRenderOutputs},{"../facade/collection":105,"../facade/lang":108,"../output/output_ast":129,"./compile_binding":150,"./compile_method":152,"./constants":156,"./expression_converter":158}],158:[function(require,module,exports){"use strict";function convertCdExpressionToIr(nameResolver,implicitReceiver,expression,valueUnwrapper){var visitor=new _AstToIrVisitor(nameResolver,implicitReceiver,valueUnwrapper),irAst=expression.visit(visitor,_Mode.Expression);return new ExpressionWithWrappedValueInfo(irAst,visitor.needsValueUnwrapper)}function convertCdStatementToIr(nameResolver,implicitReceiver,stmt){var visitor=new _AstToIrVisitor(nameResolver,implicitReceiver,null),statements=[];return flattenStatements(stmt.visit(visitor,_Mode.Statement),statements),statements}function ensureStatementMode(mode,ast){if(mode!==_Mode.Statement)throw new exceptions_1.BaseException("Expected a statement, but saw "+ast)}function ensureExpressionMode(mode,ast){if(mode!==_Mode.Expression)throw new exceptions_1.BaseException("Expected an expression, but saw "+ast)}function convertToStatementIfNeeded(mode,expr){return mode===_Mode.Statement?expr.toStmt():expr}function flattenStatements(arg,output){lang_1.isArray(arg)?arg.forEach(function(entry){return flattenStatements(entry,output)}):output.push(arg)}var exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),identifiers_1=require("../identifiers"),o=require("../output/output_ast"),IMPLICIT_RECEIVER=o.variable("#implicit"),ExpressionWithWrappedValueInfo=function(){function ExpressionWithWrappedValueInfo(expression,needsValueUnwrapper){this.expression=expression,this.needsValueUnwrapper=needsValueUnwrapper}return ExpressionWithWrappedValueInfo}();exports.ExpressionWithWrappedValueInfo=ExpressionWithWrappedValueInfo,exports.convertCdExpressionToIr=convertCdExpressionToIr,exports.convertCdStatementToIr=convertCdStatementToIr;var _Mode;!function(_Mode){_Mode[_Mode.Statement=0]="Statement",_Mode[_Mode.Expression=1]="Expression"}(_Mode||(_Mode={}));var _AstToIrVisitor=function(){function _AstToIrVisitor(_nameResolver,_implicitReceiver,_valueUnwrapper){this._nameResolver=_nameResolver,this._implicitReceiver=_implicitReceiver,this._valueUnwrapper=_valueUnwrapper,this.needsValueUnwrapper=!1}return _AstToIrVisitor.prototype.visitBinary=function(ast,mode){var op;switch(ast.operation){case"+":op=o.BinaryOperator.Plus;break;case"-":op=o.BinaryOperator.Minus;break;case"*":op=o.BinaryOperator.Multiply;break;case"/":op=o.BinaryOperator.Divide;break;case"%":op=o.BinaryOperator.Modulo;break;case"&&":op=o.BinaryOperator.And;break;case"||":op=o.BinaryOperator.Or;break;case"==":op=o.BinaryOperator.Equals;break;case"!=":op=o.BinaryOperator.NotEquals;break;case"===":op=o.BinaryOperator.Identical;break;case"!==":op=o.BinaryOperator.NotIdentical;break;case"<":op=o.BinaryOperator.Lower;break;case">":op=o.BinaryOperator.Bigger;break;case"<=":op=o.BinaryOperator.LowerEquals;break;case">=":op=o.BinaryOperator.BiggerEquals;break;default:throw new exceptions_1.BaseException("Unsupported operation "+ast.operation)}return convertToStatementIfNeeded(mode,new o.BinaryOperatorExpr(op,ast.left.visit(this,_Mode.Expression),ast.right.visit(this,_Mode.Expression)))},_AstToIrVisitor.prototype.visitChain=function(ast,mode){return ensureStatementMode(mode,ast),this.visitAll(ast.expressions,mode)},_AstToIrVisitor.prototype.visitConditional=function(ast,mode){var value=ast.condition.visit(this,_Mode.Expression);return convertToStatementIfNeeded(mode,value.conditional(ast.trueExp.visit(this,_Mode.Expression),ast.falseExp.visit(this,_Mode.Expression)))},_AstToIrVisitor.prototype.visitPipe=function(ast,mode){var input=ast.exp.visit(this,_Mode.Expression),args=this.visitAll(ast.args,_Mode.Expression),value=this._nameResolver.callPipe(ast.name,input,args);return this.needsValueUnwrapper=!0,convertToStatementIfNeeded(mode,this._valueUnwrapper.callMethod("unwrap",[value]))},_AstToIrVisitor.prototype.visitFunctionCall=function(ast,mode){return convertToStatementIfNeeded(mode,ast.target.visit(this,_Mode.Expression).callFn(this.visitAll(ast.args,_Mode.Expression)))},_AstToIrVisitor.prototype.visitImplicitReceiver=function(ast,mode){return ensureExpressionMode(mode,ast),IMPLICIT_RECEIVER},_AstToIrVisitor.prototype.visitInterpolation=function(ast,mode){ensureExpressionMode(mode,ast);for(var args=[o.literal(ast.expressions.length)],i=0;i<ast.strings.length-1;i++)args.push(o.literal(ast.strings[i])),args.push(ast.expressions[i].visit(this,_Mode.Expression));return args.push(o.literal(ast.strings[ast.strings.length-1])),o.importExpr(identifiers_1.Identifiers.interpolate).callFn(args)},_AstToIrVisitor.prototype.visitKeyedRead=function(ast,mode){return convertToStatementIfNeeded(mode,ast.obj.visit(this,_Mode.Expression).key(ast.key.visit(this,_Mode.Expression)))},_AstToIrVisitor.prototype.visitKeyedWrite=function(ast,mode){var obj=ast.obj.visit(this,_Mode.Expression),key=ast.key.visit(this,_Mode.Expression),value=ast.value.visit(this,_Mode.Expression);return convertToStatementIfNeeded(mode,obj.key(key).set(value))},_AstToIrVisitor.prototype.visitLiteralArray=function(ast,mode){return convertToStatementIfNeeded(mode,this._nameResolver.createLiteralArray(this.visitAll(ast.expressions,mode)))},_AstToIrVisitor.prototype.visitLiteralMap=function(ast,mode){for(var parts=[],i=0;i<ast.keys.length;i++)parts.push([ast.keys[i],ast.values[i].visit(this,_Mode.Expression)]);return convertToStatementIfNeeded(mode,this._nameResolver.createLiteralMap(parts))},_AstToIrVisitor.prototype.visitLiteralPrimitive=function(ast,mode){return convertToStatementIfNeeded(mode,o.literal(ast.value))},_AstToIrVisitor.prototype.visitMethodCall=function(ast,mode){var args=this.visitAll(ast.args,_Mode.Expression),result=null,receiver=ast.receiver.visit(this,_Mode.Expression);if(receiver===IMPLICIT_RECEIVER){var varExpr=this._nameResolver.getLocal(ast.name);lang_1.isPresent(varExpr)?result=varExpr.callFn(args):receiver=this._implicitReceiver}return lang_1.isBlank(result)&&(result=receiver.callMethod(ast.name,args)),convertToStatementIfNeeded(mode,result)},_AstToIrVisitor.prototype.visitPrefixNot=function(ast,mode){return convertToStatementIfNeeded(mode,o.not(ast.expression.visit(this,_Mode.Expression)))},_AstToIrVisitor.prototype.visitPropertyRead=function(ast,mode){var result=null,receiver=ast.receiver.visit(this,_Mode.Expression);return receiver===IMPLICIT_RECEIVER&&(result=this._nameResolver.getLocal(ast.name),lang_1.isBlank(result)&&(receiver=this._implicitReceiver)),lang_1.isBlank(result)&&(result=receiver.prop(ast.name)),convertToStatementIfNeeded(mode,result)},_AstToIrVisitor.prototype.visitPropertyWrite=function(ast,mode){var receiver=ast.receiver.visit(this,_Mode.Expression);if(receiver===IMPLICIT_RECEIVER){var varExpr=this._nameResolver.getLocal(ast.name);if(lang_1.isPresent(varExpr))throw new exceptions_1.BaseException("Cannot assign to a reference or variable!");receiver=this._implicitReceiver}return convertToStatementIfNeeded(mode,receiver.prop(ast.name).set(ast.value.visit(this,_Mode.Expression)))},_AstToIrVisitor.prototype.visitSafePropertyRead=function(ast,mode){var receiver=ast.receiver.visit(this,_Mode.Expression);return convertToStatementIfNeeded(mode,receiver.isBlank().conditional(o.NULL_EXPR,receiver.prop(ast.name)))},_AstToIrVisitor.prototype.visitSafeMethodCall=function(ast,mode){var receiver=ast.receiver.visit(this,_Mode.Expression),args=this.visitAll(ast.args,_Mode.Expression);return convertToStatementIfNeeded(mode,receiver.isBlank().conditional(o.NULL_EXPR,receiver.callMethod(ast.name,args)))},_AstToIrVisitor.prototype.visitAll=function(asts,mode){var _this=this;return asts.map(function(ast){return ast.visit(_this,mode)})},_AstToIrVisitor.prototype.visitQuote=function(ast,mode){throw new exceptions_1.BaseException("Quotes are not supported for evaluation!")},_AstToIrVisitor}()},{"../facade/exceptions":107,"../facade/lang":108,"../identifiers":121,"../output/output_ast":129}],159:[function(require,module,exports){"use strict";function bindDirectiveDetectChangesLifecycleCallbacks(directiveAst,directiveInstance,compileElement){var view=compileElement.view,detectChangesInInputsMethod=view.detectChangesInInputsMethod,lifecycleHooks=directiveAst.directive.lifecycleHooks;lifecycleHooks.indexOf(core_private_1.LifecycleHooks.OnChanges)!==-1&&directiveAst.inputs.length>0&&detectChangesInInputsMethod.addStmt(new o.IfStmt(constants_1.DetectChangesVars.changes.notIdentical(o.NULL_EXPR),[directiveInstance.callMethod("ngOnChanges",[constants_1.DetectChangesVars.changes]).toStmt()])),lifecycleHooks.indexOf(core_private_1.LifecycleHooks.OnInit)!==-1&&detectChangesInInputsMethod.addStmt(new o.IfStmt(STATE_IS_NEVER_CHECKED.and(NOT_THROW_ON_CHANGES),[directiveInstance.callMethod("ngOnInit",[]).toStmt()])),lifecycleHooks.indexOf(core_private_1.LifecycleHooks.DoCheck)!==-1&&detectChangesInInputsMethod.addStmt(new o.IfStmt(NOT_THROW_ON_CHANGES,[directiveInstance.callMethod("ngDoCheck",[]).toStmt()]))}function bindDirectiveAfterContentLifecycleCallbacks(directiveMeta,directiveInstance,compileElement){var view=compileElement.view,lifecycleHooks=directiveMeta.lifecycleHooks,afterContentLifecycleCallbacksMethod=view.afterContentLifecycleCallbacksMethod;afterContentLifecycleCallbacksMethod.resetDebugInfo(compileElement.nodeIndex,compileElement.sourceAst),lifecycleHooks.indexOf(core_private_1.LifecycleHooks.AfterContentInit)!==-1&&afterContentLifecycleCallbacksMethod.addStmt(new o.IfStmt(STATE_IS_NEVER_CHECKED,[directiveInstance.callMethod("ngAfterContentInit",[]).toStmt()])),lifecycleHooks.indexOf(core_private_1.LifecycleHooks.AfterContentChecked)!==-1&&afterContentLifecycleCallbacksMethod.addStmt(directiveInstance.callMethod("ngAfterContentChecked",[]).toStmt())}function bindDirectiveAfterViewLifecycleCallbacks(directiveMeta,directiveInstance,compileElement){var view=compileElement.view,lifecycleHooks=directiveMeta.lifecycleHooks,afterViewLifecycleCallbacksMethod=view.afterViewLifecycleCallbacksMethod;afterViewLifecycleCallbacksMethod.resetDebugInfo(compileElement.nodeIndex,compileElement.sourceAst),lifecycleHooks.indexOf(core_private_1.LifecycleHooks.AfterViewInit)!==-1&&afterViewLifecycleCallbacksMethod.addStmt(new o.IfStmt(STATE_IS_NEVER_CHECKED,[directiveInstance.callMethod("ngAfterViewInit",[]).toStmt()])),lifecycleHooks.indexOf(core_private_1.LifecycleHooks.AfterViewChecked)!==-1&&afterViewLifecycleCallbacksMethod.addStmt(directiveInstance.callMethod("ngAfterViewChecked",[]).toStmt())}function bindDirectiveDestroyLifecycleCallbacks(directiveMeta,directiveInstance,compileElement){var onDestroyMethod=compileElement.view.destroyMethod;onDestroyMethod.resetDebugInfo(compileElement.nodeIndex,compileElement.sourceAst),directiveMeta.lifecycleHooks.indexOf(core_private_1.LifecycleHooks.OnDestroy)!==-1&&onDestroyMethod.addStmt(directiveInstance.callMethod("ngOnDestroy",[]).toStmt())}function bindPipeDestroyLifecycleCallbacks(pipeMeta,pipeInstance,view){var onDestroyMethod=view.destroyMethod;pipeMeta.lifecycleHooks.indexOf(core_private_1.LifecycleHooks.OnDestroy)!==-1&&onDestroyMethod.addStmt(pipeInstance.callMethod("ngOnDestroy",[]).toStmt())}var core_private_1=require("../../core_private"),o=require("../output/output_ast"),constants_1=require("./constants"),STATE_IS_NEVER_CHECKED=o.THIS_EXPR.prop("numberOfChecks").identical(new o.LiteralExpr(0)),NOT_THROW_ON_CHANGES=o.not(constants_1.DetectChangesVars.throwOnChange);exports.bindDirectiveDetectChangesLifecycleCallbacks=bindDirectiveDetectChangesLifecycleCallbacks,exports.bindDirectiveAfterContentLifecycleCallbacks=bindDirectiveAfterContentLifecycleCallbacks,exports.bindDirectiveAfterViewLifecycleCallbacks=bindDirectiveAfterViewLifecycleCallbacks,exports.bindDirectiveDestroyLifecycleCallbacks=bindDirectiveDestroyLifecycleCallbacks,exports.bindPipeDestroyLifecycleCallbacks=bindPipeDestroyLifecycleCallbacks},{"../../core_private":85,"../output/output_ast":129,"./constants":156}],160:[function(require,module,exports){"use strict";function createBindFieldExpr(exprIndex){return o.THIS_EXPR.prop("_expr_"+exprIndex)}function createCurrValueExpr(exprIndex){return o.variable("currVal_"+exprIndex)}function bind(view,currValExpr,fieldExpr,parsedExpression,context,actions,method){var checkExpression=expression_converter_1.convertCdExpressionToIr(view,context,parsedExpression,constants_1.DetectChangesVars.valUnwrapper);if(!lang_1.isBlank(checkExpression.expression)){if(view.fields.push(new o.ClassField(fieldExpr.name,null,[o.StmtModifier.Private])),view.createMethod.addStmt(o.THIS_EXPR.prop(fieldExpr.name).set(o.importExpr(identifiers_1.Identifiers.uninitialized)).toStmt()),checkExpression.needsValueUnwrapper){var initValueUnwrapperStmt=constants_1.DetectChangesVars.valUnwrapper.callMethod("reset",[]).toStmt();method.addStmt(initValueUnwrapperStmt)}method.addStmt(currValExpr.set(checkExpression.expression).toDeclStmt(null,[o.StmtModifier.Final]));var condition=o.importExpr(identifiers_1.Identifiers.checkBinding).callFn([constants_1.DetectChangesVars.throwOnChange,fieldExpr,currValExpr]);checkExpression.needsValueUnwrapper&&(condition=constants_1.DetectChangesVars.valUnwrapper.prop("hasWrappedValue").or(condition)),method.addStmt(new o.IfStmt(condition,actions.concat([o.THIS_EXPR.prop(fieldExpr.name).set(currValExpr).toStmt()])))}}function bindRenderText(boundText,compileNode,view){var bindingIndex=view.bindings.length;view.bindings.push(new compile_binding_1.CompileBinding(compileNode,boundText));var currValExpr=createCurrValueExpr(bindingIndex),valueField=createBindFieldExpr(bindingIndex);view.detectChangesRenderPropertiesMethod.resetDebugInfo(compileNode.nodeIndex,boundText),bind(view,currValExpr,valueField,boundText.value,view.componentContext,[o.THIS_EXPR.prop("renderer").callMethod("setText",[compileNode.renderNode,currValExpr]).toStmt()],view.detectChangesRenderPropertiesMethod)}function bindAndWriteToRenderer(boundProps,context,compileElement){var view=compileElement.view,renderNode=compileElement.renderNode;boundProps.forEach(function(boundProp){var bindingIndex=view.bindings.length;view.bindings.push(new compile_binding_1.CompileBinding(compileElement,boundProp)),view.detectChangesRenderPropertiesMethod.resetDebugInfo(compileElement.nodeIndex,boundProp);var fieldExpr=createBindFieldExpr(bindingIndex),currValExpr=createCurrValueExpr(bindingIndex),oldRenderValue=sanitizedValue(boundProp,fieldExpr),renderValue=sanitizedValue(boundProp,currValExpr),updateStmts=[];switch(boundProp.type){case template_ast_1.PropertyBindingType.Property:view.genConfig.logBindingUpdate&&updateStmts.push(logBindingUpdateStmt(renderNode,boundProp.name,renderValue)),updateStmts.push(o.THIS_EXPR.prop("renderer").callMethod("setElementProperty",[renderNode,o.literal(boundProp.name),renderValue]).toStmt());break;case template_ast_1.PropertyBindingType.Attribute:renderValue=renderValue.isBlank().conditional(o.NULL_EXPR,renderValue.callMethod("toString",[])),updateStmts.push(o.THIS_EXPR.prop("renderer").callMethod("setElementAttribute",[renderNode,o.literal(boundProp.name),renderValue]).toStmt());break;case template_ast_1.PropertyBindingType.Class:updateStmts.push(o.THIS_EXPR.prop("renderer").callMethod("setElementClass",[renderNode,o.literal(boundProp.name),renderValue]).toStmt());break;case template_ast_1.PropertyBindingType.Style:var strValue=renderValue.callMethod("toString",[]);lang_1.isPresent(boundProp.unit)&&(strValue=strValue.plus(o.literal(boundProp.unit))),renderValue=renderValue.isBlank().conditional(o.NULL_EXPR,strValue),updateStmts.push(o.THIS_EXPR.prop("renderer").callMethod("setElementStyle",[renderNode,o.literal(boundProp.name),renderValue]).toStmt());break;case template_ast_1.PropertyBindingType.Animation:var animationName=boundProp.name,animation=view.componentView.animations.get(animationName);if(!lang_1.isPresent(animation))throw new core_1.BaseException("Internal Error: couldn't find an animation entry for "+boundProp.name);var emptyStateValue=o.literal(core_private_1.EMPTY_STATE),oldRenderVar=o.variable("oldRenderVar");updateStmts.push(oldRenderVar.set(oldRenderValue).toDeclStmt()),updateStmts.push(new o.IfStmt(oldRenderVar.equals(o.importExpr(identifiers_1.Identifiers.uninitialized)),[oldRenderVar.set(emptyStateValue).toStmt()]));var newRenderVar=o.variable("newRenderVar");updateStmts.push(newRenderVar.set(renderValue).toDeclStmt()),updateStmts.push(new o.IfStmt(newRenderVar.equals(o.importExpr(identifiers_1.Identifiers.uninitialized)),[newRenderVar.set(emptyStateValue).toStmt()])),updateStmts.push(animation.fnVariable.callFn([o.THIS_EXPR,renderNode,oldRenderVar,newRenderVar]).toStmt()),view.detachMethod.addStmt(animation.fnVariable.callFn([o.THIS_EXPR,renderNode,oldRenderValue,emptyStateValue]).toStmt())}bind(view,currValExpr,fieldExpr,boundProp.value,context,updateStmts,view.detectChangesRenderPropertiesMethod)})}function sanitizedValue(boundProp,renderValue){var enumValue;switch(boundProp.securityContext){case core_private_1.SecurityContext.NONE:return renderValue;case core_private_1.SecurityContext.HTML:enumValue="HTML";break;case core_private_1.SecurityContext.STYLE:enumValue="STYLE";break;case core_private_1.SecurityContext.SCRIPT:enumValue="SCRIPT";break;case core_private_1.SecurityContext.URL:enumValue="URL";break;case core_private_1.SecurityContext.RESOURCE_URL:enumValue="RESOURCE_URL";break;default:throw new Error("internal error, unexpected SecurityContext "+boundProp.securityContext+".")}var ctx=constants_1.ViewProperties.viewUtils.prop("sanitizer"),args=[o.importExpr(identifiers_1.Identifiers.SecurityContext).prop(enumValue),renderValue];return ctx.callMethod("sanitize",args)}function bindRenderInputs(boundProps,compileElement){bindAndWriteToRenderer(boundProps,compileElement.view.componentContext,compileElement)}function bindDirectiveHostProps(directiveAst,directiveInstance,compileElement){bindAndWriteToRenderer(directiveAst.hostProperties,directiveInstance,compileElement)}function bindDirectiveInputs(directiveAst,directiveInstance,compileElement){if(0!==directiveAst.inputs.length){var view=compileElement.view,detectChangesInInputsMethod=view.detectChangesInInputsMethod;detectChangesInInputsMethod.resetDebugInfo(compileElement.nodeIndex,compileElement.sourceAst);var lifecycleHooks=directiveAst.directive.lifecycleHooks,calcChangesMap=lifecycleHooks.indexOf(core_private_1.LifecycleHooks.OnChanges)!==-1,isOnPushComp=directiveAst.directive.isComponent&&!core_private_1.isDefaultChangeDetectionStrategy(directiveAst.directive.changeDetection);calcChangesMap&&detectChangesInInputsMethod.addStmt(constants_1.DetectChangesVars.changes.set(o.NULL_EXPR).toStmt()),isOnPushComp&&detectChangesInInputsMethod.addStmt(constants_1.DetectChangesVars.changed.set(o.literal(!1)).toStmt()),directiveAst.inputs.forEach(function(input){var bindingIndex=view.bindings.length;view.bindings.push(new compile_binding_1.CompileBinding(compileElement,input)),detectChangesInInputsMethod.resetDebugInfo(compileElement.nodeIndex,input);var fieldExpr=createBindFieldExpr(bindingIndex),currValExpr=createCurrValueExpr(bindingIndex),statements=[directiveInstance.prop(input.directiveName).set(currValExpr).toStmt()];calcChangesMap&&(statements.push(new o.IfStmt(constants_1.DetectChangesVars.changes.identical(o.NULL_EXPR),[constants_1.DetectChangesVars.changes.set(o.literalMap([],new o.MapType(o.importType(identifiers_1.Identifiers.SimpleChange)))).toStmt()])),statements.push(constants_1.DetectChangesVars.changes.key(o.literal(input.directiveName)).set(o.importExpr(identifiers_1.Identifiers.SimpleChange).instantiate([fieldExpr,currValExpr])).toStmt())),isOnPushComp&&statements.push(constants_1.DetectChangesVars.changed.set(o.literal(!0)).toStmt()),view.genConfig.logBindingUpdate&&statements.push(logBindingUpdateStmt(compileElement.renderNode,input.directiveName,currValExpr)),bind(view,currValExpr,fieldExpr,input.value,view.componentContext,statements,detectChangesInInputsMethod)}),isOnPushComp&&detectChangesInInputsMethod.addStmt(new o.IfStmt(constants_1.DetectChangesVars.changed,[compileElement.appElement.prop("componentView").callMethod("markAsCheckOnce",[]).toStmt()]))}}function logBindingUpdateStmt(renderNode,propName,value){return o.THIS_EXPR.prop("renderer").callMethod("setBindingDebugInfo",[renderNode,o.literal("ng-reflect-"+util_1.camelCaseToDashCase(propName)),value.isBlank().conditional(o.NULL_EXPR,value.callMethod("toString",[]))]).toStmt()}var core_private_1=require("../../core_private"),lang_1=require("../facade/lang"),identifiers_1=require("../identifiers"),o=require("../output/output_ast"),constants_1=require("./constants"),template_ast_1=require("../template_ast"),util_1=require("../util"),expression_converter_1=require("./expression_converter"),compile_binding_1=require("./compile_binding"),core_1=require("@angular/core");exports.bindRenderText=bindRenderText,exports.bindRenderInputs=bindRenderInputs,exports.bindDirectiveHostProps=bindDirectiveHostProps,exports.bindDirectiveInputs=bindDirectiveInputs},{"../../core_private":85,"../facade/lang":108,"../identifiers":121,"../output/output_ast":129,"../template_ast":145,"../util":149,"./compile_binding":150,"./constants":156,"./expression_converter":158,"@angular/core":167}],161:[function(require,module,exports){"use strict";function getPropertyInView(property,callingView,definedView){if(callingView===definedView)return property;for(var viewProp=o.THIS_EXPR,currView=callingView;currView!==definedView&&lang_1.isPresent(currView.declarationElement.view);)currView=currView.declarationElement.view,viewProp=viewProp.prop("parent");if(currView!==definedView)throw new exceptions_1.BaseException("Internal error: Could not calculate a property in a parent view: "+property);if(property instanceof o.ReadPropExpr){var readPropExpr_1=property;(definedView.fields.some(function(field){return field.name==readPropExpr_1.name})||definedView.getters.some(function(field){return field.name==readPropExpr_1.name}))&&(viewProp=viewProp.cast(definedView.classType))}return o.replaceVarInExpression(o.THIS_EXPR.name,viewProp,property)}function injectFromViewParentInjector(token,optional){var args=[createDiTokenExpression(token)];return optional&&args.push(o.NULL_EXPR),o.THIS_EXPR.prop("parentInjector").callMethod("get",args)}function getViewFactoryName(component,embeddedTemplateIndex){return"viewFactory_"+component.type.name+embeddedTemplateIndex}function createDiTokenExpression(token){return lang_1.isPresent(token.value)?o.literal(token.value):token.identifierIsInstance?o.importExpr(token.identifier).instantiate([],o.importType(token.identifier,[],[o.TypeModifier.Const])):o.importExpr(token.identifier)}function createFlatArray(expressions){for(var lastNonArrayExpressions=[],result=o.literalArr([]),i=0;i<expressions.length;i++){var expr=expressions[i];expr.type instanceof o.ArrayType?(lastNonArrayExpressions.length>0&&(result=result.callMethod(o.BuiltinMethod.ConcatArray,[o.literalArr(lastNonArrayExpressions)]),lastNonArrayExpressions=[]),result=result.callMethod(o.BuiltinMethod.ConcatArray,[expr])):lastNonArrayExpressions.push(expr)}return lastNonArrayExpressions.length>0&&(result=result.callMethod(o.BuiltinMethod.ConcatArray,[o.literalArr(lastNonArrayExpressions)])),result}function createPureProxy(fn,argCount,pureProxyProp,view){view.fields.push(new o.ClassField(pureProxyProp.name,null));var pureProxyId=argCount<identifiers_1.Identifiers.pureProxies.length?identifiers_1.Identifiers.pureProxies[argCount]:null;if(lang_1.isBlank(pureProxyId))throw new exceptions_1.BaseException("Unsupported number of argument for pure functions: "+argCount);view.createMethod.addStmt(o.THIS_EXPR.prop(pureProxyProp.name).set(o.importExpr(pureProxyId).callFn([fn])).toStmt());
}var exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),o=require("../output/output_ast"),identifiers_1=require("../identifiers");exports.getPropertyInView=getPropertyInView,exports.injectFromViewParentInjector=injectFromViewParentInjector,exports.getViewFactoryName=getViewFactoryName,exports.createDiTokenExpression=createDiTokenExpression,exports.createFlatArray=createFlatArray,exports.createPureProxy=createPureProxy},{"../facade/exceptions":107,"../facade/lang":108,"../identifiers":121,"../output/output_ast":129}],162:[function(require,module,exports){"use strict";function bindView(view,parsedTemplate){var visitor=new ViewBinderVisitor(view);template_ast_1.templateVisitAll(visitor,parsedTemplate),view.pipes.forEach(function(pipe){lifecycle_binder_1.bindPipeDestroyLifecycleCallbacks(pipe.meta,pipe.instance,pipe.view)})}var collection_1=require("../facade/collection"),template_ast_1=require("../template_ast"),property_binder_1=require("./property_binder"),event_binder_1=require("./event_binder"),lifecycle_binder_1=require("./lifecycle_binder");exports.bindView=bindView;var ViewBinderVisitor=function(){function ViewBinderVisitor(view){this.view=view,this._nodeIndex=0}return ViewBinderVisitor.prototype.visitBoundText=function(ast,parent){var node=this.view.nodes[this._nodeIndex++];return property_binder_1.bindRenderText(ast,node,this.view),null},ViewBinderVisitor.prototype.visitText=function(ast,parent){return this._nodeIndex++,null},ViewBinderVisitor.prototype.visitNgContent=function(ast,parent){return null},ViewBinderVisitor.prototype.visitElement=function(ast,parent){var compileElement=this.view.nodes[this._nodeIndex++],eventListeners=event_binder_1.collectEventListeners(ast.outputs,ast.directives,compileElement);return property_binder_1.bindRenderInputs(ast.inputs,compileElement),event_binder_1.bindRenderOutputs(eventListeners),collection_1.ListWrapper.forEachWithIndex(ast.directives,function(directiveAst,index){var directiveInstance=compileElement.directiveInstances[index];property_binder_1.bindDirectiveInputs(directiveAst,directiveInstance,compileElement),lifecycle_binder_1.bindDirectiveDetectChangesLifecycleCallbacks(directiveAst,directiveInstance,compileElement),property_binder_1.bindDirectiveHostProps(directiveAst,directiveInstance,compileElement),event_binder_1.bindDirectiveOutputs(directiveAst,directiveInstance,eventListeners)}),template_ast_1.templateVisitAll(this,ast.children,compileElement),collection_1.ListWrapper.forEachWithIndex(ast.directives,function(directiveAst,index){var directiveInstance=compileElement.directiveInstances[index];lifecycle_binder_1.bindDirectiveAfterContentLifecycleCallbacks(directiveAst.directive,directiveInstance,compileElement),lifecycle_binder_1.bindDirectiveAfterViewLifecycleCallbacks(directiveAst.directive,directiveInstance,compileElement),lifecycle_binder_1.bindDirectiveDestroyLifecycleCallbacks(directiveAst.directive,directiveInstance,compileElement)}),null},ViewBinderVisitor.prototype.visitEmbeddedTemplate=function(ast,parent){var compileElement=this.view.nodes[this._nodeIndex++],eventListeners=event_binder_1.collectEventListeners(ast.outputs,ast.directives,compileElement);return collection_1.ListWrapper.forEachWithIndex(ast.directives,function(directiveAst,index){var directiveInstance=compileElement.directiveInstances[index];property_binder_1.bindDirectiveInputs(directiveAst,directiveInstance,compileElement),lifecycle_binder_1.bindDirectiveDetectChangesLifecycleCallbacks(directiveAst,directiveInstance,compileElement),event_binder_1.bindDirectiveOutputs(directiveAst,directiveInstance,eventListeners),lifecycle_binder_1.bindDirectiveAfterContentLifecycleCallbacks(directiveAst.directive,directiveInstance,compileElement),lifecycle_binder_1.bindDirectiveAfterViewLifecycleCallbacks(directiveAst.directive,directiveInstance,compileElement),lifecycle_binder_1.bindDirectiveDestroyLifecycleCallbacks(directiveAst.directive,directiveInstance,compileElement)}),bindView(compileElement.embeddedView,ast.children),null},ViewBinderVisitor.prototype.visitAttr=function(ast,ctx){return null},ViewBinderVisitor.prototype.visitDirective=function(ast,ctx){return null},ViewBinderVisitor.prototype.visitEvent=function(ast,eventTargetAndNames){return null},ViewBinderVisitor.prototype.visitReference=function(ast,ctx){return null},ViewBinderVisitor.prototype.visitVariable=function(ast,ctx){return null},ViewBinderVisitor.prototype.visitDirectiveProperty=function(ast,context){return null},ViewBinderVisitor.prototype.visitElementProperty=function(ast,context){return null},ViewBinderVisitor}()},{"../facade/collection":105,"../template_ast":145,"./event_binder":157,"./lifecycle_binder":159,"./property_binder":160}],163:[function(require,module,exports){"use strict";function buildView(view,template,targetDependencies){var builderVisitor=new ViewBuilderVisitor(view,targetDependencies);return template_ast_1.templateVisitAll(builderVisitor,template,view.declarationElement.isNull()?view.declarationElement:view.declarationElement.parent),builderVisitor.nestedViewCount}function finishView(view,targetStatements){view.afterNodes(),createViewTopLevelStmts(view,targetStatements),view.nodes.forEach(function(node){node instanceof compile_element_1.CompileElement&&node.hasEmbeddedView&&finishView(node.embeddedView,targetStatements)})}function _getOuterContainerOrSelf(node){for(var view=node.view;_isNgContainer(node.parent,view);)node=node.parent;return node}function _getOuterContainerParentOrSelf(el){for(var view=el.view;_isNgContainer(el,view);)el=el.parent;return el}function _isNgContainer(node,view){return!node.isNull()&&node.sourceAst.name===NG_CONTAINER_TAG&&node.view===view}function _mergeHtmlAndDirectiveAttrs(declaredHtmlAttrs,directives){var result={};return collection_1.StringMapWrapper.forEach(declaredHtmlAttrs,function(value,key){result[key]=value}),directives.forEach(function(directiveMeta){collection_1.StringMapWrapper.forEach(directiveMeta.hostAttributes,function(value,name){var prevValue=result[name];result[name]=lang_1.isPresent(prevValue)?mergeAttributeValue(name,prevValue,value):value})}),mapToKeyValueArray(result)}function _readHtmlAttrs(attrs){var htmlAttrs={};return attrs.forEach(function(ast){htmlAttrs[ast.name]=ast.value}),htmlAttrs}function mergeAttributeValue(attrName,attrValue1,attrValue2){return attrName==CLASS_ATTR||attrName==STYLE_ATTR?attrValue1+" "+attrValue2:attrValue2}function mapToKeyValueArray(data){var entryArray=[];return collection_1.StringMapWrapper.forEach(data,function(value,name){entryArray.push([name,value])}),collection_1.ListWrapper.sort(entryArray,function(entry1,entry2){return lang_1.StringWrapper.compare(entry1[0],entry2[0])}),entryArray}function createViewTopLevelStmts(view,targetStatements){var nodeDebugInfosVar=o.NULL_EXPR;view.genConfig.genDebugInfo&&(nodeDebugInfosVar=o.variable("nodeDebugInfos_"+view.component.type.name+view.viewIndex),targetStatements.push(nodeDebugInfosVar.set(o.literalArr(view.nodes.map(createStaticNodeDebugInfo),new o.ArrayType(new o.ExternalType(identifiers_1.Identifiers.StaticNodeDebugInfo),[o.TypeModifier.Const]))).toDeclStmt(null,[o.StmtModifier.Final])));var renderCompTypeVar=o.variable("renderType_"+view.component.type.name);0===view.viewIndex&&targetStatements.push(renderCompTypeVar.set(o.NULL_EXPR).toDeclStmt(o.importType(identifiers_1.Identifiers.RenderComponentType)));var viewClass=createViewClass(view,renderCompTypeVar,nodeDebugInfosVar);targetStatements.push(viewClass),targetStatements.push(createViewFactory(view,viewClass,renderCompTypeVar))}function createStaticNodeDebugInfo(node){var compileElement=node instanceof compile_element_1.CompileElement?node:null,providerTokens=[],componentToken=o.NULL_EXPR,varTokenEntries=[];return lang_1.isPresent(compileElement)&&(providerTokens=compileElement.getProviderTokens(),lang_1.isPresent(compileElement.component)&&(componentToken=util_1.createDiTokenExpression(identifiers_1.identifierToken(compileElement.component.type))),collection_1.StringMapWrapper.forEach(compileElement.referenceTokens,function(token,varName){varTokenEntries.push([varName,lang_1.isPresent(token)?util_1.createDiTokenExpression(token):o.NULL_EXPR])})),o.importExpr(identifiers_1.Identifiers.StaticNodeDebugInfo).instantiate([o.literalArr(providerTokens,new o.ArrayType(o.DYNAMIC_TYPE,[o.TypeModifier.Const])),componentToken,o.literalMap(varTokenEntries,new o.MapType(o.DYNAMIC_TYPE,[o.TypeModifier.Const]))],o.importType(identifiers_1.Identifiers.StaticNodeDebugInfo,null,[o.TypeModifier.Const]))}function createViewClass(view,renderCompTypeVar,nodeDebugInfosVar){var viewConstructorArgs=[new o.FnParam(constants_1.ViewConstructorVars.viewUtils.name,o.importType(identifiers_1.Identifiers.ViewUtils)),new o.FnParam(constants_1.ViewConstructorVars.parentInjector.name,o.importType(identifiers_1.Identifiers.Injector)),new o.FnParam(constants_1.ViewConstructorVars.declarationEl.name,o.importType(identifiers_1.Identifiers.AppElement))],superConstructorArgs=[o.variable(view.className),renderCompTypeVar,constants_1.ViewTypeEnum.fromValue(view.viewType),constants_1.ViewConstructorVars.viewUtils,constants_1.ViewConstructorVars.parentInjector,constants_1.ViewConstructorVars.declarationEl,constants_1.ChangeDetectorStatusEnum.fromValue(getChangeDetectionMode(view))];view.genConfig.genDebugInfo&&superConstructorArgs.push(nodeDebugInfosVar);var viewConstructor=new o.ClassMethod(null,viewConstructorArgs,[o.SUPER_EXPR.callFn(superConstructorArgs).toStmt()]),viewMethods=[new o.ClassMethod("createInternal",[new o.FnParam(rootSelectorVar.name,o.STRING_TYPE)],generateCreateMethod(view),o.importType(identifiers_1.Identifiers.AppElement)),new o.ClassMethod("injectorGetInternal",[new o.FnParam(constants_1.InjectMethodVars.token.name,o.DYNAMIC_TYPE),new o.FnParam(constants_1.InjectMethodVars.requestNodeIndex.name,o.NUMBER_TYPE),new o.FnParam(constants_1.InjectMethodVars.notFoundResult.name,o.DYNAMIC_TYPE)],addReturnValuefNotEmpty(view.injectorGetMethod.finish(),constants_1.InjectMethodVars.notFoundResult),o.DYNAMIC_TYPE),new o.ClassMethod("detectChangesInternal",[new o.FnParam(constants_1.DetectChangesVars.throwOnChange.name,o.BOOL_TYPE)],generateDetectChangesMethod(view)),new o.ClassMethod("dirtyParentQueriesInternal",[],view.dirtyParentQueriesMethod.finish()),new o.ClassMethod("destroyInternal",[],view.destroyMethod.finish()),new o.ClassMethod("detachInternal",[],view.detachMethod.finish())].concat(view.eventHandlerMethods),superClass=view.genConfig.genDebugInfo?identifiers_1.Identifiers.DebugAppView:identifiers_1.Identifiers.AppView,viewClass=new o.ClassStmt(view.className,o.importExpr(superClass,[getContextType(view)]),view.fields,view.getters,viewConstructor,viewMethods.filter(function(method){return method.body.length>0}));return viewClass}function createViewFactory(view,viewClass,renderCompTypeVar){var templateUrlInfo,viewFactoryArgs=[new o.FnParam(constants_1.ViewConstructorVars.viewUtils.name,o.importType(identifiers_1.Identifiers.ViewUtils)),new o.FnParam(constants_1.ViewConstructorVars.parentInjector.name,o.importType(identifiers_1.Identifiers.Injector)),new o.FnParam(constants_1.ViewConstructorVars.declarationEl.name,o.importType(identifiers_1.Identifiers.AppElement))],initRenderCompTypeStmts=[];return templateUrlInfo=view.component.template.templateUrl==view.component.type.moduleUrl?view.component.type.moduleUrl+" class "+view.component.type.name+" - inline template":view.component.template.templateUrl,0===view.viewIndex&&(initRenderCompTypeStmts=[new o.IfStmt(renderCompTypeVar.identical(o.NULL_EXPR),[renderCompTypeVar.set(constants_1.ViewConstructorVars.viewUtils.callMethod("createRenderComponentType",[o.literal(templateUrlInfo),o.literal(view.component.template.ngContentSelectors.length),constants_1.ViewEncapsulationEnum.fromValue(view.component.template.encapsulation),view.styles])).toStmt()])]),o.fn(viewFactoryArgs,initRenderCompTypeStmts.concat([new o.ReturnStatement(o.variable(viewClass.name).instantiate(viewClass.constructorMethod.params.map(function(param){return o.variable(param.name)})))]),o.importType(identifiers_1.Identifiers.AppView,[getContextType(view)])).toDeclStmt(view.viewFactory.name,[o.StmtModifier.Final])}function generateCreateMethod(view){var parentRenderNodeExpr=o.NULL_EXPR,parentRenderNodeStmts=[];view.viewType===core_private_1.ViewType.COMPONENT&&(parentRenderNodeExpr=constants_1.ViewProperties.renderer.callMethod("createViewRoot",[o.THIS_EXPR.prop("declarationAppElement").prop("nativeElement")]),parentRenderNodeStmts=[parentRenderNodeVar.set(parentRenderNodeExpr).toDeclStmt(o.importType(view.genConfig.renderTypes.renderNode),[o.StmtModifier.Final])]);var resultExpr;return resultExpr=view.viewType===core_private_1.ViewType.HOST?view.nodes[0].appElement:o.NULL_EXPR,parentRenderNodeStmts.concat(view.createMethod.finish(),[o.THIS_EXPR.callMethod("init",[util_1.createFlatArray(view.rootNodesOrAppElements),o.literalArr(view.nodes.map(function(node){return node.renderNode})),o.literalArr(view.disposables),o.literalArr(view.subscriptions)]).toStmt(),new o.ReturnStatement(resultExpr)])}function generateDetectChangesMethod(view){var stmts=[];if(view.detectChangesInInputsMethod.isEmpty()&&view.updateContentQueriesMethod.isEmpty()&&view.afterContentLifecycleCallbacksMethod.isEmpty()&&view.detectChangesRenderPropertiesMethod.isEmpty()&&view.updateViewQueriesMethod.isEmpty()&&view.afterViewLifecycleCallbacksMethod.isEmpty())return stmts;collection_1.ListWrapper.addAll(stmts,view.detectChangesInInputsMethod.finish()),stmts.push(o.THIS_EXPR.callMethod("detectContentChildrenChanges",[constants_1.DetectChangesVars.throwOnChange]).toStmt());var afterContentStmts=view.updateContentQueriesMethod.finish().concat(view.afterContentLifecycleCallbacksMethod.finish());afterContentStmts.length>0&&stmts.push(new o.IfStmt(o.not(constants_1.DetectChangesVars.throwOnChange),afterContentStmts)),collection_1.ListWrapper.addAll(stmts,view.detectChangesRenderPropertiesMethod.finish()),stmts.push(o.THIS_EXPR.callMethod("detectViewChildrenChanges",[constants_1.DetectChangesVars.throwOnChange]).toStmt());var afterViewStmts=view.updateViewQueriesMethod.finish().concat(view.afterViewLifecycleCallbacksMethod.finish());afterViewStmts.length>0&&stmts.push(new o.IfStmt(o.not(constants_1.DetectChangesVars.throwOnChange),afterViewStmts));var varStmts=[],readVars=o.findReadVarNames(stmts);return collection_1.SetWrapper.has(readVars,constants_1.DetectChangesVars.changed.name)&&varStmts.push(constants_1.DetectChangesVars.changed.set(o.literal(!0)).toDeclStmt(o.BOOL_TYPE)),collection_1.SetWrapper.has(readVars,constants_1.DetectChangesVars.changes.name)&&varStmts.push(constants_1.DetectChangesVars.changes.set(o.NULL_EXPR).toDeclStmt(new o.MapType(o.importType(identifiers_1.Identifiers.SimpleChange)))),collection_1.SetWrapper.has(readVars,constants_1.DetectChangesVars.valUnwrapper.name)&&varStmts.push(constants_1.DetectChangesVars.valUnwrapper.set(o.importExpr(identifiers_1.Identifiers.ValueUnwrapper).instantiate([])).toDeclStmt(null,[o.StmtModifier.Final])),varStmts.concat(stmts)}function addReturnValuefNotEmpty(statements,value){return statements.length>0?statements.concat([new o.ReturnStatement(value)]):statements}function getContextType(view){return view.viewType===core_private_1.ViewType.COMPONENT?o.importType(view.component.type):o.DYNAMIC_TYPE}function getChangeDetectionMode(view){var mode;return mode=view.viewType===core_private_1.ViewType.COMPONENT?core_private_1.isDefaultChangeDetectionStrategy(view.component.changeDetection)?core_private_1.ChangeDetectorStatus.CheckAlways:core_private_1.ChangeDetectorStatus.CheckOnce:core_private_1.ChangeDetectorStatus.CheckAlways}var core_1=require("@angular/core"),core_private_1=require("../../core_private"),animation_compiler_1=require("../animation/animation_compiler"),compile_metadata_1=require("../compile_metadata"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),identifiers_1=require("../identifiers"),o=require("../output/output_ast"),template_ast_1=require("../template_ast"),compile_element_1=require("./compile_element"),compile_view_1=require("./compile_view"),constants_1=require("./constants"),util_1=require("./util"),IMPLICIT_TEMPLATE_VAR="$implicit",CLASS_ATTR="class",STYLE_ATTR="style",NG_CONTAINER_TAG="ng-container",parentRenderNodeVar=o.variable("parentRenderNode"),rootSelectorVar=o.variable("rootSelector"),ViewFactoryDependency=function(){function ViewFactoryDependency(comp,placeholder){this.comp=comp,this.placeholder=placeholder}return ViewFactoryDependency}();exports.ViewFactoryDependency=ViewFactoryDependency;var ComponentFactoryDependency=function(){function ComponentFactoryDependency(comp,placeholder){this.comp=comp,this.placeholder=placeholder}return ComponentFactoryDependency}();exports.ComponentFactoryDependency=ComponentFactoryDependency,exports.buildView=buildView,exports.finishView=finishView;var ViewBuilderVisitor=function(){function ViewBuilderVisitor(view,targetDependencies){this.view=view,this.targetDependencies=targetDependencies,this.nestedViewCount=0,this._animationCompiler=new animation_compiler_1.AnimationCompiler}return ViewBuilderVisitor.prototype._isRootNode=function(parent){return parent.view!==this.view},ViewBuilderVisitor.prototype._addRootNodeAndProject=function(node){var projectedNode=_getOuterContainerOrSelf(node),parent=projectedNode.parent,ngContentIndex=projectedNode.sourceAst.ngContentIndex,vcAppEl=node instanceof compile_element_1.CompileElement&&node.hasViewContainer?node.appElement:null;this._isRootNode(parent)?this.view.viewType!==core_private_1.ViewType.COMPONENT&&this.view.rootNodesOrAppElements.push(lang_1.isPresent(vcAppEl)?vcAppEl:node.renderNode):lang_1.isPresent(parent.component)&&lang_1.isPresent(ngContentIndex)&&parent.addContentNode(ngContentIndex,lang_1.isPresent(vcAppEl)?vcAppEl:node.renderNode)},ViewBuilderVisitor.prototype._getParentRenderNode=function(parent){return parent=_getOuterContainerParentOrSelf(parent),this._isRootNode(parent)?this.view.viewType===core_private_1.ViewType.COMPONENT?parentRenderNodeVar:o.NULL_EXPR:lang_1.isPresent(parent.component)&&parent.component.template.encapsulation!==core_1.ViewEncapsulation.Native?o.NULL_EXPR:parent.renderNode},ViewBuilderVisitor.prototype.visitBoundText=function(ast,parent){return this._visitText(ast,"",parent)},ViewBuilderVisitor.prototype.visitText=function(ast,parent){return this._visitText(ast,ast.value,parent)},ViewBuilderVisitor.prototype._visitText=function(ast,value,parent){var fieldName="_text_"+this.view.nodes.length;this.view.fields.push(new o.ClassField(fieldName,o.importType(this.view.genConfig.renderTypes.renderText)));var renderNode=o.THIS_EXPR.prop(fieldName),compileNode=new compile_element_1.CompileNode(parent,this.view,this.view.nodes.length,renderNode,ast),createRenderNode=o.THIS_EXPR.prop(fieldName).set(constants_1.ViewProperties.renderer.callMethod("createText",[this._getParentRenderNode(parent),o.literal(value),this.view.createMethod.resetDebugInfoExpr(this.view.nodes.length,ast)])).toStmt();return this.view.nodes.push(compileNode),this.view.createMethod.addStmt(createRenderNode),this._addRootNodeAndProject(compileNode),renderNode},ViewBuilderVisitor.prototype.visitNgContent=function(ast,parent){this.view.createMethod.resetDebugInfo(null,ast);var parentRenderNode=this._getParentRenderNode(parent),nodesExpression=constants_1.ViewProperties.projectableNodes.key(o.literal(ast.index),new o.ArrayType(o.importType(this.view.genConfig.renderTypes.renderNode)));return parentRenderNode!==o.NULL_EXPR?this.view.createMethod.addStmt(constants_1.ViewProperties.renderer.callMethod("projectNodes",[parentRenderNode,o.importExpr(identifiers_1.Identifiers.flattenNestedViewRenderNodes).callFn([nodesExpression])]).toStmt()):this._isRootNode(parent)?this.view.viewType!==core_private_1.ViewType.COMPONENT&&this.view.rootNodesOrAppElements.push(nodesExpression):lang_1.isPresent(parent.component)&&lang_1.isPresent(ast.ngContentIndex)&&parent.addContentNode(ast.ngContentIndex,nodesExpression),null},ViewBuilderVisitor.prototype.visitElement=function(ast,parent){var createRenderNodeExpr,_this=this,nodeIndex=this.view.nodes.length,debugContextExpr=this.view.createMethod.resetDebugInfoExpr(nodeIndex,ast);createRenderNodeExpr=0===nodeIndex&&this.view.viewType===core_private_1.ViewType.HOST?o.THIS_EXPR.callMethod("selectOrCreateHostElement",[o.literal(ast.name),rootSelectorVar,debugContextExpr]):ast.name===NG_CONTAINER_TAG?constants_1.ViewProperties.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(parent),debugContextExpr]):constants_1.ViewProperties.renderer.callMethod("createElement",[this._getParentRenderNode(parent),o.literal(ast.name),debugContextExpr]);var fieldName="_el_"+nodeIndex;this.view.fields.push(new o.ClassField(fieldName,o.importType(this.view.genConfig.renderTypes.renderElement))),this.view.createMethod.addStmt(o.THIS_EXPR.prop(fieldName).set(createRenderNodeExpr).toStmt());for(var renderNode=o.THIS_EXPR.prop(fieldName),directives=ast.directives.map(function(directiveAst){return directiveAst.directive}),component=directives.find(function(directive){return directive.isComponent}),htmlAttrs=_readHtmlAttrs(ast.attrs),attrNameAndValues=_mergeHtmlAndDirectiveAttrs(htmlAttrs,directives),i=0;i<attrNameAndValues.length;i++){var attrName=attrNameAndValues[i][0],attrValue=attrNameAndValues[i][1];this.view.createMethod.addStmt(constants_1.ViewProperties.renderer.callMethod("setElementAttribute",[renderNode,o.literal(attrName),o.literal(attrValue)]).toStmt())}var compileElement=new compile_element_1.CompileElement(parent,this.view,nodeIndex,renderNode,ast,component,directives,ast.providers,ast.hasViewContainer,(!1),ast.references);this.view.nodes.push(compileElement);var compViewExpr=null;if(lang_1.isPresent(component)){var nestedComponentIdentifier=new compile_metadata_1.CompileIdentifierMetadata({name:util_1.getViewFactoryName(component,0)});this.targetDependencies.push(new ViewFactoryDependency(component.type,nestedComponentIdentifier));var precompileComponentIdentifiers=component.precompile.map(function(precompileComp){var id=new compile_metadata_1.CompileIdentifierMetadata({name:precompileComp.name});return _this.targetDependencies.push(new ComponentFactoryDependency(precompileComp,id)),id});compileElement.createComponentFactoryResolver(precompileComponentIdentifiers),compViewExpr=o.variable("compView_"+nodeIndex),compileElement.setComponentView(compViewExpr),this.view.createMethod.addStmt(compViewExpr.set(o.importExpr(nestedComponentIdentifier).callFn([constants_1.ViewProperties.viewUtils,compileElement.injector,compileElement.appElement])).toDeclStmt())}if(compileElement.beforeChildren(),this._addRootNodeAndProject(compileElement),template_ast_1.templateVisitAll(this,ast.children,compileElement),compileElement.afterChildren(this.view.nodes.length-nodeIndex-1),lang_1.isPresent(compViewExpr)){var codeGenContentNodes;codeGenContentNodes=this.view.component.type.isHost?constants_1.ViewProperties.projectableNodes:o.literalArr(compileElement.contentNodesByNgContentIndex.map(function(nodes){return util_1.createFlatArray(nodes)})),this.view.createMethod.addStmt(compViewExpr.callMethod("create",[compileElement.getComponent(),codeGenContentNodes,o.NULL_EXPR]).toStmt())}return null},ViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(ast,parent){var nodeIndex=this.view.nodes.length,fieldName="_anchor_"+nodeIndex;this.view.fields.push(new o.ClassField(fieldName,o.importType(this.view.genConfig.renderTypes.renderComment))),this.view.createMethod.addStmt(o.THIS_EXPR.prop(fieldName).set(constants_1.ViewProperties.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(parent),this.view.createMethod.resetDebugInfoExpr(nodeIndex,ast)])).toStmt());var renderNode=o.THIS_EXPR.prop(fieldName),templateVariableBindings=ast.variables.map(function(varAst){return[varAst.value.length>0?varAst.value:IMPLICIT_TEMPLATE_VAR,varAst.name]}),directives=ast.directives.map(function(directiveAst){return directiveAst.directive}),compileElement=new compile_element_1.CompileElement(parent,this.view,nodeIndex,renderNode,ast,null,directives,ast.providers,ast.hasViewContainer,(!0),ast.references);this.view.nodes.push(compileElement);var compiledAnimations=this._animationCompiler.compileComponent(this.view.component);this.nestedViewCount++;var embeddedView=new compile_view_1.CompileView(this.view.component,this.view.genConfig,this.view.pipeMetas,o.NULL_EXPR,compiledAnimations,this.view.viewIndex+this.nestedViewCount,compileElement,templateVariableBindings);return this.nestedViewCount+=buildView(embeddedView,ast.children,this.targetDependencies),compileElement.beforeChildren(),this._addRootNodeAndProject(compileElement),compileElement.afterChildren(0),null},ViewBuilderVisitor.prototype.visitAttr=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitDirective=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitEvent=function(ast,eventTargetAndNames){return null},ViewBuilderVisitor.prototype.visitReference=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitVariable=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitDirectiveProperty=function(ast,context){return null},ViewBuilderVisitor.prototype.visitElementProperty=function(ast,context){return null},ViewBuilderVisitor}()},{"../../core_private":85,"../animation/animation_compiler":89,"../compile_metadata":94,"../facade/collection":105,"../facade/lang":108,"../identifiers":121,"../output/output_ast":129,"../template_ast":145,"./compile_element":151,"./compile_view":155,"./constants":156,"./util":161,"@angular/core":167}],164:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),animation_compiler_1=require("../animation/animation_compiler"),config_1=require("../config"),compile_element_1=require("./compile_element"),compile_view_1=require("./compile_view"),view_binder_1=require("./view_binder"),view_builder_1=require("./view_builder"),view_builder_2=require("./view_builder");exports.ComponentFactoryDependency=view_builder_2.ComponentFactoryDependency,exports.ViewFactoryDependency=view_builder_2.ViewFactoryDependency;var ViewCompileResult=function(){function ViewCompileResult(statements,viewFactoryVar,dependencies){this.statements=statements,this.viewFactoryVar=viewFactoryVar,this.dependencies=dependencies}return ViewCompileResult}();exports.ViewCompileResult=ViewCompileResult;var ViewCompiler=function(){function ViewCompiler(_genConfig){this._genConfig=_genConfig,this._animationCompiler=new animation_compiler_1.AnimationCompiler}return ViewCompiler.prototype.compileComponent=function(component,template,styles,pipes){var dependencies=[],compiledAnimations=this._animationCompiler.compileComponent(component),statements=[];compiledAnimations.map(function(entry){statements.push(entry.statesMapStatement),statements.push(entry.fnStatement)});var view=new compile_view_1.CompileView(component,this._genConfig,pipes,styles,compiledAnimations,0,compile_element_1.CompileElement.createNull(),[]);return view_builder_1.buildView(view,template,dependencies),view_binder_1.bindView(view,template),view_builder_1.finishView(view,statements),new ViewCompileResult(statements,view.viewFactory.name,dependencies)},ViewCompiler.decorators=[{type:core_1.Injectable}],ViewCompiler.ctorParameters=[{type:config_1.CompilerConfig}],ViewCompiler}();exports.ViewCompiler=ViewCompiler},{"../animation/animation_compiler":89,"../config":96,"./compile_element":151,"./compile_view":155,"./view_binder":162,"./view_builder":163,"@angular/core":167}],165:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),core_private_1=require("../core_private"),lang_1=require("../src/facade/lang"),exceptions_1=require("../src/facade/exceptions"),ViewResolver=function(){function ViewResolver(_reflector){void 0===_reflector&&(_reflector=core_private_1.reflector),this._reflector=_reflector}return ViewResolver.prototype.resolve=function(component){var compMeta;if(this._reflector.annotations(component).forEach(function(m){m instanceof core_1.ComponentMetadata&&(compMeta=m)}),lang_1.isPresent(compMeta)){if(lang_1.isBlank(compMeta.template)&&lang_1.isBlank(compMeta.templateUrl))throw new exceptions_1.BaseException("Component '"+lang_1.stringify(component)+"' must have either 'template' or 'templateUrl' set.");return new core_1.ViewMetadata({templateUrl:compMeta.templateUrl,template:compMeta.template,directives:compMeta.directives,pipes:compMeta.pipes,encapsulation:compMeta.encapsulation,styles:compMeta.styles,styleUrls:compMeta.styleUrls,animations:compMeta.animations,interpolation:compMeta.interpolation})}throw new exceptions_1.BaseException("Could not compile '"+lang_1.stringify(component)+"' because it is not a component.")},ViewResolver.decorators=[{type:core_1.Injectable}],ViewResolver.ctorParameters=[{type:core_private_1.ReflectorReader}],ViewResolver}();exports.ViewResolver=ViewResolver},{"../core_private":85,"../src/facade/exceptions":107,"../src/facade/lang":108,"@angular/core":167}],166:[function(require,module,exports){"use strict";var XHR=function(){function XHR(){}return XHR.prototype.get=function(url){return null},XHR}();exports.XHR=XHR},{}],167:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./src/metadata")),__export(require("./src/util")),__export(require("./src/di"));var application_ref_1=require("./src/application_ref");exports.createPlatform=application_ref_1.createPlatform,exports.assertPlatform=application_ref_1.assertPlatform,exports.disposePlatform=application_ref_1.disposePlatform,exports.getPlatform=application_ref_1.getPlatform,exports.coreBootstrap=application_ref_1.coreBootstrap,exports.coreLoadAndBootstrap=application_ref_1.coreLoadAndBootstrap,exports.createNgZone=application_ref_1.createNgZone,exports.PlatformRef=application_ref_1.PlatformRef,exports.ApplicationRef=application_ref_1.ApplicationRef,exports.enableProdMode=application_ref_1.enableProdMode,exports.lockRunMode=application_ref_1.lockRunMode,exports.isDevMode=application_ref_1.isDevMode;var application_tokens_1=require("./src/application_tokens");exports.APP_ID=application_tokens_1.APP_ID,exports.APP_INITIALIZER=application_tokens_1.APP_INITIALIZER,exports.PACKAGE_ROOT_URL=application_tokens_1.PACKAGE_ROOT_URL,exports.PLATFORM_INITIALIZER=application_tokens_1.PLATFORM_INITIALIZER,__export(require("./src/zone")),__export(require("./src/render")),__export(require("./src/linker"));var debug_node_1=require("./src/debug/debug_node");exports.DebugElement=debug_node_1.DebugElement,exports.DebugNode=debug_node_1.DebugNode,exports.asNativeElements=debug_node_1.asNativeElements,exports.getDebugNode=debug_node_1.getDebugNode,__export(require("./src/testability/testability")),__export(require("./src/change_detection")),__export(require("./src/platform_directives_and_pipes")),__export(require("./src/platform_common_providers")),__export(require("./src/application_common_providers"));var profile_1=require("./src/profile/profile");exports.wtfCreateScope=profile_1.wtfCreateScope,exports.wtfLeave=profile_1.wtfLeave,exports.wtfStartTimeRange=profile_1.wtfStartTimeRange,exports.wtfEndTimeRange=profile_1.wtfEndTimeRange;var lang_1=require("./src/facade/lang");exports.Type=lang_1.Type;var async_1=require("./src/facade/async");exports.EventEmitter=async_1.EventEmitter;var exceptions_1=require("./src/facade/exceptions");exports.ExceptionHandler=exceptions_1.ExceptionHandler,exports.WrappedException=exceptions_1.WrappedException,exports.BaseException=exceptions_1.BaseException,__export(require("./private_export")),__export(require("./src/animation/metadata"));var animation_player_1=require("./src/animation/animation_player");exports.AnimationPlayer=animation_player_1.AnimationPlayer;
},{"./private_export":168,"./src/animation/animation_player":174,"./src/animation/metadata":178,"./src/application_common_providers":179,"./src/application_ref":180,"./src/application_tokens":181,"./src/change_detection":182,"./src/debug/debug_node":192,"./src/di":194,"./src/facade/async":206,"./src/facade/exceptions":210,"./src/facade/lang":211,"./src/linker":214,"./src/metadata":233,"./src/platform_common_providers":238,"./src/platform_directives_and_pipes":239,"./src/profile/profile":240,"./src/render":247,"./src/testability/testability":250,"./src/util":251,"./src/zone":253}],168:[function(require,module,exports){"use strict";var animation_constants_1=require("./src/animation/animation_constants"),animation_driver_1=require("./src/animation/animation_driver"),animation_group_player_1=require("./src/animation/animation_group_player"),animation_keyframe_1=require("./src/animation/animation_keyframe"),animation_player_1=require("./src/animation/animation_player"),animation_sequence_player_1=require("./src/animation/animation_sequence_player"),animationUtils=require("./src/animation/animation_style_util"),animation_styles_1=require("./src/animation/animation_styles"),change_detection_util=require("./src/change_detection/change_detection_util"),constants=require("./src/change_detection/constants"),console=require("./src/console"),debug=require("./src/debug/debug_renderer"),provider_util=require("./src/di/provider_util"),reflective_provider=require("./src/di/reflective_provider"),component_factory_resolver=require("./src/linker/component_factory_resolver"),component_resolver=require("./src/linker/component_resolver"),debug_context=require("./src/linker/debug_context"),element=require("./src/linker/element"),template_ref=require("./src/linker/template_ref"),view=require("./src/linker/view"),view_type=require("./src/linker/view_type"),view_utils=require("./src/linker/view_utils"),lifecycle_hooks=require("./src/metadata/lifecycle_hooks"),metadata_view=require("./src/metadata/view"),wtf_init=require("./src/profile/wtf_init"),reflection=require("./src/reflection/reflection"),reflection_capabilities=require("./src/reflection/reflection_capabilities"),reflector_reader=require("./src/reflection/reflector_reader"),api=require("./src/render/api"),security=require("./src/security"),decorators=require("./src/util/decorators");exports.__core_private__={isDefaultChangeDetectionStrategy:constants.isDefaultChangeDetectionStrategy,ChangeDetectorStatus:constants.ChangeDetectorStatus,CHANGE_DETECTION_STRATEGY_VALUES:constants.CHANGE_DETECTION_STRATEGY_VALUES,constructDependencies:reflective_provider.constructDependencies,LifecycleHooks:lifecycle_hooks.LifecycleHooks,LIFECYCLE_HOOKS_VALUES:lifecycle_hooks.LIFECYCLE_HOOKS_VALUES,ReflectorReader:reflector_reader.ReflectorReader,ReflectorComponentResolver:component_resolver.ReflectorComponentResolver,CodegenComponentFactoryResolver:component_factory_resolver.CodegenComponentFactoryResolver,AppElement:element.AppElement,AppView:view.AppView,DebugAppView:view.DebugAppView,ViewType:view_type.ViewType,MAX_INTERPOLATION_VALUES:view_utils.MAX_INTERPOLATION_VALUES,checkBinding:view_utils.checkBinding,flattenNestedViewRenderNodes:view_utils.flattenNestedViewRenderNodes,interpolate:view_utils.interpolate,ViewUtils:view_utils.ViewUtils,VIEW_ENCAPSULATION_VALUES:metadata_view.VIEW_ENCAPSULATION_VALUES,DebugContext:debug_context.DebugContext,StaticNodeDebugInfo:debug_context.StaticNodeDebugInfo,devModeEqual:change_detection_util.devModeEqual,uninitialized:change_detection_util.uninitialized,ValueUnwrapper:change_detection_util.ValueUnwrapper,RenderDebugInfo:api.RenderDebugInfo,SecurityContext:security.SecurityContext,SanitizationService:security.SanitizationService,TemplateRef_:template_ref.TemplateRef_,wtfInit:wtf_init.wtfInit,ReflectionCapabilities:reflection_capabilities.ReflectionCapabilities,makeDecorator:decorators.makeDecorator,DebugDomRootRenderer:debug.DebugDomRootRenderer,createProvider:provider_util.createProvider,isProviderLiteral:provider_util.isProviderLiteral,EMPTY_ARRAY:view_utils.EMPTY_ARRAY,EMPTY_MAP:view_utils.EMPTY_MAP,pureProxy1:view_utils.pureProxy1,pureProxy2:view_utils.pureProxy2,pureProxy3:view_utils.pureProxy3,pureProxy4:view_utils.pureProxy4,pureProxy5:view_utils.pureProxy5,pureProxy6:view_utils.pureProxy6,pureProxy7:view_utils.pureProxy7,pureProxy8:view_utils.pureProxy8,pureProxy9:view_utils.pureProxy9,pureProxy10:view_utils.pureProxy10,castByValue:view_utils.castByValue,Console:console.Console,reflector:reflection.reflector,Reflector:reflection.Reflector,NoOpAnimationPlayer:animation_player_1.NoOpAnimationPlayer,AnimationPlayer:animation_player_1.AnimationPlayer,NoOpAnimationDriver:animation_driver_1.NoOpAnimationDriver,AnimationDriver:animation_driver_1.AnimationDriver,AnimationSequencePlayer:animation_sequence_player_1.AnimationSequencePlayer,AnimationGroupPlayer:animation_group_player_1.AnimationGroupPlayer,AnimationKeyframe:animation_keyframe_1.AnimationKeyframe,prepareFinalAnimationStyles:animationUtils.prepareFinalAnimationStyles,balanceAnimationKeyframes:animationUtils.balanceAnimationKeyframes,flattenStyles:animationUtils.flattenStyles,clearStyles:animationUtils.clearStyles,renderStyles:animationUtils.renderStyles,collectAndResolveStyles:animationUtils.collectAndResolveStyles,AnimationStyles:animation_styles_1.AnimationStyles,ANY_STATE:animation_constants_1.ANY_STATE,DEFAULT_STATE:animation_constants_1.DEFAULT_STATE,EMPTY_STATE:animation_constants_1.EMPTY_STATE,FILL_STYLE_FLAG:animation_constants_1.FILL_STYLE_FLAG}},{"./src/animation/animation_constants":170,"./src/animation/animation_driver":171,"./src/animation/animation_group_player":172,"./src/animation/animation_keyframe":173,"./src/animation/animation_player":174,"./src/animation/animation_sequence_player":175,"./src/animation/animation_style_util":176,"./src/animation/animation_styles":177,"./src/change_detection/change_detection_util":184,"./src/change_detection/constants":186,"./src/console":191,"./src/debug/debug_renderer":193,"./src/di/provider_util":201,"./src/di/reflective_provider":205,"./src/linker/component_factory_resolver":217,"./src/linker/component_resolver":218,"./src/linker/debug_context":219,"./src/linker/element":221,"./src/linker/template_ref":227,"./src/linker/view":228,"./src/linker/view_type":231,"./src/linker/view_utils":232,"./src/metadata/lifecycle_hooks":236,"./src/metadata/view":237,"./src/profile/wtf_init":242,"./src/reflection/reflection":243,"./src/reflection/reflection_capabilities":244,"./src/reflection/reflector_reader":246,"./src/render/api":248,"./src/security":249,"./src/util/decorators":252}],169:[function(require,module,exports){"use strict";var collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),ActiveAnimationPlayersMap=function(){function ActiveAnimationPlayersMap(){this._map=new collection_1.Map,this._allPlayers=[]}return Object.defineProperty(ActiveAnimationPlayersMap.prototype,"length",{get:function(){return this.getAllPlayers().length},enumerable:!0,configurable:!0}),ActiveAnimationPlayersMap.prototype.find=function(element,animationName){var playersByAnimation=this._map.get(element);if(lang_1.isPresent(playersByAnimation))return playersByAnimation[animationName]},ActiveAnimationPlayersMap.prototype.findAllPlayersByElement=function(element){var players=[];return collection_1.StringMapWrapper.forEach(this._map.get(element),function(player){return players.push(player)}),players},ActiveAnimationPlayersMap.prototype.set=function(element,animationName,player){var playersByAnimation=this._map.get(element);lang_1.isPresent(playersByAnimation)||(playersByAnimation={});var existingEntry=playersByAnimation[animationName];lang_1.isPresent(existingEntry)&&this.remove(element,animationName),playersByAnimation[animationName]=player,this._allPlayers.push(player),this._map.set(element,playersByAnimation)},ActiveAnimationPlayersMap.prototype.getAllPlayers=function(){return this._allPlayers},ActiveAnimationPlayersMap.prototype.remove=function(element,animationName){var playersByAnimation=this._map.get(element);if(lang_1.isPresent(playersByAnimation)){var player=playersByAnimation[animationName];delete playersByAnimation[animationName];var index=this._allPlayers.indexOf(player);collection_1.ListWrapper.removeAt(this._allPlayers,index),collection_1.StringMapWrapper.isEmpty(playersByAnimation)&&this._map["delete"](element)}},ActiveAnimationPlayersMap}();exports.ActiveAnimationPlayersMap=ActiveAnimationPlayersMap},{"../facade/collection":208,"../facade/lang":211}],170:[function(require,module,exports){"use strict";exports.FILL_STYLE_FLAG="true",exports.ANY_STATE="*",exports.DEFAULT_STATE="*",exports.EMPTY_STATE="void"},{}],171:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},animation_player_1=require("./animation_player"),AnimationDriver=function(){function AnimationDriver(){}return AnimationDriver}();exports.AnimationDriver=AnimationDriver;var NoOpAnimationDriver=function(_super){function NoOpAnimationDriver(){_super.apply(this,arguments)}return __extends(NoOpAnimationDriver,_super),NoOpAnimationDriver.prototype.animate=function(element,startingStyles,keyframes,duration,delay,easing){return new animation_player_1.NoOpAnimationPlayer},NoOpAnimationDriver}(AnimationDriver);exports.NoOpAnimationDriver=NoOpAnimationDriver},{"./animation_player":174}],172:[function(require,module,exports){"use strict";var lang_1=require("../facade/lang"),math_1=require("../facade/math"),AnimationGroupPlayer=function(){function AnimationGroupPlayer(_players){var _this=this;this._players=_players,this._subscriptions=[],this._finished=!1,this.parentPlayer=null;var count=0,total=this._players.length;0==total?lang_1.scheduleMicroTask(function(){return _this._onFinish()}):this._players.forEach(function(player){player.parentPlayer=_this,player.onDone(function(){++count>=total&&_this._onFinish()})})}return AnimationGroupPlayer.prototype._onFinish=function(){this._finished||(this._finished=!0,lang_1.isPresent(this.parentPlayer)||this.destroy(),this._subscriptions.forEach(function(subscription){return subscription()}),this._subscriptions=[])},AnimationGroupPlayer.prototype.onDone=function(fn){this._subscriptions.push(fn)},AnimationGroupPlayer.prototype.play=function(){this._players.forEach(function(player){return player.play()})},AnimationGroupPlayer.prototype.pause=function(){this._players.forEach(function(player){return player.pause()})},AnimationGroupPlayer.prototype.restart=function(){this._players.forEach(function(player){return player.restart()})},AnimationGroupPlayer.prototype.finish=function(){this._onFinish(),this._players.forEach(function(player){return player.finish()})},AnimationGroupPlayer.prototype.destroy=function(){this._onFinish(),this._players.forEach(function(player){return player.destroy()})},AnimationGroupPlayer.prototype.reset=function(){this._players.forEach(function(player){return player.reset()})},AnimationGroupPlayer.prototype.setPosition=function(p){this._players.forEach(function(player){player.setPosition(p)})},AnimationGroupPlayer.prototype.getPosition=function(){var min=0;return this._players.forEach(function(player){var p=player.getPosition();min=math_1.Math.min(p,min)}),min},AnimationGroupPlayer}();exports.AnimationGroupPlayer=AnimationGroupPlayer},{"../facade/lang":211,"../facade/math":212}],173:[function(require,module,exports){"use strict";var AnimationKeyframe=function(){function AnimationKeyframe(offset,styles){this.offset=offset,this.styles=styles}return AnimationKeyframe}();exports.AnimationKeyframe=AnimationKeyframe},{}],174:[function(require,module,exports){"use strict";var exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),AnimationPlayer=function(){function AnimationPlayer(){}return Object.defineProperty(AnimationPlayer.prototype,"parentPlayer",{get:function(){throw new exceptions_1.BaseException("NOT IMPLEMENTED: Base Class")},set:function(player){throw new exceptions_1.BaseException("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),AnimationPlayer}();exports.AnimationPlayer=AnimationPlayer;var NoOpAnimationPlayer=function(){function NoOpAnimationPlayer(){var _this=this;this._subscriptions=[],this.parentPlayer=null,lang_1.scheduleMicroTask(function(){return _this._onFinish()})}return NoOpAnimationPlayer.prototype._onFinish=function(){this._subscriptions.forEach(function(entry){entry()}),this._subscriptions=[]},NoOpAnimationPlayer.prototype.onDone=function(fn){this._subscriptions.push(fn)},NoOpAnimationPlayer.prototype.play=function(){},NoOpAnimationPlayer.prototype.pause=function(){},NoOpAnimationPlayer.prototype.restart=function(){},NoOpAnimationPlayer.prototype.finish=function(){this._onFinish()},NoOpAnimationPlayer.prototype.destroy=function(){},NoOpAnimationPlayer.prototype.reset=function(){},NoOpAnimationPlayer.prototype.setPosition=function(p){},NoOpAnimationPlayer.prototype.getPosition=function(){return 0},NoOpAnimationPlayer}();exports.NoOpAnimationPlayer=NoOpAnimationPlayer},{"../facade/exceptions":210,"../facade/lang":211}],175:[function(require,module,exports){"use strict";var lang_1=require("../facade/lang"),animation_player_1=require("./animation_player"),AnimationSequencePlayer=function(){function AnimationSequencePlayer(_players){var _this=this;this._players=_players,this._currentIndex=0,this._subscriptions=[],this._finished=!1,this.parentPlayer=null,this._players.forEach(function(player){player.parentPlayer=_this}),this._onNext(!1)}return AnimationSequencePlayer.prototype._onNext=function(start){var _this=this;if(!this._finished)if(0==this._players.length)this._activePlayer=new animation_player_1.NoOpAnimationPlayer,lang_1.scheduleMicroTask(function(){return _this._onFinish()});else if(this._currentIndex>=this._players.length)this._activePlayer=new animation_player_1.NoOpAnimationPlayer,this._onFinish();else{var player=this._players[this._currentIndex++];player.onDone(function(){return _this._onNext(!0)}),this._activePlayer=player,start&&player.play()}},AnimationSequencePlayer.prototype._onFinish=function(){this._finished||(this._finished=!0,lang_1.isPresent(this.parentPlayer)||this.destroy(),this._subscriptions.forEach(function(subscription){return subscription()}),this._subscriptions=[])},AnimationSequencePlayer.prototype.onDone=function(fn){this._subscriptions.push(fn)},AnimationSequencePlayer.prototype.play=function(){this._activePlayer.play()},AnimationSequencePlayer.prototype.pause=function(){this._activePlayer.pause()},AnimationSequencePlayer.prototype.restart=function(){this._players.length>0&&(this.reset(),this._players[0].restart())},AnimationSequencePlayer.prototype.reset=function(){this._players.forEach(function(player){return player.reset()})},AnimationSequencePlayer.prototype.finish=function(){this._onFinish(),this._players.forEach(function(player){return player.finish()})},AnimationSequencePlayer.prototype.destroy=function(){this._onFinish(),this._players.forEach(function(player){return player.destroy()})},AnimationSequencePlayer.prototype.setPosition=function(p){this._players[0].setPosition(p)},AnimationSequencePlayer.prototype.getPosition=function(){return this._players[0].getPosition()},AnimationSequencePlayer}();exports.AnimationSequencePlayer=AnimationSequencePlayer},{"../facade/lang":211,"./animation_player":174}],176:[function(require,module,exports){"use strict";function prepareFinalAnimationStyles(previousStyles,newStyles,nullValue){void 0===nullValue&&(nullValue=null);var finalStyles={};return collection_1.StringMapWrapper.forEach(newStyles,function(value,prop){finalStyles[prop]=value==metadata_1.AUTO_STYLE?nullValue:value.toString()}),collection_1.StringMapWrapper.forEach(previousStyles,function(value,prop){lang_1.isPresent(finalStyles[prop])||(finalStyles[prop]=nullValue)}),finalStyles}function balanceAnimationKeyframes(collectedStyles,finalStateStyles,keyframes){var limit=keyframes.length-1,firstKeyframe=keyframes[0],flatenedFirstKeyframeStyles=flattenStyles(firstKeyframe.styles.styles),extraFirstKeyframeStyles={},hasExtraFirstStyles=!1;collection_1.StringMapWrapper.forEach(collectedStyles,function(value,prop){flatenedFirstKeyframeStyles[prop]||(flatenedFirstKeyframeStyles[prop]=value,extraFirstKeyframeStyles[prop]=value,hasExtraFirstStyles=!0)});var keyframeCollectedStyles=collection_1.StringMapWrapper.merge({},flatenedFirstKeyframeStyles),finalKeyframe=keyframes[limit];collection_1.ListWrapper.insert(finalKeyframe.styles.styles,0,finalStateStyles);var flatenedFinalKeyframeStyles=flattenStyles(finalKeyframe.styles.styles),extraFinalKeyframeStyles={},hasExtraFinalStyles=!1;return collection_1.StringMapWrapper.forEach(keyframeCollectedStyles,function(value,prop){lang_1.isPresent(flatenedFinalKeyframeStyles[prop])||(extraFinalKeyframeStyles[prop]=metadata_1.AUTO_STYLE,hasExtraFinalStyles=!0)}),hasExtraFinalStyles&&finalKeyframe.styles.styles.push(extraFinalKeyframeStyles),collection_1.StringMapWrapper.forEach(flatenedFinalKeyframeStyles,function(value,prop){lang_1.isPresent(flatenedFirstKeyframeStyles[prop])||(extraFirstKeyframeStyles[prop]=metadata_1.AUTO_STYLE,hasExtraFirstStyles=!0)}),hasExtraFirstStyles&&firstKeyframe.styles.styles.push(extraFirstKeyframeStyles),keyframes}function clearStyles(styles){var finalStyles={};return collection_1.StringMapWrapper.keys(styles).forEach(function(key){finalStyles[key]=null}),finalStyles}function collectAndResolveStyles(collection,styles){return styles.map(function(entry){var stylesObj={};return collection_1.StringMapWrapper.forEach(entry,function(value,prop){value==animation_constants_1.FILL_STYLE_FLAG&&(value=collection[prop],lang_1.isPresent(value)||(value=metadata_1.AUTO_STYLE)),collection[prop]=value,stylesObj[prop]=value}),stylesObj})}function renderStyles(element,renderer,styles){collection_1.StringMapWrapper.forEach(styles,function(value,prop){renderer.setElementStyle(element,prop,value)})}function flattenStyles(styles){var finalStyles={};return styles.forEach(function(entry){collection_1.StringMapWrapper.forEach(entry,function(value,prop){finalStyles[prop]=value})}),finalStyles}var collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),animation_constants_1=require("./animation_constants"),metadata_1=require("./metadata");exports.prepareFinalAnimationStyles=prepareFinalAnimationStyles,exports.balanceAnimationKeyframes=balanceAnimationKeyframes,exports.clearStyles=clearStyles,exports.collectAndResolveStyles=collectAndResolveStyles,exports.renderStyles=renderStyles,exports.flattenStyles=flattenStyles},{"../facade/collection":208,"../facade/lang":211,"./animation_constants":170,"./metadata":178}],177:[function(require,module,exports){"use strict";var AnimationStyles=function(){function AnimationStyles(styles){this.styles=styles}return AnimationStyles}();exports.AnimationStyles=AnimationStyles},{}],178:[function(require,module,exports){"use strict";function animate(timing,styles){void 0===styles&&(styles=null);var stylesEntry=styles;if(!lang_1.isPresent(stylesEntry)){var EMPTY_STYLE={};stylesEntry=new AnimationStyleMetadata([EMPTY_STYLE],1)}return new AnimationAnimateMetadata(timing,stylesEntry)}function group(steps){return new AnimationGroupMetadata(steps)}function sequence(steps){return new AnimationSequenceMetadata(steps)}function style(tokens){var input,offset=null;return lang_1.isString(tokens)?input=[tokens]:(input=lang_1.isArray(tokens)?tokens:[tokens],input.forEach(function(entry){var entryOffset=entry.offset;lang_1.isPresent(entryOffset)&&(offset=null==offset?lang_1.NumberWrapper.parseFloat(entryOffset):offset)})),new AnimationStyleMetadata(input,offset)}function state(stateNameExpr,styles){return new AnimationStateDeclarationMetadata(stateNameExpr,styles)}function keyframes(steps){return new AnimationKeyframesSequenceMetadata(steps)}function transition(stateChangeExpr,steps){var animationData=lang_1.isArray(steps)?new AnimationSequenceMetadata(steps):steps;return new AnimationStateTransitionMetadata(stateChangeExpr,animationData)}function trigger(name,animation){return new AnimationEntryMetadata(name,animation)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang");exports.AUTO_STYLE="*";var AnimationEntryMetadata=function(){function AnimationEntryMetadata(name,definitions){this.name=name,this.definitions=definitions}return AnimationEntryMetadata}();exports.AnimationEntryMetadata=AnimationEntryMetadata;var AnimationStateMetadata=function(){function AnimationStateMetadata(){}return AnimationStateMetadata}();exports.AnimationStateMetadata=AnimationStateMetadata;var AnimationStateDeclarationMetadata=function(_super){function AnimationStateDeclarationMetadata(stateNameExpr,styles){_super.call(this),this.stateNameExpr=stateNameExpr,this.styles=styles}return __extends(AnimationStateDeclarationMetadata,_super),AnimationStateDeclarationMetadata}(AnimationStateMetadata);exports.AnimationStateDeclarationMetadata=AnimationStateDeclarationMetadata;var AnimationStateTransitionMetadata=function(_super){function AnimationStateTransitionMetadata(stateChangeExpr,steps){_super.call(this),this.stateChangeExpr=stateChangeExpr,this.steps=steps}return __extends(AnimationStateTransitionMetadata,_super),AnimationStateTransitionMetadata}(AnimationStateMetadata);exports.AnimationStateTransitionMetadata=AnimationStateTransitionMetadata;var AnimationMetadata=function(){function AnimationMetadata(){}return AnimationMetadata}();exports.AnimationMetadata=AnimationMetadata;var AnimationKeyframesSequenceMetadata=function(_super){function AnimationKeyframesSequenceMetadata(steps){_super.call(this),this.steps=steps}return __extends(AnimationKeyframesSequenceMetadata,_super),AnimationKeyframesSequenceMetadata}(AnimationMetadata);exports.AnimationKeyframesSequenceMetadata=AnimationKeyframesSequenceMetadata;var AnimationStyleMetadata=function(_super){function AnimationStyleMetadata(styles,offset){void 0===offset&&(offset=null),_super.call(this),this.styles=styles,this.offset=offset}return __extends(AnimationStyleMetadata,_super),AnimationStyleMetadata}(AnimationMetadata);exports.AnimationStyleMetadata=AnimationStyleMetadata;var AnimationAnimateMetadata=function(_super){function AnimationAnimateMetadata(timings,styles){_super.call(this),this.timings=timings,this.styles=styles}return __extends(AnimationAnimateMetadata,_super),AnimationAnimateMetadata}(AnimationMetadata);exports.AnimationAnimateMetadata=AnimationAnimateMetadata;var AnimationWithStepsMetadata=function(_super){function AnimationWithStepsMetadata(){_super.call(this)}return __extends(AnimationWithStepsMetadata,_super),Object.defineProperty(AnimationWithStepsMetadata.prototype,"steps",{get:function(){throw new exceptions_1.BaseException("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),AnimationWithStepsMetadata}(AnimationMetadata);exports.AnimationWithStepsMetadata=AnimationWithStepsMetadata;var AnimationSequenceMetadata=function(_super){function AnimationSequenceMetadata(_steps){_super.call(this),this._steps=_steps}return __extends(AnimationSequenceMetadata,_super),Object.defineProperty(AnimationSequenceMetadata.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),AnimationSequenceMetadata}(AnimationWithStepsMetadata);exports.AnimationSequenceMetadata=AnimationSequenceMetadata;var AnimationGroupMetadata=function(_super){function AnimationGroupMetadata(_steps){_super.call(this),this._steps=_steps}return __extends(AnimationGroupMetadata,_super),Object.defineProperty(AnimationGroupMetadata.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),AnimationGroupMetadata}(AnimationWithStepsMetadata);exports.AnimationGroupMetadata=AnimationGroupMetadata,exports.animate=animate,exports.group=group,exports.sequence=sequence,exports.style=style,exports.state=state,exports.keyframes=keyframes,exports.transition=transition,exports.trigger=trigger},{"../facade/exceptions":210,"../facade/lang":211}],179:[function(require,module,exports){"use strict";var application_ref_1=require("./application_ref"),application_tokens_1=require("./application_tokens"),change_detection_1=require("./change_detection/change_detection"),component_factory_resolver_1=require("./linker/component_factory_resolver"),component_resolver_1=require("./linker/component_resolver"),dynamic_component_loader_1=require("./linker/dynamic_component_loader"),view_utils_1=require("./linker/view_utils");exports.APPLICATION_COMMON_PROVIDERS=[application_ref_1.APPLICATION_CORE_PROVIDERS,{provide:component_resolver_1.ComponentResolver,useClass:component_resolver_1.ReflectorComponentResolver},{provide:component_factory_resolver_1.ComponentFactoryResolver,useValue:component_factory_resolver_1.ComponentFactoryResolver.NULL},application_tokens_1.APP_ID_RANDOM_PROVIDER,view_utils_1.ViewUtils,{provide:change_detection_1.IterableDiffers,useValue:change_detection_1.defaultIterableDiffers},{provide:change_detection_1.KeyValueDiffers,useValue:change_detection_1.defaultKeyValueDiffers},{provide:dynamic_component_loader_1.DynamicComponentLoader,useClass:dynamic_component_loader_1.DynamicComponentLoader_}]},{"./application_ref":180,"./application_tokens":181,"./change_detection/change_detection":183,"./linker/component_factory_resolver":217,"./linker/component_resolver":218,"./linker/dynamic_component_loader":220,"./linker/view_utils":232}],180:[function(require,module,exports){"use strict";function createNgZone(){return new ng_zone_1.NgZone({enableLongStackTrace:isDevMode()})}function enableProdMode(){if(_runModeLocked)throw new exceptions_1.BaseException("Cannot enable prod mode after platform setup.");_devMode=!1}function isDevMode(){if(!_runModeLocked)throw new exceptions_1.BaseException("Dev mode can't be read before bootstrap!");return _devMode}function lockRunMode(){_runModeLocked=!0}function createPlatform(injector){if(_inPlatformCreate)throw new exceptions_1.BaseException("Already creating a platform...");if(lang_1.isPresent(_platform)&&!_platform.disposed)throw new exceptions_1.BaseException("There can be only one platform. Destroy the previous one to create a new one.");lockRunMode(),_inPlatformCreate=!0;try{_platform=injector.get(PlatformRef)}finally{_inPlatformCreate=!1}return _platform}function assertPlatform(requiredToken){var platform=getPlatform();if(lang_1.isBlank(platform))throw new exceptions_1.BaseException("No platform exists!");if(lang_1.isPresent(platform)&&lang_1.isBlank(platform.injector.get(requiredToken,null)))throw new exceptions_1.BaseException("A platform with a different configuration has been created. Please destroy it first.");return platform}function disposePlatform(){lang_1.isPresent(_platform)&&!_platform.disposed&&_platform.dispose()}function getPlatform(){return lang_1.isPresent(_platform)&&!_platform.disposed?_platform:null}function coreBootstrap(componentFactory,injector){var appRef=injector.get(ApplicationRef);return appRef.bootstrap(componentFactory)}function coreLoadAndBootstrap(componentType,injector){var appRef=injector.get(ApplicationRef);return appRef.run(function(){var componentResolver=injector.get(component_resolver_1.ComponentResolver);return async_1.PromiseWrapper.all([componentResolver.resolveComponent(componentType),appRef.waitForAsyncInitializers()]).then(function(arr){return appRef.bootstrap(arr[0])})})}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=require("../src/facade/async"),collection_1=require("../src/facade/collection"),exceptions_1=require("../src/facade/exceptions"),lang_1=require("../src/facade/lang"),application_tokens_1=require("./application_tokens"),console_1=require("./console"),di_1=require("./di"),component_resolver_1=require("./linker/component_resolver"),profile_1=require("./profile/profile"),testability_1=require("./testability/testability"),ng_zone_1=require("./zone/ng_zone");exports.createNgZone=createNgZone;var _platform,_devMode=!0,_runModeLocked=!1,_inPlatformCreate=!1;exports.enableProdMode=enableProdMode,exports.isDevMode=isDevMode,exports.lockRunMode=lockRunMode,exports.createPlatform=createPlatform,exports.assertPlatform=assertPlatform,exports.disposePlatform=disposePlatform,exports.getPlatform=getPlatform,exports.coreBootstrap=coreBootstrap,exports.coreLoadAndBootstrap=coreLoadAndBootstrap;var PlatformRef=function(){function PlatformRef(){}return Object.defineProperty(PlatformRef.prototype,"injector",{get:function(){throw exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformRef.prototype,"disposed",{get:function(){throw exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),PlatformRef}();exports.PlatformRef=PlatformRef;var PlatformRef_=function(_super){function PlatformRef_(_injector){if(_super.call(this),this._injector=_injector,this._applications=[],this._disposeListeners=[],this._disposed=!1,!_inPlatformCreate)throw new exceptions_1.BaseException("Platforms have to be created via `createPlatform`!");var inits=_injector.get(application_tokens_1.PLATFORM_INITIALIZER,null);lang_1.isPresent(inits)&&inits.forEach(function(init){return init()})}return __extends(PlatformRef_,_super),PlatformRef_.prototype.registerDisposeListener=function(dispose){this._disposeListeners.push(dispose)},Object.defineProperty(PlatformRef_.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformRef_.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),PlatformRef_.prototype.addApplication=function(appRef){this._applications.push(appRef)},PlatformRef_.prototype.dispose=function(){collection_1.ListWrapper.clone(this._applications).forEach(function(app){return app.dispose()}),this._disposeListeners.forEach(function(dispose){return dispose()}),this._disposed=!0},PlatformRef_.prototype._applicationDisposed=function(app){collection_1.ListWrapper.remove(this._applications,app)},PlatformRef_.decorators=[{type:di_1.Injectable}],PlatformRef_.ctorParameters=[{type:di_1.Injector}],PlatformRef_}(PlatformRef);exports.PlatformRef_=PlatformRef_;var ApplicationRef=function(){function ApplicationRef(){}return Object.defineProperty(ApplicationRef.prototype,"injector",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef.prototype,"zone",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef.prototype,"componentTypes",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),ApplicationRef}();exports.ApplicationRef=ApplicationRef;var ApplicationRef_=function(_super){function ApplicationRef_(_platform,_zone,_injector){var _this=this;_super.call(this),this._platform=_platform,this._zone=_zone,this._injector=_injector,this._bootstrapListeners=[],this._disposeListeners=[],this._rootComponents=[],this._rootComponentTypes=[],this._changeDetectorRefs=[],this._runningTick=!1,this._enforceNoNewChanges=!1;var zone=_injector.get(ng_zone_1.NgZone);this._enforceNoNewChanges=isDevMode(),zone.run(function(){_this._exceptionHandler=_injector.get(exceptions_1.ExceptionHandler)}),this._asyncInitDonePromise=this.run(function(){var asyncInitDonePromise,inits=_injector.get(application_tokens_1.APP_INITIALIZER,null),asyncInitResults=[];if(lang_1.isPresent(inits))for(var i=0;i<inits.length;i++){var initResult=inits[i]();
lang_1.isPromise(initResult)&&asyncInitResults.push(initResult)}return asyncInitResults.length>0?(asyncInitDonePromise=async_1.PromiseWrapper.all(asyncInitResults).then(function(_){return _this._asyncInitDone=!0}),_this._asyncInitDone=!1):(_this._asyncInitDone=!0,asyncInitDonePromise=async_1.PromiseWrapper.resolve(!0)),asyncInitDonePromise}),async_1.ObservableWrapper.subscribe(zone.onError,function(error){_this._exceptionHandler.call(error.error,error.stackTrace)}),async_1.ObservableWrapper.subscribe(this._zone.onMicrotaskEmpty,function(_){_this._zone.run(function(){_this.tick()})})}return __extends(ApplicationRef_,_super),ApplicationRef_.prototype.registerBootstrapListener=function(listener){this._bootstrapListeners.push(listener)},ApplicationRef_.prototype.registerDisposeListener=function(dispose){this._disposeListeners.push(dispose)},ApplicationRef_.prototype.registerChangeDetector=function(changeDetector){this._changeDetectorRefs.push(changeDetector)},ApplicationRef_.prototype.unregisterChangeDetector=function(changeDetector){collection_1.ListWrapper.remove(this._changeDetectorRefs,changeDetector)},ApplicationRef_.prototype.waitForAsyncInitializers=function(){return this._asyncInitDonePromise},ApplicationRef_.prototype.run=function(callback){var result,_this=this,zone=this.injector.get(ng_zone_1.NgZone),completer=async_1.PromiseWrapper.completer();return zone.run(function(){try{result=callback(),lang_1.isPromise(result)&&async_1.PromiseWrapper.then(result,function(ref){completer.resolve(ref)},function(err,stackTrace){completer.reject(err,stackTrace),_this._exceptionHandler.call(err,stackTrace)})}catch(e){throw _this._exceptionHandler.call(e,e.stack),e}}),lang_1.isPromise(result)?completer.promise:result},ApplicationRef_.prototype.bootstrap=function(componentFactory){var _this=this;if(!this._asyncInitDone)throw new exceptions_1.BaseException("Cannot bootstrap as there are still asynchronous initializers running. Wait for them using waitForAsyncInitializers().");return this.run(function(){_this._rootComponentTypes.push(componentFactory.componentType);var compRef=componentFactory.create(_this._injector,[],componentFactory.selector);compRef.onDestroy(function(){_this._unloadComponent(compRef)});var testability=compRef.injector.get(testability_1.Testability,null);lang_1.isPresent(testability)&&compRef.injector.get(testability_1.TestabilityRegistry).registerApplication(compRef.location.nativeElement,testability),_this._loadComponent(compRef);var c=_this._injector.get(console_1.Console);if(isDevMode()){var prodDescription=lang_1.IS_DART?"Production mode is disabled in Dart.":"Call enableProdMode() to enable the production mode.";c.log("Angular 2 is running in the development mode. "+prodDescription)}return compRef})},ApplicationRef_.prototype._loadComponent=function(componentRef){this._changeDetectorRefs.push(componentRef.changeDetectorRef),this.tick(),this._rootComponents.push(componentRef),this._bootstrapListeners.forEach(function(listener){return listener(componentRef)})},ApplicationRef_.prototype._unloadComponent=function(componentRef){collection_1.ListWrapper.contains(this._rootComponents,componentRef)&&(this.unregisterChangeDetector(componentRef.changeDetectorRef),collection_1.ListWrapper.remove(this._rootComponents,componentRef))},Object.defineProperty(ApplicationRef_.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef_.prototype,"zone",{get:function(){return this._zone},enumerable:!0,configurable:!0}),ApplicationRef_.prototype.tick=function(){if(this._runningTick)throw new exceptions_1.BaseException("ApplicationRef.tick is called recursively");var s=ApplicationRef_._tickScope();try{this._runningTick=!0,this._changeDetectorRefs.forEach(function(detector){return detector.detectChanges()}),this._enforceNoNewChanges&&this._changeDetectorRefs.forEach(function(detector){return detector.checkNoChanges()})}finally{this._runningTick=!1,profile_1.wtfLeave(s)}},ApplicationRef_.prototype.dispose=function(){collection_1.ListWrapper.clone(this._rootComponents).forEach(function(ref){return ref.destroy()}),this._disposeListeners.forEach(function(dispose){return dispose()}),this._platform._applicationDisposed(this)},Object.defineProperty(ApplicationRef_.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),ApplicationRef_._tickScope=profile_1.wtfCreateScope("ApplicationRef#tick()"),ApplicationRef_.decorators=[{type:di_1.Injectable}],ApplicationRef_.ctorParameters=[{type:PlatformRef_},{type:ng_zone_1.NgZone},{type:di_1.Injector}],ApplicationRef_}(ApplicationRef);exports.ApplicationRef_=ApplicationRef_,exports.PLATFORM_CORE_PROVIDERS=[PlatformRef_,{provide:PlatformRef,useExisting:PlatformRef_}],exports.APPLICATION_CORE_PROVIDERS=[{provide:ng_zone_1.NgZone,useFactory:createNgZone,deps:[]},ApplicationRef_,{provide:ApplicationRef,useExisting:ApplicationRef_}]},{"../src/facade/async":206,"../src/facade/collection":208,"../src/facade/exceptions":210,"../src/facade/lang":211,"./application_tokens":181,"./console":191,"./di":194,"./linker/component_resolver":218,"./profile/profile":240,"./testability/testability":250,"./zone/ng_zone":254}],181:[function(require,module,exports){"use strict";function _appIdRandomProviderFactory(){return""+_randomChar()+_randomChar()+_randomChar()}function _randomChar(){return lang_1.StringWrapper.fromCharCode(97+lang_1.Math.floor(25*lang_1.Math.random()))}var lang_1=require("../src/facade/lang"),di_1=require("./di");exports.APP_ID=new di_1.OpaqueToken("AppId"),exports.APP_ID_RANDOM_PROVIDER={provide:exports.APP_ID,useFactory:_appIdRandomProviderFactory,deps:[]},exports.PLATFORM_INITIALIZER=new di_1.OpaqueToken("Platform Initializer"),exports.APP_INITIALIZER=new di_1.OpaqueToken("Application Initializer"),exports.PACKAGE_ROOT_URL=new di_1.OpaqueToken("Application Packages Root URL")},{"../src/facade/lang":211,"./di":194}],182:[function(require,module,exports){"use strict";var change_detection_1=require("./change_detection/change_detection");exports.ChangeDetectionStrategy=change_detection_1.ChangeDetectionStrategy,exports.ChangeDetectorRef=change_detection_1.ChangeDetectorRef,exports.CollectionChangeRecord=change_detection_1.CollectionChangeRecord,exports.DefaultIterableDiffer=change_detection_1.DefaultIterableDiffer,exports.IterableDiffers=change_detection_1.IterableDiffers,exports.KeyValueChangeRecord=change_detection_1.KeyValueChangeRecord,exports.KeyValueDiffers=change_detection_1.KeyValueDiffers,exports.SimpleChange=change_detection_1.SimpleChange,exports.WrappedValue=change_detection_1.WrappedValue},{"./change_detection/change_detection":183}],183:[function(require,module,exports){"use strict";var default_iterable_differ_1=require("./differs/default_iterable_differ"),default_keyvalue_differ_1=require("./differs/default_keyvalue_differ"),iterable_differs_1=require("./differs/iterable_differs"),keyvalue_differs_1=require("./differs/keyvalue_differs"),change_detection_util_1=require("./change_detection_util");exports.SimpleChange=change_detection_util_1.SimpleChange,exports.ValueUnwrapper=change_detection_util_1.ValueUnwrapper,exports.WrappedValue=change_detection_util_1.WrappedValue,exports.devModeEqual=change_detection_util_1.devModeEqual,exports.looseIdentical=change_detection_util_1.looseIdentical,exports.uninitialized=change_detection_util_1.uninitialized;var change_detector_ref_1=require("./change_detector_ref");exports.ChangeDetectorRef=change_detector_ref_1.ChangeDetectorRef;var constants_1=require("./constants");exports.CHANGE_DETECTION_STRATEGY_VALUES=constants_1.CHANGE_DETECTION_STRATEGY_VALUES,exports.ChangeDetectionStrategy=constants_1.ChangeDetectionStrategy,exports.ChangeDetectorStatus=constants_1.ChangeDetectorStatus,exports.isDefaultChangeDetectionStrategy=constants_1.isDefaultChangeDetectionStrategy;var default_iterable_differ_2=require("./differs/default_iterable_differ");exports.CollectionChangeRecord=default_iterable_differ_2.CollectionChangeRecord,exports.DefaultIterableDifferFactory=default_iterable_differ_2.DefaultIterableDifferFactory;var default_iterable_differ_3=require("./differs/default_iterable_differ");exports.DefaultIterableDiffer=default_iterable_differ_3.DefaultIterableDiffer;var default_keyvalue_differ_2=require("./differs/default_keyvalue_differ");exports.DefaultKeyValueDifferFactory=default_keyvalue_differ_2.DefaultKeyValueDifferFactory,exports.KeyValueChangeRecord=default_keyvalue_differ_2.KeyValueChangeRecord;var iterable_differs_2=require("./differs/iterable_differs");exports.IterableDiffers=iterable_differs_2.IterableDiffers;var keyvalue_differs_2=require("./differs/keyvalue_differs");exports.KeyValueDiffers=keyvalue_differs_2.KeyValueDiffers,exports.keyValDiff=[new default_keyvalue_differ_1.DefaultKeyValueDifferFactory],exports.iterableDiff=[new default_iterable_differ_1.DefaultIterableDifferFactory],exports.defaultIterableDiffers=new iterable_differs_1.IterableDiffers(exports.iterableDiff),exports.defaultKeyValueDiffers=new keyvalue_differs_1.KeyValueDiffers(exports.keyValDiff)},{"./change_detection_util":184,"./change_detector_ref":185,"./constants":186,"./differs/default_iterable_differ":187,"./differs/default_keyvalue_differ":188,"./differs/iterable_differs":189,"./differs/keyvalue_differs":190}],184:[function(require,module,exports){"use strict";function devModeEqual(a,b){return collection_1.isListLikeIterable(a)&&collection_1.isListLikeIterable(b)?collection_1.areIterablesEqual(a,b,devModeEqual):!(collection_1.isListLikeIterable(a)||lang_1.isPrimitive(a)||collection_1.isListLikeIterable(b)||lang_1.isPrimitive(b))||lang_1.looseIdentical(a,b)}var collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),lang_2=require("../facade/lang");exports.looseIdentical=lang_2.looseIdentical,exports.uninitialized=new Object,exports.devModeEqual=devModeEqual;var WrappedValue=function(){function WrappedValue(wrapped){this.wrapped=wrapped}return WrappedValue.wrap=function(value){return new WrappedValue(value)},WrappedValue}();exports.WrappedValue=WrappedValue;var ValueUnwrapper=function(){function ValueUnwrapper(){this.hasWrappedValue=!1}return ValueUnwrapper.prototype.unwrap=function(value){return value instanceof WrappedValue?(this.hasWrappedValue=!0,value.wrapped):value},ValueUnwrapper.prototype.reset=function(){this.hasWrappedValue=!1},ValueUnwrapper}();exports.ValueUnwrapper=ValueUnwrapper;var SimpleChange=function(){function SimpleChange(previousValue,currentValue){this.previousValue=previousValue,this.currentValue=currentValue}return SimpleChange.prototype.isFirstChange=function(){return this.previousValue===exports.uninitialized},SimpleChange}();exports.SimpleChange=SimpleChange},{"../facade/collection":208,"../facade/lang":211}],185:[function(require,module,exports){"use strict";var ChangeDetectorRef=function(){function ChangeDetectorRef(){}return ChangeDetectorRef}();exports.ChangeDetectorRef=ChangeDetectorRef},{}],186:[function(require,module,exports){"use strict";function isDefaultChangeDetectionStrategy(changeDetectionStrategy){return lang_1.isBlank(changeDetectionStrategy)||changeDetectionStrategy===ChangeDetectionStrategy.Default}var lang_1=require("../facade/lang");!function(ChangeDetectionStrategy){ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush=0]="OnPush",ChangeDetectionStrategy[ChangeDetectionStrategy.Default=1]="Default"}(exports.ChangeDetectionStrategy||(exports.ChangeDetectionStrategy={}));var ChangeDetectionStrategy=exports.ChangeDetectionStrategy;!function(ChangeDetectorStatus){ChangeDetectorStatus[ChangeDetectorStatus.CheckOnce=0]="CheckOnce",ChangeDetectorStatus[ChangeDetectorStatus.Checked=1]="Checked",ChangeDetectorStatus[ChangeDetectorStatus.CheckAlways=2]="CheckAlways",ChangeDetectorStatus[ChangeDetectorStatus.Detached=3]="Detached",ChangeDetectorStatus[ChangeDetectorStatus.Errored=4]="Errored",ChangeDetectorStatus[ChangeDetectorStatus.Destroyed=5]="Destroyed"}(exports.ChangeDetectorStatus||(exports.ChangeDetectorStatus={}));var ChangeDetectorStatus=exports.ChangeDetectorStatus;exports.CHANGE_DETECTION_STRATEGY_VALUES=[ChangeDetectionStrategy.OnPush,ChangeDetectionStrategy.Default],exports.CHANGE_DETECTOR_STATUS_VALUES=[ChangeDetectorStatus.CheckOnce,ChangeDetectorStatus.Checked,ChangeDetectorStatus.CheckAlways,ChangeDetectorStatus.Detached,ChangeDetectorStatus.Errored,ChangeDetectorStatus.Destroyed],exports.isDefaultChangeDetectionStrategy=isDefaultChangeDetectionStrategy},{"../facade/lang":211}],187:[function(require,module,exports){"use strict";var collection_1=require("../../facade/collection"),exceptions_1=require("../../facade/exceptions"),lang_1=require("../../facade/lang"),DefaultIterableDifferFactory=function(){function DefaultIterableDifferFactory(){}return DefaultIterableDifferFactory.prototype.supports=function(obj){return collection_1.isListLikeIterable(obj)},DefaultIterableDifferFactory.prototype.create=function(cdRef,trackByFn){return new DefaultIterableDiffer(trackByFn)},DefaultIterableDifferFactory}();exports.DefaultIterableDifferFactory=DefaultIterableDifferFactory;var trackByIdentity=function(index,item){return item},DefaultIterableDiffer=function(){function DefaultIterableDiffer(_trackByFn){this._trackByFn=_trackByFn,this._length=null,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=lang_1.isPresent(this._trackByFn)?this._trackByFn:trackByIdentity}return Object.defineProperty(DefaultIterableDiffer.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(DefaultIterableDiffer.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),DefaultIterableDiffer.prototype.forEachItem=function(fn){var record;for(record=this._itHead;null!==record;record=record._next)fn(record)},DefaultIterableDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousItHead;null!==record;record=record._nextPrevious)fn(record)},DefaultIterableDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)},DefaultIterableDiffer.prototype.forEachMovedItem=function(fn){var record;for(record=this._movesHead;null!==record;record=record._nextMoved)fn(record)},DefaultIterableDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)},DefaultIterableDiffer.prototype.forEachIdentityChange=function(fn){var record;for(record=this._identityChangesHead;null!==record;record=record._nextIdentityChange)fn(record)},DefaultIterableDiffer.prototype.diff=function(collection){if(lang_1.isBlank(collection)&&(collection=[]),!collection_1.isListLikeIterable(collection))throw new exceptions_1.BaseException("Error trying to diff '"+collection+"'");return this.check(collection)?this:null},DefaultIterableDiffer.prototype.onDestroy=function(){},DefaultIterableDiffer.prototype.check=function(collection){var _this=this;this._reset();var index,item,itemTrackBy,record=this._itHead,mayBeDirty=!1;if(lang_1.isArray(collection)){var list=collection;for(this._length=collection.length,index=0;index<this._length;index++)item=list[index],itemTrackBy=this._trackByFn(index,item),null!==record&&lang_1.looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),lang_1.looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next}else index=0,collection_1.iterateListLike(collection,function(item){itemTrackBy=_this._trackByFn(index,item),null!==record&&lang_1.looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=_this._verifyReinsertion(record,item,itemTrackBy,index)),lang_1.looseIdentical(record.item,item)||_this._addIdentityChange(record,item)):(record=_this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next,index++}),this._length=index;return this._truncate(record),this._collection=collection,this.isDirty},Object.defineProperty(DefaultIterableDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),DefaultIterableDiffer.prototype._reset=function(){if(this.isDirty){var record,nextRecord;for(record=this._previousItHead=this._itHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._additionsHead;null!==record;record=record._nextAdded)record.previousIndex=record.currentIndex;for(this._additionsHead=this._additionsTail=null,record=this._movesHead;null!==record;record=nextRecord)record.previousIndex=record.currentIndex,nextRecord=record._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},DefaultIterableDiffer.prototype._mismatch=function(record,item,itemTrackBy,index){var previousRecord;return null===record?previousRecord=this._itTail:(previousRecord=record._prev,this._remove(record)),record=null===this._linkedRecords?null:this._linkedRecords.get(itemTrackBy,index),null!==record?(lang_1.looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._moveAfter(record,previousRecord,index)):(record=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy),null!==record?(lang_1.looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._reinsertAfter(record,previousRecord,index)):record=this._addAfter(new CollectionChangeRecord(item,itemTrackBy),previousRecord,index)),record},DefaultIterableDiffer.prototype._verifyReinsertion=function(record,item,itemTrackBy,index){var reinsertRecord=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy);return null!==reinsertRecord?record=this._reinsertAfter(reinsertRecord,record._prev,index):record.currentIndex!=index&&(record.currentIndex=index,this._addToMoves(record,index)),record},DefaultIterableDiffer.prototype._truncate=function(record){for(;null!==record;){var nextRecord=record._next;this._addToRemovals(this._unlink(record)),record=nextRecord}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},DefaultIterableDiffer.prototype._reinsertAfter=function(record,prevRecord,index){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(record);var prev=record._prevRemoved,next=record._nextRemoved;return null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record},DefaultIterableDiffer.prototype._moveAfter=function(record,prevRecord,index){return this._unlink(record),this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record},DefaultIterableDiffer.prototype._addAfter=function(record,prevRecord,index){return this._insertAfter(record,prevRecord,index),null===this._additionsTail?this._additionsTail=this._additionsHead=record:this._additionsTail=this._additionsTail._nextAdded=record,record},DefaultIterableDiffer.prototype._insertAfter=function(record,prevRecord,index){var next=null===prevRecord?this._itHead:prevRecord._next;return record._next=next,record._prev=prevRecord,null===next?this._itTail=record:next._prev=record,null===prevRecord?this._itHead=record:prevRecord._next=record,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(record),record.currentIndex=index,record},DefaultIterableDiffer.prototype._remove=function(record){return this._addToRemovals(this._unlink(record))},DefaultIterableDiffer.prototype._unlink=function(record){null!==this._linkedRecords&&this._linkedRecords.remove(record);var prev=record._prev,next=record._next;return null===prev?this._itHead=next:prev._next=next,null===next?this._itTail=prev:next._prev=prev,record},DefaultIterableDiffer.prototype._addToMoves=function(record,toIndex){return record.previousIndex===toIndex?record:(null===this._movesTail?this._movesTail=this._movesHead=record:this._movesTail=this._movesTail._nextMoved=record,record)},DefaultIterableDiffer.prototype._addToRemovals=function(record){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(record),record.currentIndex=null,record._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=record,record._prevRemoved=null):(record._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=record),record},DefaultIterableDiffer.prototype._addIdentityChange=function(record,item){return record.item=item,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=record:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=record,record},DefaultIterableDiffer.prototype.toString=function(){var list=[];this.forEachItem(function(record){return list.push(record)});var previous=[];this.forEachPreviousItem(function(record){return previous.push(record)});var additions=[];this.forEachAddedItem(function(record){return additions.push(record)});var moves=[];this.forEachMovedItem(function(record){return moves.push(record)});var removals=[];this.forEachRemovedItem(function(record){return removals.push(record)});var identityChanges=[];return this.forEachIdentityChange(function(record){return identityChanges.push(record)}),"collection: "+list.join(", ")+"\nprevious: "+previous.join(", ")+"\nadditions: "+additions.join(", ")+"\nmoves: "+moves.join(", ")+"\nremovals: "+removals.join(", ")+"\nidentityChanges: "+identityChanges.join(", ")+"\n"},DefaultIterableDiffer}();exports.DefaultIterableDiffer=DefaultIterableDiffer;var CollectionChangeRecord=function(){function CollectionChangeRecord(item,trackById){this.item=item,this.trackById=trackById,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return CollectionChangeRecord.prototype.toString=function(){return this.previousIndex===this.currentIndex?lang_1.stringify(this.item):lang_1.stringify(this.item)+"["+lang_1.stringify(this.previousIndex)+"->"+lang_1.stringify(this.currentIndex)+"]"},CollectionChangeRecord}();exports.CollectionChangeRecord=CollectionChangeRecord;var _DuplicateItemRecordList=function(){function _DuplicateItemRecordList(){this._head=null,this._tail=null}return _DuplicateItemRecordList.prototype.add=function(record){null===this._head?(this._head=this._tail=record,record._nextDup=null,record._prevDup=null):(this._tail._nextDup=record,record._prevDup=this._tail,record._nextDup=null,this._tail=record)},_DuplicateItemRecordList.prototype.get=function(trackById,afterIndex){var record;for(record=this._head;null!==record;record=record._nextDup)if((null===afterIndex||afterIndex<record.currentIndex)&&lang_1.looseIdentical(record.trackById,trackById))return record;return null},_DuplicateItemRecordList.prototype.remove=function(record){var prev=record._prevDup,next=record._nextDup;return null===prev?this._head=next:prev._nextDup=next,null===next?this._tail=prev:next._prevDup=prev,null===this._head},_DuplicateItemRecordList}(),_DuplicateMap=function(){function _DuplicateMap(){this.map=new Map}return _DuplicateMap.prototype.put=function(record){var key=lang_1.getMapKey(record.trackById),duplicates=this.map.get(key);lang_1.isPresent(duplicates)||(duplicates=new _DuplicateItemRecordList,this.map.set(key,duplicates)),duplicates.add(record)},_DuplicateMap.prototype.get=function(trackById,afterIndex){void 0===afterIndex&&(afterIndex=null);var key=lang_1.getMapKey(trackById),recordList=this.map.get(key);return lang_1.isBlank(recordList)?null:recordList.get(trackById,afterIndex)},_DuplicateMap.prototype.remove=function(record){var key=lang_1.getMapKey(record.trackById),recordList=this.map.get(key);return recordList.remove(record)&&this.map["delete"](key),record},Object.defineProperty(_DuplicateMap.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),_DuplicateMap.prototype.clear=function(){this.map.clear()},_DuplicateMap.prototype.toString=function(){return"_DuplicateMap("+lang_1.stringify(this.map)+")"},_DuplicateMap}()},{"../../facade/collection":208,"../../facade/exceptions":210,"../../facade/lang":211}],188:[function(require,module,exports){"use strict";var collection_1=require("../../facade/collection"),exceptions_1=require("../../facade/exceptions"),lang_1=require("../../facade/lang"),DefaultKeyValueDifferFactory=function(){function DefaultKeyValueDifferFactory(){}return DefaultKeyValueDifferFactory.prototype.supports=function(obj){return obj instanceof Map||lang_1.isJsObject(obj)},DefaultKeyValueDifferFactory.prototype.create=function(cdRef){return new DefaultKeyValueDiffer},DefaultKeyValueDifferFactory}();exports.DefaultKeyValueDifferFactory=DefaultKeyValueDifferFactory;var DefaultKeyValueDiffer=function(){function DefaultKeyValueDiffer(){this._records=new Map,this._mapHead=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(DefaultKeyValueDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),DefaultKeyValueDiffer.prototype.forEachItem=function(fn){var record;for(record=this._mapHead;null!==record;record=record._next)fn(record)},DefaultKeyValueDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousMapHead;null!==record;record=record._nextPrevious)fn(record)},DefaultKeyValueDiffer.prototype.forEachChangedItem=function(fn){var record;for(record=this._changesHead;null!==record;record=record._nextChanged)fn(record)},DefaultKeyValueDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)},DefaultKeyValueDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)},DefaultKeyValueDiffer.prototype.diff=function(map){if(lang_1.isBlank(map)&&(map=collection_1.MapWrapper.createFromPairs([])),!(map instanceof Map||lang_1.isJsObject(map)))throw new exceptions_1.BaseException("Error trying to diff '"+map+"'");return this.check(map)?this:null},DefaultKeyValueDiffer.prototype.onDestroy=function(){},DefaultKeyValueDiffer.prototype.check=function(map){var _this=this;this._reset();var records=this._records,oldSeqRecord=this._mapHead,lastOldSeqRecord=null,lastNewSeqRecord=null,seqChanged=!1;return this._forEach(map,function(value,key){var newSeqRecord;null!==oldSeqRecord&&key===oldSeqRecord.key?(newSeqRecord=oldSeqRecord,lang_1.looseIdentical(value,oldSeqRecord.currentValue)||(oldSeqRecord.previousValue=oldSeqRecord.currentValue,oldSeqRecord.currentValue=value,_this._addToChanges(oldSeqRecord))):(seqChanged=!0,null!==oldSeqRecord&&(oldSeqRecord._next=null,_this._removeFromSeq(lastOldSeqRecord,oldSeqRecord),_this._addToRemovals(oldSeqRecord)),records.has(key)?newSeqRecord=records.get(key):(newSeqRecord=new KeyValueChangeRecord(key),records.set(key,newSeqRecord),newSeqRecord.currentValue=value,_this._addToAdditions(newSeqRecord))),seqChanged&&(_this._isInRemovals(newSeqRecord)&&_this._removeFromRemovals(newSeqRecord),null==lastNewSeqRecord?_this._mapHead=newSeqRecord:lastNewSeqRecord._next=newSeqRecord),lastOldSeqRecord=oldSeqRecord,lastNewSeqRecord=newSeqRecord,oldSeqRecord=null===oldSeqRecord?null:oldSeqRecord._next}),this._truncate(lastOldSeqRecord,oldSeqRecord),this.isDirty},DefaultKeyValueDiffer.prototype._reset=function(){if(this.isDirty){var record;for(record=this._previousMapHead=this._mapHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._changesHead;null!==record;record=record._nextChanged)record.previousValue=record.currentValue;for(record=this._additionsHead;null!=record;record=record._nextAdded)record.previousValue=record.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},DefaultKeyValueDiffer.prototype._truncate=function(lastRecord,record){for(;null!==record;){null===lastRecord?this._mapHead=null:lastRecord._next=null;var nextRecord=record._next;this._addToRemovals(record),lastRecord=record,record=nextRecord}for(var rec=this._removalsHead;null!==rec;rec=rec._nextRemoved)rec.previousValue=rec.currentValue,rec.currentValue=null,this._records["delete"](rec.key)},DefaultKeyValueDiffer.prototype._isInRemovals=function(record){return record===this._removalsHead||null!==record._nextRemoved||null!==record._prevRemoved},DefaultKeyValueDiffer.prototype._addToRemovals=function(record){null===this._removalsHead?this._removalsHead=this._removalsTail=record:(this._removalsTail._nextRemoved=record,record._prevRemoved=this._removalsTail,this._removalsTail=record)},DefaultKeyValueDiffer.prototype._removeFromSeq=function(prev,record){var next=record._next;null===prev?this._mapHead=next:prev._next=next},DefaultKeyValueDiffer.prototype._removeFromRemovals=function(record){var prev=record._prevRemoved,next=record._nextRemoved;null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,record._prevRemoved=record._nextRemoved=null},DefaultKeyValueDiffer.prototype._addToAdditions=function(record){null===this._additionsHead?this._additionsHead=this._additionsTail=record:(this._additionsTail._nextAdded=record,this._additionsTail=record)},DefaultKeyValueDiffer.prototype._addToChanges=function(record){null===this._changesHead?this._changesHead=this._changesTail=record:(this._changesTail._nextChanged=record,this._changesTail=record)},DefaultKeyValueDiffer.prototype.toString=function(){var record,items=[],previous=[],changes=[],additions=[],removals=[];for(record=this._mapHead;null!==record;record=record._next)items.push(lang_1.stringify(record));for(record=this._previousMapHead;null!==record;record=record._nextPrevious)previous.push(lang_1.stringify(record));for(record=this._changesHead;null!==record;record=record._nextChanged)changes.push(lang_1.stringify(record));for(record=this._additionsHead;null!==record;record=record._nextAdded)additions.push(lang_1.stringify(record));for(record=this._removalsHead;null!==record;record=record._nextRemoved)removals.push(lang_1.stringify(record));return"map: "+items.join(", ")+"\nprevious: "+previous.join(", ")+"\nadditions: "+additions.join(", ")+"\nchanges: "+changes.join(", ")+"\nremovals: "+removals.join(", ")+"\n"},DefaultKeyValueDiffer.prototype._forEach=function(obj,fn){obj instanceof Map?obj.forEach(fn):collection_1.StringMapWrapper.forEach(obj,fn)},DefaultKeyValueDiffer}();exports.DefaultKeyValueDiffer=DefaultKeyValueDiffer;var KeyValueChangeRecord=function(){function KeyValueChangeRecord(key){this.key=key,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._nextAdded=null,
this._nextRemoved=null,this._prevRemoved=null,this._nextChanged=null}return KeyValueChangeRecord.prototype.toString=function(){return lang_1.looseIdentical(this.previousValue,this.currentValue)?lang_1.stringify(this.key):lang_1.stringify(this.key)+"["+lang_1.stringify(this.previousValue)+"->"+lang_1.stringify(this.currentValue)+"]"},KeyValueChangeRecord}();exports.KeyValueChangeRecord=KeyValueChangeRecord},{"../../facade/collection":208,"../../facade/exceptions":210,"../../facade/lang":211}],189:[function(require,module,exports){"use strict";var di_1=require("../../di"),collection_1=require("../../facade/collection"),exceptions_1=require("../../facade/exceptions"),lang_1=require("../../facade/lang"),IterableDiffers=function(){function IterableDiffers(factories){this.factories=factories}return IterableDiffers.create=function(factories,parent){if(lang_1.isPresent(parent)){var copied=collection_1.ListWrapper.clone(parent.factories);return factories=factories.concat(copied),new IterableDiffers(factories)}return new IterableDiffers(factories)},IterableDiffers.extend=function(factories){return new di_1.Provider(IterableDiffers,{useFactory:function(parent){if(lang_1.isBlank(parent))throw new exceptions_1.BaseException("Cannot extend IterableDiffers without a parent injector");return IterableDiffers.create(factories,parent)},deps:[[IterableDiffers,new di_1.SkipSelfMetadata,new di_1.OptionalMetadata]]})},IterableDiffers.prototype.find=function(iterable){var factory=this.factories.find(function(f){return f.supports(iterable)});if(lang_1.isPresent(factory))return factory;throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+iterable+"' of type '"+lang_1.getTypeNameForDebugging(iterable)+"'")},IterableDiffers}();exports.IterableDiffers=IterableDiffers},{"../../di":194,"../../facade/collection":208,"../../facade/exceptions":210,"../../facade/lang":211}],190:[function(require,module,exports){"use strict";var di_1=require("../../di"),collection_1=require("../../facade/collection"),exceptions_1=require("../../facade/exceptions"),lang_1=require("../../facade/lang"),KeyValueDiffers=function(){function KeyValueDiffers(factories){this.factories=factories}return KeyValueDiffers.create=function(factories,parent){if(lang_1.isPresent(parent)){var copied=collection_1.ListWrapper.clone(parent.factories);return factories=factories.concat(copied),new KeyValueDiffers(factories)}return new KeyValueDiffers(factories)},KeyValueDiffers.extend=function(factories){return new di_1.Provider(KeyValueDiffers,{useFactory:function(parent){if(lang_1.isBlank(parent))throw new exceptions_1.BaseException("Cannot extend KeyValueDiffers without a parent injector");return KeyValueDiffers.create(factories,parent)},deps:[[KeyValueDiffers,new di_1.SkipSelfMetadata,new di_1.OptionalMetadata]]})},KeyValueDiffers.prototype.find=function(kv){var factory=this.factories.find(function(f){return f.supports(kv)});if(lang_1.isPresent(factory))return factory;throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+kv+"'")},KeyValueDiffers}();exports.KeyValueDiffers=KeyValueDiffers},{"../../di":194,"../../facade/collection":208,"../../facade/exceptions":210,"../../facade/lang":211}],191:[function(require,module,exports){"use strict";var decorators_1=require("./di/decorators"),lang_1=require("./facade/lang"),_warnImpl=lang_1.warn,Console=function(){function Console(){}return Console.prototype.log=function(message){lang_1.print(message)},Console.prototype.warn=function(message){_warnImpl(message)},Console.decorators=[{type:decorators_1.Injectable}],Console}();exports.Console=Console},{"./di/decorators":195,"./facade/lang":211}],192:[function(require,module,exports){"use strict";function asNativeElements(debugEls){return debugEls.map(function(el){return el.nativeElement})}function _queryElementChildren(element,predicate,matches){element.childNodes.forEach(function(node){node instanceof DebugElement&&(predicate(node)&&matches.push(node),_queryElementChildren(node,predicate,matches))})}function _queryNodeChildren(parentNode,predicate,matches){parentNode instanceof DebugElement&&parentNode.childNodes.forEach(function(node){predicate(node)&&matches.push(node),node instanceof DebugElement&&_queryNodeChildren(node,predicate,matches)})}function getDebugNode(nativeNode){return _nativeNodeToDebugNode.get(nativeNode)}function getAllDebugNodes(){return collection_1.MapWrapper.values(_nativeNodeToDebugNode)}function indexDebugNode(node){_nativeNodeToDebugNode.set(node.nativeNode,node)}function removeDebugNodeFromIndex(node){_nativeNodeToDebugNode["delete"](node.nativeNode)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),EventListener=function(){function EventListener(name,callback){this.name=name,this.callback=callback}return EventListener}();exports.EventListener=EventListener;var DebugNode=function(){function DebugNode(nativeNode,parent,_debugInfo){this._debugInfo=_debugInfo,this.nativeNode=nativeNode,lang_1.isPresent(parent)&&parent instanceof DebugElement?parent.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(DebugNode.prototype,"injector",{get:function(){return lang_1.isPresent(this._debugInfo)?this._debugInfo.injector:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode.prototype,"componentInstance",{get:function(){return lang_1.isPresent(this._debugInfo)?this._debugInfo.component:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode.prototype,"context",{get:function(){return lang_1.isPresent(this._debugInfo)?this._debugInfo.context:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode.prototype,"references",{get:function(){return lang_1.isPresent(this._debugInfo)?this._debugInfo.references:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode.prototype,"providerTokens",{get:function(){return lang_1.isPresent(this._debugInfo)?this._debugInfo.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode.prototype,"source",{get:function(){return lang_1.isPresent(this._debugInfo)?this._debugInfo.source:null},enumerable:!0,configurable:!0}),DebugNode.prototype.inject=function(token){return this.injector.get(token)},DebugNode}();exports.DebugNode=DebugNode;var DebugElement=function(_super){function DebugElement(nativeNode,parent,_debugInfo){_super.call(this,nativeNode,parent,_debugInfo),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=nativeNode}return __extends(DebugElement,_super),DebugElement.prototype.addChild=function(child){lang_1.isPresent(child)&&(this.childNodes.push(child),child.parent=this)},DebugElement.prototype.removeChild=function(child){var childIndex=this.childNodes.indexOf(child);childIndex!==-1&&(child.parent=null,this.childNodes.splice(childIndex,1))},DebugElement.prototype.insertChildrenAfter=function(child,newChildren){var siblingIndex=this.childNodes.indexOf(child);if(siblingIndex!==-1){var previousChildren=this.childNodes.slice(0,siblingIndex+1),nextChildren=this.childNodes.slice(siblingIndex+1);this.childNodes=collection_1.ListWrapper.concat(collection_1.ListWrapper.concat(previousChildren,newChildren),nextChildren);for(var i=0;i<newChildren.length;++i){var newChild=newChildren[i];lang_1.isPresent(newChild.parent)&&newChild.parent.removeChild(newChild),newChild.parent=this}}},DebugElement.prototype.query=function(predicate){var results=this.queryAll(predicate);return results.length>0?results[0]:null},DebugElement.prototype.queryAll=function(predicate){var matches=[];return _queryElementChildren(this,predicate,matches),matches},DebugElement.prototype.queryAllNodes=function(predicate){var matches=[];return _queryNodeChildren(this,predicate,matches),matches},Object.defineProperty(DebugElement.prototype,"children",{get:function(){var children=[];return this.childNodes.forEach(function(node){node instanceof DebugElement&&children.push(node)}),children},enumerable:!0,configurable:!0}),DebugElement.prototype.triggerEventHandler=function(eventName,eventObj){this.listeners.forEach(function(listener){listener.name==eventName&&listener.callback(eventObj)})},DebugElement}(DebugNode);exports.DebugElement=DebugElement,exports.asNativeElements=asNativeElements;var _nativeNodeToDebugNode=new Map;exports.getDebugNode=getDebugNode,exports.getAllDebugNodes=getAllDebugNodes,exports.indexDebugNode=indexDebugNode,exports.removeDebugNodeFromIndex=removeDebugNodeFromIndex},{"../facade/collection":208,"../facade/lang":211}],193:[function(require,module,exports){"use strict";var lang_1=require("../facade/lang"),debug_node_1=require("./debug_node"),DebugDomRootRenderer=function(){function DebugDomRootRenderer(_delegate){this._delegate=_delegate}return DebugDomRootRenderer.prototype.renderComponent=function(componentProto){return new DebugDomRenderer(this._delegate.renderComponent(componentProto))},DebugDomRootRenderer}();exports.DebugDomRootRenderer=DebugDomRootRenderer;var DebugDomRenderer=function(){function DebugDomRenderer(_delegate){this._delegate=_delegate}return DebugDomRenderer.prototype.selectRootElement=function(selectorOrNode,debugInfo){var nativeEl=this._delegate.selectRootElement(selectorOrNode,debugInfo),debugEl=new debug_node_1.DebugElement(nativeEl,null,debugInfo);return debug_node_1.indexDebugNode(debugEl),nativeEl},DebugDomRenderer.prototype.createElement=function(parentElement,name,debugInfo){var nativeEl=this._delegate.createElement(parentElement,name,debugInfo),debugEl=new debug_node_1.DebugElement(nativeEl,debug_node_1.getDebugNode(parentElement),debugInfo);return debugEl.name=name,debug_node_1.indexDebugNode(debugEl),nativeEl},DebugDomRenderer.prototype.createViewRoot=function(hostElement){return this._delegate.createViewRoot(hostElement)},DebugDomRenderer.prototype.createTemplateAnchor=function(parentElement,debugInfo){var comment=this._delegate.createTemplateAnchor(parentElement,debugInfo),debugEl=new debug_node_1.DebugNode(comment,debug_node_1.getDebugNode(parentElement),debugInfo);return debug_node_1.indexDebugNode(debugEl),comment},DebugDomRenderer.prototype.createText=function(parentElement,value,debugInfo){var text=this._delegate.createText(parentElement,value,debugInfo),debugEl=new debug_node_1.DebugNode(text,debug_node_1.getDebugNode(parentElement),debugInfo);return debug_node_1.indexDebugNode(debugEl),text},DebugDomRenderer.prototype.projectNodes=function(parentElement,nodes){var debugParent=debug_node_1.getDebugNode(parentElement);if(lang_1.isPresent(debugParent)&&debugParent instanceof debug_node_1.DebugElement){var debugElement_1=debugParent;nodes.forEach(function(node){debugElement_1.addChild(debug_node_1.getDebugNode(node))})}this._delegate.projectNodes(parentElement,nodes)},DebugDomRenderer.prototype.attachViewAfter=function(node,viewRootNodes){var debugNode=debug_node_1.getDebugNode(node);if(lang_1.isPresent(debugNode)){var debugParent=debugNode.parent;if(viewRootNodes.length>0&&lang_1.isPresent(debugParent)){var debugViewRootNodes=[];viewRootNodes.forEach(function(rootNode){return debugViewRootNodes.push(debug_node_1.getDebugNode(rootNode))}),debugParent.insertChildrenAfter(debugNode,debugViewRootNodes)}}this._delegate.attachViewAfter(node,viewRootNodes)},DebugDomRenderer.prototype.detachView=function(viewRootNodes){viewRootNodes.forEach(function(node){var debugNode=debug_node_1.getDebugNode(node);lang_1.isPresent(debugNode)&&lang_1.isPresent(debugNode.parent)&&debugNode.parent.removeChild(debugNode)}),this._delegate.detachView(viewRootNodes)},DebugDomRenderer.prototype.destroyView=function(hostElement,viewAllNodes){viewAllNodes.forEach(function(node){debug_node_1.removeDebugNodeFromIndex(debug_node_1.getDebugNode(node))}),this._delegate.destroyView(hostElement,viewAllNodes)},DebugDomRenderer.prototype.listen=function(renderElement,name,callback){var debugEl=debug_node_1.getDebugNode(renderElement);return lang_1.isPresent(debugEl)&&debugEl.listeners.push(new debug_node_1.EventListener(name,callback)),this._delegate.listen(renderElement,name,callback)},DebugDomRenderer.prototype.listenGlobal=function(target,name,callback){return this._delegate.listenGlobal(target,name,callback)},DebugDomRenderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){var debugEl=debug_node_1.getDebugNode(renderElement);lang_1.isPresent(debugEl)&&debugEl instanceof debug_node_1.DebugElement&&(debugEl.properties[propertyName]=propertyValue),this._delegate.setElementProperty(renderElement,propertyName,propertyValue)},DebugDomRenderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){var debugEl=debug_node_1.getDebugNode(renderElement);lang_1.isPresent(debugEl)&&debugEl instanceof debug_node_1.DebugElement&&(debugEl.attributes[attributeName]=attributeValue),this._delegate.setElementAttribute(renderElement,attributeName,attributeValue)},DebugDomRenderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){this._delegate.setBindingDebugInfo(renderElement,propertyName,propertyValue)},DebugDomRenderer.prototype.setElementClass=function(renderElement,className,isAdd){var debugEl=debug_node_1.getDebugNode(renderElement);lang_1.isPresent(debugEl)&&debugEl instanceof debug_node_1.DebugElement&&(debugEl.classes[className]=isAdd),this._delegate.setElementClass(renderElement,className,isAdd)},DebugDomRenderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){var debugEl=debug_node_1.getDebugNode(renderElement);lang_1.isPresent(debugEl)&&debugEl instanceof debug_node_1.DebugElement&&(debugEl.styles[styleName]=styleValue),this._delegate.setElementStyle(renderElement,styleName,styleValue)},DebugDomRenderer.prototype.invokeElementMethod=function(renderElement,methodName,args){this._delegate.invokeElementMethod(renderElement,methodName,args)},DebugDomRenderer.prototype.setText=function(renderNode,text){this._delegate.setText(renderNode,text)},DebugDomRenderer.prototype.animate=function(element,startingStyles,keyframes,duration,delay,easing){return this._delegate.animate(element,startingStyles,keyframes,duration,delay,easing)},DebugDomRenderer}();exports.DebugDomRenderer=DebugDomRenderer},{"../facade/lang":211,"./debug_node":192}],194:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var metadata_1=require("./di/metadata");exports.HostMetadata=metadata_1.HostMetadata,exports.InjectMetadata=metadata_1.InjectMetadata,exports.InjectableMetadata=metadata_1.InjectableMetadata,exports.OptionalMetadata=metadata_1.OptionalMetadata,exports.SelfMetadata=metadata_1.SelfMetadata,exports.SkipSelfMetadata=metadata_1.SkipSelfMetadata,__export(require("./di/decorators"));var forward_ref_1=require("./di/forward_ref");exports.forwardRef=forward_ref_1.forwardRef,exports.resolveForwardRef=forward_ref_1.resolveForwardRef;var injector_1=require("./di/injector");exports.Injector=injector_1.Injector;var reflective_injector_1=require("./di/reflective_injector");exports.ReflectiveInjector=reflective_injector_1.ReflectiveInjector;var provider_1=require("./di/provider");exports.Binding=provider_1.Binding,exports.ProviderBuilder=provider_1.ProviderBuilder,exports.bind=provider_1.bind,exports.Provider=provider_1.Provider,exports.provide=provider_1.provide;var reflective_provider_1=require("./di/reflective_provider");exports.ResolvedReflectiveFactory=reflective_provider_1.ResolvedReflectiveFactory;var reflective_key_1=require("./di/reflective_key");exports.ReflectiveKey=reflective_key_1.ReflectiveKey;var reflective_exceptions_1=require("./di/reflective_exceptions");exports.NoProviderError=reflective_exceptions_1.NoProviderError,exports.AbstractProviderError=reflective_exceptions_1.AbstractProviderError,exports.CyclicDependencyError=reflective_exceptions_1.CyclicDependencyError,exports.InstantiationError=reflective_exceptions_1.InstantiationError,exports.InvalidProviderError=reflective_exceptions_1.InvalidProviderError,exports.NoAnnotationError=reflective_exceptions_1.NoAnnotationError,exports.OutOfBoundsError=reflective_exceptions_1.OutOfBoundsError;var opaque_token_1=require("./di/opaque_token");exports.OpaqueToken=opaque_token_1.OpaqueToken},{"./di/decorators":195,"./di/forward_ref":196,"./di/injector":197,"./di/metadata":198,"./di/opaque_token":199,"./di/provider":200,"./di/reflective_exceptions":202,"./di/reflective_injector":203,"./di/reflective_key":204,"./di/reflective_provider":205}],195:[function(require,module,exports){"use strict";var decorators_1=require("../util/decorators"),metadata_1=require("./metadata");exports.Inject=decorators_1.makeParamDecorator(metadata_1.InjectMetadata),exports.Optional=decorators_1.makeParamDecorator(metadata_1.OptionalMetadata),exports.Injectable=decorators_1.makeDecorator(metadata_1.InjectableMetadata),exports.Self=decorators_1.makeParamDecorator(metadata_1.SelfMetadata),exports.Host=decorators_1.makeParamDecorator(metadata_1.HostMetadata),exports.SkipSelf=decorators_1.makeParamDecorator(metadata_1.SkipSelfMetadata)},{"../util/decorators":252,"./metadata":198}],196:[function(require,module,exports){"use strict";function forwardRef(forwardRefFn){return forwardRefFn.__forward_ref__=forwardRef,forwardRefFn.toString=function(){return lang_1.stringify(this())},forwardRefFn}function resolveForwardRef(type){return lang_1.isFunction(type)&&type.hasOwnProperty("__forward_ref__")&&type.__forward_ref__===forwardRef?type():type}var lang_1=require("../facade/lang");exports.forwardRef=forwardRef,exports.resolveForwardRef=resolveForwardRef},{"../facade/lang":211}],197:[function(require,module,exports){"use strict";var exceptions_1=require("../facade/exceptions"),_THROW_IF_NOT_FOUND=new Object;exports.THROW_IF_NOT_FOUND=_THROW_IF_NOT_FOUND;var Injector=function(){function Injector(){}return Injector.prototype.get=function(token,notFoundValue){return exceptions_1.unimplemented()},Injector.THROW_IF_NOT_FOUND=_THROW_IF_NOT_FOUND,Injector}();exports.Injector=Injector},{"../facade/exceptions":210}],198:[function(require,module,exports){"use strict";var lang_1=require("../facade/lang"),InjectMetadata=function(){function InjectMetadata(token){this.token=token}return InjectMetadata.prototype.toString=function(){return"@Inject("+lang_1.stringify(this.token)+")"},InjectMetadata}();exports.InjectMetadata=InjectMetadata;var OptionalMetadata=function(){function OptionalMetadata(){}return OptionalMetadata.prototype.toString=function(){return"@Optional()"},OptionalMetadata}();exports.OptionalMetadata=OptionalMetadata;var DependencyMetadata=function(){function DependencyMetadata(){}return Object.defineProperty(DependencyMetadata.prototype,"token",{get:function(){return null},enumerable:!0,configurable:!0}),DependencyMetadata}();exports.DependencyMetadata=DependencyMetadata;var InjectableMetadata=function(){function InjectableMetadata(){}return InjectableMetadata}();exports.InjectableMetadata=InjectableMetadata;var SelfMetadata=function(){function SelfMetadata(){}return SelfMetadata.prototype.toString=function(){return"@Self()"},SelfMetadata}();exports.SelfMetadata=SelfMetadata;var SkipSelfMetadata=function(){function SkipSelfMetadata(){}return SkipSelfMetadata.prototype.toString=function(){return"@SkipSelf()"},SkipSelfMetadata}();exports.SkipSelfMetadata=SkipSelfMetadata;var HostMetadata=function(){function HostMetadata(){}return HostMetadata.prototype.toString=function(){return"@Host()"},HostMetadata}();exports.HostMetadata=HostMetadata},{"../facade/lang":211}],199:[function(require,module,exports){"use strict";var OpaqueToken=function(){function OpaqueToken(_desc){this._desc=_desc}return OpaqueToken.prototype.toString=function(){return"Token "+this._desc},OpaqueToken}();exports.OpaqueToken=OpaqueToken},{}],200:[function(require,module,exports){"use strict";function bind(token){return new ProviderBuilder(token)}function provide(token,_a){var useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;return new Provider(token,{useClass:useClass,useValue:useValue,useExisting:useExisting,useFactory:useFactory,deps:deps,multi:multi})}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),Provider=function(){function Provider(token,_a){var useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;this.token=token,this.useClass=useClass,this.useValue=useValue,this.useExisting=useExisting,this.useFactory=useFactory,this.dependencies=deps,this._multi=multi}return Object.defineProperty(Provider.prototype,"multi",{get:function(){return lang_1.normalizeBool(this._multi)},enumerable:!0,configurable:!0}),Provider}();exports.Provider=Provider;var Binding=function(_super){function Binding(token,_a){var toClass=_a.toClass,toValue=_a.toValue,toAlias=_a.toAlias,toFactory=_a.toFactory,deps=_a.deps,multi=_a.multi;_super.call(this,token,{useClass:toClass,useValue:toValue,useExisting:toAlias,useFactory:toFactory,deps:deps,multi:multi})}return __extends(Binding,_super),Object.defineProperty(Binding.prototype,"toClass",{get:function(){return this.useClass},enumerable:!0,configurable:!0}),Object.defineProperty(Binding.prototype,"toAlias",{get:function(){return this.useExisting},enumerable:!0,configurable:!0}),Object.defineProperty(Binding.prototype,"toFactory",{get:function(){return this.useFactory},enumerable:!0,configurable:!0}),Object.defineProperty(Binding.prototype,"toValue",{get:function(){return this.useValue},enumerable:!0,configurable:!0}),Binding}(Provider);exports.Binding=Binding,exports.bind=bind;var ProviderBuilder=function(){function ProviderBuilder(token){this.token=token}return ProviderBuilder.prototype.toClass=function(type){if(!lang_1.isType(type))throw new exceptions_1.BaseException('Trying to create a class provider but "'+lang_1.stringify(type)+'" is not a class!');return new Provider(this.token,{useClass:type})},ProviderBuilder.prototype.toValue=function(value){return new Provider(this.token,{useValue:value})},ProviderBuilder.prototype.toAlias=function(aliasToken){if(lang_1.isBlank(aliasToken))throw new exceptions_1.BaseException("Can not alias "+lang_1.stringify(this.token)+" to a blank value!");return new Provider(this.token,{useExisting:aliasToken})},ProviderBuilder.prototype.toFactory=function(factory,dependencies){if(!lang_1.isFunction(factory))throw new exceptions_1.BaseException('Trying to create a factory provider but "'+lang_1.stringify(factory)+'" is not a function!');return new Provider(this.token,{useFactory:factory,deps:dependencies})},ProviderBuilder}();exports.ProviderBuilder=ProviderBuilder,exports.provide=provide},{"../facade/exceptions":210,"../facade/lang":211}],201:[function(require,module,exports){"use strict";function isProviderLiteral(obj){return obj&&"object"==typeof obj&&obj.provide}function createProvider(obj){return new provider_1.Provider(obj.provide,obj)}var provider_1=require("./provider");exports.isProviderLiteral=isProviderLiteral,exports.createProvider=createProvider},{"./provider":200}],202:[function(require,module,exports){"use strict";function findFirstClosedCycle(keys){for(var res=[],i=0;i<keys.length;++i){if(collection_1.ListWrapper.contains(res,keys[i]))return res.push(keys[i]),res;res.push(keys[i])}return res}function constructResolvingPath(keys){if(keys.length>1){var reversed=findFirstClosedCycle(collection_1.ListWrapper.reversed(keys)),tokenStrs=reversed.map(function(k){return lang_1.stringify(k.token)});return" ("+tokenStrs.join(" -> ")+")"}return""}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},collection_1=require("../facade/collection"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),AbstractProviderError=function(_super){function AbstractProviderError(injector,key,constructResolvingMessage){_super.call(this,"DI Exception"),this.keys=[key],this.injectors=[injector],this.constructResolvingMessage=constructResolvingMessage,this.message=this.constructResolvingMessage(this.keys)}return __extends(AbstractProviderError,_super),AbstractProviderError.prototype.addKey=function(injector,key){this.injectors.push(injector),this.keys.push(key),this.message=this.constructResolvingMessage(this.keys)},Object.defineProperty(AbstractProviderError.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),AbstractProviderError}(exceptions_1.BaseException);exports.AbstractProviderError=AbstractProviderError;var NoProviderError=function(_super){function NoProviderError(injector,key){_super.call(this,injector,key,function(keys){var first=lang_1.stringify(collection_1.ListWrapper.first(keys).token);return"No provider for "+first+"!"+constructResolvingPath(keys)})}return __extends(NoProviderError,_super),NoProviderError}(AbstractProviderError);exports.NoProviderError=NoProviderError;var CyclicDependencyError=function(_super){function CyclicDependencyError(injector,key){_super.call(this,injector,key,function(keys){return"Cannot instantiate cyclic dependency!"+constructResolvingPath(keys)})}return __extends(CyclicDependencyError,_super),CyclicDependencyError}(AbstractProviderError);exports.CyclicDependencyError=CyclicDependencyError;var InstantiationError=function(_super){function InstantiationError(injector,originalException,originalStack,key){_super.call(this,"DI Exception",originalException,originalStack,null),this.keys=[key],this.injectors=[injector]}return __extends(InstantiationError,_super),InstantiationError.prototype.addKey=function(injector,key){this.injectors.push(injector),this.keys.push(key)},Object.defineProperty(InstantiationError.prototype,"wrapperMessage",{get:function(){var first=lang_1.stringify(collection_1.ListWrapper.first(this.keys).token);return"Error during instantiation of "+first+"!"+constructResolvingPath(this.keys)+"."},enumerable:!0,configurable:!0}),Object.defineProperty(InstantiationError.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:!0,configurable:!0}),Object.defineProperty(InstantiationError.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),InstantiationError}(exceptions_1.WrappedException);exports.InstantiationError=InstantiationError;var InvalidProviderError=function(_super){function InvalidProviderError(provider){_super.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+provider)}return __extends(InvalidProviderError,_super),InvalidProviderError}(exceptions_1.BaseException);exports.InvalidProviderError=InvalidProviderError;var NoAnnotationError=function(_super){function NoAnnotationError(typeOrFunc,params){_super.call(this,NoAnnotationError._genMessage(typeOrFunc,params))}return __extends(NoAnnotationError,_super),NoAnnotationError._genMessage=function(typeOrFunc,params){for(var signature=[],i=0,ii=params.length;i<ii;i++){var parameter=params[i];lang_1.isBlank(parameter)||0==parameter.length?signature.push("?"):signature.push(parameter.map(lang_1.stringify).join(" "))}return"Cannot resolve all parameters for '"+lang_1.stringify(typeOrFunc)+"'("+signature.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+lang_1.stringify(typeOrFunc)+"' is decorated with Injectable."},NoAnnotationError}(exceptions_1.BaseException);exports.NoAnnotationError=NoAnnotationError;var OutOfBoundsError=function(_super){function OutOfBoundsError(index){_super.call(this,"Index "+index+" is out-of-bounds.")}return __extends(OutOfBoundsError,_super),OutOfBoundsError}(exceptions_1.BaseException);exports.OutOfBoundsError=OutOfBoundsError;var MixingMultiProvidersWithRegularProvidersError=function(_super){function MixingMultiProvidersWithRegularProvidersError(provider1,provider2){_super.call(this,"Cannot mix multi providers and regular providers, got: "+provider1.toString()+" "+provider2.toString())}return __extends(MixingMultiProvidersWithRegularProvidersError,_super),MixingMultiProvidersWithRegularProvidersError}(exceptions_1.BaseException);exports.MixingMultiProvidersWithRegularProvidersError=MixingMultiProvidersWithRegularProvidersError},{"../facade/collection":208,"../facade/exceptions":210,"../facade/lang":211}],203:[function(require,module,exports){"use strict";function _mapProviders(injector,fn){for(var res=new Array(injector._proto.numberOfProviders),i=0;i<injector._proto.numberOfProviders;++i)res[i]=fn(injector._proto.getProviderAtIndex(i));return res}var collection_1=require("../facade/collection"),exceptions_1=require("../facade/exceptions"),injector_1=require("./injector"),metadata_1=require("./metadata"),reflective_exceptions_1=require("./reflective_exceptions"),reflective_key_1=require("./reflective_key"),reflective_provider_1=require("./reflective_provider"),_MAX_CONSTRUCTION_COUNTER=10,UNDEFINED=new Object,ReflectiveProtoInjectorInlineStrategy=function(){function ReflectiveProtoInjectorInlineStrategy(protoEI,providers){this.provider0=null,this.provider1=null,this.provider2=null,this.provider3=null,this.provider4=null,this.provider5=null,this.provider6=null,this.provider7=null,this.provider8=null,this.provider9=null,this.keyId0=null,this.keyId1=null,this.keyId2=null,this.keyId3=null,this.keyId4=null,this.keyId5=null,this.keyId6=null,this.keyId7=null,this.keyId8=null,this.keyId9=null;var length=providers.length;length>0&&(this.provider0=providers[0],this.keyId0=providers[0].key.id),length>1&&(this.provider1=providers[1],this.keyId1=providers[1].key.id),length>2&&(this.provider2=providers[2],this.keyId2=providers[2].key.id),length>3&&(this.provider3=providers[3],this.keyId3=providers[3].key.id),length>4&&(this.provider4=providers[4],this.keyId4=providers[4].key.id),length>5&&(this.provider5=providers[5],this.keyId5=providers[5].key.id),length>6&&(this.provider6=providers[6],this.keyId6=providers[6].key.id),length>7&&(this.provider7=providers[7],this.keyId7=providers[7].key.id),length>8&&(this.provider8=providers[8],this.keyId8=providers[8].key.id),length>9&&(this.provider9=providers[9],this.keyId9=providers[9].key.id)}return ReflectiveProtoInjectorInlineStrategy.prototype.getProviderAtIndex=function(index){if(0==index)return this.provider0;if(1==index)return this.provider1;if(2==index)return this.provider2;if(3==index)return this.provider3;if(4==index)return this.provider4;if(5==index)return this.provider5;if(6==index)return this.provider6;if(7==index)return this.provider7;if(8==index)return this.provider8;if(9==index)return this.provider9;throw new reflective_exceptions_1.OutOfBoundsError(index)},ReflectiveProtoInjectorInlineStrategy.prototype.createInjectorStrategy=function(injector){return new ReflectiveInjectorInlineStrategy(injector,this)},ReflectiveProtoInjectorInlineStrategy}();exports.ReflectiveProtoInjectorInlineStrategy=ReflectiveProtoInjectorInlineStrategy;var ReflectiveProtoInjectorDynamicStrategy=function(){function ReflectiveProtoInjectorDynamicStrategy(protoInj,providers){this.providers=providers;var len=providers.length;this.keyIds=collection_1.ListWrapper.createFixedSize(len);for(var i=0;i<len;i++)this.keyIds[i]=providers[i].key.id}return ReflectiveProtoInjectorDynamicStrategy.prototype.getProviderAtIndex=function(index){if(index<0||index>=this.providers.length)throw new reflective_exceptions_1.OutOfBoundsError(index);
return this.providers[index]},ReflectiveProtoInjectorDynamicStrategy.prototype.createInjectorStrategy=function(ei){return new ReflectiveInjectorDynamicStrategy(this,ei)},ReflectiveProtoInjectorDynamicStrategy}();exports.ReflectiveProtoInjectorDynamicStrategy=ReflectiveProtoInjectorDynamicStrategy;var ReflectiveProtoInjector=function(){function ReflectiveProtoInjector(providers){this.numberOfProviders=providers.length,this._strategy=providers.length>_MAX_CONSTRUCTION_COUNTER?new ReflectiveProtoInjectorDynamicStrategy(this,providers):new ReflectiveProtoInjectorInlineStrategy(this,providers)}return ReflectiveProtoInjector.fromResolvedProviders=function(providers){return new ReflectiveProtoInjector(providers)},ReflectiveProtoInjector.prototype.getProviderAtIndex=function(index){return this._strategy.getProviderAtIndex(index)},ReflectiveProtoInjector}();exports.ReflectiveProtoInjector=ReflectiveProtoInjector;var ReflectiveInjectorInlineStrategy=function(){function ReflectiveInjectorInlineStrategy(injector,protoStrategy){this.injector=injector,this.protoStrategy=protoStrategy,this.obj0=UNDEFINED,this.obj1=UNDEFINED,this.obj2=UNDEFINED,this.obj3=UNDEFINED,this.obj4=UNDEFINED,this.obj5=UNDEFINED,this.obj6=UNDEFINED,this.obj7=UNDEFINED,this.obj8=UNDEFINED,this.obj9=UNDEFINED}return ReflectiveInjectorInlineStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},ReflectiveInjectorInlineStrategy.prototype.instantiateProvider=function(provider){return this.injector._new(provider)},ReflectiveInjectorInlineStrategy.prototype.getObjByKeyId=function(keyId){var p=this.protoStrategy,inj=this.injector;return p.keyId0===keyId?(this.obj0===UNDEFINED&&(this.obj0=inj._new(p.provider0)),this.obj0):p.keyId1===keyId?(this.obj1===UNDEFINED&&(this.obj1=inj._new(p.provider1)),this.obj1):p.keyId2===keyId?(this.obj2===UNDEFINED&&(this.obj2=inj._new(p.provider2)),this.obj2):p.keyId3===keyId?(this.obj3===UNDEFINED&&(this.obj3=inj._new(p.provider3)),this.obj3):p.keyId4===keyId?(this.obj4===UNDEFINED&&(this.obj4=inj._new(p.provider4)),this.obj4):p.keyId5===keyId?(this.obj5===UNDEFINED&&(this.obj5=inj._new(p.provider5)),this.obj5):p.keyId6===keyId?(this.obj6===UNDEFINED&&(this.obj6=inj._new(p.provider6)),this.obj6):p.keyId7===keyId?(this.obj7===UNDEFINED&&(this.obj7=inj._new(p.provider7)),this.obj7):p.keyId8===keyId?(this.obj8===UNDEFINED&&(this.obj8=inj._new(p.provider8)),this.obj8):p.keyId9===keyId?(this.obj9===UNDEFINED&&(this.obj9=inj._new(p.provider9)),this.obj9):UNDEFINED},ReflectiveInjectorInlineStrategy.prototype.getObjAtIndex=function(index){if(0==index)return this.obj0;if(1==index)return this.obj1;if(2==index)return this.obj2;if(3==index)return this.obj3;if(4==index)return this.obj4;if(5==index)return this.obj5;if(6==index)return this.obj6;if(7==index)return this.obj7;if(8==index)return this.obj8;if(9==index)return this.obj9;throw new reflective_exceptions_1.OutOfBoundsError(index)},ReflectiveInjectorInlineStrategy.prototype.getMaxNumberOfObjects=function(){return _MAX_CONSTRUCTION_COUNTER},ReflectiveInjectorInlineStrategy}();exports.ReflectiveInjectorInlineStrategy=ReflectiveInjectorInlineStrategy;var ReflectiveInjectorDynamicStrategy=function(){function ReflectiveInjectorDynamicStrategy(protoStrategy,injector){this.protoStrategy=protoStrategy,this.injector=injector,this.objs=collection_1.ListWrapper.createFixedSize(protoStrategy.providers.length),collection_1.ListWrapper.fill(this.objs,UNDEFINED)}return ReflectiveInjectorDynamicStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},ReflectiveInjectorDynamicStrategy.prototype.instantiateProvider=function(provider){return this.injector._new(provider)},ReflectiveInjectorDynamicStrategy.prototype.getObjByKeyId=function(keyId){for(var p=this.protoStrategy,i=0;i<p.keyIds.length;i++)if(p.keyIds[i]===keyId)return this.objs[i]===UNDEFINED&&(this.objs[i]=this.injector._new(p.providers[i])),this.objs[i];return UNDEFINED},ReflectiveInjectorDynamicStrategy.prototype.getObjAtIndex=function(index){if(index<0||index>=this.objs.length)throw new reflective_exceptions_1.OutOfBoundsError(index);return this.objs[index]},ReflectiveInjectorDynamicStrategy.prototype.getMaxNumberOfObjects=function(){return this.objs.length},ReflectiveInjectorDynamicStrategy}();exports.ReflectiveInjectorDynamicStrategy=ReflectiveInjectorDynamicStrategy;var ReflectiveInjector=function(){function ReflectiveInjector(){}return ReflectiveInjector.resolve=function(providers){return reflective_provider_1.resolveReflectiveProviders(providers)},ReflectiveInjector.resolveAndCreate=function(providers,parent){void 0===parent&&(parent=null);var ResolvedReflectiveProviders=ReflectiveInjector.resolve(providers);return ReflectiveInjector.fromResolvedProviders(ResolvedReflectiveProviders,parent)},ReflectiveInjector.fromResolvedProviders=function(providers,parent){return void 0===parent&&(parent=null),new ReflectiveInjector_(ReflectiveProtoInjector.fromResolvedProviders(providers),parent)},ReflectiveInjector.fromResolvedBindings=function(providers){return ReflectiveInjector.fromResolvedProviders(providers)},Object.defineProperty(ReflectiveInjector.prototype,"parent",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),ReflectiveInjector.prototype.debugContext=function(){return null},ReflectiveInjector.prototype.resolveAndCreateChild=function(providers){return exceptions_1.unimplemented()},ReflectiveInjector.prototype.createChildFromResolved=function(providers){return exceptions_1.unimplemented()},ReflectiveInjector.prototype.resolveAndInstantiate=function(provider){return exceptions_1.unimplemented()},ReflectiveInjector.prototype.instantiateResolved=function(provider){return exceptions_1.unimplemented()},ReflectiveInjector}();exports.ReflectiveInjector=ReflectiveInjector;var ReflectiveInjector_=function(){function ReflectiveInjector_(_proto,_parent,_debugContext){void 0===_parent&&(_parent=null),void 0===_debugContext&&(_debugContext=null),this._debugContext=_debugContext,this._constructionCounter=0,this._proto=_proto,this._parent=_parent,this._strategy=_proto._strategy.createInjectorStrategy(this)}return ReflectiveInjector_.prototype.debugContext=function(){return this._debugContext()},ReflectiveInjector_.prototype.get=function(token,notFoundValue){return void 0===notFoundValue&&(notFoundValue=injector_1.THROW_IF_NOT_FOUND),this._getByKey(reflective_key_1.ReflectiveKey.get(token),null,null,notFoundValue)},ReflectiveInjector_.prototype.getAt=function(index){return this._strategy.getObjAtIndex(index)},Object.defineProperty(ReflectiveInjector_.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(ReflectiveInjector_.prototype,"internalStrategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),ReflectiveInjector_.prototype.resolveAndCreateChild=function(providers){var ResolvedReflectiveProviders=ReflectiveInjector.resolve(providers);return this.createChildFromResolved(ResolvedReflectiveProviders)},ReflectiveInjector_.prototype.createChildFromResolved=function(providers){var proto=new ReflectiveProtoInjector(providers),inj=new ReflectiveInjector_(proto);return inj._parent=this,inj},ReflectiveInjector_.prototype.resolveAndInstantiate=function(provider){return this.instantiateResolved(ReflectiveInjector.resolve([provider])[0])},ReflectiveInjector_.prototype.instantiateResolved=function(provider){return this._instantiateProvider(provider)},ReflectiveInjector_.prototype._new=function(provider){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects())throw new reflective_exceptions_1.CyclicDependencyError(this,provider.key);return this._instantiateProvider(provider)},ReflectiveInjector_.prototype._instantiateProvider=function(provider){if(provider.multiProvider){for(var res=collection_1.ListWrapper.createFixedSize(provider.resolvedFactories.length),i=0;i<provider.resolvedFactories.length;++i)res[i]=this._instantiate(provider,provider.resolvedFactories[i]);return res}return this._instantiate(provider,provider.resolvedFactories[0])},ReflectiveInjector_.prototype._instantiate=function(provider,ResolvedReflectiveFactory){var d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18,d19,factory=ResolvedReflectiveFactory.factory,deps=ResolvedReflectiveFactory.dependencies,length=deps.length;try{d0=length>0?this._getByReflectiveDependency(provider,deps[0]):null,d1=length>1?this._getByReflectiveDependency(provider,deps[1]):null,d2=length>2?this._getByReflectiveDependency(provider,deps[2]):null,d3=length>3?this._getByReflectiveDependency(provider,deps[3]):null,d4=length>4?this._getByReflectiveDependency(provider,deps[4]):null,d5=length>5?this._getByReflectiveDependency(provider,deps[5]):null,d6=length>6?this._getByReflectiveDependency(provider,deps[6]):null,d7=length>7?this._getByReflectiveDependency(provider,deps[7]):null,d8=length>8?this._getByReflectiveDependency(provider,deps[8]):null,d9=length>9?this._getByReflectiveDependency(provider,deps[9]):null,d10=length>10?this._getByReflectiveDependency(provider,deps[10]):null,d11=length>11?this._getByReflectiveDependency(provider,deps[11]):null,d12=length>12?this._getByReflectiveDependency(provider,deps[12]):null,d13=length>13?this._getByReflectiveDependency(provider,deps[13]):null,d14=length>14?this._getByReflectiveDependency(provider,deps[14]):null,d15=length>15?this._getByReflectiveDependency(provider,deps[15]):null,d16=length>16?this._getByReflectiveDependency(provider,deps[16]):null,d17=length>17?this._getByReflectiveDependency(provider,deps[17]):null,d18=length>18?this._getByReflectiveDependency(provider,deps[18]):null,d19=length>19?this._getByReflectiveDependency(provider,deps[19]):null}catch(e){throw(e instanceof reflective_exceptions_1.AbstractProviderError||e instanceof reflective_exceptions_1.InstantiationError)&&e.addKey(this,provider.key),e}var obj;try{switch(length){case 0:obj=factory();break;case 1:obj=factory(d0);break;case 2:obj=factory(d0,d1);break;case 3:obj=factory(d0,d1,d2);break;case 4:obj=factory(d0,d1,d2,d3);break;case 5:obj=factory(d0,d1,d2,d3,d4);break;case 6:obj=factory(d0,d1,d2,d3,d4,d5);break;case 7:obj=factory(d0,d1,d2,d3,d4,d5,d6);break;case 8:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7);break;case 9:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8);break;case 10:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);break;case 11:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10);break;case 12:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11);break;case 13:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12);break;case 14:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13);break;case 15:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14);break;case 16:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15);break;case 17:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16);break;case 18:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17);break;case 19:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18);break;case 20:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18,d19);break;default:throw new exceptions_1.BaseException("Cannot instantiate '"+provider.key.displayName+"' because it has more than 20 dependencies")}}catch(e){throw new reflective_exceptions_1.InstantiationError(this,e,e.stack,provider.key)}return obj},ReflectiveInjector_.prototype._getByReflectiveDependency=function(provider,dep){return this._getByKey(dep.key,dep.lowerBoundVisibility,dep.upperBoundVisibility,dep.optional?null:injector_1.THROW_IF_NOT_FOUND)},ReflectiveInjector_.prototype._getByKey=function(key,lowerBoundVisibility,upperBoundVisibility,notFoundValue){return key===INJECTOR_KEY?this:upperBoundVisibility instanceof metadata_1.SelfMetadata?this._getByKeySelf(key,notFoundValue):this._getByKeyDefault(key,notFoundValue,lowerBoundVisibility)},ReflectiveInjector_.prototype._throwOrNull=function(key,notFoundValue){if(notFoundValue!==injector_1.THROW_IF_NOT_FOUND)return notFoundValue;throw new reflective_exceptions_1.NoProviderError(this,key)},ReflectiveInjector_.prototype._getByKeySelf=function(key,notFoundValue){var obj=this._strategy.getObjByKeyId(key.id);return obj!==UNDEFINED?obj:this._throwOrNull(key,notFoundValue)},ReflectiveInjector_.prototype._getByKeyDefault=function(key,notFoundValue,lowerBoundVisibility){var inj;for(inj=lowerBoundVisibility instanceof metadata_1.SkipSelfMetadata?this._parent:this;inj instanceof ReflectiveInjector_;){var inj_=inj,obj=inj_._strategy.getObjByKeyId(key.id);if(obj!==UNDEFINED)return obj;inj=inj_._parent}return null!==inj?inj.get(key.token,notFoundValue):this._throwOrNull(key,notFoundValue)},Object.defineProperty(ReflectiveInjector_.prototype,"displayName",{get:function(){var providers=_mapProviders(this,function(b){return' "'+b.key.displayName+'" '}).join(", ");return"ReflectiveInjector(providers: ["+providers+"])"},enumerable:!0,configurable:!0}),ReflectiveInjector_.prototype.toString=function(){return this.displayName},ReflectiveInjector_}();exports.ReflectiveInjector_=ReflectiveInjector_;var INJECTOR_KEY=reflective_key_1.ReflectiveKey.get(injector_1.Injector)},{"../facade/collection":208,"../facade/exceptions":210,"./injector":197,"./metadata":198,"./reflective_exceptions":202,"./reflective_key":204,"./reflective_provider":205}],204:[function(require,module,exports){"use strict";var exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),forward_ref_1=require("./forward_ref"),ReflectiveKey=function(){function ReflectiveKey(token,id){if(this.token=token,this.id=id,lang_1.isBlank(token))throw new exceptions_1.BaseException("Token must be defined!")}return Object.defineProperty(ReflectiveKey.prototype,"displayName",{get:function(){return lang_1.stringify(this.token)},enumerable:!0,configurable:!0}),ReflectiveKey.get=function(token){return _globalKeyRegistry.get(forward_ref_1.resolveForwardRef(token))},Object.defineProperty(ReflectiveKey,"numberOfKeys",{get:function(){return _globalKeyRegistry.numberOfKeys},enumerable:!0,configurable:!0}),ReflectiveKey}();exports.ReflectiveKey=ReflectiveKey;var KeyRegistry=function(){function KeyRegistry(){this._allKeys=new Map}return KeyRegistry.prototype.get=function(token){if(token instanceof ReflectiveKey)return token;if(this._allKeys.has(token))return this._allKeys.get(token);var newKey=new ReflectiveKey(token,ReflectiveKey.numberOfKeys);return this._allKeys.set(token,newKey),newKey},Object.defineProperty(KeyRegistry.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),KeyRegistry}();exports.KeyRegistry=KeyRegistry;var _globalKeyRegistry=new KeyRegistry},{"../facade/exceptions":210,"../facade/lang":211,"./forward_ref":196}],205:[function(require,module,exports){"use strict";function resolveReflectiveFactory(provider){var factoryFn,resolvedDeps;if(lang_1.isPresent(provider.useClass)){var useClass=forward_ref_1.resolveForwardRef(provider.useClass);factoryFn=reflection_1.reflector.factory(useClass),resolvedDeps=_dependenciesFor(useClass)}else lang_1.isPresent(provider.useExisting)?(factoryFn=function(aliasInstance){return aliasInstance},resolvedDeps=[ReflectiveDependency.fromKey(reflective_key_1.ReflectiveKey.get(provider.useExisting))]):lang_1.isPresent(provider.useFactory)?(factoryFn=provider.useFactory,resolvedDeps=constructDependencies(provider.useFactory,provider.dependencies)):(factoryFn=function(){return provider.useValue},resolvedDeps=_EMPTY_LIST);return new ResolvedReflectiveFactory(factoryFn,resolvedDeps)}function resolveReflectiveProvider(provider){return new ResolvedReflectiveProvider_(reflective_key_1.ReflectiveKey.get(provider.token),[resolveReflectiveFactory(provider)],provider.multi)}function resolveReflectiveProviders(providers){var normalized=_normalizeProviders(providers,[]),resolved=normalized.map(resolveReflectiveProvider);return collection_1.MapWrapper.values(mergeResolvedReflectiveProviders(resolved,new Map))}function mergeResolvedReflectiveProviders(providers,normalizedProvidersMap){for(var i=0;i<providers.length;i++){var provider=providers[i],existing=normalizedProvidersMap.get(provider.key.id);if(lang_1.isPresent(existing)){if(provider.multiProvider!==existing.multiProvider)throw new reflective_exceptions_1.MixingMultiProvidersWithRegularProvidersError(existing,provider);if(provider.multiProvider)for(var j=0;j<provider.resolvedFactories.length;j++)existing.resolvedFactories.push(provider.resolvedFactories[j]);else normalizedProvidersMap.set(provider.key.id,provider)}else{var resolvedProvider;resolvedProvider=provider.multiProvider?new ResolvedReflectiveProvider_(provider.key,collection_1.ListWrapper.clone(provider.resolvedFactories),provider.multiProvider):provider,normalizedProvidersMap.set(provider.key.id,resolvedProvider)}}return normalizedProvidersMap}function _normalizeProviders(providers,res){return providers.forEach(function(b){if(b instanceof lang_1.Type)res.push(provider_1.provide(b,{useClass:b}));else if(b instanceof provider_1.Provider)res.push(b);else if(provider_util_1.isProviderLiteral(b))res.push(provider_util_1.createProvider(b));else{if(!(b instanceof Array))throw b instanceof provider_1.ProviderBuilder?new reflective_exceptions_1.InvalidProviderError(b.token):new reflective_exceptions_1.InvalidProviderError(b);_normalizeProviders(b,res)}}),res}function constructDependencies(typeOrFunc,dependencies){if(lang_1.isBlank(dependencies))return _dependenciesFor(typeOrFunc);var params=dependencies.map(function(t){return[t]});return dependencies.map(function(t){return _extractToken(typeOrFunc,t,params)})}function _dependenciesFor(typeOrFunc){var params=reflection_1.reflector.parameters(typeOrFunc);if(lang_1.isBlank(params))return[];if(params.some(lang_1.isBlank))throw new reflective_exceptions_1.NoAnnotationError(typeOrFunc,params);return params.map(function(p){return _extractToken(typeOrFunc,p,params)})}function _extractToken(typeOrFunc,metadata,params){var depProps=[],token=null,optional=!1;if(!lang_1.isArray(metadata))return metadata instanceof metadata_1.InjectMetadata?_createDependency(metadata.token,optional,null,null,depProps):_createDependency(metadata,optional,null,null,depProps);for(var lowerBoundVisibility=null,upperBoundVisibility=null,i=0;i<metadata.length;++i){var paramMetadata=metadata[i];paramMetadata instanceof lang_1.Type?token=paramMetadata:paramMetadata instanceof metadata_1.InjectMetadata?token=paramMetadata.token:paramMetadata instanceof metadata_1.OptionalMetadata?optional=!0:paramMetadata instanceof metadata_1.SelfMetadata?upperBoundVisibility=paramMetadata:paramMetadata instanceof metadata_1.HostMetadata?upperBoundVisibility=paramMetadata:paramMetadata instanceof metadata_1.SkipSelfMetadata?lowerBoundVisibility=paramMetadata:paramMetadata instanceof metadata_1.DependencyMetadata&&(lang_1.isPresent(paramMetadata.token)&&(token=paramMetadata.token),depProps.push(paramMetadata))}if(token=forward_ref_1.resolveForwardRef(token),lang_1.isPresent(token))return _createDependency(token,optional,lowerBoundVisibility,upperBoundVisibility,depProps);throw new reflective_exceptions_1.NoAnnotationError(typeOrFunc,params)}function _createDependency(token,optional,lowerBoundVisibility,upperBoundVisibility,depProps){return new ReflectiveDependency(reflective_key_1.ReflectiveKey.get(token),optional,lowerBoundVisibility,upperBoundVisibility,depProps)}var lang_1=require("../facade/lang"),collection_1=require("../facade/collection"),reflection_1=require("../reflection/reflection"),reflective_key_1=require("./reflective_key"),metadata_1=require("./metadata"),reflective_exceptions_1=require("./reflective_exceptions"),forward_ref_1=require("./forward_ref"),provider_1=require("./provider"),provider_util_1=require("./provider_util"),ReflectiveDependency=function(){function ReflectiveDependency(key,optional,lowerBoundVisibility,upperBoundVisibility,properties){this.key=key,this.optional=optional,this.lowerBoundVisibility=lowerBoundVisibility,this.upperBoundVisibility=upperBoundVisibility,this.properties=properties}return ReflectiveDependency.fromKey=function(key){return new ReflectiveDependency(key,(!1),null,null,[])},ReflectiveDependency}();exports.ReflectiveDependency=ReflectiveDependency;var _EMPTY_LIST=[],ResolvedReflectiveProvider_=function(){function ResolvedReflectiveProvider_(key,resolvedFactories,multiProvider){this.key=key,this.resolvedFactories=resolvedFactories,this.multiProvider=multiProvider}return Object.defineProperty(ResolvedReflectiveProvider_.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),ResolvedReflectiveProvider_}();exports.ResolvedReflectiveProvider_=ResolvedReflectiveProvider_;var ResolvedReflectiveFactory=function(){function ResolvedReflectiveFactory(factory,dependencies){this.factory=factory,this.dependencies=dependencies}return ResolvedReflectiveFactory}();exports.ResolvedReflectiveFactory=ResolvedReflectiveFactory,exports.resolveReflectiveFactory=resolveReflectiveFactory,exports.resolveReflectiveProvider=resolveReflectiveProvider,exports.resolveReflectiveProviders=resolveReflectiveProviders,exports.mergeResolvedReflectiveProviders=mergeResolvedReflectiveProviders,exports.constructDependencies=constructDependencies},{"../facade/collection":208,"../facade/lang":211,"../reflection/reflection":243,"./forward_ref":196,"./metadata":198,"./provider":200,"./provider_util":201,"./reflective_exceptions":202,"./reflective_key":204}],206:[function(require,module,exports){arguments[4][31][0].apply(exports,arguments)},{"./lang":211,"./promise":213,dup:31,"rxjs/Observable":629,"rxjs/Subject":635,"rxjs/observable/PromiseObservable":758,"rxjs/operator/toPromise":856}],207:[function(require,module,exports){arguments[4][32][0].apply(exports,arguments)},{dup:32}],208:[function(require,module,exports){arguments[4][33][0].apply(exports,arguments)},{"./lang":211,dup:33}],209:[function(require,module,exports){arguments[4][34][0].apply(exports,arguments)},{"./base_wrapped_exception":207,"./collection":208,"./lang":211,dup:34}],210:[function(require,module,exports){arguments[4][35][0].apply(exports,arguments)},{"./base_wrapped_exception":207,"./exception_handler":209,dup:35}],211:[function(require,module,exports){arguments[4][37][0].apply(exports,arguments)},{dup:37}],212:[function(require,module,exports){arguments[4][109][0].apply(exports,arguments)},{"./lang":211,dup:109}],213:[function(require,module,exports){arguments[4][38][0].apply(exports,arguments)},{dup:38}],214:[function(require,module,exports){"use strict";var compiler_1=require("./linker/compiler");exports.Compiler=compiler_1.Compiler;var component_factory_1=require("./linker/component_factory");exports.ComponentFactory=component_factory_1.ComponentFactory,exports.ComponentRef=component_factory_1.ComponentRef;var component_factory_resolver_1=require("./linker/component_factory_resolver");exports.ComponentFactoryResolver=component_factory_resolver_1.ComponentFactoryResolver,exports.NoComponentFactoryError=component_factory_resolver_1.NoComponentFactoryError;var component_resolver_1=require("./linker/component_resolver");exports.ComponentResolver=component_resolver_1.ComponentResolver;var dynamic_component_loader_1=require("./linker/dynamic_component_loader");exports.DynamicComponentLoader=dynamic_component_loader_1.DynamicComponentLoader;var element_ref_1=require("./linker/element_ref");exports.ElementRef=element_ref_1.ElementRef;var exceptions_1=require("./linker/exceptions");exports.ExpressionChangedAfterItHasBeenCheckedException=exceptions_1.ExpressionChangedAfterItHasBeenCheckedException;var query_list_1=require("./linker/query_list");exports.QueryList=query_list_1.QueryList;var systemjs_component_resolver_1=require("./linker/systemjs_component_resolver");exports.SystemJsCmpFactoryResolver=systemjs_component_resolver_1.SystemJsCmpFactoryResolver,exports.SystemJsComponentResolver=systemjs_component_resolver_1.SystemJsComponentResolver;var template_ref_1=require("./linker/template_ref");exports.TemplateRef=template_ref_1.TemplateRef;var view_container_ref_1=require("./linker/view_container_ref");exports.ViewContainerRef=view_container_ref_1.ViewContainerRef;var view_ref_1=require("./linker/view_ref");exports.EmbeddedViewRef=view_ref_1.EmbeddedViewRef,exports.ViewRef=view_ref_1.ViewRef},{"./linker/compiler":215,"./linker/component_factory":216,"./linker/component_factory_resolver":217,"./linker/component_resolver":218,"./linker/dynamic_component_loader":220,"./linker/element_ref":223,"./linker/exceptions":224,"./linker/query_list":225,"./linker/systemjs_component_resolver":226,"./linker/template_ref":227,"./linker/view_container_ref":229,"./linker/view_ref":230}],215:[function(require,module,exports){"use strict";var exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),Compiler=function(){function Compiler(){}return Compiler.prototype.compileComponentAsync=function(component){throw new exceptions_1.BaseException("Runtime compiler is not loaded. Tried to compile "+lang_1.stringify(component))},Compiler.prototype.compileComponentSync=function(component){throw new exceptions_1.BaseException("Runtime compiler is not loaded. Tried to compile "+lang_1.stringify(component))},Compiler.prototype.clearCache=function(){},Compiler.prototype.clearCacheFor=function(compType){},Compiler}();exports.Compiler=Compiler},{"../facade/exceptions":210,"../facade/lang":211}],216:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),view_utils_1=require("./view_utils"),ComponentRef=function(){function ComponentRef(){}return Object.defineProperty(ComponentRef.prototype,"location",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"injector",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"instance",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"hostView",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"changeDetectorRef",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"componentType",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),ComponentRef}();exports.ComponentRef=ComponentRef;var ComponentRef_=function(_super){function ComponentRef_(_hostElement,_componentType){_super.call(this),this._hostElement=_hostElement,this._componentType=_componentType}return __extends(ComponentRef_,_super),Object.defineProperty(ComponentRef_.prototype,"location",{get:function(){return this._hostElement.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"injector",{get:function(){return this._hostElement.injector},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"instance",{get:function(){return this._hostElement.component},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"hostView",{get:function(){return this._hostElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"changeDetectorRef",{get:function(){return this._hostElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),ComponentRef_.prototype.destroy=function(){this._hostElement.parentView.destroy()},ComponentRef_.prototype.onDestroy=function(callback){this.hostView.onDestroy(callback)},ComponentRef_}(ComponentRef);exports.ComponentRef_=ComponentRef_;var EMPTY_CONTEXT=new Object,ComponentFactory=function(){function ComponentFactory(selector,_viewFactory,_componentType){this.selector=selector,this._viewFactory=_viewFactory,this._componentType=_componentType}return Object.defineProperty(ComponentFactory.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),ComponentFactory.prototype.create=function(injector,projectableNodes,rootSelectorOrNode){void 0===projectableNodes&&(projectableNodes=null),void 0===rootSelectorOrNode&&(rootSelectorOrNode=null);var vu=injector.get(view_utils_1.ViewUtils);lang_1.isBlank(projectableNodes)&&(projectableNodes=[]);var hostView=this._viewFactory(vu,injector,null),hostElement=hostView.create(EMPTY_CONTEXT,projectableNodes,rootSelectorOrNode);return new ComponentRef_(hostElement,this._componentType)},ComponentFactory}();exports.ComponentFactory=ComponentFactory},{"../facade/exceptions":210,"../facade/lang":211,"./view_utils":232}],217:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),NoComponentFactoryError=function(_super){function NoComponentFactoryError(component){_super.call(this,"No component factory found for "+lang_1.stringify(component)),this.component=component}return __extends(NoComponentFactoryError,_super),NoComponentFactoryError}(exceptions_1.BaseException);exports.NoComponentFactoryError=NoComponentFactoryError;var _NullComponentFactoryResolver=function(){function _NullComponentFactoryResolver(){}return _NullComponentFactoryResolver.prototype.resolveComponentFactory=function(component){throw new NoComponentFactoryError(component)},_NullComponentFactoryResolver}(),ComponentFactoryResolver=function(){function ComponentFactoryResolver(){}return ComponentFactoryResolver.NULL=new _NullComponentFactoryResolver,ComponentFactoryResolver}();exports.ComponentFactoryResolver=ComponentFactoryResolver;var CodegenComponentFactoryResolver=function(){function CodegenComponentFactoryResolver(factories,_parent){this._parent=_parent,this._factories=new Map;for(var i=0;i<factories.length;i++){var factory=factories[i];this._factories.set(factory.componentType,factory)}}return CodegenComponentFactoryResolver.prototype.resolveComponentFactory=function(component){var result=this._factories.get(component);return result||(result=this._parent.resolveComponentFactory(component)),result},CodegenComponentFactoryResolver}();exports.CodegenComponentFactoryResolver=CodegenComponentFactoryResolver},{"../facade/exceptions":210,"../facade/lang":211}],218:[function(require,module,exports){"use strict";function _isComponentFactory(type){return type instanceof component_factory_1.ComponentFactory}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},decorators_1=require("../di/decorators"),async_1=require("../facade/async"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),reflection_1=require("../reflection/reflection"),component_factory_1=require("./component_factory"),ComponentResolver=function(){function ComponentResolver(){}return ComponentResolver}();exports.ComponentResolver=ComponentResolver;var ReflectorComponentResolver=function(_super){function ReflectorComponentResolver(){_super.apply(this,arguments)}return __extends(ReflectorComponentResolver,_super),ReflectorComponentResolver.prototype.resolveComponent=function(component){if(lang_1.isString(component))return async_1.PromiseWrapper.reject(new exceptions_1.BaseException("Cannot resolve component using '"+component+"'."),null);
var metadatas=reflection_1.reflector.annotations(component),componentFactory=metadatas.find(_isComponentFactory);if(lang_1.isBlank(componentFactory))throw new exceptions_1.BaseException("No precompiled component "+lang_1.stringify(component)+" found");return async_1.PromiseWrapper.resolve(componentFactory)},ReflectorComponentResolver.prototype.clearCache=function(){},ReflectorComponentResolver.decorators=[{type:decorators_1.Injectable}],ReflectorComponentResolver}(ComponentResolver);exports.ReflectorComponentResolver=ReflectorComponentResolver},{"../di/decorators":195,"../facade/async":206,"../facade/exceptions":210,"../facade/lang":211,"../reflection/reflection":243,"./component_factory":216}],219:[function(require,module,exports){"use strict";var collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),view_type_1=require("./view_type"),StaticNodeDebugInfo=function(){function StaticNodeDebugInfo(providerTokens,componentToken,refTokens){this.providerTokens=providerTokens,this.componentToken=componentToken,this.refTokens=refTokens}return StaticNodeDebugInfo}();exports.StaticNodeDebugInfo=StaticNodeDebugInfo;var DebugContext=function(){function DebugContext(_view,_nodeIndex,_tplRow,_tplCol){this._view=_view,this._nodeIndex=_nodeIndex,this._tplRow=_tplRow,this._tplCol=_tplCol}return Object.defineProperty(DebugContext.prototype,"_staticNodeInfo",{get:function(){return lang_1.isPresent(this._nodeIndex)?this._view.staticNodeDebugInfos[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"component",{get:function(){var staticNodeInfo=this._staticNodeInfo;return lang_1.isPresent(staticNodeInfo)&&lang_1.isPresent(staticNodeInfo.componentToken)?this.injector.get(staticNodeInfo.componentToken):null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"componentRenderElement",{get:function(){for(var componentView=this._view;lang_1.isPresent(componentView.declarationAppElement)&&componentView.type!==view_type_1.ViewType.COMPONENT;)componentView=componentView.declarationAppElement.parentView;return lang_1.isPresent(componentView.declarationAppElement)?componentView.declarationAppElement.nativeElement:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"injector",{get:function(){return this._view.injector(this._nodeIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"renderNode",{get:function(){return lang_1.isPresent(this._nodeIndex)&&lang_1.isPresent(this._view.allNodes)?this._view.allNodes[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"providerTokens",{get:function(){var staticNodeInfo=this._staticNodeInfo;return lang_1.isPresent(staticNodeInfo)?staticNodeInfo.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"source",{get:function(){return this._view.componentType.templateUrl+":"+this._tplRow+":"+this._tplCol},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"references",{get:function(){var _this=this,varValues={},staticNodeInfo=this._staticNodeInfo;if(lang_1.isPresent(staticNodeInfo)){var refs=staticNodeInfo.refTokens;collection_1.StringMapWrapper.forEach(refs,function(refToken,refName){var varValue;varValue=lang_1.isBlank(refToken)?lang_1.isPresent(_this._view.allNodes)?_this._view.allNodes[_this._nodeIndex]:null:_this._view.injectorGet(refToken,_this._nodeIndex,null),varValues[refName]=varValue})}return varValues},enumerable:!0,configurable:!0}),DebugContext}();exports.DebugContext=DebugContext},{"../facade/collection":208,"../facade/lang":211,"./view_type":231}],220:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},decorators_1=require("../di/decorators"),reflective_injector_1=require("../di/reflective_injector"),lang_1=require("../facade/lang"),component_resolver_1=require("./component_resolver"),DynamicComponentLoader=function(){function DynamicComponentLoader(){}return DynamicComponentLoader}();exports.DynamicComponentLoader=DynamicComponentLoader;var DynamicComponentLoader_=function(_super){function DynamicComponentLoader_(_compiler){_super.call(this),this._compiler=_compiler}return __extends(DynamicComponentLoader_,_super),DynamicComponentLoader_.prototype.loadAsRoot=function(type,overrideSelectorOrNode,injector,onDispose,projectableNodes){return this._compiler.resolveComponent(type).then(function(componentFactory){var componentRef=componentFactory.create(injector,projectableNodes,lang_1.isPresent(overrideSelectorOrNode)?overrideSelectorOrNode:componentFactory.selector);return lang_1.isPresent(onDispose)&&componentRef.onDestroy(onDispose),componentRef})},DynamicComponentLoader_.prototype.loadNextToLocation=function(type,location,providers,projectableNodes){return void 0===providers&&(providers=null),void 0===projectableNodes&&(projectableNodes=null),this._compiler.resolveComponent(type).then(function(componentFactory){var contextInjector=location.parentInjector,childInjector=lang_1.isPresent(providers)&&providers.length>0?reflective_injector_1.ReflectiveInjector.fromResolvedProviders(providers,contextInjector):contextInjector;return location.createComponent(componentFactory,location.length,childInjector,projectableNodes)})},DynamicComponentLoader_.decorators=[{type:decorators_1.Injectable}],DynamicComponentLoader_.ctorParameters=[{type:component_resolver_1.ComponentResolver}],DynamicComponentLoader_}(DynamicComponentLoader);exports.DynamicComponentLoader_=DynamicComponentLoader_},{"../di/decorators":195,"../di/reflective_injector":203,"../facade/lang":211,"./component_resolver":218}],221:[function(require,module,exports){"use strict";var collection_1=require("../facade/collection"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),element_ref_1=require("./element_ref"),view_container_ref_1=require("./view_container_ref"),view_type_1=require("./view_type"),AppElement=function(){function AppElement(index,parentIndex,parentView,nativeElement){this.index=index,this.parentIndex=parentIndex,this.parentView=parentView,this.nativeElement=nativeElement,this.nestedViews=null,this.componentView=null}return Object.defineProperty(AppElement.prototype,"elementRef",{get:function(){return new element_ref_1.ElementRef(this.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(AppElement.prototype,"vcRef",{get:function(){return new view_container_ref_1.ViewContainerRef_(this)},enumerable:!0,configurable:!0}),AppElement.prototype.initComponent=function(component,componentConstructorViewQueries,view){this.component=component,this.componentConstructorViewQueries=componentConstructorViewQueries,this.componentView=view},Object.defineProperty(AppElement.prototype,"parentInjector",{get:function(){return this.parentView.injector(this.parentIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(AppElement.prototype,"injector",{get:function(){return this.parentView.injector(this.index)},enumerable:!0,configurable:!0}),AppElement.prototype.mapNestedViews=function(nestedViewClass,callback){var result=[];return lang_1.isPresent(this.nestedViews)&&this.nestedViews.forEach(function(nestedView){nestedView.clazz===nestedViewClass&&result.push(callback(nestedView))}),result},AppElement.prototype.attachView=function(view,viewIndex){if(view.type===view_type_1.ViewType.COMPONENT)throw new exceptions_1.BaseException("Component views can't be moved!");var nestedViews=this.nestedViews;null==nestedViews&&(nestedViews=[],this.nestedViews=nestedViews),collection_1.ListWrapper.insert(nestedViews,viewIndex,view);var refRenderNode;if(viewIndex>0){var prevView=nestedViews[viewIndex-1];refRenderNode=prevView.lastRootNode}else refRenderNode=this.nativeElement;lang_1.isPresent(refRenderNode)&&view.renderer.attachViewAfter(refRenderNode,view.flatRootNodes),view.addToContentChildren(this)},AppElement.prototype.detachView=function(viewIndex){var view=collection_1.ListWrapper.removeAt(this.nestedViews,viewIndex);if(view.type===view_type_1.ViewType.COMPONENT)throw new exceptions_1.BaseException("Component views can't be moved!");return view.detach(),view.removeFromContentChildren(this),view},AppElement}();exports.AppElement=AppElement},{"../facade/collection":208,"../facade/exceptions":210,"../facade/lang":211,"./element_ref":223,"./view_container_ref":229,"./view_type":231}],222:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},injector_1=require("../di/injector"),_UNDEFINED=new Object,ElementInjector=function(_super){function ElementInjector(_view,_nodeIndex){_super.call(this),this._view=_view,this._nodeIndex=_nodeIndex}return __extends(ElementInjector,_super),ElementInjector.prototype.get=function(token,notFoundValue){void 0===notFoundValue&&(notFoundValue=injector_1.THROW_IF_NOT_FOUND);var result=_UNDEFINED;return result===_UNDEFINED&&(result=this._view.injectorGet(token,this._nodeIndex,_UNDEFINED)),result===_UNDEFINED&&(result=this._view.parentInjector.get(token,notFoundValue)),result},ElementInjector}(injector_1.Injector);exports.ElementInjector=ElementInjector},{"../di/injector":197}],223:[function(require,module,exports){"use strict";var ElementRef=function(){function ElementRef(nativeElement){this.nativeElement=nativeElement}return ElementRef}();exports.ElementRef=ElementRef},{}],224:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},exceptions_1=require("../facade/exceptions"),ExpressionChangedAfterItHasBeenCheckedException=function(_super){function ExpressionChangedAfterItHasBeenCheckedException(oldValue,currValue,context){_super.call(this,"Expression has changed after it was checked. "+("Previous value: '"+oldValue+"'. Current value: '"+currValue+"'"))}return __extends(ExpressionChangedAfterItHasBeenCheckedException,_super),ExpressionChangedAfterItHasBeenCheckedException}(exceptions_1.BaseException);exports.ExpressionChangedAfterItHasBeenCheckedException=ExpressionChangedAfterItHasBeenCheckedException;var ViewWrappedException=function(_super){function ViewWrappedException(originalException,originalStack,context){_super.call(this,"Error in "+context.source,originalException,originalStack,context)}return __extends(ViewWrappedException,_super),ViewWrappedException}(exceptions_1.WrappedException);exports.ViewWrappedException=ViewWrappedException;var ViewDestroyedException=function(_super){function ViewDestroyedException(details){_super.call(this,"Attempt to use a destroyed view: "+details)}return __extends(ViewDestroyedException,_super),ViewDestroyedException}(exceptions_1.BaseException);exports.ViewDestroyedException=ViewDestroyedException},{"../facade/exceptions":210}],225:[function(require,module,exports){"use strict";var async_1=require("../facade/async"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),QueryList=function(){function QueryList(){this._dirty=!0,this._results=[],this._emitter=new async_1.EventEmitter}return Object.defineProperty(QueryList.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),QueryList.prototype.map=function(fn){return this._results.map(fn)},QueryList.prototype.filter=function(fn){return this._results.filter(fn)},QueryList.prototype.reduce=function(fn,init){return this._results.reduce(fn,init)},QueryList.prototype.forEach=function(fn){this._results.forEach(fn)},QueryList.prototype.some=function(fn){return this._results.some(fn)},QueryList.prototype.toArray=function(){return this._results.slice()},QueryList.prototype[lang_1.getSymbolIterator()]=function(){return this._results[lang_1.getSymbolIterator()]()},QueryList.prototype.toString=function(){return this._results.toString()},QueryList.prototype.reset=function(res){this._results=collection_1.ListWrapper.flatten(res),this._dirty=!1},QueryList.prototype.notifyOnChanges=function(){this._emitter.emit(this)},QueryList.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(QueryList.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),QueryList}();exports.QueryList=QueryList},{"../facade/async":206,"../facade/collection":208,"../facade/lang":211}],226:[function(require,module,exports){"use strict";var lang_1=require("../facade/lang"),_SEPARATOR="#",SystemJsComponentResolver=function(){function SystemJsComponentResolver(_resolver){this._resolver=_resolver}return SystemJsComponentResolver.prototype.resolveComponent=function(componentType){var _this=this;if(lang_1.isString(componentType)){var _a=componentType.split(_SEPARATOR),module=_a[0],component_1=_a[1];return void 0===component_1&&(component_1="default"),lang_1.global.System["import"](module).then(function(module){return _this._resolver.resolveComponent(module[component_1])})}return this._resolver.resolveComponent(componentType)},SystemJsComponentResolver.prototype.clearCache=function(){},SystemJsComponentResolver}();exports.SystemJsComponentResolver=SystemJsComponentResolver;var FACTORY_MODULE_SUFFIX=".ngfactory",FACTORY_CLASS_SUFFIX="NgFactory",SystemJsCmpFactoryResolver=function(){function SystemJsCmpFactoryResolver(){}return SystemJsCmpFactoryResolver.prototype.resolveComponent=function(componentType){if(lang_1.isString(componentType)){var _a=componentType.split(_SEPARATOR),module=_a[0],factory_1=_a[1];return lang_1.global.System["import"](module+FACTORY_MODULE_SUFFIX).then(function(module){return module[factory_1+FACTORY_CLASS_SUFFIX]})}return Promise.resolve(null)},SystemJsCmpFactoryResolver.prototype.clearCache=function(){},SystemJsCmpFactoryResolver}();exports.SystemJsCmpFactoryResolver=SystemJsCmpFactoryResolver},{"../facade/lang":211}],227:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=require("../facade/lang"),EMPTY_CONTEXT=new Object,TemplateRef=function(){function TemplateRef(){}return Object.defineProperty(TemplateRef.prototype,"elementRef",{get:function(){return null},enumerable:!0,configurable:!0}),TemplateRef}();exports.TemplateRef=TemplateRef;var TemplateRef_=function(_super){function TemplateRef_(_appElement,_viewFactory){_super.call(this),this._appElement=_appElement,this._viewFactory=_viewFactory}return __extends(TemplateRef_,_super),TemplateRef_.prototype.createEmbeddedView=function(context){var view=this._viewFactory(this._appElement.parentView.viewUtils,this._appElement.parentInjector,this._appElement);return lang_1.isBlank(context)&&(context=EMPTY_CONTEXT),view.create(context,null,null),view.ref},Object.defineProperty(TemplateRef_.prototype,"elementRef",{get:function(){return this._appElement.elementRef},enumerable:!0,configurable:!0}),TemplateRef_}(TemplateRef);exports.TemplateRef_=TemplateRef_},{"../facade/lang":211}],228:[function(require,module,exports){"use strict";function _findLastRenderNode(node){var lastNode;if(node instanceof element_1.AppElement){var appEl=node;if(lastNode=appEl.nativeElement,lang_1.isPresent(appEl.nestedViews))for(var i=appEl.nestedViews.length-1;i>=0;i--){var nestedView=appEl.nestedViews[i];nestedView.rootNodesOrAppElements.length>0&&(lastNode=_findLastRenderNode(nestedView.rootNodesOrAppElements[nestedView.rootNodesOrAppElements.length-1]))}}else lastNode=node;return lastNode}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=require("../facade/async"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),element_1=require("./element"),view_ref_1=require("./view_ref"),view_type_1=require("./view_type"),view_utils_1=require("./view_utils"),change_detection_1=require("../change_detection/change_detection"),profile_1=require("../profile/profile"),exceptions_1=require("./exceptions"),debug_context_1=require("./debug_context"),element_injector_1=require("./element_injector"),animation_group_player_1=require("../animation/animation_group_player"),active_animation_players_map_1=require("../animation/active_animation_players_map"),_scope_check=profile_1.wtfCreateScope("AppView#check(ascii id)"),AppView=function(){function AppView(clazz,componentType,type,viewUtils,parentInjector,declarationAppElement,cdMode){this.clazz=clazz,this.componentType=componentType,this.type=type,this.viewUtils=viewUtils,this.parentInjector=parentInjector,this.declarationAppElement=declarationAppElement,this.cdMode=cdMode,this.contentChildren=[],this.viewChildren=[],this.viewContainerElement=null,this.numberOfChecks=0,this.activeAnimationPlayers=new active_animation_players_map_1.ActiveAnimationPlayersMap,this.ref=new view_ref_1.ViewRef_(this),type===view_type_1.ViewType.COMPONENT||type===view_type_1.ViewType.HOST?this.renderer=viewUtils.renderComponent(componentType):this.renderer=declarationAppElement.parentView.renderer}return Object.defineProperty(AppView.prototype,"destroyed",{get:function(){return this.cdMode===change_detection_1.ChangeDetectorStatus.Destroyed},enumerable:!0,configurable:!0}),AppView.prototype.cancelActiveAnimation=function(element,animationName,removeAllAnimations){if(void 0===removeAllAnimations&&(removeAllAnimations=!1),removeAllAnimations)this.activeAnimationPlayers.findAllPlayersByElement(element).forEach(function(player){return player.destroy()});else{var player=this.activeAnimationPlayers.find(element,animationName);lang_1.isPresent(player)&&player.destroy()}},AppView.prototype.registerAndStartAnimation=function(element,animationName,player){var _this=this;this.activeAnimationPlayers.set(element,animationName,player),player.onDone(function(){_this.activeAnimationPlayers.remove(element,animationName)}),player.play()},AppView.prototype.create=function(context,givenProjectableNodes,rootSelectorOrNode){this.context=context;var projectableNodes;switch(this.type){case view_type_1.ViewType.COMPONENT:projectableNodes=view_utils_1.ensureSlotCount(givenProjectableNodes,this.componentType.slotCount);break;case view_type_1.ViewType.EMBEDDED:projectableNodes=this.declarationAppElement.parentView.projectableNodes;break;case view_type_1.ViewType.HOST:projectableNodes=givenProjectableNodes}return this._hasExternalHostElement=lang_1.isPresent(rootSelectorOrNode),this.projectableNodes=projectableNodes,this.createInternal(rootSelectorOrNode)},AppView.prototype.createInternal=function(rootSelectorOrNode){return null},AppView.prototype.init=function(rootNodesOrAppElements,allNodes,disposables,subscriptions){this.rootNodesOrAppElements=rootNodesOrAppElements,this.allNodes=allNodes,this.disposables=disposables,this.subscriptions=subscriptions,this.type===view_type_1.ViewType.COMPONENT&&(this.declarationAppElement.parentView.viewChildren.push(this),this.dirtyParentQueriesInternal())},AppView.prototype.selectOrCreateHostElement=function(elementName,rootSelectorOrNode,debugInfo){var hostElement;return hostElement=lang_1.isPresent(rootSelectorOrNode)?this.renderer.selectRootElement(rootSelectorOrNode,debugInfo):this.renderer.createElement(null,elementName,debugInfo)},AppView.prototype.injectorGet=function(token,nodeIndex,notFoundResult){return this.injectorGetInternal(token,nodeIndex,notFoundResult)},AppView.prototype.injectorGetInternal=function(token,nodeIndex,notFoundResult){return notFoundResult},AppView.prototype.injector=function(nodeIndex){return lang_1.isPresent(nodeIndex)?new element_injector_1.ElementInjector(this,nodeIndex):this.parentInjector},AppView.prototype.destroy=function(){this._hasExternalHostElement?this.renderer.detachView(this.flatRootNodes):lang_1.isPresent(this.viewContainerElement)&&this.viewContainerElement.detachView(this.viewContainerElement.nestedViews.indexOf(this)),this._destroyRecurse()},AppView.prototype._destroyRecurse=function(){if(this.cdMode!==change_detection_1.ChangeDetectorStatus.Destroyed){for(var children=this.contentChildren,i=0;i<children.length;i++)children[i]._destroyRecurse();children=this.viewChildren;for(var i=0;i<children.length;i++)children[i]._destroyRecurse();this.destroyLocal(),this.cdMode=change_detection_1.ChangeDetectorStatus.Destroyed}},AppView.prototype.destroyLocal=function(){for(var _this=this,hostElement=this.type===view_type_1.ViewType.COMPONENT?this.declarationAppElement.nativeElement:null,i=0;i<this.disposables.length;i++)this.disposables[i]();for(var i=0;i<this.subscriptions.length;i++)async_1.ObservableWrapper.dispose(this.subscriptions[i]);if(this.destroyInternal(),this.dirtyParentQueriesInternal(),0==this.activeAnimationPlayers.length)this.renderer.destroyView(hostElement,this.allNodes);else{var player=new animation_group_player_1.AnimationGroupPlayer(this.activeAnimationPlayers.getAllPlayers());player.onDone(function(){_this.renderer.destroyView(hostElement,_this.allNodes)})}},AppView.prototype.destroyInternal=function(){},AppView.prototype.detachInternal=function(){},AppView.prototype.detach=function(){var _this=this;if(this.detachInternal(),0==this.activeAnimationPlayers.length)this.renderer.detachView(this.flatRootNodes);else{var player=new animation_group_player_1.AnimationGroupPlayer(this.activeAnimationPlayers.getAllPlayers());player.onDone(function(){_this.renderer.detachView(_this.flatRootNodes)})}},Object.defineProperty(AppView.prototype,"changeDetectorRef",{get:function(){return this.ref},enumerable:!0,configurable:!0}),Object.defineProperty(AppView.prototype,"parent",{get:function(){return lang_1.isPresent(this.declarationAppElement)?this.declarationAppElement.parentView:null},enumerable:!0,configurable:!0}),Object.defineProperty(AppView.prototype,"flatRootNodes",{get:function(){return view_utils_1.flattenNestedViewRenderNodes(this.rootNodesOrAppElements)},enumerable:!0,configurable:!0}),Object.defineProperty(AppView.prototype,"lastRootNode",{get:function(){var lastNode=this.rootNodesOrAppElements.length>0?this.rootNodesOrAppElements[this.rootNodesOrAppElements.length-1]:null;return _findLastRenderNode(lastNode)},enumerable:!0,configurable:!0}),AppView.prototype.dirtyParentQueriesInternal=function(){},AppView.prototype.detectChanges=function(throwOnChange){var s=_scope_check(this.clazz);this.cdMode!==change_detection_1.ChangeDetectorStatus.Checked&&this.cdMode!==change_detection_1.ChangeDetectorStatus.Errored&&(this.cdMode===change_detection_1.ChangeDetectorStatus.Destroyed&&this.throwDestroyedError("detectChanges"),this.detectChangesInternal(throwOnChange),this.cdMode===change_detection_1.ChangeDetectorStatus.CheckOnce&&(this.cdMode=change_detection_1.ChangeDetectorStatus.Checked),this.numberOfChecks++,profile_1.wtfLeave(s))},AppView.prototype.detectChangesInternal=function(throwOnChange){this.detectContentChildrenChanges(throwOnChange),this.detectViewChildrenChanges(throwOnChange)},AppView.prototype.detectContentChildrenChanges=function(throwOnChange){for(var i=0;i<this.contentChildren.length;++i){var child=this.contentChildren[i];child.cdMode!==change_detection_1.ChangeDetectorStatus.Detached&&child.detectChanges(throwOnChange)}},AppView.prototype.detectViewChildrenChanges=function(throwOnChange){for(var i=0;i<this.viewChildren.length;++i){var child=this.viewChildren[i];child.cdMode!==change_detection_1.ChangeDetectorStatus.Detached&&child.detectChanges(throwOnChange)}},AppView.prototype.addToContentChildren=function(renderAppElement){renderAppElement.parentView.contentChildren.push(this),this.viewContainerElement=renderAppElement,this.dirtyParentQueriesInternal()},AppView.prototype.removeFromContentChildren=function(renderAppElement){collection_1.ListWrapper.remove(renderAppElement.parentView.contentChildren,this),this.dirtyParentQueriesInternal(),this.viewContainerElement=null},AppView.prototype.markAsCheckOnce=function(){this.cdMode=change_detection_1.ChangeDetectorStatus.CheckOnce},AppView.prototype.markPathToRootAsCheckOnce=function(){for(var c=this;lang_1.isPresent(c)&&c.cdMode!==change_detection_1.ChangeDetectorStatus.Detached;){c.cdMode===change_detection_1.ChangeDetectorStatus.Checked&&(c.cdMode=change_detection_1.ChangeDetectorStatus.CheckOnce);var parentEl=c.type===view_type_1.ViewType.COMPONENT?c.declarationAppElement:c.viewContainerElement;c=lang_1.isPresent(parentEl)?parentEl.parentView:null}},AppView.prototype.eventHandler=function(cb){return cb},AppView.prototype.throwDestroyedError=function(details){throw new exceptions_1.ViewDestroyedException(details)},AppView}();exports.AppView=AppView;var DebugAppView=function(_super){function DebugAppView(clazz,componentType,type,viewUtils,parentInjector,declarationAppElement,cdMode,staticNodeDebugInfos){_super.call(this,clazz,componentType,type,viewUtils,parentInjector,declarationAppElement,cdMode),this.staticNodeDebugInfos=staticNodeDebugInfos,this._currentDebugContext=null}return __extends(DebugAppView,_super),DebugAppView.prototype.create=function(context,givenProjectableNodes,rootSelectorOrNode){this._resetDebug();try{return _super.prototype.create.call(this,context,givenProjectableNodes,rootSelectorOrNode)}catch(e){throw this._rethrowWithContext(e,e.stack),e}},DebugAppView.prototype.injectorGet=function(token,nodeIndex,notFoundResult){this._resetDebug();try{return _super.prototype.injectorGet.call(this,token,nodeIndex,notFoundResult)}catch(e){throw this._rethrowWithContext(e,e.stack),e}},DebugAppView.prototype.detach=function(){this._resetDebug();try{_super.prototype.detach.call(this)}catch(e){throw this._rethrowWithContext(e,e.stack),e}},DebugAppView.prototype.destroyLocal=function(){this._resetDebug();try{_super.prototype.destroyLocal.call(this)}catch(e){throw this._rethrowWithContext(e,e.stack),e}},DebugAppView.prototype.detectChanges=function(throwOnChange){this._resetDebug();try{_super.prototype.detectChanges.call(this,throwOnChange)}catch(e){throw this._rethrowWithContext(e,e.stack),e}},DebugAppView.prototype._resetDebug=function(){this._currentDebugContext=null},DebugAppView.prototype.debug=function(nodeIndex,rowNum,colNum){return this._currentDebugContext=new debug_context_1.DebugContext(this,nodeIndex,rowNum,colNum)},DebugAppView.prototype._rethrowWithContext=function(e,stack){if(!(e instanceof exceptions_1.ViewWrappedException)&&(e instanceof exceptions_1.ExpressionChangedAfterItHasBeenCheckedException||(this.cdMode=change_detection_1.ChangeDetectorStatus.Errored),lang_1.isPresent(this._currentDebugContext)))throw new exceptions_1.ViewWrappedException(e,stack,this._currentDebugContext)},DebugAppView.prototype.eventHandler=function(cb){var _this=this,superHandler=_super.prototype.eventHandler.call(this,cb);return function(event){_this._resetDebug();try{return superHandler(event)}catch(e){throw _this._rethrowWithContext(e,e.stack),e}}},DebugAppView}(AppView);exports.DebugAppView=DebugAppView},{"../animation/active_animation_players_map":169,"../animation/animation_group_player":172,"../change_detection/change_detection":183,"../facade/async":206,"../facade/collection":208,"../facade/lang":211,"../profile/profile":240,"./debug_context":219,"./element":221,"./element_injector":222,"./exceptions":224,"./view_ref":230,"./view_type":231,"./view_utils":232}],229:[function(require,module,exports){"use strict";var collection_1=require("../facade/collection"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),profile_1=require("../profile/profile"),ViewContainerRef=function(){function ViewContainerRef(){}return Object.defineProperty(ViewContainerRef.prototype,"element",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef.prototype,"injector",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef.prototype,"parentInjector",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef.prototype,"length",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),ViewContainerRef}();exports.ViewContainerRef=ViewContainerRef;var ViewContainerRef_=function(){function ViewContainerRef_(_element){this._element=_element,this._createComponentInContainerScope=profile_1.wtfCreateScope("ViewContainerRef#createComponent()"),this._insertScope=profile_1.wtfCreateScope("ViewContainerRef#insert()"),this._removeScope=profile_1.wtfCreateScope("ViewContainerRef#remove()"),this._detachScope=profile_1.wtfCreateScope("ViewContainerRef#detach()")}return ViewContainerRef_.prototype.get=function(index){return this._element.nestedViews[index].ref},Object.defineProperty(ViewContainerRef_.prototype,"length",{get:function(){var views=this._element.nestedViews;return lang_1.isPresent(views)?views.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"element",{get:function(){return this._element.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"injector",{get:function(){return this._element.injector},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"parentInjector",{get:function(){return this._element.parentInjector},enumerable:!0,configurable:!0}),ViewContainerRef_.prototype.createEmbeddedView=function(templateRef,context,index){void 0===context&&(context=null),void 0===index&&(index=-1);var viewRef=templateRef.createEmbeddedView(context);return this.insert(viewRef,index),viewRef},ViewContainerRef_.prototype.createComponent=function(componentFactory,index,injector,projectableNodes){void 0===index&&(index=-1),void 0===injector&&(injector=null),void 0===projectableNodes&&(projectableNodes=null);var s=this._createComponentInContainerScope(),contextInjector=lang_1.isPresent(injector)?injector:this._element.parentInjector,componentRef=componentFactory.create(contextInjector,projectableNodes);return this.insert(componentRef.hostView,index),profile_1.wtfLeave(s,componentRef)},ViewContainerRef_.prototype.insert=function(viewRef,index){void 0===index&&(index=-1);var s=this._insertScope();index==-1&&(index=this.length);var viewRef_=viewRef;return this._element.attachView(viewRef_.internalView,index),profile_1.wtfLeave(s,viewRef_)},ViewContainerRef_.prototype.indexOf=function(viewRef){return collection_1.ListWrapper.indexOf(this._element.nestedViews,viewRef.internalView)},ViewContainerRef_.prototype.remove=function(index){void 0===index&&(index=-1);var s=this._removeScope();index==-1&&(index=this.length-1);var view=this._element.detachView(index);view.destroy(),profile_1.wtfLeave(s)},ViewContainerRef_.prototype.detach=function(index){void 0===index&&(index=-1);var s=this._detachScope();index==-1&&(index=this.length-1);var view=this._element.detachView(index);return profile_1.wtfLeave(s,view.ref)},ViewContainerRef_.prototype.clear=function(){for(var i=this.length-1;i>=0;i--)this.remove(i);
},ViewContainerRef_}();exports.ViewContainerRef_=ViewContainerRef_},{"../facade/collection":208,"../facade/exceptions":210,"../facade/lang":211,"../profile/profile":240}],230:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},constants_1=require("../change_detection/constants"),exceptions_1=require("../facade/exceptions"),ViewRef=function(){function ViewRef(){}return Object.defineProperty(ViewRef.prototype,"destroyed",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),ViewRef}();exports.ViewRef=ViewRef;var EmbeddedViewRef=function(_super){function EmbeddedViewRef(){_super.apply(this,arguments)}return __extends(EmbeddedViewRef,_super),Object.defineProperty(EmbeddedViewRef.prototype,"context",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(EmbeddedViewRef.prototype,"rootNodes",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),EmbeddedViewRef}(ViewRef);exports.EmbeddedViewRef=EmbeddedViewRef;var ViewRef_=function(){function ViewRef_(_view){this._view=_view,this._view=_view,this._originalMode=this._view.cdMode}return Object.defineProperty(ViewRef_.prototype,"internalView",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"destroyed",{get:function(){return this._view.destroyed},enumerable:!0,configurable:!0}),ViewRef_.prototype.markForCheck=function(){this._view.markPathToRootAsCheckOnce()},ViewRef_.prototype.detach=function(){this._view.cdMode=constants_1.ChangeDetectorStatus.Detached},ViewRef_.prototype.detectChanges=function(){this._view.detectChanges(!1)},ViewRef_.prototype.checkNoChanges=function(){this._view.detectChanges(!0)},ViewRef_.prototype.reattach=function(){this._view.cdMode=this._originalMode,this.markForCheck()},ViewRef_.prototype.onDestroy=function(callback){this._view.disposables.push(callback)},ViewRef_.prototype.destroy=function(){this._view.destroy()},ViewRef_}();exports.ViewRef_=ViewRef_},{"../change_detection/constants":186,"../facade/exceptions":210}],231:[function(require,module,exports){"use strict";!function(ViewType){ViewType[ViewType.HOST=0]="HOST",ViewType[ViewType.COMPONENT=1]="COMPONENT",ViewType[ViewType.EMBEDDED=2]="EMBEDDED"}(exports.ViewType||(exports.ViewType={}));exports.ViewType},{}],232:[function(require,module,exports){"use strict";function flattenNestedViewRenderNodes(nodes){return _flattenNestedViewRenderNodes(nodes,[])}function _flattenNestedViewRenderNodes(nodes,renderNodes){for(var i=0;i<nodes.length;i++){var node=nodes[i];if(node instanceof element_1.AppElement){var appEl=node;if(renderNodes.push(appEl.nativeElement),lang_1.isPresent(appEl.nestedViews))for(var k=0;k<appEl.nestedViews.length;k++)_flattenNestedViewRenderNodes(appEl.nestedViews[k].rootNodesOrAppElements,renderNodes)}else renderNodes.push(node)}return renderNodes}function ensureSlotCount(projectableNodes,expectedSlotCount){var res;if(lang_1.isBlank(projectableNodes))res=EMPTY_ARR;else if(projectableNodes.length<expectedSlotCount){var givenSlotCount=projectableNodes.length;res=collection_1.ListWrapper.createFixedSize(expectedSlotCount);for(var i=0;i<expectedSlotCount;i++)res[i]=i<givenSlotCount?projectableNodes[i]:EMPTY_ARR}else res=projectableNodes;return res}function interpolate(valueCount,c0,a1,c1,a2,c2,a3,c3,a4,c4,a5,c5,a6,c6,a7,c7,a8,c8,a9,c9){switch(valueCount){case 1:return c0+_toStringWithNull(a1)+c1;case 2:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2;case 3:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3;case 4:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4;case 5:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5;case 6:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6;case 7:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7;case 8:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7+_toStringWithNull(a8)+c8;case 9:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7+_toStringWithNull(a8)+c8+_toStringWithNull(a9)+c9;default:throw new exceptions_1.BaseException("Does not support more than 9 expressions")}}function _toStringWithNull(v){return null!=v?v.toString():""}function checkBinding(throwOnChange,oldValue,newValue){if(throwOnChange){if(!change_detection_1.devModeEqual(oldValue,newValue))throw new exceptions_2.ExpressionChangedAfterItHasBeenCheckedException(oldValue,newValue,null);return!1}return!lang_1.looseIdentical(oldValue,newValue)}function arrayLooseIdentical(a,b){if(a.length!=b.length)return!1;for(var i=0;i<a.length;++i)if(!lang_1.looseIdentical(a[i],b[i]))return!1;return!0}function mapLooseIdentical(m1,m2){var k1=collection_1.StringMapWrapper.keys(m1),k2=collection_1.StringMapWrapper.keys(m2);if(k1.length!=k2.length)return!1;for(var key,i=0;i<k1.length;i++)if(key=k1[i],!lang_1.looseIdentical(m1[key],m2[key]))return!1;return!0}function castByValue(input,value){return input}function pureProxy1(fn){var result,v0;return v0=change_detection_util_1.uninitialized,function(p0){return lang_1.looseIdentical(v0,p0)||(v0=p0,result=fn(p0)),result}}function pureProxy2(fn){var result,v0,v1;return v0=v1=change_detection_util_1.uninitialized,function(p0,p1){return lang_1.looseIdentical(v0,p0)&&lang_1.looseIdentical(v1,p1)||(v0=p0,v1=p1,result=fn(p0,p1)),result}}function pureProxy3(fn){var result,v0,v1,v2;return v0=v1=v2=change_detection_util_1.uninitialized,function(p0,p1,p2){return lang_1.looseIdentical(v0,p0)&&lang_1.looseIdentical(v1,p1)&&lang_1.looseIdentical(v2,p2)||(v0=p0,v1=p1,v2=p2,result=fn(p0,p1,p2)),result}}function pureProxy4(fn){var result,v0,v1,v2,v3;return v0=v1=v2=v3=change_detection_util_1.uninitialized,function(p0,p1,p2,p3){return lang_1.looseIdentical(v0,p0)&&lang_1.looseIdentical(v1,p1)&&lang_1.looseIdentical(v2,p2)&&lang_1.looseIdentical(v3,p3)||(v0=p0,v1=p1,v2=p2,v3=p3,result=fn(p0,p1,p2,p3)),result}}function pureProxy5(fn){var result,v0,v1,v2,v3,v4;return v0=v1=v2=v3=v4=change_detection_util_1.uninitialized,function(p0,p1,p2,p3,p4){return lang_1.looseIdentical(v0,p0)&&lang_1.looseIdentical(v1,p1)&&lang_1.looseIdentical(v2,p2)&&lang_1.looseIdentical(v3,p3)&&lang_1.looseIdentical(v4,p4)||(v0=p0,v1=p1,v2=p2,v3=p3,v4=p4,result=fn(p0,p1,p2,p3,p4)),result}}function pureProxy6(fn){var result,v0,v1,v2,v3,v4,v5;return v0=v1=v2=v3=v4=v5=change_detection_util_1.uninitialized,function(p0,p1,p2,p3,p4,p5){return lang_1.looseIdentical(v0,p0)&&lang_1.looseIdentical(v1,p1)&&lang_1.looseIdentical(v2,p2)&&lang_1.looseIdentical(v3,p3)&&lang_1.looseIdentical(v4,p4)&&lang_1.looseIdentical(v5,p5)||(v0=p0,v1=p1,v2=p2,v3=p3,v4=p4,v5=p5,result=fn(p0,p1,p2,p3,p4,p5)),result}}function pureProxy7(fn){var result,v0,v1,v2,v3,v4,v5,v6;return v0=v1=v2=v3=v4=v5=v6=change_detection_util_1.uninitialized,function(p0,p1,p2,p3,p4,p5,p6){return lang_1.looseIdentical(v0,p0)&&lang_1.looseIdentical(v1,p1)&&lang_1.looseIdentical(v2,p2)&&lang_1.looseIdentical(v3,p3)&&lang_1.looseIdentical(v4,p4)&&lang_1.looseIdentical(v5,p5)&&lang_1.looseIdentical(v6,p6)||(v0=p0,v1=p1,v2=p2,v3=p3,v4=p4,v5=p5,v6=p6,result=fn(p0,p1,p2,p3,p4,p5,p6)),result}}function pureProxy8(fn){var result,v0,v1,v2,v3,v4,v5,v6,v7;return v0=v1=v2=v3=v4=v5=v6=v7=change_detection_util_1.uninitialized,function(p0,p1,p2,p3,p4,p5,p6,p7){return lang_1.looseIdentical(v0,p0)&&lang_1.looseIdentical(v1,p1)&&lang_1.looseIdentical(v2,p2)&&lang_1.looseIdentical(v3,p3)&&lang_1.looseIdentical(v4,p4)&&lang_1.looseIdentical(v5,p5)&&lang_1.looseIdentical(v6,p6)&&lang_1.looseIdentical(v7,p7)||(v0=p0,v1=p1,v2=p2,v3=p3,v4=p4,v5=p5,v6=p6,v7=p7,result=fn(p0,p1,p2,p3,p4,p5,p6,p7)),result}}function pureProxy9(fn){var result,v0,v1,v2,v3,v4,v5,v6,v7,v8;return v0=v1=v2=v3=v4=v5=v6=v7=v8=change_detection_util_1.uninitialized,function(p0,p1,p2,p3,p4,p5,p6,p7,p8){return lang_1.looseIdentical(v0,p0)&&lang_1.looseIdentical(v1,p1)&&lang_1.looseIdentical(v2,p2)&&lang_1.looseIdentical(v3,p3)&&lang_1.looseIdentical(v4,p4)&&lang_1.looseIdentical(v5,p5)&&lang_1.looseIdentical(v6,p6)&&lang_1.looseIdentical(v7,p7)&&lang_1.looseIdentical(v8,p8)||(v0=p0,v1=p1,v2=p2,v3=p3,v4=p4,v5=p5,v6=p6,v7=p7,v8=p8,result=fn(p0,p1,p2,p3,p4,p5,p6,p7,p8)),result}}function pureProxy10(fn){var result,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9;return v0=v1=v2=v3=v4=v5=v6=v7=v8=v9=change_detection_util_1.uninitialized,function(p0,p1,p2,p3,p4,p5,p6,p7,p8,p9){return lang_1.looseIdentical(v0,p0)&&lang_1.looseIdentical(v1,p1)&&lang_1.looseIdentical(v2,p2)&&lang_1.looseIdentical(v3,p3)&&lang_1.looseIdentical(v4,p4)&&lang_1.looseIdentical(v5,p5)&&lang_1.looseIdentical(v6,p6)&&lang_1.looseIdentical(v7,p7)&&lang_1.looseIdentical(v8,p8)&&lang_1.looseIdentical(v9,p9)||(v0=p0,v1=p1,v2=p2,v3=p3,v4=p4,v5=p5,v6=p6,v7=p7,v8=p8,v9=p9,result=fn(p0,p1,p2,p3,p4,p5,p6,p7,p8,p9)),result}}var application_tokens_1=require("../application_tokens"),change_detection_1=require("../change_detection/change_detection"),change_detection_util_1=require("../change_detection/change_detection_util"),decorators_1=require("../di/decorators"),collection_1=require("../facade/collection"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),api_1=require("../render/api"),security_1=require("../security"),element_1=require("./element"),exceptions_2=require("./exceptions"),ViewUtils=function(){function ViewUtils(_renderer,_appId,sanitizer){this._renderer=_renderer,this._appId=_appId,this._nextCompTypeId=0,this.sanitizer=sanitizer}return ViewUtils.prototype.createRenderComponentType=function(templateUrl,slotCount,encapsulation,styles){return new api_1.RenderComponentType(this._appId+"-"+this._nextCompTypeId++,templateUrl,slotCount,encapsulation,styles)},ViewUtils.prototype.renderComponent=function(renderComponentType){return this._renderer.renderComponent(renderComponentType)},ViewUtils.decorators=[{type:decorators_1.Injectable}],ViewUtils.ctorParameters=[{type:api_1.RootRenderer},{type:void 0,decorators:[{type:decorators_1.Inject,args:[application_tokens_1.APP_ID]}]},{type:security_1.SanitizationService}],ViewUtils}();exports.ViewUtils=ViewUtils,exports.flattenNestedViewRenderNodes=flattenNestedViewRenderNodes;var EMPTY_ARR=[];exports.ensureSlotCount=ensureSlotCount,exports.MAX_INTERPOLATION_VALUES=9,exports.interpolate=interpolate,exports.checkBinding=checkBinding,exports.arrayLooseIdentical=arrayLooseIdentical,exports.mapLooseIdentical=mapLooseIdentical,exports.castByValue=castByValue,exports.EMPTY_ARRAY=[],exports.EMPTY_MAP={},exports.pureProxy1=pureProxy1,exports.pureProxy2=pureProxy2,exports.pureProxy3=pureProxy3,exports.pureProxy4=pureProxy4,exports.pureProxy5=pureProxy5,exports.pureProxy6=pureProxy6,exports.pureProxy7=pureProxy7,exports.pureProxy8=pureProxy8,exports.pureProxy9=pureProxy9,exports.pureProxy10=pureProxy10},{"../application_tokens":181,"../change_detection/change_detection":183,"../change_detection/change_detection_util":184,"../di/decorators":195,"../facade/collection":208,"../facade/exceptions":210,"../facade/lang":211,"../render/api":248,"../security":249,"./element":221,"./exceptions":224}],233:[function(require,module,exports){"use strict";var di_1=require("./metadata/di"),directives_1=require("./metadata/directives"),view_1=require("./metadata/view"),di_2=require("./metadata/di");exports.AttributeMetadata=di_2.AttributeMetadata,exports.ContentChildMetadata=di_2.ContentChildMetadata,exports.ContentChildrenMetadata=di_2.ContentChildrenMetadata,exports.QueryMetadata=di_2.QueryMetadata,exports.ViewChildMetadata=di_2.ViewChildMetadata,exports.ViewChildrenMetadata=di_2.ViewChildrenMetadata,exports.ViewQueryMetadata=di_2.ViewQueryMetadata;var directives_2=require("./metadata/directives");exports.ComponentMetadata=directives_2.ComponentMetadata,exports.DirectiveMetadata=directives_2.DirectiveMetadata,exports.HostBindingMetadata=directives_2.HostBindingMetadata,exports.HostListenerMetadata=directives_2.HostListenerMetadata,exports.InputMetadata=directives_2.InputMetadata,exports.OutputMetadata=directives_2.OutputMetadata,exports.PipeMetadata=directives_2.PipeMetadata;var lifecycle_hooks_1=require("./metadata/lifecycle_hooks");exports.AfterContentChecked=lifecycle_hooks_1.AfterContentChecked,exports.AfterContentInit=lifecycle_hooks_1.AfterContentInit,exports.AfterViewChecked=lifecycle_hooks_1.AfterViewChecked,exports.AfterViewInit=lifecycle_hooks_1.AfterViewInit,exports.DoCheck=lifecycle_hooks_1.DoCheck,exports.OnChanges=lifecycle_hooks_1.OnChanges,exports.OnDestroy=lifecycle_hooks_1.OnDestroy,exports.OnInit=lifecycle_hooks_1.OnInit;var view_2=require("./metadata/view");exports.ViewEncapsulation=view_2.ViewEncapsulation,exports.ViewMetadata=view_2.ViewMetadata;var decorators_1=require("./util/decorators");exports.Component=decorators_1.makeDecorator(directives_1.ComponentMetadata,function(fn){return fn.View=View}),exports.Directive=decorators_1.makeDecorator(directives_1.DirectiveMetadata);var View=decorators_1.makeDecorator(view_1.ViewMetadata,function(fn){return fn.View=View});exports.Attribute=decorators_1.makeParamDecorator(di_1.AttributeMetadata),exports.Query=decorators_1.makeParamDecorator(di_1.QueryMetadata),exports.ContentChildren=decorators_1.makePropDecorator(di_1.ContentChildrenMetadata),exports.ContentChild=decorators_1.makePropDecorator(di_1.ContentChildMetadata),exports.ViewChildren=decorators_1.makePropDecorator(di_1.ViewChildrenMetadata),exports.ViewChild=decorators_1.makePropDecorator(di_1.ViewChildMetadata),exports.ViewQuery=decorators_1.makeParamDecorator(di_1.ViewQueryMetadata),exports.Pipe=decorators_1.makeDecorator(directives_1.PipeMetadata),exports.Input=decorators_1.makePropDecorator(directives_1.InputMetadata),exports.Output=decorators_1.makePropDecorator(directives_1.OutputMetadata),exports.HostBinding=decorators_1.makePropDecorator(directives_1.HostBindingMetadata),exports.HostListener=decorators_1.makePropDecorator(directives_1.HostListenerMetadata)},{"./metadata/di":234,"./metadata/directives":235,"./metadata/lifecycle_hooks":236,"./metadata/view":237,"./util/decorators":252}],234:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},forward_ref_1=require("../di/forward_ref"),metadata_1=require("../di/metadata"),lang_1=require("../facade/lang"),AttributeMetadata=function(_super){function AttributeMetadata(attributeName){_super.call(this),this.attributeName=attributeName}return __extends(AttributeMetadata,_super),Object.defineProperty(AttributeMetadata.prototype,"token",{get:function(){return this},enumerable:!0,configurable:!0}),AttributeMetadata.prototype.toString=function(){return"@Attribute("+lang_1.stringify(this.attributeName)+")"},AttributeMetadata}(metadata_1.DependencyMetadata);exports.AttributeMetadata=AttributeMetadata;var QueryMetadata=function(_super){function QueryMetadata(_selector,_a){var _b=void 0===_a?{}:_a,_c=_b.descendants,descendants=void 0!==_c&&_c,_d=_b.first,first=void 0!==_d&&_d,_e=_b.read,read=void 0===_e?null:_e;_super.call(this),this._selector=_selector,this.descendants=descendants,this.first=first,this.read=read}return __extends(QueryMetadata,_super),Object.defineProperty(QueryMetadata.prototype,"isViewQuery",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(QueryMetadata.prototype,"selector",{get:function(){return forward_ref_1.resolveForwardRef(this._selector)},enumerable:!0,configurable:!0}),Object.defineProperty(QueryMetadata.prototype,"isVarBindingQuery",{get:function(){return lang_1.isString(this.selector)},enumerable:!0,configurable:!0}),Object.defineProperty(QueryMetadata.prototype,"varBindings",{get:function(){return lang_1.StringWrapper.split(this.selector,/\s*,\s*/g)},enumerable:!0,configurable:!0}),QueryMetadata.prototype.toString=function(){return"@Query("+lang_1.stringify(this.selector)+")"},QueryMetadata}(metadata_1.DependencyMetadata);exports.QueryMetadata=QueryMetadata;var ContentChildrenMetadata=function(_super){function ContentChildrenMetadata(_selector,_a){var _b=void 0===_a?{}:_a,_c=_b.descendants,descendants=void 0!==_c&&_c,_d=_b.read,read=void 0===_d?null:_d;_super.call(this,_selector,{descendants:descendants,read:read})}return __extends(ContentChildrenMetadata,_super),ContentChildrenMetadata}(QueryMetadata);exports.ContentChildrenMetadata=ContentChildrenMetadata;var ContentChildMetadata=function(_super){function ContentChildMetadata(_selector,_a){var _b=(void 0===_a?{}:_a).read,read=void 0===_b?null:_b;_super.call(this,_selector,{descendants:!0,first:!0,read:read})}return __extends(ContentChildMetadata,_super),ContentChildMetadata}(QueryMetadata);exports.ContentChildMetadata=ContentChildMetadata;var ViewQueryMetadata=function(_super){function ViewQueryMetadata(_selector,_a){var _b=void 0===_a?{}:_a,_c=_b.descendants,descendants=void 0!==_c&&_c,_d=_b.first,first=void 0!==_d&&_d,_e=_b.read,read=void 0===_e?null:_e;_super.call(this,_selector,{descendants:descendants,first:first,read:read})}return __extends(ViewQueryMetadata,_super),Object.defineProperty(ViewQueryMetadata.prototype,"isViewQuery",{get:function(){return!0},enumerable:!0,configurable:!0}),ViewQueryMetadata.prototype.toString=function(){return"@ViewQuery("+lang_1.stringify(this.selector)+")"},ViewQueryMetadata}(QueryMetadata);exports.ViewQueryMetadata=ViewQueryMetadata;var ViewChildrenMetadata=function(_super){function ViewChildrenMetadata(_selector,_a){var _b=(void 0===_a?{}:_a).read,read=void 0===_b?null:_b;_super.call(this,_selector,{descendants:!0,read:read})}return __extends(ViewChildrenMetadata,_super),ViewChildrenMetadata}(ViewQueryMetadata);exports.ViewChildrenMetadata=ViewChildrenMetadata;var ViewChildMetadata=function(_super){function ViewChildMetadata(_selector,_a){var _b=(void 0===_a?{}:_a).read,read=void 0===_b?null:_b;_super.call(this,_selector,{descendants:!0,first:!0,read:read})}return __extends(ViewChildMetadata,_super),ViewChildMetadata}(ViewQueryMetadata);exports.ViewChildMetadata=ViewChildMetadata},{"../di/forward_ref":196,"../di/metadata":198,"../facade/lang":211}],235:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},constants_1=require("../change_detection/constants"),metadata_1=require("../di/metadata"),lang_1=require("../facade/lang"),DirectiveMetadata=function(_super){function DirectiveMetadata(_a){var _b=void 0===_a?{}:_a,selector=_b.selector,inputs=_b.inputs,outputs=_b.outputs,properties=_b.properties,events=_b.events,host=_b.host,providers=_b.providers,exportAs=_b.exportAs,queries=_b.queries;_super.call(this),this.selector=selector,this._inputs=inputs,this._properties=properties,this._outputs=outputs,this._events=events,this.host=host,this.exportAs=exportAs,this.queries=queries,this._providers=providers}return __extends(DirectiveMetadata,_super),Object.defineProperty(DirectiveMetadata.prototype,"inputs",{get:function(){return lang_1.isPresent(this._properties)&&this._properties.length>0?this._properties:this._inputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"properties",{get:function(){return this.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"outputs",{get:function(){return lang_1.isPresent(this._events)&&this._events.length>0?this._events:this._outputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"events",{get:function(){return this.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"providers",{get:function(){return this._providers},enumerable:!0,configurable:!0}),DirectiveMetadata}(metadata_1.InjectableMetadata);exports.DirectiveMetadata=DirectiveMetadata;var ComponentMetadata=function(_super){function ComponentMetadata(_a){var _b=void 0===_a?{}:_a,selector=_b.selector,inputs=_b.inputs,outputs=_b.outputs,properties=_b.properties,events=_b.events,host=_b.host,exportAs=_b.exportAs,moduleId=_b.moduleId,providers=_b.providers,viewProviders=_b.viewProviders,_c=_b.changeDetection,changeDetection=void 0===_c?constants_1.ChangeDetectionStrategy.Default:_c,queries=_b.queries,templateUrl=_b.templateUrl,template=_b.template,styleUrls=_b.styleUrls,styles=_b.styles,animations=_b.animations,directives=_b.directives,pipes=_b.pipes,encapsulation=_b.encapsulation,interpolation=_b.interpolation,precompile=_b.precompile;_super.call(this,{selector:selector,inputs:inputs,outputs:outputs,properties:properties,events:events,host:host,exportAs:exportAs,providers:providers,queries:queries}),this.changeDetection=changeDetection,this._viewProviders=viewProviders,this.templateUrl=templateUrl,this.template=template,this.styleUrls=styleUrls,this.styles=styles,this.directives=directives,this.pipes=pipes,this.encapsulation=encapsulation,this.moduleId=moduleId,this.animations=animations,this.interpolation=interpolation,this.precompile=precompile}return __extends(ComponentMetadata,_super),Object.defineProperty(ComponentMetadata.prototype,"viewProviders",{get:function(){return this._viewProviders},enumerable:!0,configurable:!0}),ComponentMetadata}(DirectiveMetadata);exports.ComponentMetadata=ComponentMetadata;var PipeMetadata=function(_super){function PipeMetadata(_a){var name=_a.name,pure=_a.pure;_super.call(this),this.name=name,this._pure=pure}return __extends(PipeMetadata,_super),Object.defineProperty(PipeMetadata.prototype,"pure",{get:function(){return!lang_1.isPresent(this._pure)||this._pure},enumerable:!0,configurable:!0}),PipeMetadata}(metadata_1.InjectableMetadata);exports.PipeMetadata=PipeMetadata;var InputMetadata=function(){function InputMetadata(bindingPropertyName){this.bindingPropertyName=bindingPropertyName}return InputMetadata}();exports.InputMetadata=InputMetadata;var OutputMetadata=function(){function OutputMetadata(bindingPropertyName){this.bindingPropertyName=bindingPropertyName}return OutputMetadata}();exports.OutputMetadata=OutputMetadata;var HostBindingMetadata=function(){function HostBindingMetadata(hostPropertyName){this.hostPropertyName=hostPropertyName}return HostBindingMetadata}();exports.HostBindingMetadata=HostBindingMetadata;var HostListenerMetadata=function(){function HostListenerMetadata(eventName,args){this.eventName=eventName,this.args=args}return HostListenerMetadata}();exports.HostListenerMetadata=HostListenerMetadata},{"../change_detection/constants":186,"../di/metadata":198,"../facade/lang":211}],236:[function(require,module,exports){"use strict";!function(LifecycleHooks){LifecycleHooks[LifecycleHooks.OnInit=0]="OnInit",LifecycleHooks[LifecycleHooks.OnDestroy=1]="OnDestroy",LifecycleHooks[LifecycleHooks.DoCheck=2]="DoCheck",LifecycleHooks[LifecycleHooks.OnChanges=3]="OnChanges",LifecycleHooks[LifecycleHooks.AfterContentInit=4]="AfterContentInit",LifecycleHooks[LifecycleHooks.AfterContentChecked=5]="AfterContentChecked",LifecycleHooks[LifecycleHooks.AfterViewInit=6]="AfterViewInit",LifecycleHooks[LifecycleHooks.AfterViewChecked=7]="AfterViewChecked"}(exports.LifecycleHooks||(exports.LifecycleHooks={}));var LifecycleHooks=exports.LifecycleHooks;exports.LIFECYCLE_HOOKS_VALUES=[LifecycleHooks.OnInit,LifecycleHooks.OnDestroy,LifecycleHooks.DoCheck,LifecycleHooks.OnChanges,LifecycleHooks.AfterContentInit,LifecycleHooks.AfterContentChecked,LifecycleHooks.AfterViewInit,LifecycleHooks.AfterViewChecked];var OnChanges=function(){function OnChanges(){}return OnChanges}();exports.OnChanges=OnChanges;var OnInit=function(){function OnInit(){}return OnInit}();exports.OnInit=OnInit;var DoCheck=function(){function DoCheck(){}return DoCheck}();exports.DoCheck=DoCheck;var OnDestroy=function(){function OnDestroy(){}return OnDestroy}();exports.OnDestroy=OnDestroy;var AfterContentInit=function(){function AfterContentInit(){}return AfterContentInit}();exports.AfterContentInit=AfterContentInit;var AfterContentChecked=function(){function AfterContentChecked(){}return AfterContentChecked}();exports.AfterContentChecked=AfterContentChecked;var AfterViewInit=function(){function AfterViewInit(){}return AfterViewInit}();exports.AfterViewInit=AfterViewInit;var AfterViewChecked=function(){function AfterViewChecked(){}return AfterViewChecked}();exports.AfterViewChecked=AfterViewChecked},{}],237:[function(require,module,exports){"use strict";!function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation.Emulated=0]="Emulated",ViewEncapsulation[ViewEncapsulation.Native=1]="Native",ViewEncapsulation[ViewEncapsulation.None=2]="None"}(exports.ViewEncapsulation||(exports.ViewEncapsulation={}));var ViewEncapsulation=exports.ViewEncapsulation;exports.VIEW_ENCAPSULATION_VALUES=[ViewEncapsulation.Emulated,ViewEncapsulation.Native,ViewEncapsulation.None];var ViewMetadata=function(){function ViewMetadata(_a){var _b=void 0===_a?{}:_a,templateUrl=_b.templateUrl,template=_b.template,directives=_b.directives,pipes=_b.pipes,encapsulation=_b.encapsulation,styles=_b.styles,styleUrls=_b.styleUrls,animations=_b.animations,interpolation=_b.interpolation;this.templateUrl=templateUrl,this.template=template,this.styleUrls=styleUrls,this.styles=styles,this.directives=directives,this.pipes=pipes,this.encapsulation=encapsulation,this.animations=animations,this.interpolation=interpolation}return ViewMetadata}();exports.ViewMetadata=ViewMetadata},{}],238:[function(require,module,exports){"use strict";function _reflector(){return reflection_1.reflector}var application_ref_1=require("./application_ref"),console_1=require("./console"),reflection_1=require("./reflection/reflection"),reflector_reader_1=require("./reflection/reflector_reader"),testability_1=require("./testability/testability");exports.PLATFORM_COMMON_PROVIDERS=[application_ref_1.PLATFORM_CORE_PROVIDERS,{provide:reflection_1.Reflector,useFactory:_reflector,deps:[]},{provide:reflector_reader_1.ReflectorReader,useExisting:reflection_1.Reflector},testability_1.TestabilityRegistry,console_1.Console]},{"./application_ref":180,"./console":191,"./reflection/reflection":243,"./reflection/reflector_reader":246,"./testability/testability":250}],239:[function(require,module,exports){"use strict";var di_1=require("./di");exports.PLATFORM_DIRECTIVES=new di_1.OpaqueToken("Platform Directives"),exports.PLATFORM_PIPES=new di_1.OpaqueToken("Platform Pipes")},{"./di":194}],240:[function(require,module,exports){"use strict";function noopScope(arg0,arg1){return null}var wtf_impl_1=require("./wtf_impl");exports.wtfEnabled=wtf_impl_1.detectWTF(),exports.wtfCreateScope=exports.wtfEnabled?wtf_impl_1.createScope:function(signature,flags){return noopScope},exports.wtfLeave=exports.wtfEnabled?wtf_impl_1.leave:function(s,r){return r},exports.wtfStartTimeRange=exports.wtfEnabled?wtf_impl_1.startTimeRange:function(rangeType,action){return null},exports.wtfEndTimeRange=exports.wtfEnabled?wtf_impl_1.endTimeRange:function(r){return null}},{"./wtf_impl":241}],241:[function(require,module,exports){"use strict";function detectWTF(){var wtf=lang_1.global.wtf;return!(!wtf||!(trace=wtf.trace))&&(events=trace.events,!0)}function createScope(signature,flags){return void 0===flags&&(flags=null),events.createScope(signature,flags)}function leave(scope,returnValue){return trace.leaveScope(scope,returnValue),returnValue}function startTimeRange(rangeType,action){return trace.beginTimeRange(rangeType,action)}function endTimeRange(range){trace.endTimeRange(range)}var trace,events,lang_1=require("../facade/lang");exports.detectWTF=detectWTF,exports.createScope=createScope,exports.leave=leave,exports.startTimeRange=startTimeRange,exports.endTimeRange=endTimeRange},{"../facade/lang":211}],242:[function(require,module,exports){"use strict";function wtfInit(){}exports.wtfInit=wtfInit},{}],243:[function(require,module,exports){"use strict";var reflection_capabilities_1=require("./reflection_capabilities"),reflector_1=require("./reflector"),reflector_2=require("./reflector");exports.ReflectionInfo=reflector_2.ReflectionInfo,exports.Reflector=reflector_2.Reflector,exports.reflector=new reflector_1.Reflector(new reflection_capabilities_1.ReflectionCapabilities)},{"./reflection_capabilities":244,"./reflector":245}],244:[function(require,module,exports){"use strict";function convertTsickleDecoratorIntoMetadata(decoratorInvocations){return decoratorInvocations?decoratorInvocations.map(function(decoratorInvocation){var decoratorType=decoratorInvocation.type,annotationCls=decoratorType.annotationCls,annotationArgs=decoratorInvocation.args?decoratorInvocation.args:[],annotation=Object.create(annotationCls.prototype);return annotationCls.apply(annotation,annotationArgs),annotation}):[]}var lang_1=require("../facade/lang"),ReflectionCapabilities=function(){function ReflectionCapabilities(reflect){this._reflect=lang_1.isPresent(reflect)?reflect:lang_1.global.Reflect}return ReflectionCapabilities.prototype.isReflectionEnabled=function(){return!0},ReflectionCapabilities.prototype.factory=function(t){switch(t.length){case 0:return function(){return new t};case 1:return function(a1){return new t(a1)};case 2:return function(a1,a2){return new t(a1,a2)};case 3:return function(a1,a2,a3){return new t(a1,a2,a3)};case 4:return function(a1,a2,a3,a4){return new t(a1,a2,a3,a4)};case 5:return function(a1,a2,a3,a4,a5){return new t(a1,a2,a3,a4,a5)};case 6:return function(a1,a2,a3,a4,a5,a6){return new t(a1,a2,a3,a4,a5,a6)};case 7:return function(a1,a2,a3,a4,a5,a6,a7){return new t(a1,a2,a3,a4,a5,a6,a7)};case 8:return function(a1,a2,a3,a4,a5,a6,a7,a8){return new t(a1,a2,a3,a4,a5,a6,a7,a8)};case 9:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9)};case 10:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)};case 11:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11)};case 12:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)};case 13:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)};case 14:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14)};case 15:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)};case 16:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16)};case 17:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17)};case 18:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18);
};case 19:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19)};case 20:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19,a20){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19,a20)}}throw new Error("Cannot create a factory for '"+lang_1.stringify(t)+"' because its constructor has more than 20 arguments")},ReflectionCapabilities.prototype._zipTypesAndAnnotations=function(paramTypes,paramAnnotations){var result;result="undefined"==typeof paramTypes?new Array(paramAnnotations.length):new Array(paramTypes.length);for(var i=0;i<result.length;i++)"undefined"==typeof paramTypes?result[i]=[]:paramTypes[i]!=Object?result[i]=[paramTypes[i]]:result[i]=[],lang_1.isPresent(paramAnnotations)&&lang_1.isPresent(paramAnnotations[i])&&(result[i]=result[i].concat(paramAnnotations[i]));return result},ReflectionCapabilities.prototype.parameters=function(typeOrFunc){if(lang_1.isPresent(typeOrFunc.parameters))return typeOrFunc.parameters;if(lang_1.isPresent(typeOrFunc.ctorParameters)){var ctorParameters=typeOrFunc.ctorParameters,paramTypes_1=ctorParameters.map(function(ctorParam){return ctorParam&&ctorParam.type}),paramAnnotations_1=ctorParameters.map(function(ctorParam){return ctorParam&&convertTsickleDecoratorIntoMetadata(ctorParam.decorators)});return this._zipTypesAndAnnotations(paramTypes_1,paramAnnotations_1)}if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var paramAnnotations=this._reflect.getMetadata("parameters",typeOrFunc),paramTypes=this._reflect.getMetadata("design:paramtypes",typeOrFunc);if(lang_1.isPresent(paramTypes)||lang_1.isPresent(paramAnnotations))return this._zipTypesAndAnnotations(paramTypes,paramAnnotations)}var parameters=new Array(typeOrFunc.length);return parameters.fill(void 0),parameters},ReflectionCapabilities.prototype.annotations=function(typeOrFunc){if(lang_1.isPresent(typeOrFunc.annotations)){var annotations=typeOrFunc.annotations;return lang_1.isFunction(annotations)&&annotations.annotations&&(annotations=annotations.annotations),annotations}if(lang_1.isPresent(typeOrFunc.decorators))return convertTsickleDecoratorIntoMetadata(typeOrFunc.decorators);if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var annotations=this._reflect.getMetadata("annotations",typeOrFunc);if(lang_1.isPresent(annotations))return annotations}return[]},ReflectionCapabilities.prototype.propMetadata=function(typeOrFunc){if(lang_1.isPresent(typeOrFunc.propMetadata)){var propMetadata=typeOrFunc.propMetadata;return lang_1.isFunction(propMetadata)&&propMetadata.propMetadata&&(propMetadata=propMetadata.propMetadata),propMetadata}if(lang_1.isPresent(typeOrFunc.propDecorators)){var propDecorators_1=typeOrFunc.propDecorators,propMetadata_1={};return Object.keys(propDecorators_1).forEach(function(prop){propMetadata_1[prop]=convertTsickleDecoratorIntoMetadata(propDecorators_1[prop])}),propMetadata_1}if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var propMetadata=this._reflect.getMetadata("propMetadata",typeOrFunc);if(lang_1.isPresent(propMetadata))return propMetadata}return{}},ReflectionCapabilities.prototype.interfaces=function(type){return[]},ReflectionCapabilities.prototype.hasLifecycleHook=function(type,lcInterface,lcProperty){if(!(type instanceof lang_1.Type))return!1;var proto=type.prototype;return!!proto[lcProperty]},ReflectionCapabilities.prototype.getter=function(name){return new Function("o","return o."+name+";")},ReflectionCapabilities.prototype.setter=function(name){return new Function("o","v","return o."+name+" = v;")},ReflectionCapabilities.prototype.method=function(name){var functionBody="if (!o."+name+") throw new Error('\""+name+"\" is undefined');\n        return o."+name+".apply(o, args);";return new Function("o","args",functionBody)},ReflectionCapabilities.prototype.importUri=function(type){return"object"==typeof type&&type.filePath?type.filePath:"./"+lang_1.stringify(type)},ReflectionCapabilities}();exports.ReflectionCapabilities=ReflectionCapabilities},{"../facade/lang":211}],245:[function(require,module,exports){"use strict";function _mergeMaps(target,config){collection_1.StringMapWrapper.forEach(config,function(v,k){return target.set(k,v)})}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},collection_1=require("../facade/collection"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),reflector_reader_1=require("./reflector_reader"),ReflectionInfo=function(){function ReflectionInfo(annotations,parameters,factory,interfaces,propMetadata){this.annotations=annotations,this.parameters=parameters,this.factory=factory,this.interfaces=interfaces,this.propMetadata=propMetadata}return ReflectionInfo}();exports.ReflectionInfo=ReflectionInfo;var Reflector=function(_super){function Reflector(reflectionCapabilities){_super.call(this),this._injectableInfo=new collection_1.Map,this._getters=new collection_1.Map,this._setters=new collection_1.Map,this._methods=new collection_1.Map,this._usedKeys=null,this.reflectionCapabilities=reflectionCapabilities}return __extends(Reflector,_super),Reflector.prototype.updateCapabilities=function(caps){this.reflectionCapabilities=caps},Reflector.prototype.isReflectionEnabled=function(){return this.reflectionCapabilities.isReflectionEnabled()},Reflector.prototype.trackUsage=function(){this._usedKeys=new collection_1.Set},Reflector.prototype.listUnusedKeys=function(){var _this=this;if(null==this._usedKeys)throw new exceptions_1.BaseException("Usage tracking is disabled");var allTypes=collection_1.MapWrapper.keys(this._injectableInfo);return allTypes.filter(function(key){return!collection_1.SetWrapper.has(_this._usedKeys,key)})},Reflector.prototype.registerFunction=function(func,funcInfo){this._injectableInfo.set(func,funcInfo)},Reflector.prototype.registerType=function(type,typeInfo){this._injectableInfo.set(type,typeInfo)},Reflector.prototype.registerGetters=function(getters){_mergeMaps(this._getters,getters)},Reflector.prototype.registerSetters=function(setters){_mergeMaps(this._setters,setters)},Reflector.prototype.registerMethods=function(methods){_mergeMaps(this._methods,methods)},Reflector.prototype.factory=function(type){if(this._containsReflectionInfo(type)){var res=this._getReflectionInfo(type).factory;return lang_1.isPresent(res)?res:null}return this.reflectionCapabilities.factory(type)},Reflector.prototype.parameters=function(typeOrFunc){if(this._injectableInfo.has(typeOrFunc)){var res=this._getReflectionInfo(typeOrFunc).parameters;return lang_1.isPresent(res)?res:[]}return this.reflectionCapabilities.parameters(typeOrFunc)},Reflector.prototype.annotations=function(typeOrFunc){if(this._injectableInfo.has(typeOrFunc)){var res=this._getReflectionInfo(typeOrFunc).annotations;return lang_1.isPresent(res)?res:[]}return this.reflectionCapabilities.annotations(typeOrFunc)},Reflector.prototype.propMetadata=function(typeOrFunc){if(this._injectableInfo.has(typeOrFunc)){var res=this._getReflectionInfo(typeOrFunc).propMetadata;return lang_1.isPresent(res)?res:{}}return this.reflectionCapabilities.propMetadata(typeOrFunc)},Reflector.prototype.interfaces=function(type){if(this._injectableInfo.has(type)){var res=this._getReflectionInfo(type).interfaces;return lang_1.isPresent(res)?res:[]}return this.reflectionCapabilities.interfaces(type)},Reflector.prototype.hasLifecycleHook=function(type,lcInterface,lcProperty){var interfaces=this.interfaces(type);return interfaces.indexOf(lcInterface)!==-1||this.reflectionCapabilities.hasLifecycleHook(type,lcInterface,lcProperty)},Reflector.prototype.getter=function(name){return this._getters.has(name)?this._getters.get(name):this.reflectionCapabilities.getter(name)},Reflector.prototype.setter=function(name){return this._setters.has(name)?this._setters.get(name):this.reflectionCapabilities.setter(name)},Reflector.prototype.method=function(name){return this._methods.has(name)?this._methods.get(name):this.reflectionCapabilities.method(name)},Reflector.prototype._getReflectionInfo=function(typeOrFunc){return lang_1.isPresent(this._usedKeys)&&this._usedKeys.add(typeOrFunc),this._injectableInfo.get(typeOrFunc)},Reflector.prototype._containsReflectionInfo=function(typeOrFunc){return this._injectableInfo.has(typeOrFunc)},Reflector.prototype.importUri=function(type){return this.reflectionCapabilities.importUri(type)},Reflector}(reflector_reader_1.ReflectorReader);exports.Reflector=Reflector},{"../facade/collection":208,"../facade/exceptions":210,"../facade/lang":211,"./reflector_reader":246}],246:[function(require,module,exports){"use strict";var ReflectorReader=function(){function ReflectorReader(){}return ReflectorReader}();exports.ReflectorReader=ReflectorReader},{}],247:[function(require,module,exports){"use strict";var api_1=require("./render/api");exports.RenderComponentType=api_1.RenderComponentType,exports.Renderer=api_1.Renderer,exports.RootRenderer=api_1.RootRenderer},{"./render/api":248}],248:[function(require,module,exports){"use strict";var exceptions_1=require("../facade/exceptions"),RenderComponentType=function(){function RenderComponentType(id,templateUrl,slotCount,encapsulation,styles){this.id=id,this.templateUrl=templateUrl,this.slotCount=slotCount,this.encapsulation=encapsulation,this.styles=styles}return RenderComponentType}();exports.RenderComponentType=RenderComponentType;var RenderDebugInfo=function(){function RenderDebugInfo(){}return Object.defineProperty(RenderDebugInfo.prototype,"injector",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderDebugInfo.prototype,"component",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderDebugInfo.prototype,"providerTokens",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderDebugInfo.prototype,"references",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderDebugInfo.prototype,"context",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderDebugInfo.prototype,"source",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),RenderDebugInfo}();exports.RenderDebugInfo=RenderDebugInfo;var Renderer=function(){function Renderer(){}return Renderer}();exports.Renderer=Renderer;var RootRenderer=function(){function RootRenderer(){}return RootRenderer}();exports.RootRenderer=RootRenderer},{"../facade/exceptions":210}],249:[function(require,module,exports){"use strict";!function(SecurityContext){SecurityContext[SecurityContext.NONE=0]="NONE",SecurityContext[SecurityContext.HTML=1]="HTML",SecurityContext[SecurityContext.STYLE=2]="STYLE",SecurityContext[SecurityContext.SCRIPT=3]="SCRIPT",SecurityContext[SecurityContext.URL=4]="URL",SecurityContext[SecurityContext.RESOURCE_URL=5]="RESOURCE_URL"}(exports.SecurityContext||(exports.SecurityContext={}));var SanitizationService=(exports.SecurityContext,function(){function SanitizationService(){}return SanitizationService}());exports.SanitizationService=SanitizationService},{}],250:[function(require,module,exports){"use strict";function setTestabilityGetter(getter){_testabilityGetter=getter}var decorators_1=require("../di/decorators"),async_1=require("../facade/async"),collection_1=require("../facade/collection"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),ng_zone_1=require("../zone/ng_zone"),Testability=function(){function Testability(_ngZone){this._ngZone=_ngZone,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return Testability.prototype._watchAngularEvents=function(){var _this=this;async_1.ObservableWrapper.subscribe(this._ngZone.onUnstable,function(_){_this._didWork=!0,_this._isZoneStable=!1}),this._ngZone.runOutsideAngular(function(){async_1.ObservableWrapper.subscribe(_this._ngZone.onStable,function(_){ng_zone_1.NgZone.assertNotInAngularZone(),lang_1.scheduleMicroTask(function(){_this._isZoneStable=!0,_this._runCallbacksIfReady()})})})},Testability.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},Testability.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new exceptions_1.BaseException("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},Testability.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},Testability.prototype._runCallbacksIfReady=function(){var _this=this;this.isStable()?lang_1.scheduleMicroTask(function(){for(;0!==_this._callbacks.length;)_this._callbacks.pop()(_this._didWork);_this._didWork=!1}):this._didWork=!0},Testability.prototype.whenStable=function(callback){this._callbacks.push(callback),this._runCallbacksIfReady()},Testability.prototype.getPendingRequestCount=function(){return this._pendingCount},Testability.prototype.findBindings=function(using,provider,exactMatch){return[]},Testability.prototype.findProviders=function(using,provider,exactMatch){return[]},Testability.decorators=[{type:decorators_1.Injectable}],Testability.ctorParameters=[{type:ng_zone_1.NgZone}],Testability}();exports.Testability=Testability;var TestabilityRegistry=function(){function TestabilityRegistry(){this._applications=new collection_1.Map,_testabilityGetter.addToWindow(this)}return TestabilityRegistry.prototype.registerApplication=function(token,testability){this._applications.set(token,testability)},TestabilityRegistry.prototype.getTestability=function(elem){return this._applications.get(elem)},TestabilityRegistry.prototype.getAllTestabilities=function(){return collection_1.MapWrapper.values(this._applications)},TestabilityRegistry.prototype.getAllRootElements=function(){return collection_1.MapWrapper.keys(this._applications)},TestabilityRegistry.prototype.findTestabilityInTree=function(elem,findInAncestors){return void 0===findInAncestors&&(findInAncestors=!0),_testabilityGetter.findTestabilityInTree(this,elem,findInAncestors)},TestabilityRegistry.decorators=[{type:decorators_1.Injectable}],TestabilityRegistry.ctorParameters=[],TestabilityRegistry}();exports.TestabilityRegistry=TestabilityRegistry;var _NoopGetTestability=function(){function _NoopGetTestability(){}return _NoopGetTestability.prototype.addToWindow=function(registry){},_NoopGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){return null},_NoopGetTestability}();exports.setTestabilityGetter=setTestabilityGetter;var _testabilityGetter=new _NoopGetTestability},{"../di/decorators":195,"../facade/async":206,"../facade/collection":208,"../facade/exceptions":210,"../facade/lang":211,"../zone/ng_zone":254}],251:[function(require,module,exports){"use strict";var decorators_1=require("./util/decorators");exports.Class=decorators_1.Class},{"./util/decorators":252}],252:[function(require,module,exports){"use strict";function extractAnnotation(annotation){return lang_1.isFunction(annotation)&&annotation.hasOwnProperty("annotation")&&(annotation=annotation.annotation),annotation}function applyParams(fnOrArray,key){if(fnOrArray===Object||fnOrArray===String||fnOrArray===Function||fnOrArray===Number||fnOrArray===Array)throw new Error("Can not use native "+lang_1.stringify(fnOrArray)+" as constructor");if(lang_1.isFunction(fnOrArray))return fnOrArray;if(fnOrArray instanceof Array){var annotations=fnOrArray,fn=fnOrArray[fnOrArray.length-1];if(!lang_1.isFunction(fn))throw new Error("Last position of Class method array must be Function in key "+key+" was '"+lang_1.stringify(fn)+"'");var annoLength=annotations.length-1;if(annoLength!=fn.length)throw new Error("Number of annotations ("+annoLength+") does not match number of arguments ("+fn.length+") in the function: "+lang_1.stringify(fn));for(var paramsAnnotations=[],i=0,ii=annotations.length-1;i<ii;i++){var paramAnnotations=[];paramsAnnotations.push(paramAnnotations);var annotation=annotations[i];if(annotation instanceof Array)for(var j=0;j<annotation.length;j++)paramAnnotations.push(extractAnnotation(annotation[j]));else lang_1.isFunction(annotation)?paramAnnotations.push(extractAnnotation(annotation)):paramAnnotations.push(annotation)}return Reflect.defineMetadata("parameters",paramsAnnotations,fn),fn}throw new Error("Only Function or Array is supported in Class definition for key '"+key+"' is '"+lang_1.stringify(fnOrArray)+"'")}function Class(clsDef){var constructor=applyParams(clsDef.hasOwnProperty("constructor")?clsDef.constructor:void 0,"constructor"),proto=constructor.prototype;if(clsDef.hasOwnProperty("extends")){if(!lang_1.isFunction(clsDef["extends"]))throw new Error("Class definition 'extends' property must be a constructor function was: "+lang_1.stringify(clsDef["extends"]));constructor.prototype=proto=Object.create(clsDef["extends"].prototype)}for(var key in clsDef)"extends"!=key&&"prototype"!=key&&clsDef.hasOwnProperty(key)&&(proto[key]=applyParams(clsDef[key],key));return this&&this.annotations instanceof Array&&Reflect.defineMetadata("annotations",this.annotations,constructor),constructor.name||(constructor.overriddenName="class"+_nextClassId++),constructor}function makeDecorator(annotationCls,chainFn){function DecoratorFactory(objOrType){var annotationInstance=new annotationCls(objOrType);if(this instanceof annotationCls)return annotationInstance;var chainAnnotation=lang_1.isFunction(this)&&this.annotations instanceof Array?this.annotations:[];chainAnnotation.push(annotationInstance);var TypeDecorator=function(cls){var annotations=Reflect.getOwnMetadata("annotations",cls);return annotations=annotations||[],annotations.push(annotationInstance),Reflect.defineMetadata("annotations",annotations,cls),cls};return TypeDecorator.annotations=chainAnnotation,TypeDecorator.Class=Class,chainFn&&chainFn(TypeDecorator),TypeDecorator}return void 0===chainFn&&(chainFn=null),DecoratorFactory.prototype=Object.create(annotationCls.prototype),DecoratorFactory.annotationCls=annotationCls,DecoratorFactory}function makeParamDecorator(annotationCls){function ParamDecoratorFactory(){function ParamDecorator(cls,unusedKey,index){var parameters=Reflect.getMetadata("parameters",cls);for(parameters=parameters||[];parameters.length<=index;)parameters.push(null);parameters[index]=parameters[index]||[];var annotationsForParam=parameters[index];return annotationsForParam.push(annotationInstance),Reflect.defineMetadata("parameters",parameters,cls),cls}for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var annotationInstance=Object.create(annotationCls.prototype);return annotationCls.apply(annotationInstance,args),this instanceof annotationCls?annotationInstance:(ParamDecorator.annotation=annotationInstance,ParamDecorator)}return ParamDecoratorFactory.prototype=Object.create(annotationCls.prototype),ParamDecoratorFactory.annotationCls=annotationCls,ParamDecoratorFactory}function makePropDecorator(annotationCls){function PropDecoratorFactory(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var decoratorInstance=Object.create(annotationCls.prototype);return annotationCls.apply(decoratorInstance,args),this instanceof annotationCls?decoratorInstance:function(target,name){var meta=Reflect.getOwnMetadata("propMetadata",target.constructor);meta=meta||{},meta[name]=meta[name]||[],meta[name].unshift(decoratorInstance),Reflect.defineMetadata("propMetadata",meta,target.constructor)}}return PropDecoratorFactory.prototype=Object.create(annotationCls.prototype),PropDecoratorFactory.annotationCls=annotationCls,PropDecoratorFactory}var lang_1=require("../facade/lang"),_nextClassId=0;exports.Class=Class;var Reflect=lang_1.global.Reflect;!function(){if(!Reflect||!Reflect.getMetadata)throw"reflect-metadata shim is required when using class decorators"}(),exports.makeDecorator=makeDecorator,exports.makeParamDecorator=makeParamDecorator,exports.makePropDecorator=makePropDecorator},{"../facade/lang":211}],253:[function(require,module,exports){"use strict";var ng_zone_1=require("./zone/ng_zone");exports.NgZone=ng_zone_1.NgZone,exports.NgZoneError=ng_zone_1.NgZoneError},{"./zone/ng_zone":254}],254:[function(require,module,exports){"use strict";var async_1=require("../facade/async"),exceptions_1=require("../facade/exceptions"),ng_zone_impl_1=require("./ng_zone_impl"),ng_zone_impl_2=require("./ng_zone_impl");exports.NgZoneError=ng_zone_impl_2.NgZoneError;var NgZone=function(){function NgZone(_a){var _this=this,_b=_a.enableLongStackTrace,enableLongStackTrace=void 0!==_b&&_b;this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new async_1.EventEmitter((!1)),this._onMicrotaskEmpty=new async_1.EventEmitter((!1)),this._onStable=new async_1.EventEmitter((!1)),this._onErrorEvents=new async_1.EventEmitter((!1)),this._zoneImpl=new ng_zone_impl_1.NgZoneImpl({trace:enableLongStackTrace,onEnter:function(){_this._nesting++,_this._isStable&&(_this._isStable=!1,_this._onUnstable.emit(null))},onLeave:function(){_this._nesting--,_this._checkStable()},setMicrotask:function(hasMicrotasks){_this._hasPendingMicrotasks=hasMicrotasks,_this._checkStable()},setMacrotask:function(hasMacrotasks){_this._hasPendingMacrotasks=hasMacrotasks},onError:function(error){return _this._onErrorEvents.emit(error)}})}return NgZone.isInAngularZone=function(){return ng_zone_impl_1.NgZoneImpl.isInAngularZone()},NgZone.assertInAngularZone=function(){if(!ng_zone_impl_1.NgZoneImpl.isInAngularZone())throw new exceptions_1.BaseException("Expected to be in Angular Zone, but it is not!")},NgZone.assertNotInAngularZone=function(){if(ng_zone_impl_1.NgZoneImpl.isInAngularZone())throw new exceptions_1.BaseException("Expected to not be in Angular Zone, but it is!")},NgZone.prototype._checkStable=function(){var _this=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return _this._onStable.emit(null)})}finally{this._isStable=!0}}},Object.defineProperty(NgZone.prototype,"onUnstable",{get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onStable",{get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),NgZone.prototype.run=function(fn){return this._zoneImpl.runInner(fn)},NgZone.prototype.runGuarded=function(fn){return this._zoneImpl.runInnerGuarded(fn)},NgZone.prototype.runOutsideAngular=function(fn){return this._zoneImpl.runOuter(fn)},NgZone}();exports.NgZone=NgZone},{"../facade/async":206,"../facade/exceptions":210,"./ng_zone_impl":255}],255:[function(require,module,exports){"use strict";var NgZoneError=function(){function NgZoneError(error,stackTrace){this.error=error,this.stackTrace=stackTrace}return NgZoneError}();exports.NgZoneError=NgZoneError;var NgZoneImpl=function(){function NgZoneImpl(_a){var _this=this,trace=_a.trace,onEnter=_a.onEnter,onLeave=_a.onLeave,setMicrotask=_a.setMicrotask,setMacrotask=_a.setMacrotask,onError=_a.onError;if(this.onEnter=onEnter,this.onLeave=onLeave,this.setMicrotask=setMicrotask,this.setMacrotask=setMacrotask,this.onError=onError,!Zone)throw new Error("Angular requires Zone.js polyfill.");this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),trace&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.inner=this.inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(delegate,current,target,task,applyThis,applyArgs){try{return _this.onEnter(),delegate.invokeTask(target,task,applyThis,applyArgs)}finally{_this.onLeave()}},onInvoke:function(delegate,current,target,callback,applyThis,applyArgs,source){try{return _this.onEnter(),delegate.invoke(target,callback,applyThis,applyArgs,source)}finally{_this.onLeave()}},onHasTask:function(delegate,current,target,hasTaskState){delegate.hasTask(target,hasTaskState),current==target&&("microTask"==hasTaskState.change?_this.setMicrotask(hasTaskState.microTask):"macroTask"==hasTaskState.change&&_this.setMacrotask(hasTaskState.macroTask))},onHandleError:function(delegate,current,target,error){return delegate.handleError(target,error),_this.onError(new NgZoneError(error,error.stack)),!1}})}return NgZoneImpl.isInAngularZone=function(){return Zone.current.get("isAngularZone")===!0},NgZoneImpl.prototype.runInner=function(fn){return this.inner.run(fn)},NgZoneImpl.prototype.runInnerGuarded=function(fn){return this.inner.runGuarded(fn)},NgZoneImpl.prototype.runOuter=function(fn){return this.outer.run(fn)},NgZoneImpl}();exports.NgZoneImpl=NgZoneImpl},{}],256:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./src/forms"))},{"./src/forms":290}],257:[function(require,module,exports){"use strict";var checkbox_value_accessor_1=require("./directives/checkbox_value_accessor"),default_value_accessor_1=require("./directives/default_value_accessor"),ng_control_status_1=require("./directives/ng_control_status"),ng_form_1=require("./directives/ng_form"),ng_model_1=require("./directives/ng_model"),ng_model_group_1=require("./directives/ng_model_group"),number_value_accessor_1=require("./directives/number_value_accessor"),radio_control_value_accessor_1=require("./directives/radio_control_value_accessor"),form_array_name_1=require("./directives/reactive_directives/form_array_name"),form_control_directive_1=require("./directives/reactive_directives/form_control_directive"),form_control_name_1=require("./directives/reactive_directives/form_control_name"),form_group_directive_1=require("./directives/reactive_directives/form_group_directive"),form_group_name_1=require("./directives/reactive_directives/form_group_name"),select_control_value_accessor_1=require("./directives/select_control_value_accessor"),select_multiple_control_value_accessor_1=require("./directives/select_multiple_control_value_accessor"),validators_1=require("./directives/validators"),checkbox_value_accessor_2=require("./directives/checkbox_value_accessor");exports.CheckboxControlValueAccessor=checkbox_value_accessor_2.CheckboxControlValueAccessor;var default_value_accessor_2=require("./directives/default_value_accessor");exports.DefaultValueAccessor=default_value_accessor_2.DefaultValueAccessor;var ng_control_1=require("./directives/ng_control");exports.NgControl=ng_control_1.NgControl;var ng_control_status_2=require("./directives/ng_control_status");exports.NgControlStatus=ng_control_status_2.NgControlStatus;var ng_form_2=require("./directives/ng_form");exports.NgForm=ng_form_2.NgForm;var ng_model_2=require("./directives/ng_model");exports.NgModel=ng_model_2.NgModel;var ng_model_group_2=require("./directives/ng_model_group");exports.NgModelGroup=ng_model_group_2.NgModelGroup;var number_value_accessor_2=require("./directives/number_value_accessor");exports.NumberValueAccessor=number_value_accessor_2.NumberValueAccessor;var radio_control_value_accessor_2=require("./directives/radio_control_value_accessor");exports.RadioControlValueAccessor=radio_control_value_accessor_2.RadioControlValueAccessor;var form_array_name_2=require("./directives/reactive_directives/form_array_name");exports.FormArrayName=form_array_name_2.FormArrayName;var form_control_directive_2=require("./directives/reactive_directives/form_control_directive");exports.FormControlDirective=form_control_directive_2.FormControlDirective;var form_control_name_2=require("./directives/reactive_directives/form_control_name");exports.FormControlName=form_control_name_2.FormControlName;var form_group_directive_2=require("./directives/reactive_directives/form_group_directive");exports.FormGroupDirective=form_group_directive_2.FormGroupDirective;var form_group_name_2=require("./directives/reactive_directives/form_group_name");exports.FormGroupName=form_group_name_2.FormGroupName;var select_control_value_accessor_2=require("./directives/select_control_value_accessor");exports.NgSelectOption=select_control_value_accessor_2.NgSelectOption,exports.SelectControlValueAccessor=select_control_value_accessor_2.SelectControlValueAccessor;var select_multiple_control_value_accessor_2=require("./directives/select_multiple_control_value_accessor");exports.NgSelectMultipleOption=select_multiple_control_value_accessor_2.NgSelectMultipleOption,exports.SelectMultipleControlValueAccessor=select_multiple_control_value_accessor_2.SelectMultipleControlValueAccessor;var validators_2=require("./directives/validators");exports.MaxLengthValidator=validators_2.MaxLengthValidator,exports.MinLengthValidator=validators_2.MinLengthValidator,exports.PatternValidator=validators_2.PatternValidator,exports.RequiredValidator=validators_2.RequiredValidator,exports.FORM_DIRECTIVES=[ng_model_1.NgModel,ng_model_group_1.NgModelGroup,ng_form_1.NgForm,select_control_value_accessor_1.NgSelectOption,select_multiple_control_value_accessor_1.NgSelectMultipleOption,default_value_accessor_1.DefaultValueAccessor,number_value_accessor_1.NumberValueAccessor,checkbox_value_accessor_1.CheckboxControlValueAccessor,select_control_value_accessor_1.SelectControlValueAccessor,select_multiple_control_value_accessor_1.SelectMultipleControlValueAccessor,radio_control_value_accessor_1.RadioControlValueAccessor,ng_control_status_1.NgControlStatus,validators_1.RequiredValidator,validators_1.MinLengthValidator,validators_1.MaxLengthValidator,validators_1.PatternValidator],exports.REACTIVE_FORM_DIRECTIVES=[form_control_directive_1.FormControlDirective,form_group_directive_1.FormGroupDirective,form_control_name_1.FormControlName,form_group_name_1.FormGroupName,form_array_name_1.FormArrayName]},{"./directives/checkbox_value_accessor":260,"./directives/default_value_accessor":263,"./directives/ng_control":264,"./directives/ng_control_status":265,"./directives/ng_form":266,"./directives/ng_model":267,"./directives/ng_model_group":268,"./directives/number_value_accessor":270,"./directives/radio_control_value_accessor":271,"./directives/reactive_directives/form_array_name":272,"./directives/reactive_directives/form_control_directive":273,"./directives/reactive_directives/form_control_name":274,"./directives/reactive_directives/form_group_directive":275,"./directives/reactive_directives/form_group_name":276,"./directives/select_control_value_accessor":277,"./directives/select_multiple_control_value_accessor":278,"./directives/validators":280}],258:[function(require,module,exports){"use strict";var exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),AbstractControlDirective=function(){function AbstractControlDirective(){}return Object.defineProperty(AbstractControlDirective.prototype,"control",{get:function(){return exceptions_1.unimplemented();
},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"value",{get:function(){return lang_1.isPresent(this.control)?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"valid",{get:function(){return lang_1.isPresent(this.control)?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"errors",{get:function(){return lang_1.isPresent(this.control)?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"pristine",{get:function(){return lang_1.isPresent(this.control)?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"dirty",{get:function(){return lang_1.isPresent(this.control)?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"touched",{get:function(){return lang_1.isPresent(this.control)?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"untouched",{get:function(){return lang_1.isPresent(this.control)?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"statusChanges",{get:function(){return lang_1.isPresent(this.control)?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"valueChanges",{get:function(){return lang_1.isPresent(this.control)?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),AbstractControlDirective}();exports.AbstractControlDirective=AbstractControlDirective},{"../facade/exceptions":285,"../facade/lang":286}],259:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},control_container_1=require("./control_container"),shared_1=require("./shared"),AbstractFormGroupDirective=function(_super){function AbstractFormGroupDirective(){_super.apply(this,arguments)}return __extends(AbstractFormGroupDirective,_super),AbstractFormGroupDirective.prototype.ngOnInit=function(){this.formDirective.addFormGroup(this)},AbstractFormGroupDirective.prototype.ngOnDestroy=function(){this.formDirective.removeFormGroup(this)},Object.defineProperty(AbstractFormGroupDirective.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractFormGroupDirective.prototype,"path",{get:function(){return shared_1.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractFormGroupDirective.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractFormGroupDirective.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractFormGroupDirective.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),AbstractFormGroupDirective}(control_container_1.ControlContainer);exports.AbstractFormGroupDirective=AbstractFormGroupDirective},{"./control_container":261,"./shared":279}],260:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),control_value_accessor_1=require("./control_value_accessor");exports.CHECKBOX_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return CheckboxControlValueAccessor}),multi:!0};var CheckboxControlValueAccessor=function(){function CheckboxControlValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){}}return CheckboxControlValueAccessor.prototype.writeValue=function(value){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",value)},CheckboxControlValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn},CheckboxControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},CheckboxControlValueAccessor.decorators=[{type:core_1.Directive,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[exports.CHECKBOX_VALUE_ACCESSOR]}]}],CheckboxControlValueAccessor.ctorParameters=[{type:core_1.Renderer},{type:core_1.ElementRef}],CheckboxControlValueAccessor}();exports.CheckboxControlValueAccessor=CheckboxControlValueAccessor},{"./control_value_accessor":262,"@angular/core":167}],261:[function(require,module,exports){arguments[4][43][0].apply(exports,arguments)},{"./abstract_control_directive":258,dup:43}],262:[function(require,module,exports){arguments[4][44][0].apply(exports,arguments)},{"@angular/core":167,dup:44}],263:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../facade/lang"),control_value_accessor_1=require("./control_value_accessor");exports.DEFAULT_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return DefaultValueAccessor}),multi:!0};var DefaultValueAccessor=function(){function DefaultValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){}}return DefaultValueAccessor.prototype.writeValue=function(value){var normalizedValue=lang_1.isBlank(value)?"":value;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",normalizedValue)},DefaultValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn},DefaultValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},DefaultValueAccessor.decorators=[{type:core_1.Directive,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[exports.DEFAULT_VALUE_ACCESSOR]}]}],DefaultValueAccessor.ctorParameters=[{type:core_1.Renderer},{type:core_1.ElementRef}],DefaultValueAccessor}();exports.DefaultValueAccessor=DefaultValueAccessor},{"../facade/lang":286,"./control_value_accessor":262,"@angular/core":167}],264:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},exceptions_1=require("../facade/exceptions"),abstract_control_directive_1=require("./abstract_control_directive"),NgControl=function(_super){function NgControl(){_super.apply(this,arguments),this.name=null,this.valueAccessor=null}return __extends(NgControl,_super),Object.defineProperty(NgControl.prototype,"validator",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(NgControl.prototype,"asyncValidator",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),NgControl}(abstract_control_directive_1.AbstractControlDirective);exports.NgControl=NgControl},{"../facade/exceptions":285,"./abstract_control_directive":258}],265:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../facade/lang"),ng_control_1=require("./ng_control"),NgControlStatus=function(){function NgControlStatus(cd){this._cd=cd}return Object.defineProperty(NgControlStatus.prototype,"ngClassUntouched",{get:function(){return!!lang_1.isPresent(this._cd.control)&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassTouched",{get:function(){return!!lang_1.isPresent(this._cd.control)&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassPristine",{get:function(){return!!lang_1.isPresent(this._cd.control)&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassDirty",{get:function(){return!!lang_1.isPresent(this._cd.control)&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassValid",{get:function(){return!!lang_1.isPresent(this._cd.control)&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassInvalid",{get:function(){return!!lang_1.isPresent(this._cd.control)&&!this._cd.control.valid},enumerable:!0,configurable:!0}),NgControlStatus.decorators=[{type:core_1.Directive,args:[{selector:"[formControlName],[ngModel],[formControl]",host:{"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"}}]}],NgControlStatus.ctorParameters=[{type:ng_control_1.NgControl,decorators:[{type:core_1.Self}]}],NgControlStatus}();exports.NgControlStatus=NgControlStatus},{"../facade/lang":286,"./ng_control":264,"@angular/core":167}],266:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),async_1=require("../facade/async"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),model_1=require("../model"),validators_1=require("../validators"),control_container_1=require("./control_container"),shared_1=require("./shared");exports.formDirectiveProvider={provide:control_container_1.ControlContainer,useExisting:core_1.forwardRef(function(){return NgForm})};var NgForm=function(_super){function NgForm(validators,asyncValidators){_super.call(this),this._submitted=!1,this.ngSubmit=new async_1.EventEmitter,this.form=new model_1.FormGroup({},null,shared_1.composeValidators(validators),shared_1.composeAsyncValidators(asyncValidators))}return __extends(NgForm,_super),Object.defineProperty(NgForm.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),NgForm.prototype.addControl=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);dir._control=container.registerControl(dir.name,dir.control),shared_1.setUpControl(dir.control,dir),dir.control.updateValueAndValidity({emitEvent:!1})})},NgForm.prototype.getControl=function(dir){return this.form.find(dir.path)},NgForm.prototype.removeControl=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);lang_1.isPresent(container)&&container.removeControl(dir.name)})},NgForm.prototype.addFormGroup=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path),group=new model_1.FormGroup({});shared_1.setUpFormContainer(group,dir),container.registerControl(dir.name,group),group.updateValueAndValidity({emitEvent:!1})})},NgForm.prototype.removeFormGroup=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);lang_1.isPresent(container)&&container.removeControl(dir.name)})},NgForm.prototype.getFormGroup=function(dir){return this.form.find(dir.path)},NgForm.prototype.updateModel=function(dir,value){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var ctrl=_this.form.find(dir.path);ctrl.updateValue(value)})},NgForm.prototype.onSubmit=function(){return this._submitted=!0,async_1.ObservableWrapper.callEmit(this.ngSubmit,null),!1},NgForm.prototype._findContainer=function(path){return path.pop(),collection_1.ListWrapper.isEmpty(path)?this.form:this.form.find(path)},NgForm.decorators=[{type:core_1.Directive,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[exports.formDirectiveProvider],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],NgForm.ctorParameters=[{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]}],NgForm}(control_container_1.ControlContainer);exports.NgForm=NgForm},{"../facade/async":281,"../facade/collection":283,"../facade/lang":286,"../model":291,"../validators":292,"./control_container":261,"./shared":279,"@angular/core":167}],267:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),async_1=require("../facade/async"),exceptions_1=require("../facade/exceptions"),model_1=require("../model"),validators_1=require("../validators"),control_container_1=require("./control_container"),control_value_accessor_1=require("./control_value_accessor"),ng_control_1=require("./ng_control"),shared_1=require("./shared");exports.formControlBinding={provide:ng_control_1.NgControl,useExisting:core_1.forwardRef(function(){return NgModel})};var NgModel=function(_super){function NgModel(_parent,_validators,_asyncValidators,valueAccessors){_super.call(this),this._parent=_parent,this._validators=_validators,this._asyncValidators=_asyncValidators,this._control=new model_1.FormControl,this._registered=!1,this.update=new async_1.EventEmitter,this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors)}return __extends(NgModel,_super),NgModel.prototype.ngOnChanges=function(changes){this._checkName(),this._registered||this._setUpControl(),shared_1.isPropertyUpdated(changes,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},NgModel.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(NgModel.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"path",{get:function(){return this._parent?shared_1.controlPath(this.name,this._parent):[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),NgModel.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue,async_1.ObservableWrapper.callEmit(this.update,newValue)},NgModel.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},NgModel.prototype._isStandalone=function(){return!this._parent||this.options&&this.options.standalone},NgModel.prototype._setUpStandalone=function(){shared_1.setUpControl(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},NgModel.prototype._checkName=function(){if(this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&!this.name)throw new exceptions_1.BaseException('If ngModel is used within a form tag, either the name attribute must be set\n                      or the form control must be defined as \'standalone\' in ngModelOptions.\n\n                      Example 1: <input [(ngModel)]="person.firstName" name="first">\n                      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">\n                   ')},NgModel.prototype._updateValue=function(value){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){_this.control.updateValue(value)})},NgModel.decorators=[{type:core_1.Directive,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[exports.formControlBinding],exportAs:"ngModel"}]}],NgModel.ctorParameters=[{type:control_container_1.ControlContainer,decorators:[{type:core_1.Optional},{type:core_1.Host}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[control_value_accessor_1.NG_VALUE_ACCESSOR]}]}],NgModel.propDecorators={model:[{type:core_1.Input,args:["ngModel"]}],name:[{type:core_1.Input}],options:[{type:core_1.Input,args:["ngModelOptions"]}],update:[{type:core_1.Output,args:["ngModelChange"]}]},NgModel}(ng_control_1.NgControl);exports.NgModel=NgModel},{"../facade/async":281,"../facade/exceptions":285,"../model":291,"../validators":292,"./control_container":261,"./control_value_accessor":262,"./ng_control":264,"./shared":279,"@angular/core":167}],268:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),validators_1=require("../validators"),abstract_form_group_directive_1=require("./abstract_form_group_directive"),control_container_1=require("./control_container");exports.modelGroupProvider={provide:control_container_1.ControlContainer,useExisting:core_1.forwardRef(function(){return NgModelGroup})};var NgModelGroup=function(_super){function NgModelGroup(parent,validators,asyncValidators){_super.call(this),this._parent=parent,this._validators=validators,this._asyncValidators=asyncValidators}return __extends(NgModelGroup,_super),NgModelGroup.decorators=[{type:core_1.Directive,args:[{selector:"[ngModelGroup]",providers:[exports.modelGroupProvider],exportAs:"ngModelGroup"}]}],NgModelGroup.ctorParameters=[{type:control_container_1.ControlContainer,decorators:[{type:core_1.Host},{type:core_1.SkipSelf}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]}],NgModelGroup.propDecorators={name:[{type:core_1.Input,args:["ngModelGroup"]}]},NgModelGroup}(abstract_form_group_directive_1.AbstractFormGroupDirective);exports.NgModelGroup=NgModelGroup},{"../validators":292,"./abstract_form_group_directive":259,"./control_container":261,"@angular/core":167}],269:[function(require,module,exports){arguments[4][54][0].apply(exports,arguments)},{dup:54}],270:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../facade/lang"),control_value_accessor_1=require("./control_value_accessor");exports.NUMBER_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return NumberValueAccessor}),multi:!0};var NumberValueAccessor=function(){function NumberValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){}}return NumberValueAccessor.prototype.writeValue=function(value){this._renderer.setElementProperty(this._elementRef.nativeElement,"value",value)},NumberValueAccessor.prototype.registerOnChange=function(fn){this.onChange=function(value){fn(""==value?null:lang_1.NumberWrapper.parseFloat(value))}},NumberValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},NumberValueAccessor.decorators=[{type:core_1.Directive,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[exports.NUMBER_VALUE_ACCESSOR]}]}],NumberValueAccessor.ctorParameters=[{type:core_1.Renderer},{type:core_1.ElementRef}],NumberValueAccessor}();exports.NumberValueAccessor=NumberValueAccessor},{"../facade/lang":286,"./control_value_accessor":262,"@angular/core":167}],271:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),collection_1=require("../facade/collection"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),control_value_accessor_1=require("./control_value_accessor"),ng_control_1=require("./ng_control");exports.RADIO_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return RadioControlValueAccessor}),multi:!0};var RadioControlRegistry=function(){function RadioControlRegistry(){this._accessors=[]}return RadioControlRegistry.prototype.add=function(control,accessor){this._accessors.push([control,accessor])},RadioControlRegistry.prototype.remove=function(accessor){for(var indexToRemove=-1,i=0;i<this._accessors.length;++i)this._accessors[i][1]===accessor&&(indexToRemove=i);collection_1.ListWrapper.removeAt(this._accessors,indexToRemove)},RadioControlRegistry.prototype.select=function(accessor){var _this=this;this._accessors.forEach(function(c){_this._isSameGroup(c,accessor)&&c[1]!==accessor&&c[1].fireUncheck(accessor.value)})},RadioControlRegistry.prototype._isSameGroup=function(controlPair,accessor){return!!controlPair[0].control&&(controlPair[0].control.root===accessor._control.control.root&&controlPair[1].name===accessor.name)},RadioControlRegistry.decorators=[{type:core_1.Injectable}],RadioControlRegistry}();exports.RadioControlRegistry=RadioControlRegistry;var RadioControlValueAccessor=function(){function RadioControlValueAccessor(_renderer,_elementRef,_registry,_injector){this._renderer=_renderer,this._elementRef=_elementRef,this._registry=_registry,this._injector=_injector,this.onChange=function(){},this.onTouched=function(){}}return RadioControlValueAccessor.prototype.ngOnInit=function(){this._control=this._injector.get(ng_control_1.NgControl),this._checkName(),this._registry.add(this._control,this)},RadioControlValueAccessor.prototype.ngOnDestroy=function(){this._registry.remove(this)},RadioControlValueAccessor.prototype.writeValue=function(value){this._state=value===this.value,lang_1.isPresent(value)&&this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",this._state)},RadioControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn,this.onChange=function(){fn(_this.value),_this._registry.select(_this)}},RadioControlValueAccessor.prototype.fireUncheck=function(value){this.writeValue(value)},RadioControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},RadioControlValueAccessor.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},RadioControlValueAccessor.prototype._throwNameError=function(){throw new exceptions_1.BaseException('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},RadioControlValueAccessor.decorators=[{type:core_1.Directive,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[exports.RADIO_VALUE_ACCESSOR]}]}],RadioControlValueAccessor.ctorParameters=[{type:core_1.Renderer},{type:core_1.ElementRef},{type:RadioControlRegistry},{type:core_1.Injector}],RadioControlValueAccessor.propDecorators={name:[{type:core_1.Input}],formControlName:[{type:core_1.Input}],value:[{type:core_1.Input}]},RadioControlValueAccessor}();exports.RadioControlValueAccessor=RadioControlValueAccessor},{"../facade/collection":283,"../facade/exceptions":285,"../facade/lang":286,"./control_value_accessor":262,"./ng_control":264,"@angular/core":167}],272:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),validators_1=require("../../validators"),control_container_1=require("../control_container"),shared_1=require("../shared");exports.formArrayNameProvider={provide:control_container_1.ControlContainer,useExisting:core_1.forwardRef(function(){return FormArrayName})};var FormArrayName=function(_super){function FormArrayName(parent,validators,asyncValidators){_super.call(this),this._parent=parent,this._validators=validators,this._asyncValidators=asyncValidators}return __extends(FormArrayName,_super),FormArrayName.prototype.ngOnInit=function(){this.formDirective.addFormArray(this)},FormArrayName.prototype.ngOnDestroy=function(){this.formDirective.removeFormArray(this)},Object.defineProperty(FormArrayName.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(FormArrayName.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(FormArrayName.prototype,"path",{get:function(){return shared_1.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(FormArrayName.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(FormArrayName.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),FormArrayName.decorators=[{type:core_1.Directive,args:[{selector:"[formArrayName]",providers:[exports.formArrayNameProvider]}]}],FormArrayName.ctorParameters=[{type:control_container_1.ControlContainer,decorators:[{type:core_1.Host},{type:core_1.SkipSelf}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]}],FormArrayName.propDecorators={name:[{type:core_1.Input,args:["formArrayName"]}]},FormArrayName}(control_container_1.ControlContainer);exports.FormArrayName=FormArrayName},{"../../validators":292,"../control_container":261,"../shared":279,"@angular/core":167}],273:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),async_1=require("../../facade/async"),collection_1=require("../../facade/collection"),validators_1=require("../../validators"),control_value_accessor_1=require("../control_value_accessor"),ng_control_1=require("../ng_control"),shared_1=require("../shared");exports.formControlBinding={provide:ng_control_1.NgControl,useExisting:core_1.forwardRef(function(){return FormControlDirective})};var FormControlDirective=function(_super){function FormControlDirective(_validators,_asyncValidators,valueAccessors){_super.call(this),this._validators=_validators,this._asyncValidators=_asyncValidators,this.update=new async_1.EventEmitter,this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors)}return __extends(FormControlDirective,_super),FormControlDirective.prototype.ngOnChanges=function(changes){this._isControlChanged(changes)&&(shared_1.setUpControl(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})),shared_1.isPropertyUpdated(changes,this.viewModel)&&(this.form.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(FormControlDirective.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlDirective.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlDirective.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlDirective.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),FormControlDirective.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue,async_1.ObservableWrapper.callEmit(this.update,newValue)},FormControlDirective.prototype._isControlChanged=function(changes){return collection_1.StringMapWrapper.contains(changes,"form")},FormControlDirective.decorators=[{type:core_1.Directive,args:[{selector:"[formControl]",providers:[exports.formControlBinding],exportAs:"ngForm"}]}],FormControlDirective.ctorParameters=[{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[control_value_accessor_1.NG_VALUE_ACCESSOR]}]}],FormControlDirective.propDecorators={form:[{type:core_1.Input,args:["formControl"]}],model:[{type:core_1.Input,args:["ngModel"]}],update:[{type:core_1.Output,args:["ngModelChange"]}]},FormControlDirective}(ng_control_1.NgControl);exports.FormControlDirective=FormControlDirective},{"../../facade/async":281,"../../facade/collection":283,"../../validators":292,"../control_value_accessor":262,"../ng_control":264,"../shared":279,"@angular/core":167}],274:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),async_1=require("../../facade/async"),validators_1=require("../../validators"),control_container_1=require("../control_container"),control_value_accessor_1=require("../control_value_accessor"),ng_control_1=require("../ng_control"),shared_1=require("../shared");exports.controlNameBinding={provide:ng_control_1.NgControl,useExisting:core_1.forwardRef(function(){return FormControlName})};var FormControlName=function(_super){function FormControlName(_parent,_validators,_asyncValidators,valueAccessors){_super.call(this),this._parent=_parent,this._validators=_validators,this._asyncValidators=_asyncValidators,this._added=!1,this.update=new async_1.EventEmitter,
this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors)}return __extends(FormControlName,_super),FormControlName.prototype.ngOnChanges=function(changes){this._added||(this.formDirective.addControl(this),this._added=!0),shared_1.isPropertyUpdated(changes,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},FormControlName.prototype.ngOnDestroy=function(){this.formDirective.removeControl(this)},FormControlName.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue,async_1.ObservableWrapper.callEmit(this.update,newValue)},Object.defineProperty(FormControlName.prototype,"path",{get:function(){return shared_1.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlName.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlName.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlName.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlName.prototype,"control",{get:function(){return this.formDirective.getControl(this)},enumerable:!0,configurable:!0}),FormControlName.decorators=[{type:core_1.Directive,args:[{selector:"[formControlName]",providers:[exports.controlNameBinding]}]}],FormControlName.ctorParameters=[{type:control_container_1.ControlContainer,decorators:[{type:core_1.Host},{type:core_1.SkipSelf}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[control_value_accessor_1.NG_VALUE_ACCESSOR]}]}],FormControlName.propDecorators={name:[{type:core_1.Input,args:["formControlName"]}],model:[{type:core_1.Input,args:["ngModel"]}],update:[{type:core_1.Output,args:["ngModelChange"]}]},FormControlName}(ng_control_1.NgControl);exports.FormControlName=FormControlName},{"../../facade/async":281,"../../validators":292,"../control_container":261,"../control_value_accessor":262,"../ng_control":264,"../shared":279,"@angular/core":167}],275:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),async_1=require("../../facade/async"),collection_1=require("../../facade/collection"),exceptions_1=require("../../facade/exceptions"),lang_1=require("../../facade/lang"),validators_1=require("../../validators"),control_container_1=require("../control_container"),shared_1=require("../shared");exports.formDirectiveProvider={provide:control_container_1.ControlContainer,useExisting:core_1.forwardRef(function(){return FormGroupDirective})};var FormGroupDirective=function(_super){function FormGroupDirective(_validators,_asyncValidators){_super.call(this),this._validators=_validators,this._asyncValidators=_asyncValidators,this._submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new async_1.EventEmitter}return __extends(FormGroupDirective,_super),FormGroupDirective.prototype.ngOnChanges=function(changes){if(this._checkFormPresent(),collection_1.StringMapWrapper.contains(changes,"form")){var sync=shared_1.composeValidators(this._validators);this.form.validator=validators_1.Validators.compose([this.form.validator,sync]);var async=shared_1.composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=validators_1.Validators.composeAsync([this.form.asyncValidator,async]),this.form.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}this._updateDomValue()},Object.defineProperty(FormGroupDirective.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(FormGroupDirective.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(FormGroupDirective.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(FormGroupDirective.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),FormGroupDirective.prototype.addControl=function(dir){var ctrl=this.form.find(dir.path);shared_1.setUpControl(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1}),this.directives.push(dir)},FormGroupDirective.prototype.getControl=function(dir){return this.form.find(dir.path)},FormGroupDirective.prototype.removeControl=function(dir){collection_1.ListWrapper.remove(this.directives,dir)},FormGroupDirective.prototype.addFormGroup=function(dir){var ctrl=this.form.find(dir.path);shared_1.setUpFormContainer(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1})},FormGroupDirective.prototype.removeFormGroup=function(dir){},FormGroupDirective.prototype.getFormGroup=function(dir){return this.form.find(dir.path)},FormGroupDirective.prototype.addFormArray=function(dir){var ctrl=this.form.find(dir.path);shared_1.setUpFormContainer(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1})},FormGroupDirective.prototype.removeFormArray=function(dir){},FormGroupDirective.prototype.getFormArray=function(dir){return this.form.find(dir.path)},FormGroupDirective.prototype.updateModel=function(dir,value){var ctrl=this.form.find(dir.path);ctrl.updateValue(value)},FormGroupDirective.prototype.onSubmit=function(){return this._submitted=!0,async_1.ObservableWrapper.callEmit(this.ngSubmit,null),!1},FormGroupDirective.prototype._updateDomValue=function(){var _this=this;this.directives.forEach(function(dir){var ctrl=_this.form.find(dir.path);dir.valueAccessor.writeValue(ctrl.value)})},FormGroupDirective.prototype._checkFormPresent=function(){if(lang_1.isBlank(this.form))throw new exceptions_1.BaseException('formGroup expects a FormGroup instance. Please pass one in.\n           Example: <form [formGroup]="myFormGroup">\n      ')},FormGroupDirective.decorators=[{type:core_1.Directive,args:[{selector:"[formGroup]",providers:[exports.formDirectiveProvider],host:{"(submit)":"onSubmit()"},exportAs:"ngForm"}]}],FormGroupDirective.ctorParameters=[{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]}],FormGroupDirective.propDecorators={form:[{type:core_1.Input,args:["formGroup"]}],ngSubmit:[{type:core_1.Output}]},FormGroupDirective}(control_container_1.ControlContainer);exports.FormGroupDirective=FormGroupDirective},{"../../facade/async":281,"../../facade/collection":283,"../../facade/exceptions":285,"../../facade/lang":286,"../../validators":292,"../control_container":261,"../shared":279,"@angular/core":167}],276:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),validators_1=require("../../validators"),abstract_form_group_directive_1=require("../abstract_form_group_directive"),control_container_1=require("../control_container");exports.formGroupNameProvider={provide:control_container_1.ControlContainer,useExisting:core_1.forwardRef(function(){return FormGroupName})};var FormGroupName=function(_super){function FormGroupName(parent,validators,asyncValidators){_super.call(this),this._parent=parent,this._validators=validators,this._asyncValidators=asyncValidators}return __extends(FormGroupName,_super),FormGroupName.decorators=[{type:core_1.Directive,args:[{selector:"[formGroupName]",providers:[exports.formGroupNameProvider]}]}],FormGroupName.ctorParameters=[{type:control_container_1.ControlContainer,decorators:[{type:core_1.Host},{type:core_1.SkipSelf}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:Array,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]}],FormGroupName.propDecorators={name:[{type:core_1.Input,args:["formGroupName"]}]},FormGroupName}(abstract_form_group_directive_1.AbstractFormGroupDirective);exports.FormGroupName=FormGroupName},{"../../validators":292,"../abstract_form_group_directive":259,"../control_container":261,"@angular/core":167}],277:[function(require,module,exports){"use strict";function _buildValueString(id,value){return lang_1.isBlank(id)?""+value:(lang_1.isPrimitive(value)||(value="Object"),lang_1.StringWrapper.slice(id+": "+value,0,50))}function _extractId(valueString){return valueString.split(":")[0]}var core_1=require("@angular/core"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),control_value_accessor_1=require("./control_value_accessor");exports.SELECT_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return SelectControlValueAccessor}),multi:!0};var SelectControlValueAccessor=function(){function SelectControlValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._optionMap=new Map,this._idCounter=0,this.onChange=function(_){},this.onTouched=function(){}}return SelectControlValueAccessor.prototype.writeValue=function(value){this.value=value;var valueString=_buildValueString(this._getOptionId(value),value);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",valueString)},SelectControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this.onChange=function(valueString){_this.value=valueString,fn(_this._getOptionValue(valueString))}},SelectControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},SelectControlValueAccessor.prototype._registerOption=function(){return(this._idCounter++).toString()},SelectControlValueAccessor.prototype._getOptionId=function(value){for(var _i=0,_a=collection_1.MapWrapper.keys(this._optionMap);_i<_a.length;_i++){var id=_a[_i];if(lang_1.looseIdentical(this._optionMap.get(id),value))return id}return null},SelectControlValueAccessor.prototype._getOptionValue=function(valueString){var value=this._optionMap.get(_extractId(valueString));return lang_1.isPresent(value)?value:valueString},SelectControlValueAccessor.decorators=[{type:core_1.Directive,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[exports.SELECT_VALUE_ACCESSOR]}]}],SelectControlValueAccessor.ctorParameters=[{type:core_1.Renderer},{type:core_1.ElementRef}],SelectControlValueAccessor}();exports.SelectControlValueAccessor=SelectControlValueAccessor;var NgSelectOption=function(){function NgSelectOption(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,lang_1.isPresent(this._select)&&(this.id=this._select._registerOption())}return Object.defineProperty(NgSelectOption.prototype,"ngValue",{set:function(value){null!=this._select&&(this._select._optionMap.set(this.id,value),this._setElementValue(_buildValueString(this.id,value)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(NgSelectOption.prototype,"value",{set:function(value){this._setElementValue(value),lang_1.isPresent(this._select)&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),NgSelectOption.prototype._setElementValue=function(value){this._renderer.setElementProperty(this._element.nativeElement,"value",value)},NgSelectOption.prototype.ngOnDestroy=function(){lang_1.isPresent(this._select)&&(this._select._optionMap["delete"](this.id),this._select.writeValue(this._select.value))},NgSelectOption.decorators=[{type:core_1.Directive,args:[{selector:"option"}]}],NgSelectOption.ctorParameters=[{type:core_1.ElementRef},{type:core_1.Renderer},{type:SelectControlValueAccessor,decorators:[{type:core_1.Optional},{type:core_1.Host}]}],NgSelectOption.propDecorators={ngValue:[{type:core_1.Input,args:["ngValue"]}],value:[{type:core_1.Input,args:["value"]}]},NgSelectOption}();exports.NgSelectOption=NgSelectOption},{"../facade/collection":283,"../facade/lang":286,"./control_value_accessor":262,"@angular/core":167}],278:[function(require,module,exports){"use strict";function _buildValueString(id,value){return lang_1.isBlank(id)?""+value:(lang_1.isString(value)&&(value="'"+value+"'"),lang_1.isPrimitive(value)||(value="Object"),lang_1.StringWrapper.slice(id+": "+value,0,50))}function _extractId(valueString){return valueString.split(":")[0]}var core_1=require("@angular/core"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),control_value_accessor_1=require("./control_value_accessor"),SELECT_MULTIPLE_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return SelectMultipleControlValueAccessor}),multi:!0},SelectMultipleControlValueAccessor=(function(){function HTMLCollection(){}return HTMLCollection}(),function(){function SelectMultipleControlValueAccessor(){this._optionMap=new Map,this._idCounter=0,this.onChange=function(_){},this.onTouched=function(){}}return SelectMultipleControlValueAccessor.prototype.writeValue=function(value){var _this=this;if(this.value=value,null!=value){var values=value,ids=values.map(function(v){return _this._getOptionId(v)});this._optionMap.forEach(function(opt,o){opt._setSelected(ids.indexOf(o.toString())>-1)})}},SelectMultipleControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this.onChange=function(_){var selected=[];if(_.hasOwnProperty("selectedOptions"))for(var options=_.selectedOptions,i=0;i<options.length;i++){var opt=options.item(i),val=_this._getOptionValue(opt.value);selected.push(val)}else for(var options=_.options,i=0;i<options.length;i++){var opt=options.item(i);if(opt.selected){var val=_this._getOptionValue(opt.value);selected.push(val)}}fn(selected)}},SelectMultipleControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},SelectMultipleControlValueAccessor.prototype._registerOption=function(value){var id=(this._idCounter++).toString();return this._optionMap.set(id,value),id},SelectMultipleControlValueAccessor.prototype._getOptionId=function(value){for(var _i=0,_a=collection_1.MapWrapper.keys(this._optionMap);_i<_a.length;_i++){var id=_a[_i];if(lang_1.looseIdentical(this._optionMap.get(id)._value,value))return id}return null},SelectMultipleControlValueAccessor.prototype._getOptionValue=function(valueString){var opt=this._optionMap.get(_extractId(valueString));return lang_1.isPresent(opt)?opt._value:valueString},SelectMultipleControlValueAccessor.decorators=[{type:core_1.Directive,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(input)":"onChange($event.target)","(blur)":"onTouched()"},providers:[SELECT_MULTIPLE_VALUE_ACCESSOR]}]}],SelectMultipleControlValueAccessor.ctorParameters=[],SelectMultipleControlValueAccessor}());exports.SelectMultipleControlValueAccessor=SelectMultipleControlValueAccessor;var NgSelectMultipleOption=function(){function NgSelectMultipleOption(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,lang_1.isPresent(this._select)&&(this.id=this._select._registerOption(this))}return Object.defineProperty(NgSelectMultipleOption.prototype,"ngValue",{set:function(value){null!=this._select&&(this._value=value,this._setElementValue(_buildValueString(this.id,value)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(NgSelectMultipleOption.prototype,"value",{set:function(value){lang_1.isPresent(this._select)?(this._value=value,this._setElementValue(_buildValueString(this.id,value)),this._select.writeValue(this._select.value)):this._setElementValue(value)},enumerable:!0,configurable:!0}),NgSelectMultipleOption.prototype._setElementValue=function(value){this._renderer.setElementProperty(this._element.nativeElement,"value",value)},NgSelectMultipleOption.prototype._setSelected=function(selected){this._renderer.setElementProperty(this._element.nativeElement,"selected",selected)},NgSelectMultipleOption.prototype.ngOnDestroy=function(){lang_1.isPresent(this._select)&&(this._select._optionMap["delete"](this.id),this._select.writeValue(this._select.value))},NgSelectMultipleOption.decorators=[{type:core_1.Directive,args:[{selector:"option"}]}],NgSelectMultipleOption.ctorParameters=[{type:core_1.ElementRef},{type:core_1.Renderer},{type:SelectMultipleControlValueAccessor,decorators:[{type:core_1.Optional},{type:core_1.Host}]}],NgSelectMultipleOption.propDecorators={ngValue:[{type:core_1.Input,args:["ngValue"]}],value:[{type:core_1.Input,args:["value"]}]},NgSelectMultipleOption}();exports.NgSelectMultipleOption=NgSelectMultipleOption,exports.SELECT_DIRECTIVES=[SelectMultipleControlValueAccessor,NgSelectMultipleOption]},{"../facade/collection":283,"../facade/lang":286,"./control_value_accessor":262,"@angular/core":167}],279:[function(require,module,exports){"use strict";function controlPath(name,parent){var p=collection_1.ListWrapper.clone(parent.path);return p.push(name),p}function setUpControl(control,dir){lang_1.isBlank(control)&&_throwError(dir,"Cannot find control"),lang_1.isBlank(dir.valueAccessor)&&_throwError(dir,"No value accessor for"),control.validator=validators_1.Validators.compose([control.validator,dir.validator]),control.asyncValidator=validators_1.Validators.composeAsync([control.asyncValidator,dir.asyncValidator]),dir.valueAccessor.writeValue(control.value),dir.valueAccessor.registerOnChange(function(newValue){dir.viewToModelUpdate(newValue),control.updateValue(newValue,{emitModelToViewChange:!1}),control.markAsDirty()}),control.registerOnChange(function(newValue){return dir.valueAccessor.writeValue(newValue)}),dir.valueAccessor.registerOnTouched(function(){return control.markAsTouched()})}function setUpFormContainer(control,dir){lang_1.isBlank(control)&&_throwError(dir,"Cannot find control"),control.validator=validators_1.Validators.compose([control.validator,dir.validator]),control.asyncValidator=validators_1.Validators.composeAsync([control.asyncValidator,dir.asyncValidator])}function _throwError(dir,message){var path=dir.path.join(" -> ");throw new exceptions_1.BaseException(message+" '"+path+"'")}function composeValidators(validators){return lang_1.isPresent(validators)?validators_1.Validators.compose(validators.map(normalize_validator_1.normalizeValidator)):null}function composeAsyncValidators(validators){return lang_1.isPresent(validators)?validators_1.Validators.composeAsync(validators.map(normalize_validator_1.normalizeAsyncValidator)):null}function isPropertyUpdated(changes,viewModel){if(!collection_1.StringMapWrapper.contains(changes,"model"))return!1;var change=changes.model;return!!change.isFirstChange()||!lang_1.looseIdentical(viewModel,change.currentValue)}function selectValueAccessor(dir,valueAccessors){if(lang_1.isBlank(valueAccessors))return null;var defaultAccessor,builtinAccessor,customAccessor;return valueAccessors.forEach(function(v){lang_1.hasConstructor(v,default_value_accessor_1.DefaultValueAccessor)?defaultAccessor=v:lang_1.hasConstructor(v,checkbox_value_accessor_1.CheckboxControlValueAccessor)||lang_1.hasConstructor(v,number_value_accessor_1.NumberValueAccessor)||lang_1.hasConstructor(v,select_control_value_accessor_1.SelectControlValueAccessor)||lang_1.hasConstructor(v,select_multiple_control_value_accessor_1.SelectMultipleControlValueAccessor)||lang_1.hasConstructor(v,radio_control_value_accessor_1.RadioControlValueAccessor)?(lang_1.isPresent(builtinAccessor)&&_throwError(dir,"More than one built-in value accessor matches"),builtinAccessor=v):(lang_1.isPresent(customAccessor)&&_throwError(dir,"More than one custom value accessor matches"),customAccessor=v)}),lang_1.isPresent(customAccessor)?customAccessor:lang_1.isPresent(builtinAccessor)?builtinAccessor:lang_1.isPresent(defaultAccessor)?defaultAccessor:(_throwError(dir,"No valid value accessor for"),null)}var collection_1=require("../facade/collection"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),validators_1=require("../validators"),checkbox_value_accessor_1=require("./checkbox_value_accessor"),default_value_accessor_1=require("./default_value_accessor"),normalize_validator_1=require("./normalize_validator"),number_value_accessor_1=require("./number_value_accessor"),radio_control_value_accessor_1=require("./radio_control_value_accessor"),select_control_value_accessor_1=require("./select_control_value_accessor"),select_multiple_control_value_accessor_1=require("./select_multiple_control_value_accessor");exports.controlPath=controlPath,exports.setUpControl=setUpControl,exports.setUpFormContainer=setUpFormContainer,exports.composeValidators=composeValidators,exports.composeAsyncValidators=composeAsyncValidators,exports.isPropertyUpdated=isPropertyUpdated,exports.selectValueAccessor=selectValueAccessor},{"../facade/collection":283,"../facade/exceptions":285,"../facade/lang":286,"../validators":292,"./checkbox_value_accessor":260,"./default_value_accessor":263,"./normalize_validator":269,"./number_value_accessor":270,"./radio_control_value_accessor":271,"./select_control_value_accessor":277,"./select_multiple_control_value_accessor":278}],280:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../facade/lang"),validators_1=require("../validators"),REQUIRED=validators_1.Validators.required;exports.REQUIRED_VALIDATOR={provide:validators_1.NG_VALIDATORS,useValue:REQUIRED,multi:!0};var RequiredValidator=function(){function RequiredValidator(){}return RequiredValidator.decorators=[{type:core_1.Directive,args:[{selector:"[required][formControlName],[required][formControl],[required][ngModel]",providers:[exports.REQUIRED_VALIDATOR]}]}],RequiredValidator}();exports.RequiredValidator=RequiredValidator,exports.MIN_LENGTH_VALIDATOR={provide:validators_1.NG_VALIDATORS,useExisting:core_1.forwardRef(function(){return MinLengthValidator}),multi:!0};var MinLengthValidator=function(){function MinLengthValidator(minLength){this._validator=validators_1.Validators.minLength(lang_1.NumberWrapper.parseInt(minLength,10))}return MinLengthValidator.prototype.validate=function(c){return this._validator(c)},MinLengthValidator.decorators=[{type:core_1.Directive,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[exports.MIN_LENGTH_VALIDATOR]}]}],MinLengthValidator.ctorParameters=[{type:void 0,decorators:[{type:core_1.Attribute,args:["minlength"]}]}],MinLengthValidator}();exports.MinLengthValidator=MinLengthValidator,exports.MAX_LENGTH_VALIDATOR={provide:validators_1.NG_VALIDATORS,useExisting:core_1.forwardRef(function(){return MaxLengthValidator}),multi:!0};var MaxLengthValidator=function(){function MaxLengthValidator(maxLength){this._validator=validators_1.Validators.maxLength(lang_1.NumberWrapper.parseInt(maxLength,10))}return MaxLengthValidator.prototype.validate=function(c){return this._validator(c)},MaxLengthValidator.decorators=[{type:core_1.Directive,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[exports.MAX_LENGTH_VALIDATOR]}]}],MaxLengthValidator.ctorParameters=[{type:void 0,decorators:[{type:core_1.Attribute,args:["maxlength"]}]}],MaxLengthValidator}();exports.MaxLengthValidator=MaxLengthValidator,exports.PATTERN_VALIDATOR={provide:validators_1.NG_VALIDATORS,useExisting:core_1.forwardRef(function(){return PatternValidator}),multi:!0};var PatternValidator=function(){function PatternValidator(pattern){this._validator=validators_1.Validators.pattern(pattern)}return PatternValidator.prototype.validate=function(c){return this._validator(c)},PatternValidator.decorators=[{type:core_1.Directive,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[exports.PATTERN_VALIDATOR]}]}],PatternValidator.ctorParameters=[{type:void 0,decorators:[{type:core_1.Attribute,args:["pattern"]}]}],PatternValidator}();exports.PatternValidator=PatternValidator},{"../facade/lang":286,"../validators":292,"@angular/core":167}],281:[function(require,module,exports){arguments[4][31][0].apply(exports,arguments)},{"./lang":286,"./promise":287,dup:31,"rxjs/Observable":629,"rxjs/Subject":635,"rxjs/observable/PromiseObservable":758,"rxjs/operator/toPromise":856}],282:[function(require,module,exports){arguments[4][32][0].apply(exports,arguments)},{dup:32}],283:[function(require,module,exports){arguments[4][33][0].apply(exports,arguments)},{"./lang":286,dup:33}],284:[function(require,module,exports){arguments[4][34][0].apply(exports,arguments)},{"./base_wrapped_exception":282,"./collection":283,"./lang":286,dup:34}],285:[function(require,module,exports){arguments[4][35][0].apply(exports,arguments)},{"./base_wrapped_exception":282,"./exception_handler":284,dup:35}],286:[function(require,module,exports){arguments[4][37][0].apply(exports,arguments)},{dup:37}],287:[function(require,module,exports){arguments[4][38][0].apply(exports,arguments)},{dup:38}],288:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),collection_1=require("./facade/collection"),lang_1=require("./facade/lang"),model_1=require("./model"),FormBuilder=function(){function FormBuilder(){}return FormBuilder.prototype.group=function(controlsConfig,extra){void 0===extra&&(extra=null);var controls=this._reduceControls(controlsConfig),optionals=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"optionals"):null,validator=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"validator"):null,asyncValidator=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"asyncValidator"):null;return new model_1.FormGroup(controls,optionals,validator,asyncValidator)},FormBuilder.prototype.control=function(value,validator,asyncValidator){return void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),new model_1.FormControl(value,validator,asyncValidator)},FormBuilder.prototype.array=function(controlsConfig,validator,asyncValidator){var _this=this;void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null);var controls=controlsConfig.map(function(c){return _this._createControl(c)});return new model_1.FormArray(controls,validator,asyncValidator)},FormBuilder.prototype._reduceControls=function(controlsConfig){var _this=this,controls={};return collection_1.StringMapWrapper.forEach(controlsConfig,function(controlConfig,controlName){controls[controlName]=_this._createControl(controlConfig)}),controls},FormBuilder.prototype._createControl=function(controlConfig){if(controlConfig instanceof model_1.FormControl||controlConfig instanceof model_1.FormGroup||controlConfig instanceof model_1.FormArray)return controlConfig;if(lang_1.isArray(controlConfig)){var value=controlConfig[0],validator=controlConfig.length>1?controlConfig[1]:null,asyncValidator=controlConfig.length>2?controlConfig[2]:null;return this.control(value,validator,asyncValidator)}return this.control(controlConfig)},FormBuilder.decorators=[{type:core_1.Injectable}],FormBuilder}();exports.FormBuilder=FormBuilder},{"./facade/collection":283,"./facade/lang":286,"./model":291,"@angular/core":167}],289:[function(require,module,exports){"use strict";function flatten(platformDirectives){var flattenedDirectives=[];return platformDirectives.forEach(function(directives){Array.isArray(directives)?flattenedDirectives=flattenedDirectives.concat(directives):flattenedDirectives.push(directives)}),flattenedDirectives}function disableDeprecatedForms(){return[{provide:compiler_1.CompilerConfig,useFactory:function(platformDirectives,platformPipes){var flattenedDirectives=flatten(platformDirectives);return collection_1.ListWrapper.remove(flattenedDirectives,common_1.FORM_DIRECTIVES),new compiler_1.CompilerConfig({platformDirectives:flattenedDirectives,platformPipes:platformPipes})},deps:[core_1.PLATFORM_DIRECTIVES,core_1.PLATFORM_PIPES]}]}function provideForms(){return[{provide:core_1.PLATFORM_DIRECTIVES,useValue:directives_1.FORM_DIRECTIVES,multi:!0},exports.FORM_PROVIDERS]}var common_1=require("@angular/common"),compiler_1=require("@angular/compiler"),core_1=require("@angular/core"),directives_1=require("./directives"),radio_control_value_accessor_1=require("./directives/radio_control_value_accessor"),collection_1=require("./facade/collection"),form_builder_1=require("./form_builder");exports.FORM_PROVIDERS=[form_builder_1.FormBuilder,radio_control_value_accessor_1.RadioControlRegistry],exports.disableDeprecatedForms=disableDeprecatedForms,exports.provideForms=provideForms},{"./directives":257,"./directives/radio_control_value_accessor":271,"./facade/collection":283,"./form_builder":288,"@angular/common":20,"@angular/compiler":86,"@angular/core":167}],290:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var directives_1=require("./directives");exports.FORM_DIRECTIVES=directives_1.FORM_DIRECTIVES,exports.REACTIVE_FORM_DIRECTIVES=directives_1.REACTIVE_FORM_DIRECTIVES;var abstract_control_directive_1=require("./directives/abstract_control_directive");exports.AbstractControlDirective=abstract_control_directive_1.AbstractControlDirective;var checkbox_value_accessor_1=require("./directives/checkbox_value_accessor");exports.CheckboxControlValueAccessor=checkbox_value_accessor_1.CheckboxControlValueAccessor;var control_container_1=require("./directives/control_container");exports.ControlContainer=control_container_1.ControlContainer;var control_value_accessor_1=require("./directives/control_value_accessor");exports.NG_VALUE_ACCESSOR=control_value_accessor_1.NG_VALUE_ACCESSOR;var default_value_accessor_1=require("./directives/default_value_accessor");exports.DefaultValueAccessor=default_value_accessor_1.DefaultValueAccessor;var ng_control_1=require("./directives/ng_control");exports.NgControl=ng_control_1.NgControl;var ng_control_status_1=require("./directives/ng_control_status");exports.NgControlStatus=ng_control_status_1.NgControlStatus;var ng_form_1=require("./directives/ng_form");exports.NgForm=ng_form_1.NgForm;var ng_model_1=require("./directives/ng_model");exports.NgModel=ng_model_1.NgModel;var ng_model_group_1=require("./directives/ng_model_group");exports.NgModelGroup=ng_model_group_1.NgModelGroup;var form_array_name_1=require("./directives/reactive_directives/form_array_name");exports.FormArrayName=form_array_name_1.FormArrayName;var form_control_directive_1=require("./directives/reactive_directives/form_control_directive");exports.FormControlDirective=form_control_directive_1.FormControlDirective;var form_control_name_1=require("./directives/reactive_directives/form_control_name");exports.FormControlName=form_control_name_1.FormControlName;var form_group_directive_1=require("./directives/reactive_directives/form_group_directive");exports.FormGroupDirective=form_group_directive_1.FormGroupDirective;var form_group_name_1=require("./directives/reactive_directives/form_group_name");exports.FormGroupName=form_group_name_1.FormGroupName;var select_control_value_accessor_1=require("./directives/select_control_value_accessor");exports.NgSelectOption=select_control_value_accessor_1.NgSelectOption,exports.SelectControlValueAccessor=select_control_value_accessor_1.SelectControlValueAccessor;
var validators_1=require("./directives/validators");exports.MaxLengthValidator=validators_1.MaxLengthValidator,exports.MinLengthValidator=validators_1.MinLengthValidator,exports.PatternValidator=validators_1.PatternValidator,exports.RequiredValidator=validators_1.RequiredValidator;var form_builder_1=require("./form_builder");exports.FormBuilder=form_builder_1.FormBuilder;var model_1=require("./model");exports.AbstractControl=model_1.AbstractControl,exports.FormArray=model_1.FormArray,exports.FormControl=model_1.FormControl,exports.FormGroup=model_1.FormGroup;var validators_2=require("./validators");exports.NG_ASYNC_VALIDATORS=validators_2.NG_ASYNC_VALIDATORS,exports.NG_VALIDATORS=validators_2.NG_VALIDATORS,exports.Validators=validators_2.Validators,__export(require("./form_providers"))},{"./directives":257,"./directives/abstract_control_directive":258,"./directives/checkbox_value_accessor":260,"./directives/control_container":261,"./directives/control_value_accessor":262,"./directives/default_value_accessor":263,"./directives/ng_control":264,"./directives/ng_control_status":265,"./directives/ng_form":266,"./directives/ng_model":267,"./directives/ng_model_group":268,"./directives/reactive_directives/form_array_name":272,"./directives/reactive_directives/form_control_directive":273,"./directives/reactive_directives/form_control_name":274,"./directives/reactive_directives/form_group_directive":275,"./directives/reactive_directives/form_group_name":276,"./directives/select_control_value_accessor":277,"./directives/validators":280,"./form_builder":288,"./form_providers":289,"./model":291,"./validators":292}],291:[function(require,module,exports){"use strict";function isControl(control){return control instanceof AbstractControl}function _find(control,path){return lang_1.isBlank(path)?null:(path instanceof Array||(path=path.split("/")),path instanceof Array&&collection_1.ListWrapper.isEmpty(path)?null:path.reduce(function(v,name){if(v instanceof FormGroup)return lang_1.isPresent(v.controls[name])?v.controls[name]:null;if(v instanceof FormArray){var index=name;return lang_1.isPresent(v.at(index))?v.at(index):null}return null},control))}function toObservable(r){return lang_1.isPromise(r)?async_1.ObservableWrapper.fromPromise(r):r}function coerceToValidator(validator){return Array.isArray(validator)?shared_1.composeValidators(validator):validator}function coerceToAsyncValidator(asyncValidator){return Array.isArray(asyncValidator)?shared_1.composeAsyncValidators(asyncValidator):asyncValidator}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},shared_1=require("./directives/shared"),async_1=require("./facade/async"),collection_1=require("./facade/collection"),lang_1=require("./facade/lang");exports.VALID="VALID",exports.INVALID="INVALID",exports.PENDING="PENDING",exports.isControl=isControl;var AbstractControl=function(){function AbstractControl(validator,asyncValidator){this.validator=validator,this.asyncValidator=asyncValidator,this._pristine=!0,this._touched=!1}return Object.defineProperty(AbstractControl.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"valid",{get:function(){return this._status===exports.VALID},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"pending",{get:function(){return this._status==exports.PENDING},enumerable:!0,configurable:!0}),AbstractControl.prototype.setAsyncValidators=function(newValidator){this.asyncValidator=coerceToAsyncValidator(newValidator)},AbstractControl.prototype.clearAsyncValidators=function(){this.asyncValidator=null},AbstractControl.prototype.setValidators=function(newValidator){this.validator=coerceToValidator(newValidator)},AbstractControl.prototype.clearValidators=function(){this.validator=null},AbstractControl.prototype.markAsTouched=function(){this._touched=!0},AbstractControl.prototype.markAsDirty=function(_a){var onlySelf=(void 0===_a?{}:_a).onlySelf;onlySelf=lang_1.normalizeBool(onlySelf),this._pristine=!1,lang_1.isPresent(this._parent)&&!onlySelf&&this._parent.markAsDirty({onlySelf:onlySelf})},AbstractControl.prototype.markAsPending=function(_a){var onlySelf=(void 0===_a?{}:_a).onlySelf;onlySelf=lang_1.normalizeBool(onlySelf),this._status=exports.PENDING,lang_1.isPresent(this._parent)&&!onlySelf&&this._parent.markAsPending({onlySelf:onlySelf})},AbstractControl.prototype.setParent=function(parent){this._parent=parent},AbstractControl.prototype.updateValueAndValidity=function(_a){var _b=void 0===_a?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;onlySelf=lang_1.normalizeBool(onlySelf),emitEvent=!lang_1.isPresent(emitEvent)||emitEvent,this._updateValue(),this._errors=this._runValidator(),this._status=this._calculateStatus(),this._status!=exports.VALID&&this._status!=exports.PENDING||this._runAsyncValidator(emitEvent),emitEvent&&(async_1.ObservableWrapper.callEmit(this._valueChanges,this._value),async_1.ObservableWrapper.callEmit(this._statusChanges,this._status)),lang_1.isPresent(this._parent)&&!onlySelf&&this._parent.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent})},AbstractControl.prototype._runValidator=function(){return lang_1.isPresent(this.validator)?this.validator(this):null},AbstractControl.prototype._runAsyncValidator=function(emitEvent){var _this=this;if(lang_1.isPresent(this.asyncValidator)){this._status=exports.PENDING,this._cancelExistingSubscription();var obs=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=async_1.ObservableWrapper.subscribe(obs,function(res){return _this.setErrors(res,{emitEvent:emitEvent})})}},AbstractControl.prototype._cancelExistingSubscription=function(){lang_1.isPresent(this._asyncValidationSubscription)&&async_1.ObservableWrapper.dispose(this._asyncValidationSubscription)},AbstractControl.prototype.setErrors=function(errors,_a){var emitEvent=(void 0===_a?{}:_a).emitEvent;emitEvent=!lang_1.isPresent(emitEvent)||emitEvent,this._errors=errors,this._updateControlsErrors(emitEvent)},AbstractControl.prototype.find=function(path){return _find(this,path)},AbstractControl.prototype.getError=function(errorCode,path){void 0===path&&(path=null);var control=lang_1.isPresent(path)&&!collection_1.ListWrapper.isEmpty(path)?this.find(path):this;return lang_1.isPresent(control)&&lang_1.isPresent(control._errors)?collection_1.StringMapWrapper.get(control._errors,errorCode):null},AbstractControl.prototype.hasError=function(errorCode,path){return void 0===path&&(path=null),lang_1.isPresent(this.getError(errorCode,path))},Object.defineProperty(AbstractControl.prototype,"root",{get:function(){for(var x=this;lang_1.isPresent(x._parent);)x=x._parent;return x},enumerable:!0,configurable:!0}),AbstractControl.prototype._updateControlsErrors=function(emitEvent){this._status=this._calculateStatus(),emitEvent&&async_1.ObservableWrapper.callEmit(this._statusChanges,this._status),lang_1.isPresent(this._parent)&&this._parent._updateControlsErrors(emitEvent)},AbstractControl.prototype._initObservables=function(){this._valueChanges=new async_1.EventEmitter,this._statusChanges=new async_1.EventEmitter},AbstractControl.prototype._calculateStatus=function(){return lang_1.isPresent(this._errors)?exports.INVALID:this._anyControlsHaveStatus(exports.PENDING)?exports.PENDING:this._anyControlsHaveStatus(exports.INVALID)?exports.INVALID:exports.VALID},AbstractControl}();exports.AbstractControl=AbstractControl;var FormControl=function(_super){function FormControl(value,validator,asyncValidator){void 0===value&&(value=null),void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),_super.call(this,coerceToValidator(validator),coerceToAsyncValidator(asyncValidator)),this._onChange=[],this._value=value,this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return __extends(FormControl,_super),FormControl.prototype.updateValue=function(value,_a){var _this=this,_b=void 0===_a?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent,emitModelToViewChange=_b.emitModelToViewChange;emitModelToViewChange=!lang_1.isPresent(emitModelToViewChange)||emitModelToViewChange,this._value=value,this._onChange.length&&emitModelToViewChange&&this._onChange.forEach(function(changeFn){return changeFn(_this._value)}),this.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent})},FormControl.prototype._updateValue=function(){},FormControl.prototype._anyControlsHaveStatus=function(status){return!1},FormControl.prototype.registerOnChange=function(fn){this._onChange.push(fn)},FormControl}(AbstractControl);exports.FormControl=FormControl;var FormGroup=function(_super){function FormGroup(controls,optionals,validator,asyncValidator){void 0===optionals&&(optionals=null),void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),_super.call(this,validator,asyncValidator),this.controls=controls,this._optionals=lang_1.isPresent(optionals)?optionals:{},this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(FormGroup,_super),FormGroup.prototype.registerControl=function(name,control){return this.controls[name]?this.controls[name]:(this.controls[name]=control,control.setParent(this),control)},FormGroup.prototype.addControl=function(name,control){this.registerControl(name,control),this.updateValueAndValidity()},FormGroup.prototype.removeControl=function(name){collection_1.StringMapWrapper["delete"](this.controls,name),this.updateValueAndValidity()},FormGroup.prototype.include=function(controlName){collection_1.StringMapWrapper.set(this._optionals,controlName,!0),this.updateValueAndValidity()},FormGroup.prototype.exclude=function(controlName){collection_1.StringMapWrapper.set(this._optionals,controlName,!1),this.updateValueAndValidity()},FormGroup.prototype.contains=function(controlName){var c=collection_1.StringMapWrapper.contains(this.controls,controlName);return c&&this._included(controlName)},FormGroup.prototype._setParentForControls=function(){var _this=this;collection_1.StringMapWrapper.forEach(this.controls,function(control,name){control.setParent(_this)})},FormGroup.prototype._updateValue=function(){this._value=this._reduceValue()},FormGroup.prototype._anyControlsHaveStatus=function(status){var _this=this,res=!1;return collection_1.StringMapWrapper.forEach(this.controls,function(control,name){res=res||_this.contains(name)&&control.status==status}),res},FormGroup.prototype._reduceValue=function(){return this._reduceChildren({},function(acc,control,name){return acc[name]=control.value,acc})},FormGroup.prototype._reduceChildren=function(initValue,fn){var _this=this,res=initValue;return collection_1.StringMapWrapper.forEach(this.controls,function(control,name){_this._included(name)&&(res=fn(res,control,name))}),res},FormGroup.prototype._included=function(controlName){var isOptional=collection_1.StringMapWrapper.contains(this._optionals,controlName);return!isOptional||collection_1.StringMapWrapper.get(this._optionals,controlName)},FormGroup}(AbstractControl);exports.FormGroup=FormGroup;var FormArray=function(_super){function FormArray(controls,validator,asyncValidator){void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),_super.call(this,validator,asyncValidator),this.controls=controls,this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(FormArray,_super),FormArray.prototype.at=function(index){return this.controls[index]},FormArray.prototype.push=function(control){this.controls.push(control),control.setParent(this),this.updateValueAndValidity()},FormArray.prototype.insert=function(index,control){collection_1.ListWrapper.insert(this.controls,index,control),control.setParent(this),this.updateValueAndValidity()},FormArray.prototype.removeAt=function(index){collection_1.ListWrapper.removeAt(this.controls,index),this.updateValueAndValidity()},Object.defineProperty(FormArray.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),FormArray.prototype._updateValue=function(){this._value=this.controls.map(function(control){return control.value})},FormArray.prototype._anyControlsHaveStatus=function(status){return this.controls.some(function(c){return c.status==status})},FormArray.prototype._setParentForControls=function(){var _this=this;this.controls.forEach(function(control){control.setParent(_this)})},FormArray}(AbstractControl);exports.FormArray=FormArray},{"./directives/shared":279,"./facade/async":281,"./facade/collection":283,"./facade/lang":286}],292:[function(require,module,exports){"use strict";function _convertToPromise(obj){return lang_1.isPromise(obj)?obj:async_1.ObservableWrapper.toPromise(obj)}function _executeValidators(control,validators){return validators.map(function(v){return v(control)})}function _executeAsyncValidators(control,validators){return validators.map(function(v){return v(control)})}function _mergeErrors(arrayOfErrors){var res=arrayOfErrors.reduce(function(res,errors){return lang_1.isPresent(errors)?collection_1.StringMapWrapper.merge(res,errors):res},{});return collection_1.StringMapWrapper.isEmpty(res)?null:res}var core_1=require("@angular/core"),async_1=require("./facade/async"),collection_1=require("./facade/collection"),lang_1=require("./facade/lang"),promise_1=require("./facade/promise");exports.NG_VALIDATORS=new core_1.OpaqueToken("NgValidators"),exports.NG_ASYNC_VALIDATORS=new core_1.OpaqueToken("NgAsyncValidators");var Validators=function(){function Validators(){}return Validators.required=function(control){return lang_1.isBlank(control.value)||lang_1.isString(control.value)&&""==control.value?{required:!0}:null},Validators.minLength=function(minLength){return function(control){if(lang_1.isPresent(Validators.required(control)))return null;var v=control.value;return v.length<minLength?{minlength:{requiredLength:minLength,actualLength:v.length}}:null}},Validators.maxLength=function(maxLength){return function(control){if(lang_1.isPresent(Validators.required(control)))return null;var v=control.value;return v.length>maxLength?{maxlength:{requiredLength:maxLength,actualLength:v.length}}:null}},Validators.pattern=function(pattern){return function(control){if(lang_1.isPresent(Validators.required(control)))return null;var regex=new RegExp("^"+pattern+"$"),v=control.value;return regex.test(v)?null:{pattern:{requiredPattern:"^"+pattern+"$",actualValue:v}}}},Validators.nullValidator=function(c){return null},Validators.compose=function(validators){if(lang_1.isBlank(validators))return null;var presentValidators=validators.filter(lang_1.isPresent);return 0==presentValidators.length?null:function(control){return _mergeErrors(_executeValidators(control,presentValidators))}},Validators.composeAsync=function(validators){if(lang_1.isBlank(validators))return null;var presentValidators=validators.filter(lang_1.isPresent);return 0==presentValidators.length?null:function(control){var promises=_executeAsyncValidators(control,presentValidators).map(_convertToPromise);return promise_1.PromiseWrapper.all(promises).then(_mergeErrors)}},Validators}();exports.Validators=Validators},{"./facade/async":281,"./facade/collection":283,"./facade/lang":286,"./facade/promise":287,"@angular/core":167}],293:[function(require,module,exports){"use strict";function httpFactory(xhrBackend,requestOptions){return new http_1.Http(xhrBackend,requestOptions)}function jsonpFactory(jsonpBackend,requestOptions){return new http_1.Jsonp(jsonpBackend,requestOptions)}var browser_jsonp_1=require("./src/backends/browser_jsonp"),browser_xhr_1=require("./src/backends/browser_xhr"),jsonp_backend_1=require("./src/backends/jsonp_backend"),xhr_backend_1=require("./src/backends/xhr_backend"),base_request_options_1=require("./src/base_request_options"),base_response_options_1=require("./src/base_response_options"),http_1=require("./src/http"),interfaces_1=require("./src/interfaces"),browser_xhr_2=require("./src/backends/browser_xhr");exports.BrowserXhr=browser_xhr_2.BrowserXhr;var jsonp_backend_2=require("./src/backends/jsonp_backend");exports.JSONPBackend=jsonp_backend_2.JSONPBackend,exports.JSONPConnection=jsonp_backend_2.JSONPConnection;var xhr_backend_2=require("./src/backends/xhr_backend");exports.CookieXSRFStrategy=xhr_backend_2.CookieXSRFStrategy,exports.XHRBackend=xhr_backend_2.XHRBackend,exports.XHRConnection=xhr_backend_2.XHRConnection;var base_request_options_2=require("./src/base_request_options");exports.BaseRequestOptions=base_request_options_2.BaseRequestOptions,exports.RequestOptions=base_request_options_2.RequestOptions;var base_response_options_2=require("./src/base_response_options");exports.BaseResponseOptions=base_response_options_2.BaseResponseOptions,exports.ResponseOptions=base_response_options_2.ResponseOptions;var enums_1=require("./src/enums");exports.ReadyState=enums_1.ReadyState,exports.RequestMethod=enums_1.RequestMethod,exports.ResponseType=enums_1.ResponseType;var headers_1=require("./src/headers");exports.Headers=headers_1.Headers;var http_2=require("./src/http");exports.Http=http_2.Http,exports.Jsonp=http_2.Jsonp;var interfaces_2=require("./src/interfaces");exports.Connection=interfaces_2.Connection,exports.ConnectionBackend=interfaces_2.ConnectionBackend,exports.XSRFStrategy=interfaces_2.XSRFStrategy;var static_request_1=require("./src/static_request");exports.Request=static_request_1.Request;var static_response_1=require("./src/static_response");exports.Response=static_response_1.Response;var url_search_params_1=require("./src/url_search_params");exports.QueryEncoder=url_search_params_1.QueryEncoder,exports.URLSearchParams=url_search_params_1.URLSearchParams,exports.HTTP_PROVIDERS=[{provide:http_1.Http,useFactory:httpFactory,deps:[xhr_backend_1.XHRBackend,base_request_options_1.RequestOptions]},browser_xhr_1.BrowserXhr,{provide:base_request_options_1.RequestOptions,useClass:base_request_options_1.BaseRequestOptions},{provide:base_response_options_1.ResponseOptions,useClass:base_response_options_1.BaseResponseOptions},xhr_backend_1.XHRBackend,{provide:interfaces_1.XSRFStrategy,useValue:new xhr_backend_1.CookieXSRFStrategy}],exports.httpFactory=httpFactory,exports.HTTP_BINDINGS=exports.HTTP_PROVIDERS,exports.JSONP_PROVIDERS=[{provide:http_1.Jsonp,useFactory:jsonpFactory,deps:[jsonp_backend_1.JSONPBackend,base_request_options_1.RequestOptions]},browser_jsonp_1.BrowserJsonp,{provide:base_request_options_1.RequestOptions,useClass:base_request_options_1.BaseRequestOptions},{provide:base_response_options_1.ResponseOptions,useClass:base_response_options_1.BaseResponseOptions},{provide:jsonp_backend_1.JSONPBackend,useClass:jsonp_backend_1.JSONPBackend_}],exports.JSON_BINDINGS=exports.JSONP_PROVIDERS},{"./src/backends/browser_jsonp":295,"./src/backends/browser_xhr":296,"./src/backends/jsonp_backend":297,"./src/backends/xhr_backend":298,"./src/base_request_options":299,"./src/base_response_options":300,"./src/enums":301,"./src/headers":307,"./src/http":308,"./src/interfaces":310,"./src/static_request":311,"./src/static_response":312,"./src/url_search_params":313}],294:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./http"))},{"./http":293}],295:[function(require,module,exports){"use strict";function _getJsonpConnections(){return null===_jsonpConnections&&(_jsonpConnections=lang_1.global[exports.JSONP_HOME]={}),_jsonpConnections}var core_1=require("@angular/core"),lang_1=require("../facade/lang"),_nextRequestId=0;exports.JSONP_HOME="__ng_jsonp__";var _jsonpConnections=null,BrowserJsonp=function(){function BrowserJsonp(){}return BrowserJsonp.prototype.build=function(url){var node=document.createElement("script");return node.src=url,node},BrowserJsonp.prototype.nextRequestID=function(){return"__req"+_nextRequestId++},BrowserJsonp.prototype.requestCallback=function(id){return exports.JSONP_HOME+"."+id+".finished"},BrowserJsonp.prototype.exposeConnection=function(id,connection){var connections=_getJsonpConnections();connections[id]=connection},BrowserJsonp.prototype.removeConnection=function(id){var connections=_getJsonpConnections();connections[id]=null},BrowserJsonp.prototype.send=function(node){document.body.appendChild(node)},BrowserJsonp.prototype.cleanup=function(node){node.parentNode&&node.parentNode.removeChild(node)},BrowserJsonp.decorators=[{type:core_1.Injectable}],BrowserJsonp}();exports.BrowserJsonp=BrowserJsonp},{"../facade/lang":306,"@angular/core":167}],296:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),BrowserXhr=function(){function BrowserXhr(){}return BrowserXhr.prototype.build=function(){return new XMLHttpRequest},BrowserXhr.decorators=[{type:core_1.Injectable}],BrowserXhr.ctorParameters=[],BrowserXhr}();exports.BrowserXhr=BrowserXhr},{"@angular/core":167}],297:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),Observable_1=require("rxjs/Observable"),base_response_options_1=require("../base_response_options"),enums_1=require("../enums"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),interfaces_1=require("../interfaces"),static_response_1=require("../static_response"),browser_jsonp_1=require("./browser_jsonp"),JSONP_ERR_NO_CALLBACK="JSONP injected script did not invoke callback.",JSONP_ERR_WRONG_METHOD="JSONP requests must use GET request method.",JSONPConnection=function(){function JSONPConnection(){}return JSONPConnection}();exports.JSONPConnection=JSONPConnection;var JSONPConnection_=function(_super){function JSONPConnection_(req,_dom,baseResponseOptions){var _this=this;if(_super.call(this),this._dom=_dom,this.baseResponseOptions=baseResponseOptions,this._finished=!1,req.method!==enums_1.RequestMethod.Get)throw exceptions_1.makeTypeError(JSONP_ERR_WRONG_METHOD);this.request=req,this.response=new Observable_1.Observable(function(responseObserver){_this.readyState=enums_1.ReadyState.Loading;var id=_this._id=_dom.nextRequestID();_dom.exposeConnection(id,_this);var callback=_dom.requestCallback(_this._id),url=req.url;url.indexOf("=JSONP_CALLBACK&")>-1?url=lang_1.StringWrapper.replace(url,"=JSONP_CALLBACK&","="+callback+"&"):url.lastIndexOf("=JSONP_CALLBACK")===url.length-"=JSONP_CALLBACK".length&&(url=url.substring(0,url.length-"=JSONP_CALLBACK".length)+("="+callback));var script=_this._script=_dom.build(url),onLoad=function(event){if(_this.readyState!==enums_1.ReadyState.Cancelled){if(_this.readyState=enums_1.ReadyState.Done,_dom.cleanup(script),!_this._finished){var responseOptions_1=new base_response_options_1.ResponseOptions({body:JSONP_ERR_NO_CALLBACK,type:enums_1.ResponseType.Error,url:url});return lang_1.isPresent(baseResponseOptions)&&(responseOptions_1=baseResponseOptions.merge(responseOptions_1)),void responseObserver.error(new static_response_1.Response(responseOptions_1))}var responseOptions=new base_response_options_1.ResponseOptions({body:_this._responseData,url:url});lang_1.isPresent(_this.baseResponseOptions)&&(responseOptions=_this.baseResponseOptions.merge(responseOptions)),responseObserver.next(new static_response_1.Response(responseOptions)),responseObserver.complete()}},onError=function(error){if(_this.readyState!==enums_1.ReadyState.Cancelled){_this.readyState=enums_1.ReadyState.Done,_dom.cleanup(script);var responseOptions=new base_response_options_1.ResponseOptions({body:error.message,type:enums_1.ResponseType.Error});lang_1.isPresent(baseResponseOptions)&&(responseOptions=baseResponseOptions.merge(responseOptions)),responseObserver.error(new static_response_1.Response(responseOptions))}};return script.addEventListener("load",onLoad),script.addEventListener("error",onError),_dom.send(script),function(){_this.readyState=enums_1.ReadyState.Cancelled,script.removeEventListener("load",onLoad),script.removeEventListener("error",onError),lang_1.isPresent(script)&&_this._dom.cleanup(script)}})}return __extends(JSONPConnection_,_super),JSONPConnection_.prototype.finished=function(data){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==enums_1.ReadyState.Cancelled&&(this._responseData=data)},JSONPConnection_}(JSONPConnection);exports.JSONPConnection_=JSONPConnection_;var JSONPBackend=function(_super){function JSONPBackend(){_super.apply(this,arguments)}return __extends(JSONPBackend,_super),JSONPBackend}(interfaces_1.ConnectionBackend);exports.JSONPBackend=JSONPBackend;var JSONPBackend_=function(_super){function JSONPBackend_(_browserJSONP,_baseResponseOptions){_super.call(this),this._browserJSONP=_browserJSONP,this._baseResponseOptions=_baseResponseOptions}return __extends(JSONPBackend_,_super),JSONPBackend_.prototype.createConnection=function(request){return new JSONPConnection_(request,this._browserJSONP,this._baseResponseOptions)},JSONPBackend_.decorators=[{type:core_1.Injectable}],JSONPBackend_.ctorParameters=[{type:browser_jsonp_1.BrowserJsonp},{type:base_response_options_1.ResponseOptions}],JSONPBackend_}(JSONPBackend);exports.JSONPBackend_=JSONPBackend_},{"../base_response_options":300,"../enums":301,"../facade/exceptions":305,"../facade/lang":306,"../interfaces":310,"../static_response":312,"./browser_jsonp":295,"@angular/core":167,"rxjs/Observable":629}],298:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),platform_browser_1=require("@angular/platform-browser"),Observable_1=require("rxjs/Observable"),base_response_options_1=require("../base_response_options"),enums_1=require("../enums"),lang_1=require("../facade/lang"),headers_1=require("../headers"),http_utils_1=require("../http_utils"),interfaces_1=require("../interfaces"),static_response_1=require("../static_response"),browser_xhr_1=require("./browser_xhr"),XSSI_PREFIX=/^\)\]\}',?\n/,XHRConnection=function(){function XHRConnection(req,browserXHR,baseResponseOptions){var _this=this;this.request=req,this.response=new Observable_1.Observable(function(responseObserver){var _xhr=browserXHR.build();_xhr.open(enums_1.RequestMethod[req.method].toUpperCase(),req.url),lang_1.isPresent(req.withCredentials)&&(_xhr.withCredentials=req.withCredentials);var onLoad=function(){var body=lang_1.isPresent(_xhr.response)?_xhr.response:_xhr.responseText;lang_1.isString(body)&&(body=body.replace(XSSI_PREFIX,""));var headers=headers_1.Headers.fromResponseHeaderString(_xhr.getAllResponseHeaders()),url=http_utils_1.getResponseURL(_xhr),status=1223===_xhr.status?204:_xhr.status;0===status&&(status=body?200:0);var statusText=_xhr.statusText||"OK",responseOptions=new base_response_options_1.ResponseOptions({body:body,status:status,headers:headers,statusText:statusText,url:url});lang_1.isPresent(baseResponseOptions)&&(responseOptions=baseResponseOptions.merge(responseOptions));var response=new static_response_1.Response(responseOptions);return response.ok=http_utils_1.isSuccess(status),response.ok?(responseObserver.next(response),void responseObserver.complete()):void responseObserver.error(response)},onError=function(err){var responseOptions=new base_response_options_1.ResponseOptions({body:err,type:enums_1.ResponseType.Error,status:_xhr.status,statusText:_xhr.statusText});lang_1.isPresent(baseResponseOptions)&&(responseOptions=baseResponseOptions.merge(responseOptions)),responseObserver.error(new static_response_1.Response(responseOptions))};return _this.setDetectedContentType(req,_xhr),lang_1.isPresent(req.headers)&&req.headers.forEach(function(values,name){return _xhr.setRequestHeader(name,values.join(","))}),_xhr.addEventListener("load",onLoad),_xhr.addEventListener("error",onError),_xhr.send(_this.request.getBody()),function(){_xhr.removeEventListener("load",onLoad),_xhr.removeEventListener("error",onError),_xhr.abort()}})}return XHRConnection.prototype.setDetectedContentType=function(req,_xhr){if(!lang_1.isPresent(req.headers)||!lang_1.isPresent(req.headers.get("Content-Type")))switch(req.contentType){case enums_1.ContentType.NONE:break;case enums_1.ContentType.JSON:_xhr.setRequestHeader("Content-Type","application/json");break;case enums_1.ContentType.FORM:_xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");break;case enums_1.ContentType.TEXT:_xhr.setRequestHeader("Content-Type","text/plain");break;case enums_1.ContentType.BLOB:var blob=req.blob();blob.type&&_xhr.setRequestHeader("Content-Type",blob.type)}},XHRConnection}();exports.XHRConnection=XHRConnection;var CookieXSRFStrategy=function(){function CookieXSRFStrategy(_cookieName,_headerName){void 0===_cookieName&&(_cookieName="XSRF-TOKEN"),void 0===_headerName&&(_headerName="X-XSRF-TOKEN"),this._cookieName=_cookieName,this._headerName=_headerName}return CookieXSRFStrategy.prototype.configureRequest=function(req){var xsrfToken=platform_browser_1.__platform_browser_private__.getDOM().getCookie(this._cookieName);xsrfToken&&!req.headers.has(this._headerName)&&req.headers.set(this._headerName,xsrfToken)},CookieXSRFStrategy}();exports.CookieXSRFStrategy=CookieXSRFStrategy;var XHRBackend=function(){function XHRBackend(_browserXHR,_baseResponseOptions,_xsrfStrategy){this._browserXHR=_browserXHR,this._baseResponseOptions=_baseResponseOptions,this._xsrfStrategy=_xsrfStrategy}return XHRBackend.prototype.createConnection=function(request){return this._xsrfStrategy.configureRequest(request),new XHRConnection(request,this._browserXHR,this._baseResponseOptions)},XHRBackend.decorators=[{type:core_1.Injectable}],XHRBackend.ctorParameters=[{type:browser_xhr_1.BrowserXhr},{type:base_response_options_1.ResponseOptions},{type:interfaces_1.XSRFStrategy}],XHRBackend}();exports.XHRBackend=XHRBackend},{"../base_response_options":300,"../enums":301,"../facade/lang":306,"../headers":307,"../http_utils":309,"../interfaces":310,"../static_response":312,"./browser_xhr":296,"@angular/core":167,"@angular/platform-browser":326,"rxjs/Observable":629}],299:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),lang_1=require("../src/facade/lang"),enums_1=require("./enums"),headers_1=require("./headers"),http_utils_1=require("./http_utils"),url_search_params_1=require("./url_search_params"),RequestOptions=function(){function RequestOptions(_a){var _b=void 0===_a?{}:_a,method=_b.method,headers=_b.headers,body=_b.body,url=_b.url,search=_b.search,withCredentials=_b.withCredentials;this.method=lang_1.isPresent(method)?http_utils_1.normalizeMethodName(method):null,
this.headers=lang_1.isPresent(headers)?headers:null,this.body=lang_1.isPresent(body)?body:null,this.url=lang_1.isPresent(url)?url:null,this.search=lang_1.isPresent(search)?lang_1.isString(search)?new url_search_params_1.URLSearchParams(search):search:null,this.withCredentials=lang_1.isPresent(withCredentials)?withCredentials:null}return RequestOptions.prototype.merge=function(options){return new RequestOptions({method:lang_1.isPresent(options)&&lang_1.isPresent(options.method)?options.method:this.method,headers:lang_1.isPresent(options)&&lang_1.isPresent(options.headers)?options.headers:this.headers,body:lang_1.isPresent(options)&&lang_1.isPresent(options.body)?options.body:this.body,url:lang_1.isPresent(options)&&lang_1.isPresent(options.url)?options.url:this.url,search:lang_1.isPresent(options)&&lang_1.isPresent(options.search)?lang_1.isString(options.search)?new url_search_params_1.URLSearchParams(options.search):options.search.clone():this.search,withCredentials:lang_1.isPresent(options)&&lang_1.isPresent(options.withCredentials)?options.withCredentials:this.withCredentials})},RequestOptions}();exports.RequestOptions=RequestOptions;var BaseRequestOptions=function(_super){function BaseRequestOptions(){_super.call(this,{method:enums_1.RequestMethod.Get,headers:new headers_1.Headers})}return __extends(BaseRequestOptions,_super),BaseRequestOptions.decorators=[{type:core_1.Injectable}],BaseRequestOptions.ctorParameters=[],BaseRequestOptions}(RequestOptions);exports.BaseRequestOptions=BaseRequestOptions},{"../src/facade/lang":306,"./enums":301,"./headers":307,"./http_utils":309,"./url_search_params":313,"@angular/core":167}],300:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),lang_1=require("../src/facade/lang"),enums_1=require("./enums"),headers_1=require("./headers"),ResponseOptions=function(){function ResponseOptions(_a){var _b=void 0===_a?{}:_a,body=_b.body,status=_b.status,headers=_b.headers,statusText=_b.statusText,type=_b.type,url=_b.url;this.body=lang_1.isPresent(body)?body:null,this.status=lang_1.isPresent(status)?status:null,this.headers=lang_1.isPresent(headers)?headers:null,this.statusText=lang_1.isPresent(statusText)?statusText:null,this.type=lang_1.isPresent(type)?type:null,this.url=lang_1.isPresent(url)?url:null}return ResponseOptions.prototype.merge=function(options){return new ResponseOptions({body:lang_1.isPresent(options)&&lang_1.isPresent(options.body)?options.body:this.body,status:lang_1.isPresent(options)&&lang_1.isPresent(options.status)?options.status:this.status,headers:lang_1.isPresent(options)&&lang_1.isPresent(options.headers)?options.headers:this.headers,statusText:lang_1.isPresent(options)&&lang_1.isPresent(options.statusText)?options.statusText:this.statusText,type:lang_1.isPresent(options)&&lang_1.isPresent(options.type)?options.type:this.type,url:lang_1.isPresent(options)&&lang_1.isPresent(options.url)?options.url:this.url})},ResponseOptions}();exports.ResponseOptions=ResponseOptions;var BaseResponseOptions=function(_super){function BaseResponseOptions(){_super.call(this,{status:200,statusText:"Ok",type:enums_1.ResponseType.Default,headers:new headers_1.Headers})}return __extends(BaseResponseOptions,_super),BaseResponseOptions.decorators=[{type:core_1.Injectable}],BaseResponseOptions.ctorParameters=[],BaseResponseOptions}(ResponseOptions);exports.BaseResponseOptions=BaseResponseOptions},{"../src/facade/lang":306,"./enums":301,"./headers":307,"@angular/core":167}],301:[function(require,module,exports){"use strict";!function(RequestMethod){RequestMethod[RequestMethod.Get=0]="Get",RequestMethod[RequestMethod.Post=1]="Post",RequestMethod[RequestMethod.Put=2]="Put",RequestMethod[RequestMethod.Delete=3]="Delete",RequestMethod[RequestMethod.Options=4]="Options",RequestMethod[RequestMethod.Head=5]="Head",RequestMethod[RequestMethod.Patch=6]="Patch"}(exports.RequestMethod||(exports.RequestMethod={}));exports.RequestMethod;!function(ReadyState){ReadyState[ReadyState.Unsent=0]="Unsent",ReadyState[ReadyState.Open=1]="Open",ReadyState[ReadyState.HeadersReceived=2]="HeadersReceived",ReadyState[ReadyState.Loading=3]="Loading",ReadyState[ReadyState.Done=4]="Done",ReadyState[ReadyState.Cancelled=5]="Cancelled"}(exports.ReadyState||(exports.ReadyState={}));exports.ReadyState;!function(ResponseType){ResponseType[ResponseType.Basic=0]="Basic",ResponseType[ResponseType.Cors=1]="Cors",ResponseType[ResponseType.Default=2]="Default",ResponseType[ResponseType.Error=3]="Error",ResponseType[ResponseType.Opaque=4]="Opaque"}(exports.ResponseType||(exports.ResponseType={}));exports.ResponseType;!function(ContentType){ContentType[ContentType.NONE=0]="NONE",ContentType[ContentType.JSON=1]="JSON",ContentType[ContentType.FORM=2]="FORM",ContentType[ContentType.FORM_DATA=3]="FORM_DATA",ContentType[ContentType.TEXT=4]="TEXT",ContentType[ContentType.BLOB=5]="BLOB",ContentType[ContentType.ARRAY_BUFFER=6]="ARRAY_BUFFER"}(exports.ContentType||(exports.ContentType={}));exports.ContentType},{}],302:[function(require,module,exports){arguments[4][32][0].apply(exports,arguments)},{dup:32}],303:[function(require,module,exports){arguments[4][33][0].apply(exports,arguments)},{"./lang":306,dup:33}],304:[function(require,module,exports){arguments[4][34][0].apply(exports,arguments)},{"./base_wrapped_exception":302,"./collection":303,"./lang":306,dup:34}],305:[function(require,module,exports){arguments[4][35][0].apply(exports,arguments)},{"./base_wrapped_exception":302,"./exception_handler":304,dup:35}],306:[function(require,module,exports){arguments[4][37][0].apply(exports,arguments)},{dup:37}],307:[function(require,module,exports){"use strict";var exceptions_1=require("../src/facade/exceptions"),lang_1=require("../src/facade/lang"),collection_1=require("../src/facade/collection"),Headers=function(){function Headers(headers){var _this=this;return headers instanceof Headers?void(this._headersMap=headers._headersMap):(this._headersMap=new collection_1.Map,void(lang_1.isBlank(headers)||collection_1.StringMapWrapper.forEach(headers,function(v,k){_this._headersMap.set(k,collection_1.isListLikeIterable(v)?v:[v])})))}return Headers.fromResponseHeaderString=function(headersString){return headersString.trim().split("\n").map(function(val){return val.split(":")}).map(function(_a){var key=_a[0],parts=_a.slice(1);return[key.trim(),parts.join(":").trim()]}).reduce(function(headers,_a){var key=_a[0],value=_a[1];return!headers.set(key,value)&&headers},new Headers)},Headers.prototype.append=function(name,value){var mapName=this._headersMap.get(name),list=collection_1.isListLikeIterable(mapName)?mapName:[];list.push(value),this._headersMap.set(name,list)},Headers.prototype["delete"]=function(name){this._headersMap["delete"](name)},Headers.prototype.forEach=function(fn){this._headersMap.forEach(fn)},Headers.prototype.get=function(header){return collection_1.ListWrapper.first(this._headersMap.get(header))},Headers.prototype.has=function(header){return this._headersMap.has(header)},Headers.prototype.keys=function(){return collection_1.MapWrapper.keys(this._headersMap)},Headers.prototype.set=function(header,value){var list=[];if(collection_1.isListLikeIterable(value)){var pushValue=value.join(",");list.push(pushValue)}else list.push(value);this._headersMap.set(header,list)},Headers.prototype.values=function(){return collection_1.MapWrapper.values(this._headersMap)},Headers.prototype.toJSON=function(){var serializableHeaders={};return this._headersMap.forEach(function(values,name){var list=[];collection_1.iterateListLike(values,function(val){return list=collection_1.ListWrapper.concat(list,val.split(","))}),serializableHeaders[name]=list}),serializableHeaders},Headers.prototype.getAll=function(header){var headers=this._headersMap.get(header);return collection_1.isListLikeIterable(headers)?headers:[]},Headers.prototype.entries=function(){throw new exceptions_1.BaseException('"entries" method is not implemented on Headers class')},Headers}();exports.Headers=Headers},{"../src/facade/collection":303,"../src/facade/exceptions":305,"../src/facade/lang":306}],308:[function(require,module,exports){"use strict";function httpRequest(backend,request){return backend.createConnection(request).response}function mergeOptions(defaultOpts,providedOpts,method,url){var newOptions=defaultOpts;return lang_1.isPresent(providedOpts)?newOptions.merge(new base_request_options_1.RequestOptions({method:providedOpts.method||method,url:providedOpts.url||url,search:providedOpts.search,headers:providedOpts.headers,body:providedOpts.body,withCredentials:providedOpts.withCredentials})):lang_1.isPresent(method)?newOptions.merge(new base_request_options_1.RequestOptions({method:method,url:url})):newOptions.merge(new base_request_options_1.RequestOptions({url:url}))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),exceptions_1=require("../src/facade/exceptions"),lang_1=require("../src/facade/lang"),base_request_options_1=require("./base_request_options"),enums_1=require("./enums"),interfaces_1=require("./interfaces"),static_request_1=require("./static_request"),Http=function(){function Http(_backend,_defaultOptions){this._backend=_backend,this._defaultOptions=_defaultOptions}return Http.prototype.request=function(url,options){var responseObservable;if(lang_1.isString(url))responseObservable=httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Get,url)));else{if(!(url instanceof static_request_1.Request))throw exceptions_1.makeTypeError("First argument must be a url string or Request instance.");responseObservable=httpRequest(this._backend,url)}return responseObservable},Http.prototype.get=function(url,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Get,url)))},Http.prototype.post=function(url,body,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions.merge(new base_request_options_1.RequestOptions({body:body})),options,enums_1.RequestMethod.Post,url)))},Http.prototype.put=function(url,body,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions.merge(new base_request_options_1.RequestOptions({body:body})),options,enums_1.RequestMethod.Put,url)))},Http.prototype["delete"]=function(url,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Delete,url)))},Http.prototype.patch=function(url,body,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions.merge(new base_request_options_1.RequestOptions({body:body})),options,enums_1.RequestMethod.Patch,url)))},Http.prototype.head=function(url,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Head,url)))},Http.decorators=[{type:core_1.Injectable}],Http.ctorParameters=[{type:interfaces_1.ConnectionBackend},{type:base_request_options_1.RequestOptions}],Http}();exports.Http=Http;var Jsonp=function(_super){function Jsonp(backend,defaultOptions){_super.call(this,backend,defaultOptions)}return __extends(Jsonp,_super),Jsonp.prototype.request=function(url,options){var responseObservable;if(lang_1.isString(url)&&(url=new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Get,url))),!(url instanceof static_request_1.Request))throw exceptions_1.makeTypeError("First argument must be a url string or Request instance.");return url.method!==enums_1.RequestMethod.Get&&exceptions_1.makeTypeError("JSONP requests must use GET request method."),responseObservable=httpRequest(this._backend,url)},Jsonp.decorators=[{type:core_1.Injectable}],Jsonp.ctorParameters=[{type:interfaces_1.ConnectionBackend},{type:base_request_options_1.RequestOptions}],Jsonp}(Http);exports.Jsonp=Jsonp},{"../src/facade/exceptions":305,"../src/facade/lang":306,"./base_request_options":299,"./enums":301,"./interfaces":310,"./static_request":311,"@angular/core":167}],309:[function(require,module,exports){"use strict";function normalizeMethodName(method){if(lang_1.isString(method)){var originalMethod=method;if(method=method.replace(/(\w)(\w*)/g,function(g0,g1,g2){return g1.toUpperCase()+g2.toLowerCase()}),method=enums_1.RequestMethod[method],"number"!=typeof method)throw exceptions_1.makeTypeError('Invalid request method. The method "'+originalMethod+'" is not supported.')}return method}function getResponseURL(xhr){return"responseURL"in xhr?xhr.responseURL:/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())?xhr.getResponseHeader("X-Request-URL"):void 0}var exceptions_1=require("../src/facade/exceptions"),lang_1=require("../src/facade/lang"),enums_1=require("./enums");exports.normalizeMethodName=normalizeMethodName,exports.isSuccess=function(status){return status>=200&&status<300},exports.getResponseURL=getResponseURL;var lang_2=require("../src/facade/lang");exports.isJsObject=lang_2.isJsObject},{"../src/facade/exceptions":305,"../src/facade/lang":306,"./enums":301}],310:[function(require,module,exports){"use strict";var ConnectionBackend=function(){function ConnectionBackend(){}return ConnectionBackend}();exports.ConnectionBackend=ConnectionBackend;var Connection=function(){function Connection(){}return Connection}();exports.Connection=Connection;var XSRFStrategy=function(){function XSRFStrategy(){}return XSRFStrategy}();exports.XSRFStrategy=XSRFStrategy},{}],311:[function(require,module,exports){"use strict";var lang_1=require("../src/facade/lang"),enums_1=require("./enums"),headers_1=require("./headers"),http_utils_1=require("./http_utils"),url_search_params_1=require("./url_search_params"),Request=function(){function Request(requestOptions){var url=requestOptions.url;if(this.url=requestOptions.url,lang_1.isPresent(requestOptions.search)){var search=requestOptions.search.toString();if(search.length>0){var prefix="?";lang_1.StringWrapper.contains(this.url,"?")&&(prefix="&"==this.url[this.url.length-1]?"":"&"),this.url=url+prefix+search}}this._body=requestOptions.body,this.contentType=this.detectContentType(),this.method=http_utils_1.normalizeMethodName(requestOptions.method),this.headers=new headers_1.Headers(requestOptions.headers),this.withCredentials=requestOptions.withCredentials}return Request.prototype.text=function(){return lang_1.isPresent(this._body)?this._body.toString():""},Request.prototype.json=function(){return lang_1.isPresent(this._body)?JSON.stringify(this._body):""},Request.prototype.arrayBuffer=function(){if(this._body instanceof ArrayBuffer)return this._body;throw"The request body isn't an array buffer"},Request.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw"The request body isn't either a blob or an array buffer"},Request.prototype.detectContentType=function(){return null==this._body?enums_1.ContentType.NONE:this._body instanceof url_search_params_1.URLSearchParams?enums_1.ContentType.FORM:this._body instanceof FormData?enums_1.ContentType.FORM_DATA:this._body instanceof Blob?enums_1.ContentType.BLOB:this._body instanceof ArrayBuffer?enums_1.ContentType.ARRAY_BUFFER:this._body&&"object"==typeof this._body?enums_1.ContentType.JSON:enums_1.ContentType.TEXT},Request.prototype.getBody=function(){switch(this.contentType){case enums_1.ContentType.JSON:return this.json();case enums_1.ContentType.FORM:return this.text();case enums_1.ContentType.FORM_DATA:return this._body;case enums_1.ContentType.TEXT:return this.text();case enums_1.ContentType.BLOB:return this.blob();case enums_1.ContentType.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},Request}();exports.Request=Request;var noop=function(){},w="object"==typeof window?window:noop,FormData=w.FormData||noop,Blob=w.Blob||noop,ArrayBuffer=w.ArrayBuffer||noop},{"../src/facade/lang":306,"./enums":301,"./headers":307,"./http_utils":309,"./url_search_params":313}],312:[function(require,module,exports){"use strict";var exceptions_1=require("../src/facade/exceptions"),lang_1=require("../src/facade/lang"),http_utils_1=require("./http_utils"),Response=function(){function Response(responseOptions){this._body=responseOptions.body,this.status=responseOptions.status,this.ok=this.status>=200&&this.status<=299,this.statusText=responseOptions.statusText,this.headers=responseOptions.headers,this.type=responseOptions.type,this.url=responseOptions.url}return Response.prototype.blob=function(){throw new exceptions_1.BaseException('"blob()" method not implemented on Response superclass')},Response.prototype.json=function(){var jsonResponse;return http_utils_1.isJsObject(this._body)?jsonResponse=this._body:lang_1.isString(this._body)&&(jsonResponse=lang_1.Json.parse(this._body)),jsonResponse},Response.prototype.text=function(){return this._body.toString()},Response.prototype.arrayBuffer=function(){throw new exceptions_1.BaseException('"arrayBuffer()" method not implemented on Response superclass')},Response.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},Response}();exports.Response=Response},{"../src/facade/exceptions":305,"../src/facade/lang":306,"./http_utils":309}],313:[function(require,module,exports){"use strict";function paramParser(rawParams){void 0===rawParams&&(rawParams="");var map=new collection_1.Map;if(rawParams.length>0){var params=rawParams.split("&");params.forEach(function(param){var split=param.split("=",2),key=split[0],val=split[1],list=lang_1.isPresent(map.get(key))?map.get(key):[];list.push(val),map.set(key,list)})}return map}function standardEncoding(v){return encodeURIComponent(v).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,";").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var collection_1=require("../src/facade/collection"),lang_1=require("../src/facade/lang"),QueryEncoder=function(){function QueryEncoder(){}return QueryEncoder.prototype.encodeKey=function(k){return standardEncoding(k)},QueryEncoder.prototype.encodeValue=function(v){return standardEncoding(v)},QueryEncoder}();exports.QueryEncoder=QueryEncoder;var URLSearchParams=function(){function URLSearchParams(rawParams,queryEncoder){void 0===rawParams&&(rawParams=""),void 0===queryEncoder&&(queryEncoder=new QueryEncoder),this.rawParams=rawParams,this.queryEncoder=queryEncoder,this.paramsMap=paramParser(rawParams)}return URLSearchParams.prototype.clone=function(){var clone=new URLSearchParams;return clone.appendAll(this),clone},URLSearchParams.prototype.has=function(param){return this.paramsMap.has(param)},URLSearchParams.prototype.get=function(param){var storedParam=this.paramsMap.get(param);return collection_1.isListLikeIterable(storedParam)?collection_1.ListWrapper.first(storedParam):null},URLSearchParams.prototype.getAll=function(param){var mapParam=this.paramsMap.get(param);return lang_1.isPresent(mapParam)?mapParam:[]},URLSearchParams.prototype.set=function(param,val){var mapParam=this.paramsMap.get(param),list=lang_1.isPresent(mapParam)?mapParam:[];collection_1.ListWrapper.clear(list),list.push(val),this.paramsMap.set(param,list)},URLSearchParams.prototype.setAll=function(searchParams){var _this=this;searchParams.paramsMap.forEach(function(value,param){var mapParam=_this.paramsMap.get(param),list=lang_1.isPresent(mapParam)?mapParam:[];collection_1.ListWrapper.clear(list),list.push(value[0]),_this.paramsMap.set(param,list)})},URLSearchParams.prototype.append=function(param,val){var mapParam=this.paramsMap.get(param),list=lang_1.isPresent(mapParam)?mapParam:[];list.push(val),this.paramsMap.set(param,list)},URLSearchParams.prototype.appendAll=function(searchParams){var _this=this;searchParams.paramsMap.forEach(function(value,param){for(var mapParam=_this.paramsMap.get(param),list=lang_1.isPresent(mapParam)?mapParam:[],i=0;i<value.length;++i)list.push(value[i]);_this.paramsMap.set(param,list)})},URLSearchParams.prototype.replaceAll=function(searchParams){var _this=this;searchParams.paramsMap.forEach(function(value,param){var mapParam=_this.paramsMap.get(param),list=lang_1.isPresent(mapParam)?mapParam:[];collection_1.ListWrapper.clear(list);for(var i=0;i<value.length;++i)list.push(value[i]);_this.paramsMap.set(param,list)})},URLSearchParams.prototype.toString=function(){var _this=this,paramsList=[];return this.paramsMap.forEach(function(values,k){values.forEach(function(v){return paramsList.push(_this.queryEncoder.encodeKey(k)+"="+_this.queryEncoder.encodeValue(v))})}),paramsList.join("&")},URLSearchParams.prototype["delete"]=function(param){this.paramsMap["delete"](param)},URLSearchParams}();exports.URLSearchParams=URLSearchParams},{"../src/facade/collection":303,"../src/facade/lang":306}],314:[function(require,module,exports){"use strict";var core_1=require("@angular/core");exports.ReflectionCapabilities=core_1.__core_private__.ReflectionCapabilities,exports.reflector=core_1.__core_private__.reflector},{"@angular/core":167}],315:[function(require,module,exports){"use strict";function bootstrap(appComponentType,customProviders){core_private_1.reflector.reflectionCapabilities=new core_private_1.ReflectionCapabilities;var providers=[platform_browser_1.BROWSER_APP_PROVIDERS,exports.BROWSER_APP_COMPILER_PROVIDERS,lang_1.isPresent(customProviders)?customProviders:[]],appInjector=core_1.ReflectiveInjector.resolveAndCreate(providers,platform_browser_1.browserPlatform().injector);return core_1.coreLoadAndBootstrap(appComponentType,appInjector)}function bootstrapWorkerUi(workerScriptUri,customProviders){var app=core_1.ReflectiveInjector.resolveAndCreate([platform_browser_1.WORKER_UI_APPLICATION_PROVIDERS,exports.BROWSER_APP_COMPILER_PROVIDERS,{provide:platform_browser_1.WORKER_SCRIPT,useValue:workerScriptUri},lang_1.isPresent(customProviders)?customProviders:[]],platform_browser_1.workerUiPlatform().injector);return async_1.PromiseWrapper.resolve(app.get(core_1.ApplicationRef))}function bootstrapWorkerApp(appComponentType,customProviders){var appInjector=core_1.ReflectiveInjector.resolveAndCreate([platform_browser_1.WORKER_APP_APPLICATION_PROVIDERS,WORKER_APP_COMPILER_PROVIDERS,lang_1.isPresent(customProviders)?customProviders:[]],platform_browser_1.workerAppPlatform().injector);return core_1.coreLoadAndBootstrap(appComponentType,appInjector)}var common_1=require("@angular/common"),compiler_1=require("@angular/compiler"),core_1=require("@angular/core"),platform_browser_1=require("@angular/platform-browser"),core_private_1=require("./core_private"),async_1=require("./src/facade/async"),lang_1=require("./src/facade/lang"),xhr_cache_1=require("./src/xhr/xhr_cache"),xhr_impl_1=require("./src/xhr/xhr_impl");exports.BROWSER_APP_COMPILER_PROVIDERS=[compiler_1.COMPILER_PROVIDERS,{provide:compiler_1.CompilerConfig,useFactory:function(platformDirectives,platformPipes){return new compiler_1.CompilerConfig({platformDirectives:platformDirectives,platformPipes:platformPipes})},deps:[core_1.PLATFORM_DIRECTIVES,core_1.PLATFORM_PIPES]},{provide:compiler_1.XHR,useClass:xhr_impl_1.XHRImpl},{provide:core_1.PLATFORM_DIRECTIVES,useValue:common_1.COMMON_DIRECTIVES,multi:!0},{provide:core_1.PLATFORM_PIPES,useValue:common_1.COMMON_PIPES,multi:!0}],exports.CACHED_TEMPLATE_PROVIDER=[{provide:compiler_1.XHR,useClass:xhr_cache_1.CachedXHR}],exports.bootstrap=bootstrap,exports.bootstrapWorkerUi=bootstrapWorkerUi;var WORKER_APP_COMPILER_PROVIDERS=[compiler_1.COMPILER_PROVIDERS,{provide:compiler_1.CompilerConfig,useFactory:function(platformDirectives,platformPipes){return new compiler_1.CompilerConfig({platformDirectives:platformDirectives,platformPipes:platformPipes})},deps:[core_1.PLATFORM_DIRECTIVES,core_1.PLATFORM_PIPES]},{provide:compiler_1.XHR,useClass:xhr_impl_1.XHRImpl},{provide:core_1.PLATFORM_DIRECTIVES,useValue:common_1.COMMON_DIRECTIVES,multi:!0},{provide:core_1.PLATFORM_PIPES,useValue:common_1.COMMON_PIPES,multi:!0}];exports.bootstrapWorkerApp=bootstrapWorkerApp},{"./core_private":314,"./src/facade/async":316,"./src/facade/lang":321,"./src/xhr/xhr_cache":323,"./src/xhr/xhr_impl":324,"@angular/common":20,"@angular/compiler":86,"@angular/core":167,"@angular/platform-browser":326}],316:[function(require,module,exports){arguments[4][31][0].apply(exports,arguments)},{"./lang":321,"./promise":322,dup:31,"rxjs/Observable":629,"rxjs/Subject":635,"rxjs/observable/PromiseObservable":758,"rxjs/operator/toPromise":856}],317:[function(require,module,exports){arguments[4][32][0].apply(exports,arguments)},{dup:32}],318:[function(require,module,exports){arguments[4][33][0].apply(exports,arguments)},{"./lang":321,dup:33}],319:[function(require,module,exports){arguments[4][34][0].apply(exports,arguments)},{"./base_wrapped_exception":317,"./collection":318,"./lang":321,dup:34}],320:[function(require,module,exports){arguments[4][35][0].apply(exports,arguments)},{"./base_wrapped_exception":317,"./exception_handler":319,dup:35}],321:[function(require,module,exports){arguments[4][37][0].apply(exports,arguments)},{dup:37}],322:[function(require,module,exports){arguments[4][38][0].apply(exports,arguments)},{dup:38}],323:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},compiler_1=require("@angular/compiler"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),promise_1=require("../facade/promise"),CachedXHR=function(_super){function CachedXHR(){if(_super.call(this),this._cache=lang_1.global.$templateCache,null==this._cache)throw new exceptions_1.BaseException("CachedXHR: Template cache was not found in $templateCache.")}return __extends(CachedXHR,_super),CachedXHR.prototype.get=function(url){return this._cache.hasOwnProperty(url)?promise_1.PromiseWrapper.resolve(this._cache[url]):promise_1.PromiseWrapper.reject("CachedXHR: Did not find cached template for "+url,null)},CachedXHR}(compiler_1.XHR);exports.CachedXHR=CachedXHR},{"../facade/exceptions":320,"../facade/lang":321,"../facade/promise":322,"@angular/compiler":86}],324:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},compiler_1=require("@angular/compiler"),lang_1=require("../facade/lang"),promise_1=require("../facade/promise"),XHRImpl=function(_super){function XHRImpl(){_super.apply(this,arguments)}return __extends(XHRImpl,_super),XHRImpl.prototype.get=function(url){var completer=promise_1.PromiseWrapper.completer(),xhr=new XMLHttpRequest;return xhr.open("GET",url,!0),xhr.responseType="text",xhr.onload=function(){var response=lang_1.isPresent(xhr.response)?xhr.response:xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:0),200<=status&&status<=300?completer.resolve(response):completer.reject("Failed to load "+url,null)},xhr.onerror=function(){completer.reject("Failed to load "+url,null)},xhr.send(),completer.promise},XHRImpl}(compiler_1.XHR);exports.XHRImpl=XHRImpl},{"../facade/lang":321,"../facade/promise":322,"@angular/compiler":86}],325:[function(require,module,exports){"use strict";var core_1=require("@angular/core");exports.RenderDebugInfo=core_1.__core_private__.RenderDebugInfo,exports.wtfInit=core_1.__core_private__.wtfInit,exports.ReflectionCapabilities=core_1.__core_private__.ReflectionCapabilities,exports.VIEW_ENCAPSULATION_VALUES=core_1.__core_private__.VIEW_ENCAPSULATION_VALUES,exports.DebugDomRootRenderer=core_1.__core_private__.DebugDomRootRenderer,exports.SecurityContext=core_1.__core_private__.SecurityContext,exports.SanitizationService=core_1.__core_private__.SanitizationService,exports.reflector=core_1.__core_private__.reflector,exports.NoOpAnimationPlayer=core_1.__core_private__.NoOpAnimationPlayer,exports.AnimationPlayer=core_1.__core_private__.AnimationPlayer,exports.NoOpAnimationDriver=core_1.__core_private__.NoOpAnimationDriver,exports.AnimationDriver=core_1.__core_private__.AnimationDriver,exports.AnimationSequencePlayer=core_1.__core_private__.AnimationSequencePlayer,exports.AnimationGroupPlayer=core_1.__core_private__.AnimationGroupPlayer,exports.AnimationKeyframe=core_1.__core_private__.AnimationKeyframe,exports.AnimationStyles=core_1.__core_private__.AnimationStyles,exports.prepareFinalAnimationStyles=core_1.__core_private__.prepareFinalAnimationStyles,exports.balanceAnimationKeyframes=core_1.__core_private__.balanceAnimationKeyframes,exports.flattenStyles=core_1.__core_private__.flattenStyles,exports.clearStyles=core_1.__core_private__.clearStyles,exports.collectAndResolveStyles=core_1.__core_private__.collectAndResolveStyles},{"@angular/core":167}],326:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var browser_platform_location_1=require("./src/browser/location/browser_platform_location");exports.BrowserPlatformLocation=browser_platform_location_1.BrowserPlatformLocation;var title_1=require("./src/browser/title");exports.Title=title_1.Title;var tools_1=require("./src/browser/tools/tools");exports.disableDebugTools=tools_1.disableDebugTools,exports.enableDebugTools=tools_1.enableDebugTools;var by_1=require("./src/dom/debug/by");exports.By=by_1.By;var dom_tokens_1=require("./src/dom/dom_tokens");exports.DOCUMENT=dom_tokens_1.DOCUMENT;var event_manager_1=require("./src/dom/events/event_manager");exports.EVENT_MANAGER_PLUGINS=event_manager_1.EVENT_MANAGER_PLUGINS,exports.EventManager=event_manager_1.EventManager;var hammer_gestures_1=require("./src/dom/events/hammer_gestures");exports.HAMMER_GESTURE_CONFIG=hammer_gestures_1.HAMMER_GESTURE_CONFIG,exports.HammerGestureConfig=hammer_gestures_1.HammerGestureConfig;var dom_sanitization_service_1=require("./src/security/dom_sanitization_service");exports.DomSanitizationService=dom_sanitization_service_1.DomSanitizationService,exports.SecurityContext=dom_sanitization_service_1.SecurityContext,__export(require("./src/browser"));var client_message_broker_1=require("./src/web_workers/shared/client_message_broker");exports.ClientMessageBroker=client_message_broker_1.ClientMessageBroker,exports.ClientMessageBrokerFactory=client_message_broker_1.ClientMessageBrokerFactory,exports.FnArg=client_message_broker_1.FnArg,exports.UiArguments=client_message_broker_1.UiArguments;var service_message_broker_1=require("./src/web_workers/shared/service_message_broker");exports.ReceivedMessage=service_message_broker_1.ReceivedMessage,exports.ServiceMessageBroker=service_message_broker_1.ServiceMessageBroker,exports.ServiceMessageBrokerFactory=service_message_broker_1.ServiceMessageBrokerFactory;var serializer_1=require("./src/web_workers/shared/serializer");exports.PRIMITIVE=serializer_1.PRIMITIVE,__export(require("./src/web_workers/shared/message_bus"));var location_providers_1=require("./src/web_workers/worker/location_providers");exports.WORKER_APP_LOCATION_PROVIDERS=location_providers_1.WORKER_APP_LOCATION_PROVIDERS;var location_providers_2=require("./src/web_workers/ui/location_providers");exports.WORKER_UI_LOCATION_PROVIDERS=location_providers_2.WORKER_UI_LOCATION_PROVIDERS,__export(require("./src/worker_render")),__export(require("./src/worker_app")),__export(require("./private_export"));
},{"./private_export":327,"./src/browser":328,"./src/browser/location/browser_platform_location":331,"./src/browser/title":334,"./src/browser/tools/tools":336,"./src/dom/debug/by":337,"./src/dom/dom_tokens":341,"./src/dom/events/event_manager":343,"./src/dom/events/hammer_gestures":345,"./src/security/dom_sanitization_service":359,"./src/web_workers/shared/client_message_broker":364,"./src/web_workers/shared/message_bus":365,"./src/web_workers/shared/serializer":370,"./src/web_workers/shared/service_message_broker":371,"./src/web_workers/ui/location_providers":374,"./src/web_workers/worker/location_providers":378,"./src/worker_app":382,"./src/worker_render":383}],327:[function(require,module,exports){"use strict";var ng_proble=require("./src/dom/debug/ng_probe"),dom_adapter=require("./src/dom/dom_adapter"),dom_renderer=require("./src/dom/dom_renderer"),dom_events=require("./src/dom/events/dom_events"),shared_styles_host=require("./src/dom/shared_styles_host");exports.__platform_browser_private__={DomAdapter:dom_adapter.DomAdapter,getDOM:dom_adapter.getDOM,setRootDomAdapter:dom_adapter.setRootDomAdapter,DomRootRenderer:dom_renderer.DomRootRenderer,DomRootRenderer_:dom_renderer.DomRootRenderer_,DomSharedStylesHost:shared_styles_host.DomSharedStylesHost,SharedStylesHost:shared_styles_host.SharedStylesHost,ELEMENT_PROBE_PROVIDERS:ng_proble.ELEMENT_PROBE_PROVIDERS,DomEventsPlugin:dom_events.DomEventsPlugin}},{"./src/dom/debug/ng_probe":338,"./src/dom/dom_adapter":339,"./src/dom/dom_renderer":340,"./src/dom/events/dom_events":342,"./src/dom/shared_styles_host":347}],328:[function(require,module,exports){"use strict";function browserPlatform(){return lang_1.isBlank(core_1.getPlatform())&&core_1.createPlatform(core_1.ReflectiveInjector.resolveAndCreate(exports.BROWSER_PLATFORM_PROVIDERS)),core_1.assertPlatform(BROWSER_PLATFORM_MARKER)}function initDomAdapter(){browser_adapter_1.BrowserDomAdapter.makeCurrent(),core_private_1.wtfInit(),testability_1.BrowserGetTestability.init()}function _exceptionHandler(){return new core_1.ExceptionHandler(dom_adapter_1.getDOM())}function _document(){return dom_adapter_1.getDOM().defaultDoc()}function _resolveDefaultAnimationDriver(){return dom_adapter_1.getDOM().supportsWebAnimation()?new web_animations_driver_1.WebAnimationsDriver:new core_private_1.NoOpAnimationDriver}var common_1=require("@angular/common"),core_1=require("@angular/core"),core_private_1=require("../core_private"),web_animations_driver_1=require("../src/dom/web_animations_driver"),browser_adapter_1=require("./browser/browser_adapter"),browser_platform_location_1=require("./browser/location/browser_platform_location"),testability_1=require("./browser/testability"),ng_probe_1=require("./dom/debug/ng_probe"),dom_adapter_1=require("./dom/dom_adapter"),dom_renderer_1=require("./dom/dom_renderer"),dom_tokens_1=require("./dom/dom_tokens"),dom_events_1=require("./dom/events/dom_events"),event_manager_1=require("./dom/events/event_manager"),hammer_gestures_1=require("./dom/events/hammer_gestures"),key_events_1=require("./dom/events/key_events"),shared_styles_host_1=require("./dom/shared_styles_host"),lang_1=require("./facade/lang"),dom_sanitization_service_1=require("./security/dom_sanitization_service"),BROWSER_PLATFORM_MARKER=new core_1.OpaqueToken("BrowserPlatformMarker");exports.BROWSER_PLATFORM_PROVIDERS=[{provide:BROWSER_PLATFORM_MARKER,useValue:!0},core_1.PLATFORM_COMMON_PROVIDERS,{provide:core_1.PLATFORM_INITIALIZER,useValue:initDomAdapter,multi:!0},{provide:common_1.PlatformLocation,useClass:browser_platform_location_1.BrowserPlatformLocation}],exports.BROWSER_SANITIZATION_PROVIDERS=[{provide:core_private_1.SanitizationService,useExisting:dom_sanitization_service_1.DomSanitizationService},{provide:dom_sanitization_service_1.DomSanitizationService,useClass:dom_sanitization_service_1.DomSanitizationServiceImpl}],exports.BROWSER_APP_PROVIDERS=[core_1.APPLICATION_COMMON_PROVIDERS,common_1.FORM_PROVIDERS,exports.BROWSER_SANITIZATION_PROVIDERS,{provide:core_1.ExceptionHandler,useFactory:_exceptionHandler,deps:[]},{provide:dom_tokens_1.DOCUMENT,useFactory:_document,deps:[]},{provide:event_manager_1.EVENT_MANAGER_PLUGINS,useClass:dom_events_1.DomEventsPlugin,multi:!0},{provide:event_manager_1.EVENT_MANAGER_PLUGINS,useClass:key_events_1.KeyEventsPlugin,multi:!0},{provide:event_manager_1.EVENT_MANAGER_PLUGINS,useClass:hammer_gestures_1.HammerGesturesPlugin,multi:!0},{provide:hammer_gestures_1.HAMMER_GESTURE_CONFIG,useClass:hammer_gestures_1.HammerGestureConfig},{provide:dom_renderer_1.DomRootRenderer,useClass:dom_renderer_1.DomRootRenderer_},{provide:core_1.RootRenderer,useExisting:dom_renderer_1.DomRootRenderer},{provide:shared_styles_host_1.SharedStylesHost,useExisting:shared_styles_host_1.DomSharedStylesHost},{provide:core_private_1.AnimationDriver,useFactory:_resolveDefaultAnimationDriver},shared_styles_host_1.DomSharedStylesHost,core_1.Testability,event_manager_1.EventManager,ng_probe_1.ELEMENT_PROBE_PROVIDERS],exports.browserPlatform=browserPlatform},{"../core_private":325,"../src/dom/web_animations_driver":349,"./browser/browser_adapter":329,"./browser/location/browser_platform_location":331,"./browser/testability":333,"./dom/debug/ng_probe":338,"./dom/dom_adapter":339,"./dom/dom_renderer":340,"./dom/dom_tokens":341,"./dom/events/dom_events":342,"./dom/events/event_manager":343,"./dom/events/hammer_gestures":345,"./dom/events/key_events":346,"./dom/shared_styles_host":347,"./facade/lang":357,"./security/dom_sanitization_service":359,"@angular/common":20,"@angular/core":167}],329:[function(require,module,exports){"use strict";function getBaseElementHref(){return lang_1.isBlank(baseElement)&&(baseElement=document.querySelector("base"),lang_1.isBlank(baseElement))?null:baseElement.getAttribute("href")}function relativePath(url){return lang_1.isBlank(urlParsingNode)&&(urlParsingNode=document.createElement("a")),urlParsingNode.setAttribute("href",url),"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}function parseCookieValue(cookie,name){name=encodeURIComponent(name);for(var cookies=cookie.split(";"),_i=0,cookies_1=cookies;_i<cookies_1.length;_i++){var cookie_1=cookies_1[_i],_a=cookie_1.split("=",2),key=_a[0],value=_a[1];if(key.trim()===name)return decodeURIComponent(value)}return null}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},dom_adapter_1=require("../dom/dom_adapter"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),generic_browser_adapter_1=require("./generic_browser_adapter"),_attrToPropMap={"class":"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},DOM_KEY_LOCATION_NUMPAD=3,_keyMap={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_chromeNumKeyPadMap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},BrowserDomAdapter=function(_super){function BrowserDomAdapter(){_super.apply(this,arguments)}return __extends(BrowserDomAdapter,_super),BrowserDomAdapter.prototype.parse=function(templateHtml){throw new Error("parse not implemented")},BrowserDomAdapter.makeCurrent=function(){dom_adapter_1.setRootDomAdapter(new BrowserDomAdapter)},BrowserDomAdapter.prototype.hasProperty=function(element,name){return name in element},BrowserDomAdapter.prototype.setProperty=function(el,name,value){el[name]=value},BrowserDomAdapter.prototype.getProperty=function(el,name){return el[name]},BrowserDomAdapter.prototype.invoke=function(el,methodName,args){el[methodName].apply(el,args)},BrowserDomAdapter.prototype.logError=function(error){window.console.error?window.console.error(error):window.console.log(error)},BrowserDomAdapter.prototype.log=function(error){window.console.log(error)},BrowserDomAdapter.prototype.logGroup=function(error){window.console.group?(window.console.group(error),this.logError(error)):window.console.log(error)},BrowserDomAdapter.prototype.logGroupEnd=function(){window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(BrowserDomAdapter.prototype,"attrToPropMap",{get:function(){return _attrToPropMap},enumerable:!0,configurable:!0}),BrowserDomAdapter.prototype.query=function(selector){return document.querySelector(selector)},BrowserDomAdapter.prototype.querySelector=function(el,selector){return el.querySelector(selector)},BrowserDomAdapter.prototype.querySelectorAll=function(el,selector){return el.querySelectorAll(selector)},BrowserDomAdapter.prototype.on=function(el,evt,listener){el.addEventListener(evt,listener,!1)},BrowserDomAdapter.prototype.onAndCancel=function(el,evt,listener){return el.addEventListener(evt,listener,!1),function(){el.removeEventListener(evt,listener,!1)}},BrowserDomAdapter.prototype.dispatchEvent=function(el,evt){el.dispatchEvent(evt)},BrowserDomAdapter.prototype.createMouseEvent=function(eventType){var evt=document.createEvent("MouseEvent");return evt.initEvent(eventType,!0,!0),evt},BrowserDomAdapter.prototype.createEvent=function(eventType){var evt=document.createEvent("Event");return evt.initEvent(eventType,!0,!0),evt},BrowserDomAdapter.prototype.preventDefault=function(evt){evt.preventDefault(),evt.returnValue=!1},BrowserDomAdapter.prototype.isPrevented=function(evt){return evt.defaultPrevented||lang_1.isPresent(evt.returnValue)&&!evt.returnValue},BrowserDomAdapter.prototype.getInnerHTML=function(el){return el.innerHTML},BrowserDomAdapter.prototype.getTemplateContent=function(el){return"content"in el&&el instanceof HTMLTemplateElement?el.content:null},BrowserDomAdapter.prototype.getOuterHTML=function(el){return el.outerHTML},BrowserDomAdapter.prototype.nodeName=function(node){return node.nodeName},BrowserDomAdapter.prototype.nodeValue=function(node){return node.nodeValue},BrowserDomAdapter.prototype.type=function(node){return node.type},BrowserDomAdapter.prototype.content=function(node){return this.hasProperty(node,"content")?node.content:node},BrowserDomAdapter.prototype.firstChild=function(el){return el.firstChild},BrowserDomAdapter.prototype.nextSibling=function(el){return el.nextSibling},BrowserDomAdapter.prototype.parentElement=function(el){return el.parentNode},BrowserDomAdapter.prototype.childNodes=function(el){return el.childNodes},BrowserDomAdapter.prototype.childNodesAsList=function(el){for(var childNodes=el.childNodes,res=collection_1.ListWrapper.createFixedSize(childNodes.length),i=0;i<childNodes.length;i++)res[i]=childNodes[i];return res},BrowserDomAdapter.prototype.clearNodes=function(el){for(;el.firstChild;)el.removeChild(el.firstChild)},BrowserDomAdapter.prototype.appendChild=function(el,node){el.appendChild(node)},BrowserDomAdapter.prototype.removeChild=function(el,node){el.removeChild(node)},BrowserDomAdapter.prototype.replaceChild=function(el,newChild,oldChild){el.replaceChild(newChild,oldChild)},BrowserDomAdapter.prototype.remove=function(node){return node.parentNode&&node.parentNode.removeChild(node),node},BrowserDomAdapter.prototype.insertBefore=function(el,node){el.parentNode.insertBefore(node,el)},BrowserDomAdapter.prototype.insertAllBefore=function(el,nodes){nodes.forEach(function(n){return el.parentNode.insertBefore(n,el)})},BrowserDomAdapter.prototype.insertAfter=function(el,node){el.parentNode.insertBefore(node,el.nextSibling)},BrowserDomAdapter.prototype.setInnerHTML=function(el,value){el.innerHTML=value},BrowserDomAdapter.prototype.getText=function(el){return el.textContent},BrowserDomAdapter.prototype.setText=function(el,value){el.textContent=value},BrowserDomAdapter.prototype.getValue=function(el){return el.value},BrowserDomAdapter.prototype.setValue=function(el,value){el.value=value},BrowserDomAdapter.prototype.getChecked=function(el){return el.checked},BrowserDomAdapter.prototype.setChecked=function(el,value){el.checked=value},BrowserDomAdapter.prototype.createComment=function(text){return document.createComment(text)},BrowserDomAdapter.prototype.createTemplate=function(html){var t=document.createElement("template");return t.innerHTML=html,t},BrowserDomAdapter.prototype.createElement=function(tagName,doc){return void 0===doc&&(doc=document),doc.createElement(tagName)},BrowserDomAdapter.prototype.createElementNS=function(ns,tagName,doc){return void 0===doc&&(doc=document),doc.createElementNS(ns,tagName)},BrowserDomAdapter.prototype.createTextNode=function(text,doc){return void 0===doc&&(doc=document),doc.createTextNode(text)},BrowserDomAdapter.prototype.createScriptTag=function(attrName,attrValue,doc){void 0===doc&&(doc=document);var el=doc.createElement("SCRIPT");return el.setAttribute(attrName,attrValue),el},BrowserDomAdapter.prototype.createStyleElement=function(css,doc){void 0===doc&&(doc=document);var style=doc.createElement("style");return this.appendChild(style,this.createTextNode(css)),style},BrowserDomAdapter.prototype.createShadowRoot=function(el){return el.createShadowRoot()},BrowserDomAdapter.prototype.getShadowRoot=function(el){return el.shadowRoot},BrowserDomAdapter.prototype.getHost=function(el){return el.host},BrowserDomAdapter.prototype.clone=function(node){return node.cloneNode(!0)},BrowserDomAdapter.prototype.getElementsByClassName=function(element,name){return element.getElementsByClassName(name)},BrowserDomAdapter.prototype.getElementsByTagName=function(element,name){return element.getElementsByTagName(name)},BrowserDomAdapter.prototype.classList=function(element){return Array.prototype.slice.call(element.classList,0)},BrowserDomAdapter.prototype.addClass=function(element,className){element.classList.add(className)},BrowserDomAdapter.prototype.removeClass=function(element,className){element.classList.remove(className)},BrowserDomAdapter.prototype.hasClass=function(element,className){return element.classList.contains(className)},BrowserDomAdapter.prototype.setStyle=function(element,styleName,styleValue){element.style[styleName]=styleValue},BrowserDomAdapter.prototype.removeStyle=function(element,stylename){element.style[stylename]=null},BrowserDomAdapter.prototype.getStyle=function(element,stylename){return element.style[stylename]},BrowserDomAdapter.prototype.hasStyle=function(element,styleName,styleValue){void 0===styleValue&&(styleValue=null);var value=this.getStyle(element,styleName)||"";return styleValue?value==styleValue:value.length>0},BrowserDomAdapter.prototype.tagName=function(element){return element.tagName},BrowserDomAdapter.prototype.attributeMap=function(element){for(var res=new Map,elAttrs=element.attributes,i=0;i<elAttrs.length;i++){var attrib=elAttrs[i];res.set(attrib.name,attrib.value)}return res},BrowserDomAdapter.prototype.hasAttribute=function(element,attribute){return element.hasAttribute(attribute)},BrowserDomAdapter.prototype.hasAttributeNS=function(element,ns,attribute){return element.hasAttributeNS(ns,attribute)},BrowserDomAdapter.prototype.getAttribute=function(element,attribute){return element.getAttribute(attribute)},BrowserDomAdapter.prototype.getAttributeNS=function(element,ns,name){return element.getAttributeNS(ns,name)},BrowserDomAdapter.prototype.setAttribute=function(element,name,value){element.setAttribute(name,value)},BrowserDomAdapter.prototype.setAttributeNS=function(element,ns,name,value){element.setAttributeNS(ns,name,value)},BrowserDomAdapter.prototype.removeAttribute=function(element,attribute){element.removeAttribute(attribute)},BrowserDomAdapter.prototype.removeAttributeNS=function(element,ns,name){element.removeAttributeNS(ns,name)},BrowserDomAdapter.prototype.templateAwareRoot=function(el){return this.isTemplateElement(el)?this.content(el):el},BrowserDomAdapter.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},BrowserDomAdapter.prototype.defaultDoc=function(){return document},BrowserDomAdapter.prototype.getBoundingClientRect=function(el){try{return el.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},BrowserDomAdapter.prototype.getTitle=function(){return document.title},BrowserDomAdapter.prototype.setTitle=function(newTitle){document.title=newTitle||""},BrowserDomAdapter.prototype.elementMatches=function(n,selector){var matches=!1;return n instanceof HTMLElement&&(n.matches?matches=n.matches(selector):n.msMatchesSelector?matches=n.msMatchesSelector(selector):n.webkitMatchesSelector&&(matches=n.webkitMatchesSelector(selector))),matches},BrowserDomAdapter.prototype.isTemplateElement=function(el){return el instanceof HTMLElement&&"TEMPLATE"==el.nodeName},BrowserDomAdapter.prototype.isTextNode=function(node){return node.nodeType===Node.TEXT_NODE},BrowserDomAdapter.prototype.isCommentNode=function(node){return node.nodeType===Node.COMMENT_NODE},BrowserDomAdapter.prototype.isElementNode=function(node){return node.nodeType===Node.ELEMENT_NODE},BrowserDomAdapter.prototype.hasShadowRoot=function(node){return node instanceof HTMLElement&&lang_1.isPresent(node.shadowRoot)},BrowserDomAdapter.prototype.isShadowRoot=function(node){return node instanceof DocumentFragment},BrowserDomAdapter.prototype.importIntoDoc=function(node){var toImport=node;return this.isTemplateElement(node)&&(toImport=this.content(node)),document.importNode(toImport,!0)},BrowserDomAdapter.prototype.adoptNode=function(node){return document.adoptNode(node)},BrowserDomAdapter.prototype.getHref=function(el){return el.href},BrowserDomAdapter.prototype.getEventKey=function(event){var key=event.key;if(lang_1.isBlank(key)){if(key=event.keyIdentifier,lang_1.isBlank(key))return"Unidentified";key.startsWith("U+")&&(key=String.fromCharCode(parseInt(key.substring(2),16)),event.location===DOM_KEY_LOCATION_NUMPAD&&_chromeNumKeyPadMap.hasOwnProperty(key)&&(key=_chromeNumKeyPadMap[key]))}return _keyMap.hasOwnProperty(key)&&(key=_keyMap[key]),key},BrowserDomAdapter.prototype.getGlobalEventTarget=function(target){return"window"==target?window:"document"==target?document:"body"==target?document.body:void 0},BrowserDomAdapter.prototype.getHistory=function(){return window.history},BrowserDomAdapter.prototype.getLocation=function(){return window.location},BrowserDomAdapter.prototype.getBaseHref=function(){var href=getBaseElementHref();return lang_1.isBlank(href)?null:relativePath(href)},BrowserDomAdapter.prototype.resetBaseElement=function(){baseElement=null},BrowserDomAdapter.prototype.getUserAgent=function(){return window.navigator.userAgent},BrowserDomAdapter.prototype.setData=function(element,name,value){this.setAttribute(element,"data-"+name,value)},BrowserDomAdapter.prototype.getData=function(element,name){return this.getAttribute(element,"data-"+name)},BrowserDomAdapter.prototype.getComputedStyle=function(element){return getComputedStyle(element)},BrowserDomAdapter.prototype.setGlobalVar=function(path,value){lang_1.setValueOnPath(lang_1.global,path,value)},BrowserDomAdapter.prototype.requestAnimationFrame=function(callback){return window.requestAnimationFrame(callback)},BrowserDomAdapter.prototype.cancelAnimationFrame=function(id){window.cancelAnimationFrame(id)},BrowserDomAdapter.prototype.supportsWebAnimation=function(){return lang_1.isFunction(document.body.animate)},BrowserDomAdapter.prototype.performanceNow=function(){return lang_1.isPresent(window.performance)&&lang_1.isPresent(window.performance.now)?window.performance.now():lang_1.DateWrapper.toMillis(lang_1.DateWrapper.now())},BrowserDomAdapter.prototype.supportsCookies=function(){return!0},BrowserDomAdapter.prototype.getCookie=function(name){return parseCookieValue(document.cookie,name)},BrowserDomAdapter.prototype.setCookie=function(name,value){document.cookie=encodeURIComponent(name)+"="+encodeURIComponent(value)},BrowserDomAdapter}(generic_browser_adapter_1.GenericBrowserDomAdapter);exports.BrowserDomAdapter=BrowserDomAdapter;var baseElement=null,urlParsingNode=null;exports.parseCookieValue=parseCookieValue},{"../dom/dom_adapter":339,"../facade/collection":354,"../facade/lang":357,"./generic_browser_adapter":330}],330:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},dom_adapter_1=require("../dom/dom_adapter"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),GenericBrowserDomAdapter=function(_super){function GenericBrowserDomAdapter(){var _this=this;_super.call(this),this._animationPrefix=null,this._transitionEnd=null;try{var element=this.createElement("div",this.defaultDoc());if(lang_1.isPresent(this.getStyle(element,"animationName")))this._animationPrefix="";else for(var domPrefixes=["Webkit","Moz","O","ms"],i=0;i<domPrefixes.length;i++)if(lang_1.isPresent(this.getStyle(element,domPrefixes[i]+"AnimationName"))){this._animationPrefix="-"+domPrefixes[i].toLowerCase()+"-";break}var transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};collection_1.StringMapWrapper.forEach(transEndEventNames,function(value,key){lang_1.isPresent(_this.getStyle(element,key))&&(_this._transitionEnd=value)})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}return __extends(GenericBrowserDomAdapter,_super),GenericBrowserDomAdapter.prototype.getDistributedNodes=function(el){return el.getDistributedNodes()},GenericBrowserDomAdapter.prototype.resolveAndSetHref=function(el,baseUrl,href){el.href=null==href?baseUrl:baseUrl+"/../"+href},GenericBrowserDomAdapter.prototype.supportsDOMEvents=function(){return!0},GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM=function(){return lang_1.isFunction(this.defaultDoc().body.createShadowRoot)},GenericBrowserDomAdapter.prototype.getAnimationPrefix=function(){return lang_1.isPresent(this._animationPrefix)?this._animationPrefix:""},GenericBrowserDomAdapter.prototype.getTransitionEnd=function(){return lang_1.isPresent(this._transitionEnd)?this._transitionEnd:""},GenericBrowserDomAdapter.prototype.supportsAnimation=function(){return lang_1.isPresent(this._animationPrefix)&&lang_1.isPresent(this._transitionEnd)},GenericBrowserDomAdapter}(dom_adapter_1.DomAdapter);exports.GenericBrowserDomAdapter=GenericBrowserDomAdapter},{"../dom/dom_adapter":339,"../facade/collection":354,"../facade/lang":357}],331:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},common_1=require("@angular/common"),core_1=require("@angular/core"),dom_adapter_1=require("../../dom/dom_adapter"),history_1=require("./history"),BrowserPlatformLocation=function(_super){function BrowserPlatformLocation(){_super.call(this),this._init()}return __extends(BrowserPlatformLocation,_super),BrowserPlatformLocation.prototype._init=function(){this._location=dom_adapter_1.getDOM().getLocation(),this._history=dom_adapter_1.getDOM().getHistory()},Object.defineProperty(BrowserPlatformLocation.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.getBaseHrefFromDOM=function(){return dom_adapter_1.getDOM().getBaseHref()},BrowserPlatformLocation.prototype.onPopState=function(fn){dom_adapter_1.getDOM().getGlobalEventTarget("window").addEventListener("popstate",fn,!1)},BrowserPlatformLocation.prototype.onHashChange=function(fn){dom_adapter_1.getDOM().getGlobalEventTarget("window").addEventListener("hashchange",fn,!1)},Object.defineProperty(BrowserPlatformLocation.prototype,"pathname",{get:function(){return this._location.pathname},set:function(newPath){this._location.pathname=newPath},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.pushState=function(state,title,url){history_1.supportsState()?this._history.pushState(state,title,url):this._location.hash=url},BrowserPlatformLocation.prototype.replaceState=function(state,title,url){history_1.supportsState()?this._history.replaceState(state,title,url):this._location.hash=url},BrowserPlatformLocation.prototype.forward=function(){this._history.forward()},BrowserPlatformLocation.prototype.back=function(){this._history.back()},BrowserPlatformLocation.decorators=[{type:core_1.Injectable}],BrowserPlatformLocation.ctorParameters=[],BrowserPlatformLocation}(common_1.PlatformLocation);exports.BrowserPlatformLocation=BrowserPlatformLocation},{"../../dom/dom_adapter":339,"./history":332,"@angular/common":20,"@angular/core":167}],332:[function(require,module,exports){"use strict";function supportsState(){return!!window.history.pushState}exports.supportsState=supportsState},{}],333:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),dom_adapter_1=require("../dom/dom_adapter"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),PublicTestability=function(){function PublicTestability(testability){this._testability=testability}return PublicTestability.prototype.isStable=function(){return this._testability.isStable()},PublicTestability.prototype.whenStable=function(callback){this._testability.whenStable(callback)},PublicTestability.prototype.findBindings=function(using,provider,exactMatch){return this.findProviders(using,provider,exactMatch)},PublicTestability.prototype.findProviders=function(using,provider,exactMatch){return this._testability.findBindings(using,provider,exactMatch)},PublicTestability}(),BrowserGetTestability=function(){function BrowserGetTestability(){}return BrowserGetTestability.init=function(){core_1.setTestabilityGetter(new BrowserGetTestability)},BrowserGetTestability.prototype.addToWindow=function(registry){lang_1.global.getAngularTestability=function(elem,findInAncestors){void 0===findInAncestors&&(findInAncestors=!0);var testability=registry.findTestabilityInTree(elem,findInAncestors);if(null==testability)throw new Error("Could not find testability for element.");return new PublicTestability(testability)},lang_1.global.getAllAngularTestabilities=function(){var testabilities=registry.getAllTestabilities();return testabilities.map(function(testability){return new PublicTestability(testability)})},lang_1.global.getAllAngularRootElements=function(){return registry.getAllRootElements()};var whenAllStable=function(callback){var testabilities=lang_1.global.getAllAngularTestabilities(),count=testabilities.length,didWork=!1,decrement=function(didWork_){didWork=didWork||didWork_,count--,0==count&&callback(didWork)};testabilities.forEach(function(testability){testability.whenStable(decrement)})};lang_1.global.frameworkStabilizers||(lang_1.global.frameworkStabilizers=collection_1.ListWrapper.createGrowableSize(0)),lang_1.global.frameworkStabilizers.push(whenAllStable)},BrowserGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){if(null==elem)return null;var t=registry.getTestability(elem);return lang_1.isPresent(t)?t:findInAncestors?dom_adapter_1.getDOM().isShadowRoot(elem)?this.findTestabilityInTree(registry,dom_adapter_1.getDOM().getHost(elem),!0):this.findTestabilityInTree(registry,dom_adapter_1.getDOM().parentElement(elem),!0):null},BrowserGetTestability}();exports.BrowserGetTestability=BrowserGetTestability},{"../dom/dom_adapter":339,"../facade/collection":354,"../facade/lang":357,"@angular/core":167}],334:[function(require,module,exports){"use strict";var dom_adapter_1=require("../dom/dom_adapter"),Title=function(){function Title(){}return Title.prototype.getTitle=function(){return dom_adapter_1.getDOM().getTitle()},Title.prototype.setTitle=function(newTitle){dom_adapter_1.getDOM().setTitle(newTitle)},Title}();exports.Title=Title},{"../dom/dom_adapter":339}],335:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),dom_adapter_1=require("../../dom/dom_adapter"),browser_1=require("../../facade/browser"),lang_1=require("../../facade/lang"),ChangeDetectionPerfRecord=function(){function ChangeDetectionPerfRecord(msPerTick,numTicks){this.msPerTick=msPerTick,this.numTicks=numTicks}return ChangeDetectionPerfRecord}();exports.ChangeDetectionPerfRecord=ChangeDetectionPerfRecord;var AngularTools=function(){function AngularTools(ref){this.profiler=new AngularProfiler(ref)}return AngularTools}();exports.AngularTools=AngularTools;var AngularProfiler=function(){function AngularProfiler(ref){this.appRef=ref.injector.get(core_1.ApplicationRef)}return AngularProfiler.prototype.timeChangeDetection=function(config){var record=lang_1.isPresent(config)&&config.record,profileName="Change Detection",isProfilerAvailable=lang_1.isPresent(browser_1.window.console.profile);record&&isProfilerAvailable&&browser_1.window.console.profile(profileName);for(var start=dom_adapter_1.getDOM().performanceNow(),numTicks=0;numTicks<5||dom_adapter_1.getDOM().performanceNow()-start<500;)this.appRef.tick(),numTicks++;var end=dom_adapter_1.getDOM().performanceNow();record&&isProfilerAvailable&&browser_1.window.console.profileEnd(profileName);var msPerTick=(end-start)/numTicks;return browser_1.window.console.log("ran "+numTicks+" change detection cycles"),browser_1.window.console.log(lang_1.NumberWrapper.toFixed(msPerTick,2)+" ms per check"),new ChangeDetectionPerfRecord(msPerTick,numTicks)},AngularProfiler}();exports.AngularProfiler=AngularProfiler},{"../../dom/dom_adapter":339,"../../facade/browser":353,"../../facade/lang":357,"@angular/core":167}],336:[function(require,module,exports){"use strict";function enableDebugTools(ref){return context.ng=new common_tools_1.AngularTools(ref),ref}function disableDebugTools(){delete context.ng}var lang_1=require("../../facade/lang"),common_tools_1=require("./common_tools"),context=lang_1.global;exports.enableDebugTools=enableDebugTools,exports.disableDebugTools=disableDebugTools},{"../../facade/lang":357,"./common_tools":335}],337:[function(require,module,exports){"use strict";var dom_adapter_1=require("../../dom/dom_adapter"),lang_1=require("../../facade/lang"),By=function(){function By(){}return By.all=function(){return function(debugElement){return!0}},By.css=function(selector){return function(debugElement){return!!lang_1.isPresent(debugElement.nativeElement)&&dom_adapter_1.getDOM().elementMatches(debugElement.nativeElement,selector)}},By.directive=function(type){return function(debugElement){return debugElement.providerTokens.indexOf(type)!==-1}},By}();exports.By=By},{"../../dom/dom_adapter":339,"../../facade/lang":357}],338:[function(require,module,exports){"use strict";function inspectNativeElement(element){return core_1.getDebugNode(element)}function _createConditionalRootRenderer(rootRenderer){return core_1.isDevMode()?_createRootRenderer(rootRenderer):rootRenderer}function _createRootRenderer(rootRenderer){return dom_adapter_1.getDOM().setGlobalVar(INSPECT_GLOBAL_NAME,inspectNativeElement),dom_adapter_1.getDOM().setGlobalVar(CORE_TOKENS_GLOBAL_NAME,CORE_TOKENS),new core_private_1.DebugDomRootRenderer(rootRenderer)}var core_1=require("@angular/core"),core_private_1=require("../../../core_private"),dom_adapter_1=require("../dom_adapter"),dom_renderer_1=require("../dom_renderer"),CORE_TOKENS={ApplicationRef:core_1.ApplicationRef,NgZone:core_1.NgZone},INSPECT_GLOBAL_NAME="ng.probe",CORE_TOKENS_GLOBAL_NAME="ng.coreTokens";exports.inspectNativeElement=inspectNativeElement,exports.ELEMENT_PROBE_PROVIDERS=[{provide:core_1.RootRenderer,useFactory:_createConditionalRootRenderer,deps:[dom_renderer_1.DomRootRenderer]
}],exports.ELEMENT_PROBE_PROVIDERS_PROD_MODE=[{provide:core_1.RootRenderer,useFactory:_createRootRenderer,deps:[dom_renderer_1.DomRootRenderer]}]},{"../../../core_private":325,"../dom_adapter":339,"../dom_renderer":340,"@angular/core":167}],339:[function(require,module,exports){"use strict";function getDOM(){return _DOM}function setDOM(adapter){_DOM=adapter}function setRootDomAdapter(adapter){lang_1.isBlank(_DOM)&&(_DOM=adapter)}var lang_1=require("../facade/lang"),_DOM=null;exports.getDOM=getDOM,exports.setDOM=setDOM,exports.setRootDomAdapter=setRootDomAdapter;var DomAdapter=function(){function DomAdapter(){this.xhrType=null}return DomAdapter.prototype.getXHR=function(){return this.xhrType},Object.defineProperty(DomAdapter.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(value){this._attrToPropMap=value},enumerable:!0,configurable:!0}),DomAdapter}();exports.DomAdapter=DomAdapter},{"../facade/lang":357}],340:[function(require,module,exports){"use strict";function moveNodesAfterSibling(sibling,nodes){var parent=dom_adapter_1.getDOM().parentElement(sibling);if(nodes.length>0&&lang_1.isPresent(parent)){var nextSibling=dom_adapter_1.getDOM().nextSibling(sibling);if(lang_1.isPresent(nextSibling))for(var i=0;i<nodes.length;i++)dom_adapter_1.getDOM().insertBefore(nextSibling,nodes[i]);else for(var i=0;i<nodes.length;i++)dom_adapter_1.getDOM().appendChild(parent,nodes[i])}}function appendNodes(parent,nodes){for(var i=0;i<nodes.length;i++)dom_adapter_1.getDOM().appendChild(parent,nodes[i])}function decoratePreventDefault(eventHandler){return function(event){var allowDefaultBehavior=eventHandler(event);allowDefaultBehavior===!1&&dom_adapter_1.getDOM().preventDefault(event)}}function _shimContentAttribute(componentShortId){return lang_1.StringWrapper.replaceAll(exports.CONTENT_ATTR,COMPONENT_REGEX,componentShortId)}function _shimHostAttribute(componentShortId){return lang_1.StringWrapper.replaceAll(exports.HOST_ATTR,COMPONENT_REGEX,componentShortId)}function _flattenStyles(compId,styles,target){for(var i=0;i<styles.length;i++){var style=styles[i];lang_1.isArray(style)?_flattenStyles(compId,style,target):(style=lang_1.StringWrapper.replaceAll(style,COMPONENT_REGEX,compId),target.push(style))}return target}function splitNamespace(name){if(":"!=name[0])return[null,name];var match=lang_1.RegExpWrapper.firstMatch(NS_PREFIX_RE,name);return[match[1],match[2]]}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),exceptions_1=require("../facade/exceptions"),lang_1=require("../facade/lang"),shared_styles_host_1=require("./shared_styles_host"),core_private_1=require("../../core_private"),event_manager_1=require("./events/event_manager"),dom_tokens_1=require("./dom_tokens"),dom_adapter_1=require("./dom_adapter"),util_1=require("./util"),NAMESPACE_URIS={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},TEMPLATE_COMMENT_TEXT="template bindings={}",TEMPLATE_BINDINGS_EXP=/^template bindings=(.*)$/g,DomRootRenderer=function(){function DomRootRenderer(document,eventManager,sharedStylesHost,animationDriver){this.document=document,this.eventManager=eventManager,this.sharedStylesHost=sharedStylesHost,this.animationDriver=animationDriver,this.registeredComponents=new Map}return DomRootRenderer.prototype.renderComponent=function(componentProto){var renderer=this.registeredComponents.get(componentProto.id);return lang_1.isBlank(renderer)&&(renderer=new DomRenderer(this,componentProto,this.animationDriver),this.registeredComponents.set(componentProto.id,renderer)),renderer},DomRootRenderer}();exports.DomRootRenderer=DomRootRenderer;var DomRootRenderer_=function(_super){function DomRootRenderer_(_document,_eventManager,sharedStylesHost,animationDriver){_super.call(this,_document,_eventManager,sharedStylesHost,animationDriver)}return __extends(DomRootRenderer_,_super),DomRootRenderer_.decorators=[{type:core_1.Injectable}],DomRootRenderer_.ctorParameters=[{type:void 0,decorators:[{type:core_1.Inject,args:[dom_tokens_1.DOCUMENT]}]},{type:event_manager_1.EventManager},{type:shared_styles_host_1.DomSharedStylesHost},{type:core_private_1.AnimationDriver}],DomRootRenderer_}(DomRootRenderer);exports.DomRootRenderer_=DomRootRenderer_;var DomRenderer=function(){function DomRenderer(_rootRenderer,componentProto,_animationDriver){this._rootRenderer=_rootRenderer,this.componentProto=componentProto,this._animationDriver=_animationDriver,this._styles=_flattenStyles(componentProto.id,componentProto.styles,[]),componentProto.encapsulation!==core_1.ViewEncapsulation.Native&&this._rootRenderer.sharedStylesHost.addStyles(this._styles),this.componentProto.encapsulation===core_1.ViewEncapsulation.Emulated?(this._contentAttr=_shimContentAttribute(componentProto.id),this._hostAttr=_shimHostAttribute(componentProto.id)):(this._contentAttr=null,this._hostAttr=null)}return DomRenderer.prototype.selectRootElement=function(selectorOrNode,debugInfo){var el;if(lang_1.isString(selectorOrNode)){if(el=dom_adapter_1.getDOM().querySelector(this._rootRenderer.document,selectorOrNode),lang_1.isBlank(el))throw new exceptions_1.BaseException('The selector "'+selectorOrNode+'" did not match any elements')}else el=selectorOrNode;return dom_adapter_1.getDOM().clearNodes(el),el},DomRenderer.prototype.createElement=function(parent,name,debugInfo){var nsAndName=splitNamespace(name),el=lang_1.isPresent(nsAndName[0])?dom_adapter_1.getDOM().createElementNS(NAMESPACE_URIS[nsAndName[0]],nsAndName[1]):dom_adapter_1.getDOM().createElement(nsAndName[1]);return lang_1.isPresent(this._contentAttr)&&dom_adapter_1.getDOM().setAttribute(el,this._contentAttr,""),lang_1.isPresent(parent)&&dom_adapter_1.getDOM().appendChild(parent,el),el},DomRenderer.prototype.createViewRoot=function(hostElement){var nodesParent;if(this.componentProto.encapsulation===core_1.ViewEncapsulation.Native){nodesParent=dom_adapter_1.getDOM().createShadowRoot(hostElement),this._rootRenderer.sharedStylesHost.addHost(nodesParent);for(var i=0;i<this._styles.length;i++)dom_adapter_1.getDOM().appendChild(nodesParent,dom_adapter_1.getDOM().createStyleElement(this._styles[i]))}else lang_1.isPresent(this._hostAttr)&&dom_adapter_1.getDOM().setAttribute(hostElement,this._hostAttr,""),nodesParent=hostElement;return nodesParent},DomRenderer.prototype.createTemplateAnchor=function(parentElement,debugInfo){var comment=dom_adapter_1.getDOM().createComment(TEMPLATE_COMMENT_TEXT);return lang_1.isPresent(parentElement)&&dom_adapter_1.getDOM().appendChild(parentElement,comment),comment},DomRenderer.prototype.createText=function(parentElement,value,debugInfo){var node=dom_adapter_1.getDOM().createTextNode(value);return lang_1.isPresent(parentElement)&&dom_adapter_1.getDOM().appendChild(parentElement,node),node},DomRenderer.prototype.projectNodes=function(parentElement,nodes){lang_1.isBlank(parentElement)||appendNodes(parentElement,nodes)},DomRenderer.prototype.attachViewAfter=function(node,viewRootNodes){moveNodesAfterSibling(node,viewRootNodes)},DomRenderer.prototype.detachView=function(viewRootNodes){for(var i=0;i<viewRootNodes.length;i++)dom_adapter_1.getDOM().remove(viewRootNodes[i])},DomRenderer.prototype.destroyView=function(hostElement,viewAllNodes){this.componentProto.encapsulation===core_1.ViewEncapsulation.Native&&lang_1.isPresent(hostElement)&&this._rootRenderer.sharedStylesHost.removeHost(dom_adapter_1.getDOM().getShadowRoot(hostElement))},DomRenderer.prototype.listen=function(renderElement,name,callback){return this._rootRenderer.eventManager.addEventListener(renderElement,name,decoratePreventDefault(callback))},DomRenderer.prototype.listenGlobal=function(target,name,callback){return this._rootRenderer.eventManager.addGlobalEventListener(target,name,decoratePreventDefault(callback))},DomRenderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){dom_adapter_1.getDOM().setProperty(renderElement,propertyName,propertyValue)},DomRenderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){var attrNs,nsAndName=splitNamespace(attributeName);lang_1.isPresent(nsAndName[0])&&(attributeName=nsAndName[0]+":"+nsAndName[1],attrNs=NAMESPACE_URIS[nsAndName[0]]),lang_1.isPresent(attributeValue)?lang_1.isPresent(attrNs)?dom_adapter_1.getDOM().setAttributeNS(renderElement,attrNs,attributeName,attributeValue):dom_adapter_1.getDOM().setAttribute(renderElement,attributeName,attributeValue):lang_1.isPresent(attrNs)?dom_adapter_1.getDOM().removeAttributeNS(renderElement,attrNs,nsAndName[1]):dom_adapter_1.getDOM().removeAttribute(renderElement,attributeName)},DomRenderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){var dashCasedPropertyName=util_1.camelCaseToDashCase(propertyName);if(dom_adapter_1.getDOM().isCommentNode(renderElement)){var existingBindings=lang_1.RegExpWrapper.firstMatch(TEMPLATE_BINDINGS_EXP,lang_1.StringWrapper.replaceAll(dom_adapter_1.getDOM().getText(renderElement),/\n/g,"")),parsedBindings=lang_1.Json.parse(existingBindings[1]);parsedBindings[dashCasedPropertyName]=propertyValue,dom_adapter_1.getDOM().setText(renderElement,lang_1.StringWrapper.replace(TEMPLATE_COMMENT_TEXT,"{}",lang_1.Json.stringify(parsedBindings)))}else this.setElementAttribute(renderElement,propertyName,propertyValue)},DomRenderer.prototype.setElementClass=function(renderElement,className,isAdd){isAdd?dom_adapter_1.getDOM().addClass(renderElement,className):dom_adapter_1.getDOM().removeClass(renderElement,className)},DomRenderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){lang_1.isPresent(styleValue)?dom_adapter_1.getDOM().setStyle(renderElement,styleName,lang_1.stringify(styleValue)):dom_adapter_1.getDOM().removeStyle(renderElement,styleName)},DomRenderer.prototype.invokeElementMethod=function(renderElement,methodName,args){dom_adapter_1.getDOM().invoke(renderElement,methodName,args)},DomRenderer.prototype.setText=function(renderNode,text){dom_adapter_1.getDOM().setText(renderNode,text)},DomRenderer.prototype.animate=function(element,startingStyles,keyframes,duration,delay,easing){return this._animationDriver.animate(element,startingStyles,keyframes,duration,delay,easing)},DomRenderer}();exports.DomRenderer=DomRenderer;var COMPONENT_REGEX=/%COMP%/g;exports.COMPONENT_VARIABLE="%COMP%",exports.HOST_ATTR="_nghost-"+exports.COMPONENT_VARIABLE,exports.CONTENT_ATTR="_ngcontent-"+exports.COMPONENT_VARIABLE;var NS_PREFIX_RE=/^:([^:]+):(.+)/g},{"../../core_private":325,"../facade/exceptions":356,"../facade/lang":357,"./dom_adapter":339,"./dom_tokens":341,"./events/event_manager":343,"./shared_styles_host":347,"./util":348,"@angular/core":167}],341:[function(require,module,exports){"use strict";var core_1=require("@angular/core");exports.DOCUMENT=new core_1.OpaqueToken("DocumentToken")},{"@angular/core":167}],342:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),dom_adapter_1=require("../dom_adapter"),event_manager_1=require("./event_manager"),DomEventsPlugin=function(_super){function DomEventsPlugin(){_super.apply(this,arguments)}return __extends(DomEventsPlugin,_super),DomEventsPlugin.prototype.supports=function(eventName){return!0},DomEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var zone=this.manager.getZone(),outsideHandler=function(event){return zone.runGuarded(function(){return handler(event)})};return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.getDOM().onAndCancel(element,eventName,outsideHandler)})},DomEventsPlugin.prototype.addGlobalEventListener=function(target,eventName,handler){var element=dom_adapter_1.getDOM().getGlobalEventTarget(target),zone=this.manager.getZone(),outsideHandler=function(event){return zone.runGuarded(function(){return handler(event)})};return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.getDOM().onAndCancel(element,eventName,outsideHandler)})},DomEventsPlugin.decorators=[{type:core_1.Injectable}],DomEventsPlugin}(event_manager_1.EventManagerPlugin);exports.DomEventsPlugin=DomEventsPlugin},{"../dom_adapter":339,"./event_manager":343,"@angular/core":167}],343:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),collection_1=require("../../facade/collection"),exceptions_1=require("../../facade/exceptions");exports.EVENT_MANAGER_PLUGINS=new core_1.OpaqueToken("EventManagerPlugins");var EventManager=function(){function EventManager(plugins,_zone){var _this=this;this._zone=_zone,plugins.forEach(function(p){return p.manager=_this}),this._plugins=collection_1.ListWrapper.reversed(plugins)}return EventManager.prototype.addEventListener=function(element,eventName,handler){var plugin=this._findPluginFor(eventName);return plugin.addEventListener(element,eventName,handler)},EventManager.prototype.addGlobalEventListener=function(target,eventName,handler){var plugin=this._findPluginFor(eventName);return plugin.addGlobalEventListener(target,eventName,handler)},EventManager.prototype.getZone=function(){return this._zone},EventManager.prototype._findPluginFor=function(eventName){for(var plugins=this._plugins,i=0;i<plugins.length;i++){var plugin=plugins[i];if(plugin.supports(eventName))return plugin}throw new exceptions_1.BaseException("No event manager plugin found for event "+eventName)},EventManager.decorators=[{type:core_1.Injectable}],EventManager.ctorParameters=[{type:Array,decorators:[{type:core_1.Inject,args:[exports.EVENT_MANAGER_PLUGINS]}]},{type:core_1.NgZone}],EventManager}();exports.EventManager=EventManager;var EventManagerPlugin=function(){function EventManagerPlugin(){}return EventManagerPlugin.prototype.supports=function(eventName){return!1},EventManagerPlugin.prototype.addEventListener=function(element,eventName,handler){throw"not implemented"},EventManagerPlugin.prototype.addGlobalEventListener=function(element,eventName,handler){throw"not implemented"},EventManagerPlugin}();exports.EventManagerPlugin=EventManagerPlugin},{"../../facade/collection":354,"../../facade/exceptions":356,"@angular/core":167}],344:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},collection_1=require("../../facade/collection"),event_manager_1=require("./event_manager"),_eventNames={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},HammerGesturesPluginCommon=function(_super){function HammerGesturesPluginCommon(){_super.call(this)}return __extends(HammerGesturesPluginCommon,_super),HammerGesturesPluginCommon.prototype.supports=function(eventName){return eventName=eventName.toLowerCase(),collection_1.StringMapWrapper.contains(_eventNames,eventName)},HammerGesturesPluginCommon}(event_manager_1.EventManagerPlugin);exports.HammerGesturesPluginCommon=HammerGesturesPluginCommon},{"../../facade/collection":354,"./event_manager":343}],345:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),exceptions_1=require("../../facade/exceptions"),lang_1=require("../../facade/lang"),hammer_common_1=require("./hammer_common");exports.HAMMER_GESTURE_CONFIG=new core_1.OpaqueToken("HammerGestureConfig");var HammerGestureConfig=function(){function HammerGestureConfig(){this.events=[],this.overrides={}}return HammerGestureConfig.prototype.buildHammer=function(element){var mc=new Hammer(element);mc.get("pinch").set({enable:!0}),mc.get("rotate").set({enable:!0});for(var eventName in this.overrides)mc.get(eventName).set(this.overrides[eventName]);return mc},HammerGestureConfig.decorators=[{type:core_1.Injectable}],HammerGestureConfig}();exports.HammerGestureConfig=HammerGestureConfig;var HammerGesturesPlugin=function(_super){function HammerGesturesPlugin(_config){_super.call(this),this._config=_config}return __extends(HammerGesturesPlugin,_super),HammerGesturesPlugin.prototype.supports=function(eventName){if(!_super.prototype.supports.call(this,eventName)&&!this.isCustomEvent(eventName))return!1;if(!lang_1.isPresent(window.Hammer))throw new exceptions_1.BaseException("Hammer.js is not loaded, can not bind "+eventName+" event");return!0},HammerGesturesPlugin.prototype.addEventListener=function(element,eventName,handler){var _this=this,zone=this.manager.getZone();return eventName=eventName.toLowerCase(),zone.runOutsideAngular(function(){var mc=_this._config.buildHammer(element),callback=function(eventObj){zone.runGuarded(function(){handler(eventObj)})};return mc.on(eventName,callback),function(){mc.off(eventName,callback)}})},HammerGesturesPlugin.prototype.isCustomEvent=function(eventName){return this._config.events.indexOf(eventName)>-1},HammerGesturesPlugin.decorators=[{type:core_1.Injectable}],HammerGesturesPlugin.ctorParameters=[{type:HammerGestureConfig,decorators:[{type:core_1.Inject,args:[exports.HAMMER_GESTURE_CONFIG]}]}],HammerGesturesPlugin}(hammer_common_1.HammerGesturesPluginCommon);exports.HammerGesturesPlugin=HammerGesturesPlugin},{"../../facade/exceptions":356,"../../facade/lang":357,"./hammer_common":344,"@angular/core":167}],346:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),lang_1=require("../../facade/lang"),collection_1=require("../../facade/collection"),dom_adapter_1=require("../dom_adapter"),event_manager_1=require("./event_manager"),modifierKeys=["alt","control","meta","shift"],modifierKeyGetters={alt:function(event){return event.altKey},control:function(event){return event.ctrlKey},meta:function(event){return event.metaKey},shift:function(event){return event.shiftKey}},KeyEventsPlugin=function(_super){function KeyEventsPlugin(){_super.call(this)}return __extends(KeyEventsPlugin,_super),KeyEventsPlugin.prototype.supports=function(eventName){return lang_1.isPresent(KeyEventsPlugin.parseEventName(eventName))},KeyEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var parsedEvent=KeyEventsPlugin.parseEventName(eventName),outsideHandler=KeyEventsPlugin.eventCallback(element,collection_1.StringMapWrapper.get(parsedEvent,"fullKey"),handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.getDOM().onAndCancel(element,collection_1.StringMapWrapper.get(parsedEvent,"domEventName"),outsideHandler)})},KeyEventsPlugin.parseEventName=function(eventName){var parts=eventName.toLowerCase().split("."),domEventName=parts.shift();if(0===parts.length||!lang_1.StringWrapper.equals(domEventName,"keydown")&&!lang_1.StringWrapper.equals(domEventName,"keyup"))return null;var key=KeyEventsPlugin._normalizeKey(parts.pop()),fullKey="";if(modifierKeys.forEach(function(modifierName){collection_1.ListWrapper.contains(parts,modifierName)&&(collection_1.ListWrapper.remove(parts,modifierName),fullKey+=modifierName+".")}),fullKey+=key,0!=parts.length||0===key.length)return null;var result=collection_1.StringMapWrapper.create();return collection_1.StringMapWrapper.set(result,"domEventName",domEventName),collection_1.StringMapWrapper.set(result,"fullKey",fullKey),result},KeyEventsPlugin.getEventFullKey=function(event){var fullKey="",key=dom_adapter_1.getDOM().getEventKey(event);return key=key.toLowerCase(),lang_1.StringWrapper.equals(key," ")?key="space":lang_1.StringWrapper.equals(key,".")&&(key="dot"),modifierKeys.forEach(function(modifierName){if(modifierName!=key){var modifierGetter=collection_1.StringMapWrapper.get(modifierKeyGetters,modifierName);modifierGetter(event)&&(fullKey+=modifierName+".")}}),fullKey+=key},KeyEventsPlugin.eventCallback=function(element,fullKey,handler,zone){return function(event){lang_1.StringWrapper.equals(KeyEventsPlugin.getEventFullKey(event),fullKey)&&zone.runGuarded(function(){return handler(event)})}},KeyEventsPlugin._normalizeKey=function(keyName){switch(keyName){case"esc":return"escape";default:return keyName}},KeyEventsPlugin.decorators=[{type:core_1.Injectable}],KeyEventsPlugin.ctorParameters=[],KeyEventsPlugin}(event_manager_1.EventManagerPlugin);exports.KeyEventsPlugin=KeyEventsPlugin},{"../../facade/collection":354,"../../facade/lang":357,"../dom_adapter":339,"./event_manager":343,"@angular/core":167}],347:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),collection_1=require("../facade/collection"),dom_adapter_1=require("./dom_adapter"),dom_tokens_1=require("./dom_tokens"),SharedStylesHost=function(){function SharedStylesHost(){this._styles=[],this._stylesSet=new Set}return SharedStylesHost.prototype.addStyles=function(styles){var _this=this,additions=[];styles.forEach(function(style){collection_1.SetWrapper.has(_this._stylesSet,style)||(_this._stylesSet.add(style),_this._styles.push(style),additions.push(style))}),this.onStylesAdded(additions)},SharedStylesHost.prototype.onStylesAdded=function(additions){},SharedStylesHost.prototype.getAllStyles=function(){return this._styles},SharedStylesHost.decorators=[{type:core_1.Injectable}],SharedStylesHost.ctorParameters=[],SharedStylesHost}();exports.SharedStylesHost=SharedStylesHost;var DomSharedStylesHost=function(_super){function DomSharedStylesHost(doc){_super.call(this),this._hostNodes=new Set,this._hostNodes.add(doc.head)}return __extends(DomSharedStylesHost,_super),DomSharedStylesHost.prototype._addStylesToHost=function(styles,host){for(var i=0;i<styles.length;i++){var style=styles[i];dom_adapter_1.getDOM().appendChild(host,dom_adapter_1.getDOM().createStyleElement(style))}},DomSharedStylesHost.prototype.addHost=function(hostNode){this._addStylesToHost(this._styles,hostNode),this._hostNodes.add(hostNode)},DomSharedStylesHost.prototype.removeHost=function(hostNode){collection_1.SetWrapper["delete"](this._hostNodes,hostNode)},DomSharedStylesHost.prototype.onStylesAdded=function(additions){var _this=this;this._hostNodes.forEach(function(hostNode){_this._addStylesToHost(additions,hostNode)})},DomSharedStylesHost.decorators=[{type:core_1.Injectable}],DomSharedStylesHost.ctorParameters=[{type:void 0,decorators:[{type:core_1.Inject,args:[dom_tokens_1.DOCUMENT]}]}],DomSharedStylesHost}(SharedStylesHost);exports.DomSharedStylesHost=DomSharedStylesHost},{"../facade/collection":354,"./dom_adapter":339,"./dom_tokens":341,"@angular/core":167}],348:[function(require,module,exports){"use strict";function camelCaseToDashCase(input){return lang_1.StringWrapper.replaceAllMapped(input,CAMEL_CASE_REGEXP,function(m){return"-"+m[1].toLowerCase()})}function dashCaseToCamelCase(input){return lang_1.StringWrapper.replaceAllMapped(input,DASH_CASE_REGEXP,function(m){return m[1].toUpperCase()})}var lang_1=require("../facade/lang"),CAMEL_CASE_REGEXP=/([A-Z])/g,DASH_CASE_REGEXP=/-([a-z])/g;exports.camelCaseToDashCase=camelCaseToDashCase,exports.dashCaseToCamelCase=dashCaseToCamelCase},{"../facade/lang":357}],349:[function(require,module,exports){"use strict";function _populateStyles(element,styles,defaultStyles){var data={};return styles.styles.forEach(function(entry){collection_1.StringMapWrapper.forEach(entry,function(val,prop){var formattedProp=util_1.dashCaseToCamelCase(prop);data[formattedProp]=val==core_1.AUTO_STYLE?_computeStyle(element,formattedProp):val.toString()+_resolveStyleUnit(val,prop,formattedProp)})}),collection_1.StringMapWrapper.forEach(defaultStyles,function(value,prop){lang_1.isPresent(data[prop])||(data[prop]=value)}),data}function _resolveStyleUnit(val,userProvidedProp,formattedProp){var unit="";if(_isPixelDimensionStyle(formattedProp)&&0!=val&&"0"!=val)if(lang_1.isNumber(val))unit="px";else if(0==_findDimensionalSuffix(val.toString()).length)throw new core_1.BaseException("Please provide a CSS unit value for "+userProvidedProp+":"+val);return unit}function _findDimensionalSuffix(value){for(var i=0;i<value.length;i++){var c=lang_1.StringWrapper.charCodeAt(value,i);if(!(c>=_$0&&c<=_$9||c==_$PERIOD))return value.substring(i,value.length)}return""}function _isPixelDimensionStyle(prop){switch(prop){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}function _computeStyle(element,prop){return dom_adapter_1.getDOM().getComputedStyle(element)[prop]}var core_1=require("@angular/core"),collection_1=require("../facade/collection"),lang_1=require("../facade/lang"),dom_adapter_1=require("./dom_adapter"),util_1=require("./util"),web_animations_player_1=require("./web_animations_player"),WebAnimationsDriver=function(){function WebAnimationsDriver(){}return WebAnimationsDriver.prototype.animate=function(element,startingStyles,keyframes,duration,delay,easing){var anyElm=element,formattedSteps=[],startingStyleLookup={};if(lang_1.isPresent(startingStyles)&&startingStyles.styles.length>0&&(startingStyleLookup=_populateStyles(anyElm,startingStyles,{}),startingStyleLookup.offset=0,formattedSteps.push(startingStyleLookup)),keyframes.forEach(function(keyframe){var data=_populateStyles(anyElm,keyframe.styles,startingStyleLookup);data.offset=keyframe.offset,formattedSteps.push(data)}),1==formattedSteps.length){var start=formattedSteps[0];start.offset=null,formattedSteps=[start,start]}var playerOptions={duration:duration,delay:delay,easing:easing,fill:"both"},player=this._triggerWebAnimation(anyElm,formattedSteps,playerOptions);return new web_animations_player_1.WebAnimationsPlayer(player,duration)},WebAnimationsDriver.prototype._triggerWebAnimation=function(elm,keyframes,options){return elm.animate(keyframes,options)},WebAnimationsDriver}();exports.WebAnimationsDriver=WebAnimationsDriver;var _$0=48,_$9=57,_$PERIOD=46},{"../facade/collection":354,"../facade/lang":357,"./dom_adapter":339,"./util":348,"./web_animations_player":350,"@angular/core":167}],350:[function(require,module,exports){"use strict";var lang_1=require("../facade/lang"),WebAnimationsPlayer=function(){function WebAnimationsPlayer(_player,totalTime){var _this=this;this._player=_player,this.totalTime=totalTime,this._subscriptions=[],this._finished=!1,this.parentPlayer=null,this.reset(),this._player.onfinish=function(){return _this._onFinish()}}return WebAnimationsPlayer.prototype._onFinish=function(){this._finished||(this._finished=!0,lang_1.isPresent(this.parentPlayer)||this.destroy(),this._subscriptions.forEach(function(fn){return fn()}),this._subscriptions=[])},WebAnimationsPlayer.prototype.onDone=function(fn){this._subscriptions.push(fn)},WebAnimationsPlayer.prototype.play=function(){this._player.play()},WebAnimationsPlayer.prototype.pause=function(){this._player.pause()},WebAnimationsPlayer.prototype.finish=function(){this._onFinish(),this._player.finish()},WebAnimationsPlayer.prototype.reset=function(){this._player.cancel()},WebAnimationsPlayer.prototype.restart=function(){this.reset(),this.play()},WebAnimationsPlayer.prototype.destroy=function(){this.reset(),this._onFinish()},WebAnimationsPlayer.prototype.setPosition=function(p){this._player.currentTime=p*this.totalTime},WebAnimationsPlayer.prototype.getPosition=function(){return this._player.currentTime/this.totalTime},WebAnimationsPlayer}();exports.WebAnimationsPlayer=WebAnimationsPlayer},{"../facade/lang":357}],351:[function(require,module,exports){arguments[4][31][0].apply(exports,arguments)},{"./lang":357,"./promise":358,dup:31,"rxjs/Observable":629,"rxjs/Subject":635,"rxjs/observable/PromiseObservable":758,"rxjs/operator/toPromise":856}],352:[function(require,module,exports){arguments[4][32][0].apply(exports,arguments)},{dup:32}],353:[function(require,module,exports){"use strict";var win="undefined"!=typeof window&&window||{};exports.window=win,exports.document=win.document,exports.location=win.location,exports.gc=win.gc?function(){return win.gc()}:function(){return null},exports.performance=win.performance?win.performance:null,exports.Event=win.Event,exports.MouseEvent=win.MouseEvent,exports.KeyboardEvent=win.KeyboardEvent,exports.EventTarget=win.EventTarget,exports.History=win.History,exports.Location=win.Location,exports.EventListener=win.EventListener},{}],354:[function(require,module,exports){arguments[4][33][0].apply(exports,arguments)},{"./lang":357,dup:33}],355:[function(require,module,exports){arguments[4][34][0].apply(exports,arguments)},{"./base_wrapped_exception":352,"./collection":354,"./lang":357,dup:34}],356:[function(require,module,exports){arguments[4][35][0].apply(exports,arguments)},{"./base_wrapped_exception":352,"./exception_handler":355,dup:35}],357:[function(require,module,exports){arguments[4][37][0].apply(exports,arguments)},{dup:37}],358:[function(require,module,exports){arguments[4][38][0].apply(exports,arguments)},{dup:38}],359:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),core_private_1=require("../../core_private");exports.SecurityContext=core_private_1.SecurityContext;var html_sanitizer_1=require("./html_sanitizer"),style_sanitizer_1=require("./style_sanitizer"),url_sanitizer_1=require("./url_sanitizer"),DomSanitizationService=function(){function DomSanitizationService(){}return DomSanitizationService}();exports.DomSanitizationService=DomSanitizationService;var DomSanitizationServiceImpl=function(_super){function DomSanitizationServiceImpl(){_super.apply(this,arguments)}return __extends(DomSanitizationServiceImpl,_super),DomSanitizationServiceImpl.prototype.sanitize=function(ctx,value){if(null==value)return null;switch(ctx){case core_private_1.SecurityContext.NONE:return value;case core_private_1.SecurityContext.HTML:return value instanceof SafeHtmlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"HTML"),html_sanitizer_1.sanitizeHtml(String(value)));case core_private_1.SecurityContext.STYLE:return value instanceof SafeStyleImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"Style"),style_sanitizer_1.sanitizeStyle(value));case core_private_1.SecurityContext.SCRIPT:if(value instanceof SafeScriptImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,"Script"),new Error("unsafe value used in a script context");case core_private_1.SecurityContext.URL:return value instanceof SafeUrlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"URL"),
url_sanitizer_1.sanitizeUrl(String(value)));case core_private_1.SecurityContext.RESOURCE_URL:if(value instanceof SafeResourceUrlImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+ctx+" (see http://g.co/ng/security#xss)")}},DomSanitizationServiceImpl.prototype.checkNotSafeValue=function(value,expectedType){if(value instanceof SafeValueImpl)throw new Error("Required a safe "+expectedType+", got a "+value.getTypeName()+" (see http://g.co/ng/security#xss)")},DomSanitizationServiceImpl.prototype.bypassSecurityTrustHtml=function(value){return new SafeHtmlImpl(value)},DomSanitizationServiceImpl.prototype.bypassSecurityTrustStyle=function(value){return new SafeStyleImpl(value)},DomSanitizationServiceImpl.prototype.bypassSecurityTrustScript=function(value){return new SafeScriptImpl(value)},DomSanitizationServiceImpl.prototype.bypassSecurityTrustUrl=function(value){return new SafeUrlImpl(value)},DomSanitizationServiceImpl.prototype.bypassSecurityTrustResourceUrl=function(value){return new SafeResourceUrlImpl(value)},DomSanitizationServiceImpl.decorators=[{type:core_1.Injectable}],DomSanitizationServiceImpl}(DomSanitizationService);exports.DomSanitizationServiceImpl=DomSanitizationServiceImpl;var SafeValueImpl=function(){function SafeValueImpl(changingThisBreaksApplicationSecurity){this.changingThisBreaksApplicationSecurity=changingThisBreaksApplicationSecurity}return SafeValueImpl.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},SafeValueImpl}(),SafeHtmlImpl=function(_super){function SafeHtmlImpl(){_super.apply(this,arguments)}return __extends(SafeHtmlImpl,_super),SafeHtmlImpl.prototype.getTypeName=function(){return"HTML"},SafeHtmlImpl}(SafeValueImpl),SafeStyleImpl=function(_super){function SafeStyleImpl(){_super.apply(this,arguments)}return __extends(SafeStyleImpl,_super),SafeStyleImpl.prototype.getTypeName=function(){return"Style"},SafeStyleImpl}(SafeValueImpl),SafeScriptImpl=function(_super){function SafeScriptImpl(){_super.apply(this,arguments)}return __extends(SafeScriptImpl,_super),SafeScriptImpl.prototype.getTypeName=function(){return"Script"},SafeScriptImpl}(SafeValueImpl),SafeUrlImpl=function(_super){function SafeUrlImpl(){_super.apply(this,arguments)}return __extends(SafeUrlImpl,_super),SafeUrlImpl.prototype.getTypeName=function(){return"URL"},SafeUrlImpl}(SafeValueImpl),SafeResourceUrlImpl=function(_super){function SafeResourceUrlImpl(){_super.apply(this,arguments)}return __extends(SafeResourceUrlImpl,_super),SafeResourceUrlImpl.prototype.getTypeName=function(){return"ResourceURL"},SafeResourceUrlImpl}(SafeValueImpl)},{"../../core_private":325,"./html_sanitizer":360,"./style_sanitizer":361,"./url_sanitizer":362,"@angular/core":167}],360:[function(require,module,exports){"use strict";function getInertElement(){if(inertElement)return inertElement;DOM=dom_adapter_1.getDOM();var templateEl=DOM.createElement("template");if("content"in templateEl)return templateEl;var doc=DOM.createHtmlDocument();if(inertElement=DOM.querySelector(doc,"body"),null==inertElement){var html=DOM.createElement("html",doc);inertElement=DOM.createElement("body",doc),DOM.appendChild(html,inertElement),DOM.appendChild(doc,html)}return inertElement}function tagSet(tags){for(var res={},_i=0,_a=tags.split(",");_i<_a.length;_i++){var t=_a[_i];res[t.toLowerCase()]=!0}return res}function merge(){for(var sets=[],_i=0;_i<arguments.length;_i++)sets[_i-0]=arguments[_i];for(var res={},_a=0,sets_1=sets;_a<sets_1.length;_a++){var s=sets_1[_a];for(var v in s)s.hasOwnProperty(v)&&(res[v]=!0)}return res}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(match){var hi=match.charCodeAt(0),low=match.charCodeAt(1);return"&#"+(1024*(hi-55296)+(low-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(match){return"&#"+match.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function stripCustomNsAttrs(el){DOM.attributeMap(el).forEach(function(_,attrName){"xmlns:ns1"!==attrName&&0!==attrName.indexOf("ns1:")||DOM.removeAttribute(el,attrName)});for(var _i=0,_a=DOM.childNodesAsList(el);_i<_a.length;_i++){var n=_a[_i];DOM.isElementNode(n)&&stripCustomNsAttrs(n)}}function sanitizeHtml(unsafeHtmlInput){try{var containerEl=getInertElement(),unsafeHtml=unsafeHtmlInput?String(unsafeHtmlInput):"",mXSSAttempts=5,parsedHtml=unsafeHtml;do{if(0===mXSSAttempts)throw new Error("Failed to sanitize html because the input is unstable");mXSSAttempts--,unsafeHtml=parsedHtml,DOM.setInnerHTML(containerEl,unsafeHtml),DOM.defaultDoc().documentMode&&stripCustomNsAttrs(containerEl),parsedHtml=DOM.getInnerHTML(containerEl)}while(unsafeHtml!==parsedHtml);for(var sanitizer=new SanitizingHtmlSerializer,safeHtml=sanitizer.sanitizeChildren(DOM.getTemplateContent(containerEl)||containerEl),parent_1=DOM.getTemplateContent(containerEl)||containerEl,_i=0,_a=DOM.childNodesAsList(parent_1);_i<_a.length;_i++){var child=_a[_i];DOM.removeChild(parent_1,child)}return core_1.isDevMode()&&safeHtml!==unsafeHtmlInput&&DOM.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),safeHtml}catch(e){throw inertElement=null,e}}var core_1=require("@angular/core"),dom_adapter_1=require("../dom/dom_adapter"),url_sanitizer_1=require("./url_sanitizer"),inertElement=null,DOM=null,VOID_ELEMENTS=tagSet("area,br,col,hr,img,wbr"),OPTIONAL_END_TAG_BLOCK_ELEMENTS=tagSet("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),OPTIONAL_END_TAG_INLINE_ELEMENTS=tagSet("rp,rt"),OPTIONAL_END_TAG_ELEMENTS=merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,OPTIONAL_END_TAG_BLOCK_ELEMENTS),BLOCK_ELEMENTS=merge(OPTIONAL_END_TAG_BLOCK_ELEMENTS,tagSet("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),INLINE_ELEMENTS=merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,tagSet("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),VALID_ELEMENTS=merge(VOID_ELEMENTS,BLOCK_ELEMENTS,INLINE_ELEMENTS,OPTIONAL_END_TAG_ELEMENTS),URI_ATTRS=tagSet("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SRCSET_ATTRS=tagSet("srcset"),HTML_ATTRS=tagSet("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),VALID_ATTRS=merge(URI_ATTRS,SRCSET_ATTRS,HTML_ATTRS),SanitizingHtmlSerializer=function(){function SanitizingHtmlSerializer(){this.buf=[]}return SanitizingHtmlSerializer.prototype.sanitizeChildren=function(el){for(var current=el.firstChild;current;)if(DOM.isElementNode(current)?this.startElement(current):DOM.isTextNode(current)&&this.chars(DOM.nodeValue(current)),DOM.firstChild(current))current=DOM.firstChild(current);else for(;current;){if(DOM.isElementNode(current)&&this.endElement(DOM.nodeName(current).toLowerCase()),DOM.nextSibling(current)){current=DOM.nextSibling(current);break}current=DOM.parentElement(current)}return this.buf.join("")},SanitizingHtmlSerializer.prototype.startElement=function(element){var _this=this,tagName=DOM.nodeName(element).toLowerCase();tagName=tagName.toLowerCase(),VALID_ELEMENTS.hasOwnProperty(tagName)&&(this.buf.push("<"),this.buf.push(tagName),DOM.attributeMap(element).forEach(function(value,attrName){var lower=attrName.toLowerCase();VALID_ATTRS.hasOwnProperty(lower)&&(URI_ATTRS[lower]&&(value=url_sanitizer_1.sanitizeUrl(value)),SRCSET_ATTRS[lower]&&(value=url_sanitizer_1.sanitizeSrcset(value)),_this.buf.push(" "),_this.buf.push(attrName),_this.buf.push('="'),_this.buf.push(encodeEntities(value)),_this.buf.push('"'))}),this.buf.push(">"))},SanitizingHtmlSerializer.prototype.endElement=function(tagName){tagName=tagName.toLowerCase(),VALID_ELEMENTS.hasOwnProperty(tagName)&&!VOID_ELEMENTS.hasOwnProperty(tagName)&&(this.buf.push("</"),this.buf.push(tagName),this.buf.push(">"))},SanitizingHtmlSerializer.prototype.chars=function(chars){this.buf.push(encodeEntities(chars))},SanitizingHtmlSerializer}(),SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~ |!])/g;exports.sanitizeHtml=sanitizeHtml},{"../dom/dom_adapter":339,"./url_sanitizer":362,"@angular/core":167}],361:[function(require,module,exports){"use strict";function hasBalancedQuotes(value){for(var outsideSingle=!0,outsideDouble=!0,i=0;i<value.length;i++){var c=value.charAt(i);"'"===c&&outsideDouble?outsideSingle=!outsideSingle:'"'===c&&outsideSingle&&(outsideDouble=!outsideDouble)}return outsideSingle&&outsideDouble}function sanitizeStyle(value){if(value=String(value).trim(),!value)return"";var urlMatch=URL_RE.exec(value);return urlMatch&&url_sanitizer_1.sanitizeUrl(urlMatch[1])===urlMatch[1]||value.match(SAFE_STYLE_VALUE)&&hasBalancedQuotes(value)?value:(core_1.isDevMode()&&dom_adapter_1.getDOM().log("WARNING: sanitizing unsafe style value "+value+" (see http://g.co/ng/security#xss)."),"unsafe")}var core_1=require("@angular/core"),dom_adapter_1=require("../dom/dom_adapter"),url_sanitizer_1=require("./url_sanitizer"),VALUES="[-,.\"'%_!# a-zA-Z0-9]+",TRANSFORMATION_FNS="(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?",COLOR_FNS="(?:rgb|hsl)a?",FN_ARGS="\\([-0-9.%, a-zA-Z]+\\)",SAFE_STYLE_VALUE=new RegExp("^("+VALUES+"|(?:"+TRANSFORMATION_FNS+"|"+COLOR_FNS+")"+FN_ARGS+")$","g"),URL_RE=/^url\(([^)]+)\)$/;exports.sanitizeStyle=sanitizeStyle},{"../dom/dom_adapter":339,"./url_sanitizer":362,"@angular/core":167}],362:[function(require,module,exports){"use strict";function sanitizeUrl(url){return url=String(url),url.match(SAFE_URL_PATTERN)||url.match(DATA_URL_PATTERN)?url:(core_1.isDevMode()&&dom_adapter_1.getDOM().log("WARNING: sanitizing unsafe URL value "+url+" (see http://g.co/ng/security#xss)"),"unsafe:"+url)}function sanitizeSrcset(srcset){return srcset=String(srcset),srcset.split(",").map(function(srcset){return sanitizeUrl(srcset.trim())}).join(", ")}var core_1=require("@angular/core"),dom_adapter_1=require("../dom/dom_adapter"),SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,DATA_URL_PATTERN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;exports.sanitizeUrl=sanitizeUrl,exports.sanitizeSrcset=sanitizeSrcset},{"../dom/dom_adapter":339,"@angular/core":167}],363:[function(require,module,exports){"use strict";var core_1=require("@angular/core");exports.ON_WEB_WORKER=new core_1.OpaqueToken("WebWorker.onWebWorker")},{"@angular/core":167}],364:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),async_1=require("../../facade/async"),collection_1=require("../../facade/collection"),lang_1=require("../../facade/lang"),message_bus_1=require("./message_bus"),serializer_1=require("./serializer"),ClientMessageBrokerFactory=function(){function ClientMessageBrokerFactory(){}return ClientMessageBrokerFactory}();exports.ClientMessageBrokerFactory=ClientMessageBrokerFactory;var ClientMessageBrokerFactory_=function(_super){function ClientMessageBrokerFactory_(_messageBus,_serializer){_super.call(this),this._messageBus=_messageBus,this._serializer=_serializer}return __extends(ClientMessageBrokerFactory_,_super),ClientMessageBrokerFactory_.prototype.createMessageBroker=function(channel,runInZone){return void 0===runInZone&&(runInZone=!0),this._messageBus.initChannel(channel,runInZone),new ClientMessageBroker_(this._messageBus,this._serializer,channel)},ClientMessageBrokerFactory_.decorators=[{type:core_1.Injectable}],ClientMessageBrokerFactory_.ctorParameters=[{type:message_bus_1.MessageBus},{type:serializer_1.Serializer}],ClientMessageBrokerFactory_}(ClientMessageBrokerFactory);exports.ClientMessageBrokerFactory_=ClientMessageBrokerFactory_;var ClientMessageBroker=function(){function ClientMessageBroker(){}return ClientMessageBroker}();exports.ClientMessageBroker=ClientMessageBroker;var ClientMessageBroker_=function(_super){function ClientMessageBroker_(messageBus,_serializer,channel){var _this=this;_super.call(this),this.channel=channel,this._pending=new Map,this._sink=messageBus.to(channel),this._serializer=_serializer;var source=messageBus.from(channel);async_1.ObservableWrapper.subscribe(source,function(message){return _this._handleMessage(message)})}return __extends(ClientMessageBroker_,_super),ClientMessageBroker_.prototype._generateMessageId=function(name){for(var time=lang_1.stringify(lang_1.DateWrapper.toMillis(lang_1.DateWrapper.now())),iteration=0,id=name+time+lang_1.stringify(iteration);lang_1.isPresent(this._pending[id]);)id=""+name+time+iteration,iteration++;return id},ClientMessageBroker_.prototype.runOnService=function(args,returnType){var _this=this,fnArgs=[];lang_1.isPresent(args.args)&&args.args.forEach(function(argument){null!=argument.type?fnArgs.push(_this._serializer.serialize(argument.value,argument.type)):fnArgs.push(argument.value)});var promise,id=null;if(null!=returnType){var completer=async_1.PromiseWrapper.completer();id=this._generateMessageId(args.method),this._pending.set(id,completer),async_1.PromiseWrapper.catchError(completer.promise,function(err,stack){lang_1.print(err),completer.reject(err,stack)}),promise=async_1.PromiseWrapper.then(completer.promise,function(value){return null==_this._serializer?value:_this._serializer.deserialize(value,returnType)})}else promise=null;var message={method:args.method,args:fnArgs};return null!=id&&(message.id=id),async_1.ObservableWrapper.callEmit(this._sink,message),promise},ClientMessageBroker_.prototype._handleMessage=function(message){var data=new MessageData(message);if(lang_1.StringWrapper.equals(data.type,"result")||lang_1.StringWrapper.equals(data.type,"error")){var id=data.id;this._pending.has(id)&&(lang_1.StringWrapper.equals(data.type,"result")?this._pending.get(id).resolve(data.value):this._pending.get(id).reject(data.value,null),this._pending["delete"](id))}},ClientMessageBroker_}(ClientMessageBroker);exports.ClientMessageBroker_=ClientMessageBroker_;var MessageData=function(){function MessageData(data){this.type=collection_1.StringMapWrapper.get(data,"type"),this.id=this._getValueIfPresent(data,"id"),this.value=this._getValueIfPresent(data,"value")}return MessageData.prototype._getValueIfPresent=function(data,key){return collection_1.StringMapWrapper.contains(data,key)?collection_1.StringMapWrapper.get(data,key):null},MessageData}(),FnArg=function(){function FnArg(value,type){this.value=value,this.type=type}return FnArg}();exports.FnArg=FnArg;var UiArguments=function(){function UiArguments(method,args){this.method=method,this.args=args}return UiArguments}();exports.UiArguments=UiArguments},{"../../facade/async":351,"../../facade/collection":354,"../../facade/lang":357,"./message_bus":365,"./serializer":370,"@angular/core":167}],365:[function(require,module,exports){"use strict";var MessageBus=function(){function MessageBus(){}return MessageBus}();exports.MessageBus=MessageBus},{}],366:[function(require,module,exports){"use strict";exports.RENDERER_CHANNEL="ng-Renderer",exports.EVENT_CHANNEL="ng-Events",exports.ROUTER_CHANNEL="ng-Router"},{}],367:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),async_1=require("../../facade/async"),collection_1=require("../../facade/collection"),exceptions_1=require("../../facade/exceptions"),PostMessageBusSink=function(){function PostMessageBusSink(_postMessageTarget){this._postMessageTarget=_postMessageTarget,this._channels=collection_1.StringMapWrapper.create(),this._messageBuffer=[]}return PostMessageBusSink.prototype.attachToZone=function(zone){var _this=this;this._zone=zone,this._zone.runOutsideAngular(function(){async_1.ObservableWrapper.subscribe(_this._zone.onStable,function(_){_this._handleOnEventDone()})})},PostMessageBusSink.prototype.initChannel=function(channel,runInZone){var _this=this;if(void 0===runInZone&&(runInZone=!0),collection_1.StringMapWrapper.contains(this._channels,channel))throw new exceptions_1.BaseException(channel+" has already been initialized");var emitter=new async_1.EventEmitter((!1)),channelInfo=new _Channel(emitter,runInZone);this._channels[channel]=channelInfo,emitter.subscribe(function(data){var message={channel:channel,message:data};runInZone?_this._messageBuffer.push(message):_this._sendMessages([message])})},PostMessageBusSink.prototype.to=function(channel){if(collection_1.StringMapWrapper.contains(this._channels,channel))return this._channels[channel].emitter;throw new exceptions_1.BaseException(channel+" is not set up. Did you forget to call initChannel?")},PostMessageBusSink.prototype._handleOnEventDone=function(){this._messageBuffer.length>0&&(this._sendMessages(this._messageBuffer),this._messageBuffer=[])},PostMessageBusSink.prototype._sendMessages=function(messages){this._postMessageTarget.postMessage(messages)},PostMessageBusSink}();exports.PostMessageBusSink=PostMessageBusSink;var PostMessageBusSource=function(){function PostMessageBusSource(eventTarget){var _this=this;if(this._channels=collection_1.StringMapWrapper.create(),eventTarget)eventTarget.addEventListener("message",function(ev){return _this._handleMessages(ev)});else{var workerScope=self;workerScope.addEventListener("message",function(ev){return _this._handleMessages(ev)})}}return PostMessageBusSource.prototype.attachToZone=function(zone){this._zone=zone},PostMessageBusSource.prototype.initChannel=function(channel,runInZone){if(void 0===runInZone&&(runInZone=!0),collection_1.StringMapWrapper.contains(this._channels,channel))throw new exceptions_1.BaseException(channel+" has already been initialized");var emitter=new async_1.EventEmitter((!1)),channelInfo=new _Channel(emitter,runInZone);this._channels[channel]=channelInfo},PostMessageBusSource.prototype.from=function(channel){if(collection_1.StringMapWrapper.contains(this._channels,channel))return this._channels[channel].emitter;throw new exceptions_1.BaseException(channel+" is not set up. Did you forget to call initChannel?")},PostMessageBusSource.prototype._handleMessages=function(ev){for(var messages=ev.data,i=0;i<messages.length;i++)this._handleMessage(messages[i])},PostMessageBusSource.prototype._handleMessage=function(data){var channel=data.channel;if(collection_1.StringMapWrapper.contains(this._channels,channel)){var channelInfo=this._channels[channel];channelInfo.runInZone?this._zone.run(function(){channelInfo.emitter.emit(data.message)}):channelInfo.emitter.emit(data.message)}},PostMessageBusSource}();exports.PostMessageBusSource=PostMessageBusSource;var PostMessageBus=function(){function PostMessageBus(sink,source){this.sink=sink,this.source=source}return PostMessageBus.prototype.attachToZone=function(zone){this.source.attachToZone(zone),this.sink.attachToZone(zone)},PostMessageBus.prototype.initChannel=function(channel,runInZone){void 0===runInZone&&(runInZone=!0),this.source.initChannel(channel,runInZone),this.sink.initChannel(channel,runInZone)},PostMessageBus.prototype.from=function(channel){return this.source.from(channel)},PostMessageBus.prototype.to=function(channel){return this.sink.to(channel)},PostMessageBus.decorators=[{type:core_1.Injectable}],PostMessageBus.ctorParameters=[{type:PostMessageBusSink},{type:PostMessageBusSource}],PostMessageBus}();exports.PostMessageBus=PostMessageBus;var _Channel=function(){function _Channel(emitter,runInZone){this.emitter=emitter,this.runInZone=runInZone}return _Channel}()},{"../../facade/async":351,"../../facade/collection":354,"../../facade/exceptions":356,"@angular/core":167}],368:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),RenderStore=function(){function RenderStore(){this._nextIndex=0,this._lookupById=new Map,this._lookupByObject=new Map}return RenderStore.prototype.allocateId=function(){return this._nextIndex++},RenderStore.prototype.store=function(obj,id){this._lookupById.set(id,obj),this._lookupByObject.set(obj,id)},RenderStore.prototype.remove=function(obj){var index=this._lookupByObject.get(obj);this._lookupByObject["delete"](obj),this._lookupById["delete"](index)},RenderStore.prototype.deserialize=function(id){return null==id?null:this._lookupById.has(id)?this._lookupById.get(id):null},RenderStore.prototype.serialize=function(obj){return null==obj?null:this._lookupByObject.get(obj)},RenderStore.decorators=[{type:core_1.Injectable}],RenderStore.ctorParameters=[],RenderStore}();exports.RenderStore=RenderStore},{"@angular/core":167}],369:[function(require,module,exports){"use strict";var LocationType=function(){function LocationType(href,protocol,host,hostname,port,pathname,search,hash,origin){this.href=href,this.protocol=protocol,this.host=host,this.hostname=hostname,this.port=port,this.pathname=pathname,this.search=search,this.hash=hash,this.origin=origin}return LocationType}();exports.LocationType=LocationType},{}],370:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),core_private_1=require("../../../core_private"),exceptions_1=require("../../facade/exceptions"),lang_1=require("../../facade/lang"),render_store_1=require("./render_store"),serialized_types_1=require("./serialized_types");exports.PRIMITIVE=String;var Serializer=function(){function Serializer(_renderStore){this._renderStore=_renderStore}return Serializer.prototype.serialize=function(obj,type){var _this=this;if(!lang_1.isPresent(obj))return null;if(lang_1.isArray(obj))return obj.map(function(v){return _this.serialize(v,type)});if(type==exports.PRIMITIVE)return obj;if(type==RenderStoreObject)return this._renderStore.serialize(obj);if(type===core_1.RenderComponentType)return this._serializeRenderComponentType(obj);if(type===core_1.ViewEncapsulation)return lang_1.serializeEnum(obj);if(type===serialized_types_1.LocationType)return this._serializeLocation(obj);throw new exceptions_1.BaseException("No serializer for "+type.toString())},Serializer.prototype.deserialize=function(map,type,data){var _this=this;if(!lang_1.isPresent(map))return null;if(lang_1.isArray(map)){var obj=[];return map.forEach(function(val){return obj.push(_this.deserialize(val,type,data))}),obj}if(type==exports.PRIMITIVE)return map;if(type==RenderStoreObject)return this._renderStore.deserialize(map);if(type===core_1.RenderComponentType)return this._deserializeRenderComponentType(map);if(type===core_1.ViewEncapsulation)return core_private_1.VIEW_ENCAPSULATION_VALUES[map];if(type===serialized_types_1.LocationType)return this._deserializeLocation(map);throw new exceptions_1.BaseException("No deserializer for "+type.toString())},Serializer.prototype._serializeLocation=function(loc){return{href:loc.href,protocol:loc.protocol,host:loc.host,hostname:loc.hostname,port:loc.port,pathname:loc.pathname,search:loc.search,hash:loc.hash,origin:loc.origin}},Serializer.prototype._deserializeLocation=function(loc){return new serialized_types_1.LocationType(loc.href,loc.protocol,loc.host,loc.hostname,loc.port,loc.pathname,loc.search,loc.hash,loc.origin)},Serializer.prototype._serializeRenderComponentType=function(obj){return{id:obj.id,templateUrl:obj.templateUrl,slotCount:obj.slotCount,encapsulation:this.serialize(obj.encapsulation,core_1.ViewEncapsulation),styles:this.serialize(obj.styles,exports.PRIMITIVE)}},Serializer.prototype._deserializeRenderComponentType=function(map){return new core_1.RenderComponentType(map.id,map.templateUrl,map.slotCount,this.deserialize(map.encapsulation,core_1.ViewEncapsulation),this.deserialize(map.styles,exports.PRIMITIVE))},Serializer.decorators=[{type:core_1.Injectable}],Serializer.ctorParameters=[{type:render_store_1.RenderStore}],Serializer}();exports.Serializer=Serializer;var RenderStoreObject=function(){function RenderStoreObject(){}return RenderStoreObject}();exports.RenderStoreObject=RenderStoreObject},{"../../../core_private":325,"../../facade/exceptions":356,"../../facade/lang":357,"./render_store":368,"./serialized_types":369,"@angular/core":167}],371:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),async_1=require("../../facade/async"),collection_1=require("../../facade/collection"),lang_1=require("../../facade/lang"),message_bus_1=require("../shared/message_bus"),serializer_1=require("../shared/serializer"),ServiceMessageBrokerFactory=function(){function ServiceMessageBrokerFactory(){}return ServiceMessageBrokerFactory}();exports.ServiceMessageBrokerFactory=ServiceMessageBrokerFactory;var ServiceMessageBrokerFactory_=function(_super){function ServiceMessageBrokerFactory_(_messageBus,_serializer){_super.call(this),this._messageBus=_messageBus,this._serializer=_serializer}return __extends(ServiceMessageBrokerFactory_,_super),ServiceMessageBrokerFactory_.prototype.createMessageBroker=function(channel,runInZone){return void 0===runInZone&&(runInZone=!0),this._messageBus.initChannel(channel,runInZone),new ServiceMessageBroker_(this._messageBus,this._serializer,channel)},ServiceMessageBrokerFactory_.decorators=[{type:core_1.Injectable}],ServiceMessageBrokerFactory_.ctorParameters=[{type:message_bus_1.MessageBus},{type:serializer_1.Serializer}],ServiceMessageBrokerFactory_}(ServiceMessageBrokerFactory);exports.ServiceMessageBrokerFactory_=ServiceMessageBrokerFactory_;var ServiceMessageBroker=function(){function ServiceMessageBroker(){}return ServiceMessageBroker}();exports.ServiceMessageBroker=ServiceMessageBroker;var ServiceMessageBroker_=function(_super){function ServiceMessageBroker_(messageBus,_serializer,channel){var _this=this;_super.call(this),this._serializer=_serializer,this.channel=channel,this._methods=new collection_1.Map,this._sink=messageBus.to(channel);var source=messageBus.from(channel);async_1.ObservableWrapper.subscribe(source,function(message){return _this._handleMessage(message)})}return __extends(ServiceMessageBroker_,_super),ServiceMessageBroker_.prototype.registerMethod=function(methodName,signature,method,returnType){var _this=this;this._methods.set(methodName,function(message){for(var serializedArgs=message.args,numArgs=null===signature?0:signature.length,deserializedArgs=collection_1.ListWrapper.createFixedSize(numArgs),i=0;i<numArgs;i++){var serializedArg=serializedArgs[i];deserializedArgs[i]=_this._serializer.deserialize(serializedArg,signature[i])}var promise=lang_1.FunctionWrapper.apply(method,deserializedArgs);lang_1.isPresent(returnType)&&lang_1.isPresent(promise)&&_this._wrapWebWorkerPromise(message.id,promise,returnType)})},ServiceMessageBroker_.prototype._handleMessage=function(map){var message=new ReceivedMessage(map);this._methods.has(message.method)&&this._methods.get(message.method)(message)},ServiceMessageBroker_.prototype._wrapWebWorkerPromise=function(id,promise,type){var _this=this;async_1.PromiseWrapper.then(promise,function(result){async_1.ObservableWrapper.callEmit(_this._sink,{type:"result",value:_this._serializer.serialize(result,type),id:id})})},ServiceMessageBroker_}(ServiceMessageBroker);exports.ServiceMessageBroker_=ServiceMessageBroker_;var ReceivedMessage=function(){function ReceivedMessage(data){this.method=data.method,this.args=data.args,this.id=data.id,this.type=data.type}return ReceivedMessage}();exports.ReceivedMessage=ReceivedMessage},{"../../facade/async":351,"../../facade/collection":354,"../../facade/lang":357,"../shared/message_bus":365,"../shared/serializer":370,"@angular/core":167}],372:[function(require,module,exports){"use strict";var async_1=require("../../facade/async"),exceptions_1=require("../../facade/exceptions"),serializer_1=require("../shared/serializer"),event_serializer_1=require("./event_serializer"),EventDispatcher=function(){function EventDispatcher(_sink,_serializer){this._sink=_sink,this._serializer=_serializer}return EventDispatcher.prototype.dispatchRenderEvent=function(element,eventTarget,eventName,event){var serializedEvent;switch(event.type){case"click":case"mouseup":case"mousedown":case"dblclick":case"contextmenu":case"mouseenter":case"mouseleave":case"mousemove":case"mouseout":case"mouseover":case"show":serializedEvent=event_serializer_1.serializeMouseEvent(event);break;case"keydown":case"keypress":case"keyup":serializedEvent=event_serializer_1.serializeKeyboardEvent(event);break;case"input":case"change":case"blur":serializedEvent=event_serializer_1.serializeEventWithTarget(event);break;case"abort":case"afterprint":case"beforeprint":case"cached":case"canplay":case"canplaythrough":case"chargingchange":case"chargingtimechange":case"close":case"dischargingtimechange":case"DOMContentLoaded":case"downloading":case"durationchange":case"emptied":case"ended":case"error":case"fullscreenchange":case"fullscreenerror":case"invalid":case"languagechange":case"levelfchange":case"loadeddata":case"loadedmetadata":case"obsolete":case"offline":case"online":case"open":case"orientatoinchange":case"pause":case"pointerlockchange":case"pointerlockerror":case"play":case"playing":case"ratechange":case"readystatechange":case"reset":case"scroll":case"seeked":case"seeking":case"stalled":case"submit":case"success":case"suspend":case"timeupdate":case"updateready":case"visibilitychange":case"volumechange":case"waiting":serializedEvent=event_serializer_1.serializeGenericEvent(event);break;case"transitionend":serializedEvent=event_serializer_1.serializeTransitionEvent(event);break;default:throw new exceptions_1.BaseException(eventName+" not supported on WebWorkers")}return async_1.ObservableWrapper.callEmit(this._sink,{element:this._serializer.serialize(element,serializer_1.RenderStoreObject),eventName:eventName,eventTarget:eventTarget,event:serializedEvent}),!1},EventDispatcher}();exports.EventDispatcher=EventDispatcher},{"../../facade/async":351,"../../facade/exceptions":356,"../shared/serializer":370,"./event_serializer":373}],373:[function(require,module,exports){"use strict";function serializeGenericEvent(e){return serializeEvent(e,EVENT_PROPERTIES)}function serializeEventWithTarget(e){var serializedEvent=serializeEvent(e,EVENT_PROPERTIES);return addTarget(e,serializedEvent)}function serializeMouseEvent(e){return serializeEvent(e,MOUSE_EVENT_PROPERTIES)}function serializeKeyboardEvent(e){var serializedEvent=serializeEvent(e,KEYBOARD_EVENT_PROPERTIES);return addTarget(e,serializedEvent)}function serializeTransitionEvent(e){var serializedEvent=serializeEvent(e,TRANSITION_EVENT_PROPERTIES);return addTarget(e,serializedEvent)}function addTarget(e,serializedEvent){if(NODES_WITH_VALUE.has(e.target.tagName.toLowerCase())){var target=e.target;serializedEvent.target={value:target.value},lang_1.isPresent(target.files)&&(serializedEvent.target.files=target.files)}return serializedEvent}function serializeEvent(e,properties){for(var serialized={},i=0;i<properties.length;i++){var prop=properties[i];serialized[prop]=e[prop]}return serialized}var collection_1=require("../../facade/collection"),lang_1=require("../../facade/lang"),MOUSE_EVENT_PROPERTIES=["altKey","button","clientX","clientY","metaKey","movementX","movementY","offsetX","offsetY","region","screenX","screenY","shiftKey"],KEYBOARD_EVENT_PROPERTIES=["altkey","charCode","code","ctrlKey","isComposing","key","keyCode","location","metaKey","repeat","shiftKey","which"],TRANSITION_EVENT_PROPERTIES=["propertyName","elapsedTime","pseudoElement"],EVENT_PROPERTIES=["type","bubbles","cancelable"],NODES_WITH_VALUE=new collection_1.Set(["input","select","option","button","li","meter","progress","param","textarea"]);
exports.serializeGenericEvent=serializeGenericEvent,exports.serializeEventWithTarget=serializeEventWithTarget,exports.serializeMouseEvent=serializeMouseEvent,exports.serializeKeyboardEvent=serializeKeyboardEvent,exports.serializeTransitionEvent=serializeTransitionEvent},{"../../facade/collection":354,"../../facade/lang":357}],374:[function(require,module,exports){"use strict";function initUiLocation(injector){return function(){var zone=injector.get(core_1.NgZone);zone.runGuarded(function(){return injector.get(platform_location_1.MessageBasedPlatformLocation).start()})}}var core_1=require("@angular/core"),browser_platform_location_1=require("../../browser/location/browser_platform_location"),platform_location_1=require("./platform_location");exports.WORKER_UI_LOCATION_PROVIDERS=[platform_location_1.MessageBasedPlatformLocation,browser_platform_location_1.BrowserPlatformLocation,{provide:core_1.APP_INITIALIZER,useFactory:initUiLocation,multi:!0,deps:[core_1.Injector]}]},{"../../browser/location/browser_platform_location":331,"./platform_location":375,"@angular/core":167}],375:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),browser_platform_location_1=require("../../browser/location/browser_platform_location"),async_1=require("../../facade/async"),lang_1=require("../../facade/lang"),message_bus_1=require("../shared/message_bus"),messaging_api_1=require("../shared/messaging_api"),serialized_types_1=require("../shared/serialized_types"),serializer_1=require("../shared/serializer"),service_message_broker_1=require("../shared/service_message_broker"),MessageBasedPlatformLocation=function(){function MessageBasedPlatformLocation(_brokerFactory,_platformLocation,bus,_serializer){this._brokerFactory=_brokerFactory,this._platformLocation=_platformLocation,this._serializer=_serializer,this._platformLocation.onPopState(lang_1.FunctionWrapper.bind(this._sendUrlChangeEvent,this)),this._platformLocation.onHashChange(lang_1.FunctionWrapper.bind(this._sendUrlChangeEvent,this)),this._broker=this._brokerFactory.createMessageBroker(messaging_api_1.ROUTER_CHANNEL),this._channelSink=bus.to(messaging_api_1.ROUTER_CHANNEL)}return MessageBasedPlatformLocation.prototype.start=function(){this._broker.registerMethod("getLocation",null,lang_1.FunctionWrapper.bind(this._getLocation,this),serialized_types_1.LocationType),this._broker.registerMethod("setPathname",[serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._setPathname,this)),this._broker.registerMethod("pushState",[serializer_1.PRIMITIVE,serializer_1.PRIMITIVE,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._platformLocation.pushState,this._platformLocation)),this._broker.registerMethod("replaceState",[serializer_1.PRIMITIVE,serializer_1.PRIMITIVE,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._platformLocation.replaceState,this._platformLocation)),this._broker.registerMethod("forward",null,lang_1.FunctionWrapper.bind(this._platformLocation.forward,this._platformLocation)),this._broker.registerMethod("back",null,lang_1.FunctionWrapper.bind(this._platformLocation.back,this._platformLocation))},MessageBasedPlatformLocation.prototype._getLocation=function(){return async_1.PromiseWrapper.resolve(this._platformLocation.location)},MessageBasedPlatformLocation.prototype._sendUrlChangeEvent=function(e){var loc=this._serializer.serialize(this._platformLocation.location,serialized_types_1.LocationType),serializedEvent={type:e.type};async_1.ObservableWrapper.callEmit(this._channelSink,{event:serializedEvent,location:loc})},MessageBasedPlatformLocation.prototype._setPathname=function(pathname){this._platformLocation.pathname=pathname},MessageBasedPlatformLocation.decorators=[{type:core_1.Injectable}],MessageBasedPlatformLocation.ctorParameters=[{type:service_message_broker_1.ServiceMessageBrokerFactory},{type:browser_platform_location_1.BrowserPlatformLocation},{type:message_bus_1.MessageBus},{type:serializer_1.Serializer}],MessageBasedPlatformLocation}();exports.MessageBasedPlatformLocation=MessageBasedPlatformLocation},{"../../browser/location/browser_platform_location":331,"../../facade/async":351,"../../facade/lang":357,"../shared/message_bus":365,"../shared/messaging_api":366,"../shared/serialized_types":369,"../shared/serializer":370,"../shared/service_message_broker":371,"@angular/core":167}],376:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),lang_1=require("../../facade/lang"),message_bus_1=require("../shared/message_bus"),messaging_api_1=require("../shared/messaging_api"),render_store_1=require("../shared/render_store"),serializer_1=require("../shared/serializer"),service_message_broker_1=require("../shared/service_message_broker"),event_dispatcher_1=require("../ui/event_dispatcher"),MessageBasedRenderer=function(){function MessageBasedRenderer(_brokerFactory,_bus,_serializer,_renderStore,_rootRenderer){this._brokerFactory=_brokerFactory,this._bus=_bus,this._serializer=_serializer,this._renderStore=_renderStore,this._rootRenderer=_rootRenderer}return MessageBasedRenderer.prototype.start=function(){var broker=this._brokerFactory.createMessageBroker(messaging_api_1.RENDERER_CHANNEL);this._bus.initChannel(messaging_api_1.EVENT_CHANNEL),this._eventDispatcher=new event_dispatcher_1.EventDispatcher(this._bus.to(messaging_api_1.EVENT_CHANNEL),this._serializer),broker.registerMethod("renderComponent",[core_1.RenderComponentType,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._renderComponent,this)),broker.registerMethod("selectRootElement",[serializer_1.RenderStoreObject,serializer_1.PRIMITIVE,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._selectRootElement,this)),broker.registerMethod("createElement",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject,serializer_1.PRIMITIVE,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._createElement,this)),broker.registerMethod("createViewRoot",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._createViewRoot,this)),broker.registerMethod("createTemplateAnchor",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._createTemplateAnchor,this)),broker.registerMethod("createText",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject,serializer_1.PRIMITIVE,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._createText,this)),broker.registerMethod("projectNodes",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject,serializer_1.RenderStoreObject],lang_1.FunctionWrapper.bind(this._projectNodes,this)),broker.registerMethod("attachViewAfter",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject,serializer_1.RenderStoreObject],lang_1.FunctionWrapper.bind(this._attachViewAfter,this)),broker.registerMethod("detachView",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject],lang_1.FunctionWrapper.bind(this._detachView,this)),broker.registerMethod("destroyView",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject,serializer_1.RenderStoreObject],lang_1.FunctionWrapper.bind(this._destroyView,this)),broker.registerMethod("setElementProperty",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject,serializer_1.PRIMITIVE,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._setElementProperty,this)),broker.registerMethod("setElementAttribute",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject,serializer_1.PRIMITIVE,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._setElementAttribute,this)),broker.registerMethod("setBindingDebugInfo",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject,serializer_1.PRIMITIVE,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._setBindingDebugInfo,this)),broker.registerMethod("setElementClass",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject,serializer_1.PRIMITIVE,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._setElementClass,this)),broker.registerMethod("setElementStyle",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject,serializer_1.PRIMITIVE,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._setElementStyle,this)),broker.registerMethod("invokeElementMethod",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject,serializer_1.PRIMITIVE,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._invokeElementMethod,this)),broker.registerMethod("setText",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._setText,this)),broker.registerMethod("listen",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject,serializer_1.PRIMITIVE,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._listen,this)),broker.registerMethod("listenGlobal",[serializer_1.RenderStoreObject,serializer_1.PRIMITIVE,serializer_1.PRIMITIVE,serializer_1.PRIMITIVE],lang_1.FunctionWrapper.bind(this._listenGlobal,this)),broker.registerMethod("listenDone",[serializer_1.RenderStoreObject,serializer_1.RenderStoreObject],lang_1.FunctionWrapper.bind(this._listenDone,this))},MessageBasedRenderer.prototype._renderComponent=function(renderComponentType,rendererId){var renderer=this._rootRenderer.renderComponent(renderComponentType);this._renderStore.store(renderer,rendererId)},MessageBasedRenderer.prototype._selectRootElement=function(renderer,selector,elId){this._renderStore.store(renderer.selectRootElement(selector,null),elId)},MessageBasedRenderer.prototype._createElement=function(renderer,parentElement,name,elId){this._renderStore.store(renderer.createElement(parentElement,name,null),elId)},MessageBasedRenderer.prototype._createViewRoot=function(renderer,hostElement,elId){var viewRoot=renderer.createViewRoot(hostElement);this._renderStore.serialize(hostElement)!==elId&&this._renderStore.store(viewRoot,elId)},MessageBasedRenderer.prototype._createTemplateAnchor=function(renderer,parentElement,elId){this._renderStore.store(renderer.createTemplateAnchor(parentElement,null),elId)},MessageBasedRenderer.prototype._createText=function(renderer,parentElement,value,elId){this._renderStore.store(renderer.createText(parentElement,value,null),elId)},MessageBasedRenderer.prototype._projectNodes=function(renderer,parentElement,nodes){renderer.projectNodes(parentElement,nodes)},MessageBasedRenderer.prototype._attachViewAfter=function(renderer,node,viewRootNodes){renderer.attachViewAfter(node,viewRootNodes)},MessageBasedRenderer.prototype._detachView=function(renderer,viewRootNodes){renderer.detachView(viewRootNodes)},MessageBasedRenderer.prototype._destroyView=function(renderer,hostElement,viewAllNodes){renderer.destroyView(hostElement,viewAllNodes);for(var i=0;i<viewAllNodes.length;i++)this._renderStore.remove(viewAllNodes[i])},MessageBasedRenderer.prototype._setElementProperty=function(renderer,renderElement,propertyName,propertyValue){renderer.setElementProperty(renderElement,propertyName,propertyValue)},MessageBasedRenderer.prototype._setElementAttribute=function(renderer,renderElement,attributeName,attributeValue){renderer.setElementAttribute(renderElement,attributeName,attributeValue)},MessageBasedRenderer.prototype._setBindingDebugInfo=function(renderer,renderElement,propertyName,propertyValue){renderer.setBindingDebugInfo(renderElement,propertyName,propertyValue)},MessageBasedRenderer.prototype._setElementClass=function(renderer,renderElement,className,isAdd){renderer.setElementClass(renderElement,className,isAdd)},MessageBasedRenderer.prototype._setElementStyle=function(renderer,renderElement,styleName,styleValue){renderer.setElementStyle(renderElement,styleName,styleValue)},MessageBasedRenderer.prototype._invokeElementMethod=function(renderer,renderElement,methodName,args){renderer.invokeElementMethod(renderElement,methodName,args)},MessageBasedRenderer.prototype._setText=function(renderer,renderNode,text){renderer.setText(renderNode,text)},MessageBasedRenderer.prototype._listen=function(renderer,renderElement,eventName,unlistenId){var _this=this,unregisterCallback=renderer.listen(renderElement,eventName,function(event){return _this._eventDispatcher.dispatchRenderEvent(renderElement,null,eventName,event)});this._renderStore.store(unregisterCallback,unlistenId)},MessageBasedRenderer.prototype._listenGlobal=function(renderer,eventTarget,eventName,unlistenId){var _this=this,unregisterCallback=renderer.listenGlobal(eventTarget,eventName,function(event){return _this._eventDispatcher.dispatchRenderEvent(null,eventTarget,eventName,event)});this._renderStore.store(unregisterCallback,unlistenId)},MessageBasedRenderer.prototype._listenDone=function(renderer,unlistenCallback){unlistenCallback()},MessageBasedRenderer.decorators=[{type:core_1.Injectable}],MessageBasedRenderer.ctorParameters=[{type:service_message_broker_1.ServiceMessageBrokerFactory},{type:message_bus_1.MessageBus},{type:serializer_1.Serializer},{type:render_store_1.RenderStore},{type:core_1.RootRenderer}],MessageBasedRenderer}();exports.MessageBasedRenderer=MessageBasedRenderer},{"../../facade/lang":357,"../shared/message_bus":365,"../shared/messaging_api":366,"../shared/render_store":368,"../shared/serializer":370,"../shared/service_message_broker":371,"../ui/event_dispatcher":372,"@angular/core":167}],377:[function(require,module,exports){"use strict";function deserializeGenericEvent(serializedEvent){return serializedEvent}exports.deserializeGenericEvent=deserializeGenericEvent},{}],378:[function(require,module,exports){"use strict";function appInitFnFactory(platformLocation,zone){return function(){return zone.runGuarded(function(){return platformLocation.init()})}}var common_1=require("@angular/common"),core_1=require("@angular/core"),platform_location_1=require("./platform_location");exports.WORKER_APP_LOCATION_PROVIDERS=[{provide:common_1.PlatformLocation,useClass:platform_location_1.WebWorkerPlatformLocation},{provide:core_1.APP_INITIALIZER,useFactory:appInitFnFactory,multi:!0,deps:[common_1.PlatformLocation,core_1.NgZone]}]},{"./platform_location":379,"@angular/common":20,"@angular/core":167}],379:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},common_1=require("@angular/common"),core_1=require("@angular/core"),async_1=require("../../facade/async"),collection_1=require("../../facade/collection"),exceptions_1=require("../../facade/exceptions"),lang_1=require("../../facade/lang"),client_message_broker_1=require("../shared/client_message_broker"),message_bus_1=require("../shared/message_bus"),messaging_api_1=require("../shared/messaging_api"),serialized_types_1=require("../shared/serialized_types"),serializer_1=require("../shared/serializer"),event_deserializer_1=require("./event_deserializer"),WebWorkerPlatformLocation=function(_super){function WebWorkerPlatformLocation(brokerFactory,bus,_serializer){var _this=this;_super.call(this),this._serializer=_serializer,this._popStateListeners=[],this._hashChangeListeners=[],this._location=null,this._broker=brokerFactory.createMessageBroker(messaging_api_1.ROUTER_CHANNEL),this._channelSource=bus.from(messaging_api_1.ROUTER_CHANNEL),async_1.ObservableWrapper.subscribe(this._channelSource,function(msg){var listeners=null;if(collection_1.StringMapWrapper.contains(msg,"event")){var type=msg.event.type;if(lang_1.StringWrapper.equals(type,"popstate")?listeners=_this._popStateListeners:lang_1.StringWrapper.equals(type,"hashchange")&&(listeners=_this._hashChangeListeners),null!==listeners){var e_1=event_deserializer_1.deserializeGenericEvent(msg.event);_this._location=_this._serializer.deserialize(msg.location,serialized_types_1.LocationType),listeners.forEach(function(fn){return fn(e_1)})}}})}return __extends(WebWorkerPlatformLocation,_super),WebWorkerPlatformLocation.prototype.init=function(){var _this=this,args=new client_message_broker_1.UiArguments("getLocation"),locationPromise=this._broker.runOnService(args,serialized_types_1.LocationType);return async_1.PromiseWrapper.then(locationPromise,function(val){return _this._location=val,!0},function(err){throw new exceptions_1.BaseException(err)})},WebWorkerPlatformLocation.prototype.getBaseHrefFromDOM=function(){throw new exceptions_1.BaseException("Attempt to get base href from DOM from WebWorker. You must either provide a value for the APP_BASE_HREF token through DI or use the hash location strategy.")},WebWorkerPlatformLocation.prototype.onPopState=function(fn){this._popStateListeners.push(fn)},WebWorkerPlatformLocation.prototype.onHashChange=function(fn){this._hashChangeListeners.push(fn)},Object.defineProperty(WebWorkerPlatformLocation.prototype,"pathname",{get:function(){return null===this._location?null:this._location.pathname},set:function(newPath){if(null===this._location)throw new exceptions_1.BaseException("Attempt to set pathname before value is obtained from UI");this._location.pathname=newPath;var fnArgs=[new client_message_broker_1.FnArg(newPath,serializer_1.PRIMITIVE)],args=new client_message_broker_1.UiArguments("setPathname",fnArgs);this._broker.runOnService(args,null)},enumerable:!0,configurable:!0}),Object.defineProperty(WebWorkerPlatformLocation.prototype,"search",{get:function(){return null===this._location?null:this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(WebWorkerPlatformLocation.prototype,"hash",{get:function(){return null===this._location?null:this._location.hash},enumerable:!0,configurable:!0}),WebWorkerPlatformLocation.prototype.pushState=function(state,title,url){var fnArgs=[new client_message_broker_1.FnArg(state,serializer_1.PRIMITIVE),new client_message_broker_1.FnArg(title,serializer_1.PRIMITIVE),new client_message_broker_1.FnArg(url,serializer_1.PRIMITIVE)],args=new client_message_broker_1.UiArguments("pushState",fnArgs);this._broker.runOnService(args,null)},WebWorkerPlatformLocation.prototype.replaceState=function(state,title,url){var fnArgs=[new client_message_broker_1.FnArg(state,serializer_1.PRIMITIVE),new client_message_broker_1.FnArg(title,serializer_1.PRIMITIVE),new client_message_broker_1.FnArg(url,serializer_1.PRIMITIVE)],args=new client_message_broker_1.UiArguments("replaceState",fnArgs);this._broker.runOnService(args,null)},WebWorkerPlatformLocation.prototype.forward=function(){var args=new client_message_broker_1.UiArguments("forward");this._broker.runOnService(args,null)},WebWorkerPlatformLocation.prototype.back=function(){var args=new client_message_broker_1.UiArguments("back");this._broker.runOnService(args,null)},WebWorkerPlatformLocation.decorators=[{type:core_1.Injectable}],WebWorkerPlatformLocation.ctorParameters=[{type:client_message_broker_1.ClientMessageBrokerFactory},{type:message_bus_1.MessageBus},{type:serializer_1.Serializer}],WebWorkerPlatformLocation}(common_1.PlatformLocation);exports.WebWorkerPlatformLocation=WebWorkerPlatformLocation},{"../../facade/async":351,"../../facade/collection":354,"../../facade/exceptions":356,"../../facade/lang":357,"../shared/client_message_broker":364,"../shared/message_bus":365,"../shared/messaging_api":366,"../shared/serialized_types":369,"../shared/serializer":370,"./event_deserializer":377,"@angular/common":20,"@angular/core":167}],380:[function(require,module,exports){"use strict";function eventNameWithTarget(target,eventName){return target+":"+eventName}var core_1=require("@angular/core"),async_1=require("../../facade/async"),collection_1=require("../../facade/collection"),lang_1=require("../../facade/lang"),client_message_broker_1=require("../shared/client_message_broker"),message_bus_1=require("../shared/message_bus"),messaging_api_1=require("../shared/messaging_api"),render_store_1=require("../shared/render_store"),serializer_1=require("../shared/serializer"),event_deserializer_1=require("./event_deserializer"),WebWorkerRootRenderer=function(){function WebWorkerRootRenderer(messageBrokerFactory,bus,_serializer,_renderStore){var _this=this;this._serializer=_serializer,this._renderStore=_renderStore,this.globalEvents=new NamedEventEmitter,this._componentRenderers=new Map,this._messageBroker=messageBrokerFactory.createMessageBroker(messaging_api_1.RENDERER_CHANNEL),bus.initChannel(messaging_api_1.EVENT_CHANNEL);var source=bus.from(messaging_api_1.EVENT_CHANNEL);async_1.ObservableWrapper.subscribe(source,function(message){return _this._dispatchEvent(message)})}return WebWorkerRootRenderer.prototype._dispatchEvent=function(message){var eventName=message.eventName,target=message.eventTarget,event=event_deserializer_1.deserializeGenericEvent(message.event);if(lang_1.isPresent(target))this.globalEvents.dispatchEvent(eventNameWithTarget(target,eventName),event);else{var element=this._serializer.deserialize(message.element,serializer_1.RenderStoreObject);element.events.dispatchEvent(eventName,event)}},WebWorkerRootRenderer.prototype.renderComponent=function(componentType){var result=this._componentRenderers.get(componentType.id);if(lang_1.isBlank(result)){result=new WebWorkerRenderer(this,componentType),this._componentRenderers.set(componentType.id,result);var id=this._renderStore.allocateId();this._renderStore.store(result,id),this.runOnService("renderComponent",[new client_message_broker_1.FnArg(componentType,core_1.RenderComponentType),new client_message_broker_1.FnArg(result,serializer_1.RenderStoreObject)])}return result},WebWorkerRootRenderer.prototype.runOnService=function(fnName,fnArgs){var args=new client_message_broker_1.UiArguments(fnName,fnArgs);this._messageBroker.runOnService(args,null)},WebWorkerRootRenderer.prototype.allocateNode=function(){var result=new WebWorkerRenderNode,id=this._renderStore.allocateId();return this._renderStore.store(result,id),result},WebWorkerRootRenderer.prototype.allocateId=function(){return this._renderStore.allocateId()},WebWorkerRootRenderer.prototype.destroyNodes=function(nodes){for(var i=0;i<nodes.length;i++)this._renderStore.remove(nodes[i])},WebWorkerRootRenderer.decorators=[{type:core_1.Injectable}],WebWorkerRootRenderer.ctorParameters=[{type:client_message_broker_1.ClientMessageBrokerFactory},{type:message_bus_1.MessageBus},{type:serializer_1.Serializer},{type:render_store_1.RenderStore}],WebWorkerRootRenderer}();exports.WebWorkerRootRenderer=WebWorkerRootRenderer;var WebWorkerRenderer=function(){function WebWorkerRenderer(_rootRenderer,_componentType){this._rootRenderer=_rootRenderer,this._componentType=_componentType}return WebWorkerRenderer.prototype._runOnService=function(fnName,fnArgs){var fnArgsWithRenderer=[new client_message_broker_1.FnArg(this,serializer_1.RenderStoreObject)].concat(fnArgs);this._rootRenderer.runOnService(fnName,fnArgsWithRenderer)},WebWorkerRenderer.prototype.selectRootElement=function(selectorOrNode,debugInfo){var node=this._rootRenderer.allocateNode();return this._runOnService("selectRootElement",[new client_message_broker_1.FnArg(selectorOrNode,null),new client_message_broker_1.FnArg(node,serializer_1.RenderStoreObject)]),node},WebWorkerRenderer.prototype.createElement=function(parentElement,name,debugInfo){var node=this._rootRenderer.allocateNode();return this._runOnService("createElement",[new client_message_broker_1.FnArg(parentElement,serializer_1.RenderStoreObject),new client_message_broker_1.FnArg(name,null),new client_message_broker_1.FnArg(node,serializer_1.RenderStoreObject)]),node},WebWorkerRenderer.prototype.createViewRoot=function(hostElement){var viewRoot=this._componentType.encapsulation===core_1.ViewEncapsulation.Native?this._rootRenderer.allocateNode():hostElement;return this._runOnService("createViewRoot",[new client_message_broker_1.FnArg(hostElement,serializer_1.RenderStoreObject),new client_message_broker_1.FnArg(viewRoot,serializer_1.RenderStoreObject)]),viewRoot},WebWorkerRenderer.prototype.createTemplateAnchor=function(parentElement,debugInfo){var node=this._rootRenderer.allocateNode();return this._runOnService("createTemplateAnchor",[new client_message_broker_1.FnArg(parentElement,serializer_1.RenderStoreObject),new client_message_broker_1.FnArg(node,serializer_1.RenderStoreObject)]),node},WebWorkerRenderer.prototype.createText=function(parentElement,value,debugInfo){var node=this._rootRenderer.allocateNode();return this._runOnService("createText",[new client_message_broker_1.FnArg(parentElement,serializer_1.RenderStoreObject),new client_message_broker_1.FnArg(value,null),new client_message_broker_1.FnArg(node,serializer_1.RenderStoreObject)]),node},WebWorkerRenderer.prototype.projectNodes=function(parentElement,nodes){this._runOnService("projectNodes",[new client_message_broker_1.FnArg(parentElement,serializer_1.RenderStoreObject),new client_message_broker_1.FnArg(nodes,serializer_1.RenderStoreObject)])},WebWorkerRenderer.prototype.attachViewAfter=function(node,viewRootNodes){this._runOnService("attachViewAfter",[new client_message_broker_1.FnArg(node,serializer_1.RenderStoreObject),new client_message_broker_1.FnArg(viewRootNodes,serializer_1.RenderStoreObject)])},WebWorkerRenderer.prototype.detachView=function(viewRootNodes){this._runOnService("detachView",[new client_message_broker_1.FnArg(viewRootNodes,serializer_1.RenderStoreObject)])},WebWorkerRenderer.prototype.destroyView=function(hostElement,viewAllNodes){this._runOnService("destroyView",[new client_message_broker_1.FnArg(hostElement,serializer_1.RenderStoreObject),new client_message_broker_1.FnArg(viewAllNodes,serializer_1.RenderStoreObject)]),this._rootRenderer.destroyNodes(viewAllNodes)},WebWorkerRenderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){this._runOnService("setElementProperty",[new client_message_broker_1.FnArg(renderElement,serializer_1.RenderStoreObject),new client_message_broker_1.FnArg(propertyName,null),new client_message_broker_1.FnArg(propertyValue,null)])},WebWorkerRenderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){this._runOnService("setElementAttribute",[new client_message_broker_1.FnArg(renderElement,serializer_1.RenderStoreObject),new client_message_broker_1.FnArg(attributeName,null),new client_message_broker_1.FnArg(attributeValue,null)])},WebWorkerRenderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){this._runOnService("setBindingDebugInfo",[new client_message_broker_1.FnArg(renderElement,serializer_1.RenderStoreObject),new client_message_broker_1.FnArg(propertyName,null),new client_message_broker_1.FnArg(propertyValue,null)])},WebWorkerRenderer.prototype.setElementClass=function(renderElement,className,isAdd){this._runOnService("setElementClass",[new client_message_broker_1.FnArg(renderElement,serializer_1.RenderStoreObject),new client_message_broker_1.FnArg(className,null),new client_message_broker_1.FnArg(isAdd,null)])},WebWorkerRenderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){this._runOnService("setElementStyle",[new client_message_broker_1.FnArg(renderElement,serializer_1.RenderStoreObject),new client_message_broker_1.FnArg(styleName,null),new client_message_broker_1.FnArg(styleValue,null)])},WebWorkerRenderer.prototype.invokeElementMethod=function(renderElement,methodName,args){this._runOnService("invokeElementMethod",[new client_message_broker_1.FnArg(renderElement,serializer_1.RenderStoreObject),new client_message_broker_1.FnArg(methodName,null),new client_message_broker_1.FnArg(args,null)])},WebWorkerRenderer.prototype.setText=function(renderNode,text){this._runOnService("setText",[new client_message_broker_1.FnArg(renderNode,serializer_1.RenderStoreObject),new client_message_broker_1.FnArg(text,null)])},WebWorkerRenderer.prototype.listen=function(renderElement,name,callback){var _this=this;renderElement.events.listen(name,callback);var unlistenCallbackId=this._rootRenderer.allocateId();return this._runOnService("listen",[new client_message_broker_1.FnArg(renderElement,serializer_1.RenderStoreObject),new client_message_broker_1.FnArg(name,null),new client_message_broker_1.FnArg(unlistenCallbackId,null)]),function(){renderElement.events.unlisten(name,callback),_this._runOnService("listenDone",[new client_message_broker_1.FnArg(unlistenCallbackId,null)])}},WebWorkerRenderer.prototype.listenGlobal=function(target,name,callback){var _this=this;this._rootRenderer.globalEvents.listen(eventNameWithTarget(target,name),callback);var unlistenCallbackId=this._rootRenderer.allocateId();return this._runOnService("listenGlobal",[new client_message_broker_1.FnArg(target,null),new client_message_broker_1.FnArg(name,null),new client_message_broker_1.FnArg(unlistenCallbackId,null)]),function(){_this._rootRenderer.globalEvents.unlisten(eventNameWithTarget(target,name),callback),_this._runOnService("listenDone",[new client_message_broker_1.FnArg(unlistenCallbackId,null)])}},WebWorkerRenderer.prototype.animate=function(element,startingStyles,keyframes,duration,delay,easing){return null},WebWorkerRenderer}();exports.WebWorkerRenderer=WebWorkerRenderer;var NamedEventEmitter=function(){function NamedEventEmitter(){}return NamedEventEmitter.prototype._getListeners=function(eventName){lang_1.isBlank(this._listeners)&&(this._listeners=new Map);var listeners=this._listeners.get(eventName);return lang_1.isBlank(listeners)&&(listeners=[],this._listeners.set(eventName,listeners)),listeners},NamedEventEmitter.prototype.listen=function(eventName,callback){this._getListeners(eventName).push(callback)},NamedEventEmitter.prototype.unlisten=function(eventName,callback){collection_1.ListWrapper.remove(this._getListeners(eventName),callback)},NamedEventEmitter.prototype.dispatchEvent=function(eventName,event){for(var listeners=this._getListeners(eventName),i=0;i<listeners.length;i++)listeners[i](event)},NamedEventEmitter}();exports.NamedEventEmitter=NamedEventEmitter;var WebWorkerRenderNode=function(){function WebWorkerRenderNode(){this.events=new NamedEventEmitter}return WebWorkerRenderNode}();exports.WebWorkerRenderNode=WebWorkerRenderNode},{"../../facade/async":351,"../../facade/collection":354,"../../facade/lang":357,"../shared/client_message_broker":364,"../shared/message_bus":365,"../shared/messaging_api":366,"../shared/render_store":368,"../shared/serializer":370,"./event_deserializer":377,"@angular/core":167}],381:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},dom_adapter_1=require("../../dom/dom_adapter"),WorkerDomAdapter=function(_super){function WorkerDomAdapter(){_super.apply(this,arguments)}return __extends(WorkerDomAdapter,_super),WorkerDomAdapter.makeCurrent=function(){dom_adapter_1.setRootDomAdapter(new WorkerDomAdapter)},WorkerDomAdapter.prototype.logError=function(error){console.error?console.error(error):console.log(error)},WorkerDomAdapter.prototype.log=function(error){console.log(error)},WorkerDomAdapter.prototype.logGroup=function(error){console.group?(console.group(error),this.logError(error)):console.log(error)},WorkerDomAdapter.prototype.logGroupEnd=function(){console.groupEnd&&console.groupEnd()},WorkerDomAdapter.prototype.hasProperty=function(element,name){throw"not implemented"},WorkerDomAdapter.prototype.setProperty=function(el,name,value){throw"not implemented"},WorkerDomAdapter.prototype.getProperty=function(el,name){throw"not implemented"},WorkerDomAdapter.prototype.invoke=function(el,methodName,args){throw"not implemented"},WorkerDomAdapter.prototype.getXHR=function(){throw"not implemented"},Object.defineProperty(WorkerDomAdapter.prototype,"attrToPropMap",{get:function(){throw"not implemented"},set:function(value){throw"not implemented"},enumerable:!0,configurable:!0}),WorkerDomAdapter.prototype.parse=function(templateHtml){throw"not implemented"},WorkerDomAdapter.prototype.query=function(selector){
throw"not implemented"},WorkerDomAdapter.prototype.querySelector=function(el,selector){throw"not implemented"},WorkerDomAdapter.prototype.querySelectorAll=function(el,selector){throw"not implemented"},WorkerDomAdapter.prototype.on=function(el,evt,listener){throw"not implemented"},WorkerDomAdapter.prototype.onAndCancel=function(el,evt,listener){throw"not implemented"},WorkerDomAdapter.prototype.dispatchEvent=function(el,evt){throw"not implemented"},WorkerDomAdapter.prototype.createMouseEvent=function(eventType){throw"not implemented"},WorkerDomAdapter.prototype.createEvent=function(eventType){throw"not implemented"},WorkerDomAdapter.prototype.preventDefault=function(evt){throw"not implemented"},WorkerDomAdapter.prototype.isPrevented=function(evt){throw"not implemented"},WorkerDomAdapter.prototype.getInnerHTML=function(el){throw"not implemented"},WorkerDomAdapter.prototype.getTemplateContent=function(el){throw"not implemented"},WorkerDomAdapter.prototype.getOuterHTML=function(el){throw"not implemented"},WorkerDomAdapter.prototype.nodeName=function(node){throw"not implemented"},WorkerDomAdapter.prototype.nodeValue=function(node){throw"not implemented"},WorkerDomAdapter.prototype.type=function(node){throw"not implemented"},WorkerDomAdapter.prototype.content=function(node){throw"not implemented"},WorkerDomAdapter.prototype.firstChild=function(el){throw"not implemented"},WorkerDomAdapter.prototype.nextSibling=function(el){throw"not implemented"},WorkerDomAdapter.prototype.parentElement=function(el){throw"not implemented"},WorkerDomAdapter.prototype.childNodes=function(el){throw"not implemented"},WorkerDomAdapter.prototype.childNodesAsList=function(el){throw"not implemented"},WorkerDomAdapter.prototype.clearNodes=function(el){throw"not implemented"},WorkerDomAdapter.prototype.appendChild=function(el,node){throw"not implemented"},WorkerDomAdapter.prototype.removeChild=function(el,node){throw"not implemented"},WorkerDomAdapter.prototype.replaceChild=function(el,newNode,oldNode){throw"not implemented"},WorkerDomAdapter.prototype.remove=function(el){throw"not implemented"},WorkerDomAdapter.prototype.insertBefore=function(el,node){throw"not implemented"},WorkerDomAdapter.prototype.insertAllBefore=function(el,nodes){throw"not implemented"},WorkerDomAdapter.prototype.insertAfter=function(el,node){throw"not implemented"},WorkerDomAdapter.prototype.setInnerHTML=function(el,value){throw"not implemented"},WorkerDomAdapter.prototype.getText=function(el){throw"not implemented"},WorkerDomAdapter.prototype.setText=function(el,value){throw"not implemented"},WorkerDomAdapter.prototype.getValue=function(el){throw"not implemented"},WorkerDomAdapter.prototype.setValue=function(el,value){throw"not implemented"},WorkerDomAdapter.prototype.getChecked=function(el){throw"not implemented"},WorkerDomAdapter.prototype.setChecked=function(el,value){throw"not implemented"},WorkerDomAdapter.prototype.createComment=function(text){throw"not implemented"},WorkerDomAdapter.prototype.createTemplate=function(html){throw"not implemented"},WorkerDomAdapter.prototype.createElement=function(tagName,doc){throw"not implemented"},WorkerDomAdapter.prototype.createElementNS=function(ns,tagName,doc){throw"not implemented"},WorkerDomAdapter.prototype.createTextNode=function(text,doc){throw"not implemented"},WorkerDomAdapter.prototype.createScriptTag=function(attrName,attrValue,doc){throw"not implemented"},WorkerDomAdapter.prototype.createStyleElement=function(css,doc){throw"not implemented"},WorkerDomAdapter.prototype.createShadowRoot=function(el){throw"not implemented"},WorkerDomAdapter.prototype.getShadowRoot=function(el){throw"not implemented"},WorkerDomAdapter.prototype.getHost=function(el){throw"not implemented"},WorkerDomAdapter.prototype.getDistributedNodes=function(el){throw"not implemented"},WorkerDomAdapter.prototype.clone=function(node){throw"not implemented"},WorkerDomAdapter.prototype.getElementsByClassName=function(element,name){throw"not implemented"},WorkerDomAdapter.prototype.getElementsByTagName=function(element,name){throw"not implemented"},WorkerDomAdapter.prototype.classList=function(element){throw"not implemented"},WorkerDomAdapter.prototype.addClass=function(element,className){throw"not implemented"},WorkerDomAdapter.prototype.removeClass=function(element,className){throw"not implemented"},WorkerDomAdapter.prototype.hasClass=function(element,className){throw"not implemented"},WorkerDomAdapter.prototype.setStyle=function(element,styleName,styleValue){throw"not implemented"},WorkerDomAdapter.prototype.removeStyle=function(element,styleName){throw"not implemented"},WorkerDomAdapter.prototype.getStyle=function(element,styleName){throw"not implemented"},WorkerDomAdapter.prototype.hasStyle=function(element,styleName,styleValue){throw"not implemented"},WorkerDomAdapter.prototype.tagName=function(element){throw"not implemented"},WorkerDomAdapter.prototype.attributeMap=function(element){throw"not implemented"},WorkerDomAdapter.prototype.hasAttribute=function(element,attribute){throw"not implemented"},WorkerDomAdapter.prototype.hasAttributeNS=function(element,ns,attribute){throw"not implemented"},WorkerDomAdapter.prototype.getAttribute=function(element,attribute){throw"not implemented"},WorkerDomAdapter.prototype.getAttributeNS=function(element,ns,attribute){throw"not implemented"},WorkerDomAdapter.prototype.setAttribute=function(element,name,value){throw"not implemented"},WorkerDomAdapter.prototype.setAttributeNS=function(element,ns,name,value){throw"not implemented"},WorkerDomAdapter.prototype.removeAttribute=function(element,attribute){throw"not implemented"},WorkerDomAdapter.prototype.removeAttributeNS=function(element,ns,attribute){throw"not implemented"},WorkerDomAdapter.prototype.templateAwareRoot=function(el){throw"not implemented"},WorkerDomAdapter.prototype.createHtmlDocument=function(){throw"not implemented"},WorkerDomAdapter.prototype.defaultDoc=function(){throw"not implemented"},WorkerDomAdapter.prototype.getBoundingClientRect=function(el){throw"not implemented"},WorkerDomAdapter.prototype.getTitle=function(){throw"not implemented"},WorkerDomAdapter.prototype.setTitle=function(newTitle){throw"not implemented"},WorkerDomAdapter.prototype.elementMatches=function(n,selector){throw"not implemented"},WorkerDomAdapter.prototype.isTemplateElement=function(el){throw"not implemented"},WorkerDomAdapter.prototype.isTextNode=function(node){throw"not implemented"},WorkerDomAdapter.prototype.isCommentNode=function(node){throw"not implemented"},WorkerDomAdapter.prototype.isElementNode=function(node){throw"not implemented"},WorkerDomAdapter.prototype.hasShadowRoot=function(node){throw"not implemented"},WorkerDomAdapter.prototype.isShadowRoot=function(node){throw"not implemented"},WorkerDomAdapter.prototype.importIntoDoc=function(node){throw"not implemented"},WorkerDomAdapter.prototype.adoptNode=function(node){throw"not implemented"},WorkerDomAdapter.prototype.getHref=function(element){throw"not implemented"},WorkerDomAdapter.prototype.getEventKey=function(event){throw"not implemented"},WorkerDomAdapter.prototype.resolveAndSetHref=function(element,baseUrl,href){throw"not implemented"},WorkerDomAdapter.prototype.supportsDOMEvents=function(){throw"not implemented"},WorkerDomAdapter.prototype.supportsNativeShadowDOM=function(){throw"not implemented"},WorkerDomAdapter.prototype.getGlobalEventTarget=function(target){throw"not implemented"},WorkerDomAdapter.prototype.getHistory=function(){throw"not implemented"},WorkerDomAdapter.prototype.getLocation=function(){throw"not implemented"},WorkerDomAdapter.prototype.getBaseHref=function(){throw"not implemented"},WorkerDomAdapter.prototype.resetBaseElement=function(){throw"not implemented"},WorkerDomAdapter.prototype.getUserAgent=function(){throw"not implemented"},WorkerDomAdapter.prototype.setData=function(element,name,value){throw"not implemented"},WorkerDomAdapter.prototype.getComputedStyle=function(element){throw"not implemented"},WorkerDomAdapter.prototype.getData=function(element,name){throw"not implemented"},WorkerDomAdapter.prototype.setGlobalVar=function(name,value){throw"not implemented"},WorkerDomAdapter.prototype.requestAnimationFrame=function(callback){throw"not implemented"},WorkerDomAdapter.prototype.cancelAnimationFrame=function(id){throw"not implemented"},WorkerDomAdapter.prototype.performanceNow=function(){throw"not implemented"},WorkerDomAdapter.prototype.getAnimationPrefix=function(){throw"not implemented"},WorkerDomAdapter.prototype.getTransitionEnd=function(){throw"not implemented"},WorkerDomAdapter.prototype.supportsAnimation=function(){throw"not implemented"},WorkerDomAdapter.prototype.supportsWebAnimation=function(){throw"not implemented"},WorkerDomAdapter.prototype.supportsCookies=function(){return!1},WorkerDomAdapter.prototype.getCookie=function(name){throw"not implemented"},WorkerDomAdapter.prototype.setCookie=function(name,value){throw"not implemented"},WorkerDomAdapter}(dom_adapter_1.DomAdapter);exports.WorkerDomAdapter=WorkerDomAdapter},{"../../dom/dom_adapter":339}],382:[function(require,module,exports){"use strict";function workerAppPlatform(){return lang_1.isBlank(core_1.getPlatform())&&core_1.createPlatform(core_1.ReflectiveInjector.resolveAndCreate(exports.WORKER_APP_PLATFORM_PROVIDERS)),core_1.assertPlatform(WORKER_APP_PLATFORM_MARKER)}function _exceptionHandler(){return new core_1.ExceptionHandler(new PrintLogger)}function createMessageBus(zone){var sink=new post_message_bus_1.PostMessageBusSink(_postMessage),source=new post_message_bus_1.PostMessageBusSource,bus=new post_message_bus_1.PostMessageBus(sink,source);return bus.attachToZone(zone),bus}function setupWebWorker(){worker_adapter_1.WorkerDomAdapter.makeCurrent()}var common_1=require("@angular/common"),core_1=require("@angular/core"),browser_1=require("./browser"),lang_1=require("./facade/lang"),api_1=require("./web_workers/shared/api"),client_message_broker_1=require("./web_workers/shared/client_message_broker"),message_bus_1=require("./web_workers/shared/message_bus"),post_message_bus_1=require("./web_workers/shared/post_message_bus"),render_store_1=require("./web_workers/shared/render_store"),serializer_1=require("./web_workers/shared/serializer"),service_message_broker_1=require("./web_workers/shared/service_message_broker"),renderer_1=require("./web_workers/worker/renderer"),worker_adapter_1=require("./web_workers/worker/worker_adapter"),PrintLogger=function(){function PrintLogger(){this.log=lang_1.print,this.logError=lang_1.print,this.logGroup=lang_1.print}return PrintLogger.prototype.logGroupEnd=function(){},PrintLogger}(),WORKER_APP_PLATFORM_MARKER=new core_1.OpaqueToken("WorkerAppPlatformMarker");exports.WORKER_APP_PLATFORM_PROVIDERS=[core_1.PLATFORM_COMMON_PROVIDERS,{provide:WORKER_APP_PLATFORM_MARKER,useValue:!0}],exports.WORKER_APP_APPLICATION_PROVIDERS=[core_1.APPLICATION_COMMON_PROVIDERS,common_1.FORM_PROVIDERS,browser_1.BROWSER_SANITIZATION_PROVIDERS,serializer_1.Serializer,{provide:client_message_broker_1.ClientMessageBrokerFactory,useClass:client_message_broker_1.ClientMessageBrokerFactory_},{provide:service_message_broker_1.ServiceMessageBrokerFactory,useClass:service_message_broker_1.ServiceMessageBrokerFactory_},renderer_1.WebWorkerRootRenderer,{provide:core_1.RootRenderer,useExisting:renderer_1.WebWorkerRootRenderer},{provide:api_1.ON_WEB_WORKER,useValue:!0},render_store_1.RenderStore,{provide:core_1.ExceptionHandler,useFactory:_exceptionHandler,deps:[]},{provide:message_bus_1.MessageBus,useFactory:createMessageBus,deps:[core_1.NgZone]},{provide:core_1.APP_INITIALIZER,useValue:setupWebWorker,multi:!0}],exports.workerAppPlatform=workerAppPlatform;var _postMessage={postMessage:function(message,transferrables){postMessage(message,transferrables)}}},{"./browser":328,"./facade/lang":357,"./web_workers/shared/api":363,"./web_workers/shared/client_message_broker":364,"./web_workers/shared/message_bus":365,"./web_workers/shared/post_message_bus":367,"./web_workers/shared/render_store":368,"./web_workers/shared/serializer":370,"./web_workers/shared/service_message_broker":371,"./web_workers/worker/renderer":380,"./web_workers/worker/worker_adapter":381,"@angular/common":20,"@angular/core":167}],383:[function(require,module,exports){"use strict";function initializeGenericWorkerRenderer(injector){var bus=injector.get(message_bus_1.MessageBus),zone=injector.get(core_1.NgZone);bus.attachToZone(zone);var services=injector.get(exports.WORKER_UI_STARTABLE_MESSAGING_SERVICE);zone.runGuarded(function(){services.forEach(function(svc){svc.start()})})}function messageBusFactory(instance){return instance.bus}function initWebWorkerRenderPlatform(){browser_adapter_1.BrowserDomAdapter.makeCurrent(),core_private_1.wtfInit(),testability_1.BrowserGetTestability.init()}function workerUiPlatform(){return lang_1.isBlank(core_1.getPlatform())&&core_1.createPlatform(core_1.ReflectiveInjector.resolveAndCreate(exports.WORKER_UI_PLATFORM_PROVIDERS)),core_1.assertPlatform(WORKER_RENDER_PLATFORM_MARKER)}function _exceptionHandler(){return new core_1.ExceptionHandler(dom_adapter_1.getDOM())}function _document(){return dom_adapter_1.getDOM().defaultDoc()}function initWebWorkerAppFn(injector){return function(){var scriptUri;try{scriptUri=injector.get(exports.WORKER_SCRIPT)}catch(e){throw new exceptions_1.BaseException("You must provide your WebWorker's initialization script with the WORKER_SCRIPT token")}var instance=injector.get(WebWorkerInstance);spawnWebWorker(scriptUri,instance),initializeGenericWorkerRenderer(injector)}}function spawnWebWorker(uri,instance){var webWorker=new Worker(uri),sink=new post_message_bus_1.PostMessageBusSink(webWorker),source=new post_message_bus_1.PostMessageBusSource(webWorker),bus=new post_message_bus_1.PostMessageBus(sink,source);instance.init(webWorker,bus)}function _resolveDefaultAnimationDriver(){return new core_private_1.NoOpAnimationDriver}var core_1=require("@angular/core"),core_private_1=require("../core_private"),browser_1=require("./browser"),browser_adapter_1=require("./browser/browser_adapter"),testability_1=require("./browser/testability"),dom_adapter_1=require("./dom/dom_adapter"),dom_renderer_1=require("./dom/dom_renderer"),dom_tokens_1=require("./dom/dom_tokens"),dom_events_1=require("./dom/events/dom_events"),event_manager_1=require("./dom/events/event_manager"),hammer_gestures_1=require("./dom/events/hammer_gestures"),key_events_1=require("./dom/events/key_events"),shared_styles_host_1=require("./dom/shared_styles_host"),exceptions_1=require("./facade/exceptions"),lang_1=require("./facade/lang"),api_1=require("./web_workers/shared/api"),client_message_broker_1=require("./web_workers/shared/client_message_broker"),message_bus_1=require("./web_workers/shared/message_bus"),post_message_bus_1=require("./web_workers/shared/post_message_bus"),render_store_1=require("./web_workers/shared/render_store"),serializer_1=require("./web_workers/shared/serializer"),service_message_broker_1=require("./web_workers/shared/service_message_broker"),renderer_1=require("./web_workers/ui/renderer"),WORKER_RENDER_PLATFORM_MARKER=new core_1.OpaqueToken("WorkerRenderPlatformMarker"),WebWorkerInstance=function(){function WebWorkerInstance(){}return WebWorkerInstance.prototype.init=function(worker,bus){this.worker=worker,this.bus=bus},WebWorkerInstance.decorators=[{type:core_1.Injectable}],WebWorkerInstance}();exports.WebWorkerInstance=WebWorkerInstance,exports.WORKER_SCRIPT=new core_1.OpaqueToken("WebWorkerScript"),exports.WORKER_UI_STARTABLE_MESSAGING_SERVICE=new core_1.OpaqueToken("WorkerRenderStartableMsgService"),exports.WORKER_UI_PLATFORM_PROVIDERS=[core_1.PLATFORM_COMMON_PROVIDERS,{provide:WORKER_RENDER_PLATFORM_MARKER,useValue:!0},{provide:core_1.PLATFORM_INITIALIZER,useValue:initWebWorkerRenderPlatform,multi:!0}],exports.WORKER_UI_APPLICATION_PROVIDERS=[core_1.APPLICATION_COMMON_PROVIDERS,renderer_1.MessageBasedRenderer,{provide:exports.WORKER_UI_STARTABLE_MESSAGING_SERVICE,useExisting:renderer_1.MessageBasedRenderer,multi:!0},browser_1.BROWSER_SANITIZATION_PROVIDERS,{provide:core_1.ExceptionHandler,useFactory:_exceptionHandler,deps:[]},{provide:dom_tokens_1.DOCUMENT,useFactory:_document,deps:[]},{provide:event_manager_1.EVENT_MANAGER_PLUGINS,useClass:dom_events_1.DomEventsPlugin,multi:!0},{provide:event_manager_1.EVENT_MANAGER_PLUGINS,useClass:key_events_1.KeyEventsPlugin,multi:!0},{provide:event_manager_1.EVENT_MANAGER_PLUGINS,useClass:hammer_gestures_1.HammerGesturesPlugin,multi:!0},{provide:hammer_gestures_1.HAMMER_GESTURE_CONFIG,useClass:hammer_gestures_1.HammerGestureConfig},{provide:dom_renderer_1.DomRootRenderer,useClass:dom_renderer_1.DomRootRenderer_},{provide:core_1.RootRenderer,useExisting:dom_renderer_1.DomRootRenderer},{provide:shared_styles_host_1.SharedStylesHost,useExisting:shared_styles_host_1.DomSharedStylesHost},{provide:service_message_broker_1.ServiceMessageBrokerFactory,useClass:service_message_broker_1.ServiceMessageBrokerFactory_},{provide:client_message_broker_1.ClientMessageBrokerFactory,useClass:client_message_broker_1.ClientMessageBrokerFactory_},{provide:core_private_1.AnimationDriver,useFactory:_resolveDefaultAnimationDriver},serializer_1.Serializer,{provide:api_1.ON_WEB_WORKER,useValue:!1},render_store_1.RenderStore,shared_styles_host_1.DomSharedStylesHost,core_1.Testability,event_manager_1.EventManager,WebWorkerInstance,{provide:core_1.APP_INITIALIZER,useFactory:initWebWorkerAppFn,multi:!0,deps:[core_1.Injector]},{provide:message_bus_1.MessageBus,useFactory:messageBusFactory,deps:[WebWorkerInstance]}],exports.workerUiPlatform=workerUiPlatform},{"../core_private":325,"./browser":328,"./browser/browser_adapter":329,"./browser/testability":333,"./dom/dom_adapter":339,"./dom/dom_renderer":340,"./dom/dom_tokens":341,"./dom/events/dom_events":342,"./dom/events/event_manager":343,"./dom/events/hammer_gestures":345,"./dom/events/key_events":346,"./dom/shared_styles_host":347,"./facade/exceptions":356,"./facade/lang":357,"./web_workers/shared/api":363,"./web_workers/shared/client_message_broker":364,"./web_workers/shared/message_bus":365,"./web_workers/shared/post_message_bus":367,"./web_workers/shared/render_store":368,"./web_workers/shared/serializer":370,"./web_workers/shared/service_message_broker":371,"./web_workers/ui/renderer":376,"@angular/core":167}],384:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}function provideCloud(settings){var config=exports.container.config;config.register(settings);var core=exports.container.core;core.init();var cordova=exports.container.cordova;return cordova.bootstrap(),[core_1.provide(Auth,{useFactory:function(){return exports.container.auth}}),core_1.provide(Client,{useFactory:function(){return exports.container.client}}),core_1.provide(Config,{useValue:config}),core_1.provide(Deploy,{useFactory:function(){return exports.container.deploy}}),core_1.provide(EventEmitter,{useFactory:function(){return exports.container.eventEmitter}}),core_1.provide(Push,{useFactory:function(){return exports.container.push}}),core_1.provide(User,{useFactory:function(){return exports.container.singleUserService.current()}})]}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};__export(require("@ionic/cloud"));var core_1=require("@angular/core"),cloud_2=require("@ionic/cloud"),cloud_3=require("@ionic/cloud"),Auth=function(_super){function Auth(){_super.apply(this,arguments)}return __extends(Auth,_super),Auth=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],Auth)}(cloud_3.Auth);exports.Auth=Auth;var Client=function(_super){function Client(){_super.apply(this,arguments)}return __extends(Client,_super),Client=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],Client)}(cloud_3.Client);exports.Client=Client;var Config=function(_super){function Config(){_super.apply(this,arguments)}return __extends(Config,_super),Config=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],Config)}(cloud_3.Config);exports.Config=Config;var Deploy=function(_super){function Deploy(){_super.apply(this,arguments)}return __extends(Deploy,_super),Deploy=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],Deploy)}(cloud_3.Deploy);exports.Deploy=Deploy;var EventEmitter=function(_super){function EventEmitter(){_super.apply(this,arguments)}return __extends(EventEmitter,_super),EventEmitter=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],EventEmitter)}(cloud_3.EventEmitter);exports.EventEmitter=EventEmitter;var Insights=function(_super){function Insights(){_super.apply(this,arguments)}return __extends(Insights,_super),Insights=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],Insights)}(cloud_3.Insights);exports.Insights=Insights;var Push=function(_super){function Push(){_super.apply(this,arguments)}return __extends(Push,_super),Push=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],Push)}(cloud_3.Push);exports.Push=Push;var User=function(_super){function User(){_super.apply(this,arguments)}return __extends(User,_super),User=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],User)}(cloud_3.User);exports.User=User,exports.container=new cloud_2.DIContainer,exports.provideCloud=provideCloud},{"@angular/core":167,"@ionic/cloud":395}],385:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},errors_1=require("./errors"),promise_1=require("./promise"),AuthTokenContext=function(){function AuthTokenContext(deps,label){this.label=label,this.storage=deps.storage}return AuthTokenContext.prototype.get=function(){return this.storage.get(this.label)},AuthTokenContext.prototype.store=function(token){this.storage.set(this.label,token)},AuthTokenContext.prototype["delete"]=function(){this.storage["delete"](this.label)},AuthTokenContext}();exports.AuthTokenContext=AuthTokenContext;var CombinedAuthTokenContext=function(){function CombinedAuthTokenContext(deps,label){this.label=label,this.storage=deps.storage,this.tempStorage=deps.tempStorage}return CombinedAuthTokenContext.prototype.get=function(){var permToken=this.storage.get(this.label),tempToken=this.tempStorage.get(this.label),token=tempToken||permToken;return token},CombinedAuthTokenContext.prototype.store=function(token,options){void 0===options&&(options={permanent:!0}),options.permanent?this.storage.set(this.label,token):this.tempStorage.set(this.label,token)},CombinedAuthTokenContext.prototype["delete"]=function(){this.storage["delete"](this.label),this.tempStorage["delete"](this.label)},CombinedAuthTokenContext}();exports.CombinedAuthTokenContext=CombinedAuthTokenContext;var Auth=function(){function Auth(deps,options){void 0===options&&(options={}),this.options=options,this.config=deps.config,this.emitter=deps.emitter,this.authModules=deps.authModules,this.tokenContext=deps.tokenContext,this.userService=deps.userService,this.storage=deps.storage}return Object.defineProperty(Auth.prototype,"passwordResetUrl",{get:function(){return this.config.getURL("web")+"/password/reset/"+this.config.get("app_id")},enumerable:!0,configurable:!0}),Auth.prototype.isAuthenticated=function(){var token=this.tokenContext.get();return!!token},Auth.prototype.signup=function(details){return this.authModules.basic.signup(details)},Auth.prototype.login=function(moduleId,credentials,options){var _this=this;void 0===options&&(options={}),"undefined"==typeof options.remember&&(options.remember=!0),"undefined"==typeof options.inAppBrowserOptions&&(options.inAppBrowserOptions={}),"undefined"==typeof options.inAppBrowserOptions.location&&(options.inAppBrowserOptions.location=!1),"undefined"==typeof options.inAppBrowserOptions.clearcache&&(options.inAppBrowserOptions.clearcache=!0),"undefined"==typeof options.inAppBrowserOptions.clearsessioncache&&(options.inAppBrowserOptions.clearsessioncache=!0);var context=this.authModules[moduleId];if(!context)throw new Error("Authentication class is invalid or missing:"+context);return context.authenticate(credentials,options).then(function(r){return _this.storeToken(options,r.token),_this.userService.load().then(function(){var user=_this.userService.current();return user.store(),r})})},Auth.prototype.logout=function(){this.tokenContext["delete"]();var user=this.userService.current();user.unstore(),user.clear()},Auth.prototype.requestPasswordReset=function(email){return this.storage.set("auth_password_reset_email",email),this.authModules.basic.requestPasswordReset(email)},Auth.prototype.confirmPasswordReset=function(code,newPassword){var email=this.storage.get("auth_password_reset_email");return this.authModules.basic.confirmPasswordReset(email,code,newPassword)},Auth.prototype.getToken=function(){return this.tokenContext.get()},Auth.prototype.storeToken=function(options,token){void 0===options&&(options={remember:!0});var originalToken=this.authToken;this.authToken=token,this.tokenContext.store(this.authToken,{permanent:options.remember}),this.emitter.emit("auth:token-changed",{old:originalToken,"new":this.authToken})},Auth.getDetailedErrorFromResponse=function(res){var errors=[],details=[];try{details=res.body.error.details}catch(e){}for(var i=0;i<details.length;i++){var detail=details[i];detail.error_type&&errors.push(detail.error_type+"_"+detail.parameter)}return new errors_1.DetailedError("Error creating user",errors)},Auth}();exports.Auth=Auth;var AuthType=function(){function AuthType(deps){this.config=deps.config,this.client=deps.client}return AuthType.prototype.parseInAppBrowserOptions=function(opts){if(!opts)return"";var p=[];for(var k in opts){var v=void 0;v="boolean"==typeof opts[k]?opts[k]?"yes":"no":opts[k],p.push(k+"="+v)}return p.join(",")},AuthType.prototype.inAppBrowserFlow=function(moduleId,data,options){var _this=this;void 0===data&&(data={});var deferred=new promise_1.DeferredPromise;return window&&window.cordova&&window.cordova.InAppBrowser?this.client.post("/auth/login/"+moduleId).send({app_id:this.config.get("app_id"),callback:window.location.href,data:data}).end(function(err,res){if(err)deferred.reject(err);else{var w_1=window.cordova.InAppBrowser.open(res.body.data.url,"_blank",_this.parseInAppBrowserOptions(options.inAppBrowserOptions)),onExit_1=function(){deferred.reject(new Error("InAppBrowser exit"))},onLoadError_1=function(){deferred.reject(new Error("InAppBrowser loaderror"))},onLoadStart=function(data){if("http://auth.ionic.io"===data.url.slice(0,20)){for(var queryString=data.url.split("#")[0].split("?")[1],paramParts=queryString.split("&"),params={},i=0;i<paramParts.length;i++){var part=paramParts[i].split("=");params[part[0]]=part[1]}w_1.removeEventListener("exit",onExit_1),w_1.removeEventListener("loaderror",onLoadError_1),w_1.close(),deferred.resolve({token:params.token,signup:Boolean(parseInt(params.signup))})}};w_1.addEventListener("exit",onExit_1),w_1.addEventListener("loaderror",onLoadError_1),w_1.addEventListener("loadstart",onLoadStart)}}):deferred.reject(new Error("InAppBrowser plugin missing")),deferred.promise},AuthType}();exports.AuthType=AuthType;var BasicAuth=function(_super){function BasicAuth(){_super.apply(this,arguments)}return __extends(BasicAuth,_super),BasicAuth.prototype.authenticate=function(data,options){var deferred=new promise_1.DeferredPromise;return data.email&&data.password?this.client.post("/auth/login").send({app_id:this.config.get("app_id"),email:data.email,password:data.password}).end(function(err,res){err?deferred.reject(err):deferred.resolve({token:res.body.data.token})}):deferred.reject(new Error("email and password are required for basic authentication")),deferred.promise},BasicAuth.prototype.requestPasswordReset=function(email){var deferred=new promise_1.DeferredPromise;return email?this.client.post("/users/password/reset").send({app_id:this.config.get("app_id"),email:email,flow:"app"}).end(function(err,res){err?deferred.reject(err):deferred.resolve()}):deferred.reject(new Error("Email is required for password reset request.")),deferred.promise},BasicAuth.prototype.confirmPasswordReset=function(email,code,newPassword){var deferred=new promise_1.DeferredPromise;return code&&email&&newPassword?this.client.post("/users/password").send({reset_token:code,new_password:newPassword,email:email}).end(function(err,res){err?deferred.reject(err):deferred.resolve()}):deferred.reject(new Error("Code, new password, and email are required.")),deferred.promise},BasicAuth.prototype.signup=function(data){var deferred=new promise_1.DeferredPromise,userData={app_id:this.config.get("app_id"),email:data.email,password:data.password};return data.username&&(userData.username=data.username),data.image&&(userData.image=data.image),data.name&&(userData.name=data.name),data.custom&&(userData.custom=data.custom),this.client.post("/users").send(userData).end(function(err,res){err?deferred.reject(Auth.getDetailedErrorFromResponse(err.response)):deferred.resolve()}),deferred.promise},BasicAuth}(AuthType);exports.BasicAuth=BasicAuth;var CustomAuth=function(_super){function CustomAuth(){_super.apply(this,arguments)}return __extends(CustomAuth,_super),CustomAuth.prototype.authenticate=function(data,options){return void 0===data&&(data={}),this.inAppBrowserFlow("custom",data,options)},CustomAuth}(AuthType);exports.CustomAuth=CustomAuth;var TwitterAuth=function(_super){function TwitterAuth(){_super.apply(this,arguments)}return __extends(TwitterAuth,_super),TwitterAuth.prototype.authenticate=function(data,options){return void 0===data&&(data={}),this.inAppBrowserFlow("twitter",data,options)},TwitterAuth}(AuthType);exports.TwitterAuth=TwitterAuth;var FacebookAuth=function(_super){function FacebookAuth(){_super.apply(this,arguments)}return __extends(FacebookAuth,_super),FacebookAuth.prototype.authenticate=function(data,options){return void 0===data&&(data={}),this.inAppBrowserFlow("facebook",data,options)},FacebookAuth}(AuthType);exports.FacebookAuth=FacebookAuth;var GithubAuth=function(_super){function GithubAuth(){_super.apply(this,arguments)}return __extends(GithubAuth,_super),GithubAuth.prototype.authenticate=function(data,options){return void 0===data&&(data={}),this.inAppBrowserFlow("github",data,options)},GithubAuth}(AuthType);exports.GithubAuth=GithubAuth;var GoogleAuth=function(_super){function GoogleAuth(){_super.apply(this,arguments)}return __extends(GoogleAuth,_super),GoogleAuth.prototype.authenticate=function(data,options){return void 0===data&&(data={}),this.inAppBrowserFlow("google",data,options)},GoogleAuth}(AuthType);exports.GoogleAuth=GoogleAuth;var InstagramAuth=function(_super){function InstagramAuth(){_super.apply(this,arguments)}return __extends(InstagramAuth,_super),InstagramAuth.prototype.authenticate=function(data,options){return void 0===data&&(data={}),this.inAppBrowserFlow("instagram",data,options)},InstagramAuth}(AuthType);exports.InstagramAuth=InstagramAuth;var LinkedInAuth=function(_super){function LinkedInAuth(){_super.apply(this,arguments)}return __extends(LinkedInAuth,_super),LinkedInAuth.prototype.authenticate=function(data,options){
return void 0===data&&(data={}),this.inAppBrowserFlow("linkedin",data,options)},LinkedInAuth}(AuthType);exports.LinkedInAuth=LinkedInAuth},{"./errors":393,"./promise":398}],386:[function(require,module,exports){"use strict";var request=require("superagent"),Client=function(){function Client(tokenContext,baseUrl,req){this.tokenContext=tokenContext,this.baseUrl=baseUrl,"undefined"==typeof req&&(req=request),this.req=req}return Client.prototype.get=function(endpoint){return this.supplement(this.req.get,endpoint)},Client.prototype.post=function(endpoint){return this.supplement(this.req.post,endpoint)},Client.prototype.put=function(endpoint){return this.supplement(this.req.put,endpoint)},Client.prototype.patch=function(endpoint){return this.supplement(this.req.patch,endpoint)},Client.prototype["delete"]=function(endpoint){return this.supplement(this.req["delete"],endpoint)},Client.prototype.request=function(method,endpoint){return this.supplement(this.req.bind(this.req,method),endpoint)},Client.prototype.supplement=function(fn,endpoint){if("/"!==endpoint.substring(0,1))throw Error("endpoint must start with leading slash");var req=fn(this.baseUrl+endpoint),token=this.tokenContext.get();return token&&req.set("Authorization","Bearer "+token),req},Client}();exports.Client=Client},{superagent:405}],387:[function(require,module,exports){"use strict";var Config=function(){function Config(){this.urls={api:"https://api.ionic.io",web:"https://web.ionic.io"}}return Config.prototype.register=function(settings){this.settings=settings},Config.prototype.get=function(name){if(this.settings&&this.settings.core)return this.settings.core[name]},Config.prototype.getURL=function(name){var urls=this.settings&&this.settings.core&&this.settings.core.urls||{};return urls[name]?urls[name]:this.urls[name]},Config}();exports.Config=Config},{}],388:[function(require,module,exports){"use strict";var Cordova=function(){function Cordova(deps,options){void 0===options&&(options={}),this.options=options,this.app=deps.appStatus,this.device=deps.device,this.emitter=deps.emitter,this.logger=deps.logger,this.registerEventHandlers()}return Cordova.prototype.bootstrap=function(){var _this=this,events=["pause","resume"];document.addEventListener("deviceready",function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];_this.emitter.emit("cordova:deviceready",{args:args});for(var _loop_1=function(e){document.addEventListener(e,function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];_this.emitter.emit("cordova:"+e,{args:args})},!1)},_a=0,events_1=events;_a<events_1.length;_a++){var e=events_1[_a];_loop_1(e)}},!1)},Cordova.prototype.registerEventHandlers=function(){var _this=this;this.emitter.on("cordova:pause",function(){_this.app.closed=!0}),this.emitter.on("cordova:resume",function(){_this.app.closed=!1})},Cordova}();exports.Cordova=Cordova},{}],389:[function(require,module,exports){"use strict";var Core=function(){function Core(deps){this._version="0.8.0-beta.15",this.config=deps.config,this.logger=deps.logger,this.emitter=deps.emitter,this.insights=deps.insights}return Core.prototype.init=function(){this.registerEventHandlers(),this.onResume()},Object.defineProperty(Core.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),Core.prototype.onResume=function(){this.insights.track("mobileapp.opened")},Core.prototype.registerEventHandlers=function(){var _this=this;this.emitter.on("cordova:resume",function(){_this.onResume()}),this.emitter.on("push:notification",function(data){(data.message.app.asleep||data.message.app.closed)&&_this.insights.track("mobileapp.opened.push")})},Core}();exports.Core=Core},{}],390:[function(require,module,exports){"use strict";var promise_1=require("../promise"),NO_PLUGIN=new Error("Missing deploy plugin: `ionic-plugin-deploy`"),Deploy=function(){function Deploy(deps,options){var _this=this;void 0===options&&(options={}),this.options=options,this.channel="production",this.config=deps.config,this.emitter=deps.emitter,this.logger=deps.logger,this.emitter.once("device:ready",function(){_this._getPlugin()&&_this.plugin.init(_this.config.get("app_id"),_this.config.getURL("api")),_this.emitter.emit("deploy:ready")})}return Deploy.prototype.check=function(){var _this=this,deferred=new promise_1.DeferredPromise;return this.emitter.once("deploy:ready",function(){_this._getPlugin()?_this.plugin.check(_this.config.get("app_id"),_this.channel,function(result){result&&"true"===result?(_this.logger.info("Ionic Deploy: an update is available"),deferred.resolve(!0)):(_this.logger.info("Ionic Deploy: no updates available"),deferred.resolve(!1))},function(error){_this.logger.error("Ionic Deploy: encountered an error while checking for updates"),deferred.reject(error)}):deferred.reject(NO_PLUGIN)}),deferred.promise},Deploy.prototype.download=function(options){var _this=this;void 0===options&&(options={});var deferred=new promise_1.DeferredPromise;return this.emitter.once("deploy:ready",function(){_this._getPlugin()?_this.plugin.download(_this.config.get("app_id"),function(result){"true"!==result&&"false"!==result?options.onProgress&&options.onProgress(result):("true"===result&&_this.logger.info("Ionic Deploy: download complete"),deferred.resolve("true"===result))},function(error){deferred.reject(error)}):deferred.reject(NO_PLUGIN)}),deferred.promise},Deploy.prototype.extract=function(options){var _this=this;void 0===options&&(options={});var deferred=new promise_1.DeferredPromise;return this.emitter.once("deploy:ready",function(){_this._getPlugin()?_this.plugin.extract(_this.config.get("app_id"),function(result){"done"!==result?options.onProgress&&options.onProgress(result):("true"===result&&_this.logger.info("Ionic Deploy: extraction complete"),deferred.resolve("true"===result))},function(error){deferred.reject(error)}):deferred.reject(NO_PLUGIN)}),deferred.promise},Deploy.prototype.load=function(){var _this=this;this.emitter.once("deploy:ready",function(){_this._getPlugin()&&_this.plugin.redirect(_this.config.get("app_id"))})},Deploy.prototype.info=function(){var _this=this,deferred=new promise_1.DeferredPromise;return this.emitter.once("deploy:ready",function(){_this._getPlugin()?_this.plugin.info(_this.config.get("app_id"),function(result){deferred.resolve(result)},function(err){deferred.reject(err)}):deferred.reject(NO_PLUGIN)}),deferred.promise},Deploy.prototype.getSnapshots=function(){var _this=this,deferred=new promise_1.DeferredPromise;return this.emitter.once("deploy:ready",function(){_this._getPlugin()?_this.plugin.getVersions(_this.config.get("app_id"),function(result){deferred.resolve(result)},function(err){deferred.reject(err)}):deferred.reject(NO_PLUGIN)}),deferred.promise},Deploy.prototype.deleteSnapshot=function(uuid){var _this=this,deferred=new promise_1.DeferredPromise;return this.emitter.once("deploy:ready",function(){_this._getPlugin()?_this.plugin.deleteVersion(_this.config.get("app_id"),uuid,function(result){deferred.resolve(result)},function(err){deferred.reject(err)}):deferred.reject(NO_PLUGIN)}),deferred.promise},Deploy.prototype.getMetadata=function(uuid){var _this=this,deferred=new promise_1.DeferredPromise;return this.emitter.once("deploy:ready",function(){_this._getPlugin()?_this.plugin.getMetadata(_this.config.get("app_id"),uuid,function(result){deferred.resolve(result.metadata)},function(err){deferred.reject(err)}):deferred.reject(NO_PLUGIN)}),deferred.promise},Deploy.prototype._getPlugin=function(){return"undefined"==typeof window.IonicDeploy?void this.logger.warn("Ionic Deploy: Disabled! Deploy plugin is not installed or has not loaded. Have you run `ionic plugin add ionic-plugin-deploy` yet?"):(this.plugin||(this.plugin=window.IonicDeploy),this.plugin)},Deploy}();exports.Deploy=Deploy},{"../promise":398}],391:[function(require,module,exports){"use strict";var Device=function(){function Device(deps){this.deps=deps,this.emitter=this.deps.emitter,this.deviceType=this.determineDeviceType(),this.registerEventHandlers()}return Device.prototype.isAndroid=function(){return"android"===this.deviceType},Device.prototype.isIOS=function(){return"iphone"===this.deviceType||"ipad"===this.deviceType},Device.prototype.isConnectedToNetwork=function(options){if(void 0===options&&(options={}),"undefined"==typeof navigator.connection||"undefined"==typeof navigator.connection.type||"undefined"==typeof Connection)return!options.strictMode;switch(navigator.connection.type){case Connection.ETHERNET:case Connection.WIFI:case Connection.CELL_2G:case Connection.CELL_3G:case Connection.CELL_4G:case Connection.CELL:return!0;default:return!1}},Device.prototype.registerEventHandlers=function(){var _this=this;"unknown"===this.deviceType?this.emitter.emit("device:ready"):this.emitter.once("cordova:deviceready",function(){_this.emitter.emit("device:ready")})},Device.prototype.determineDeviceType=function(){var agent=navigator.userAgent,ipad=agent.match(/iPad/i);if(ipad&&"ipad"===ipad[0].toLowerCase())return"ipad";var iphone=agent.match(/iPhone/i);if(iphone&&"iphone"===iphone[0].toLowerCase())return"iphone";var android=agent.match(/Android/i);return android&&"android"===android[0].toLowerCase()?"android":"unknown"},Device}();exports.Device=Device},{}],392:[function(require,module,exports){"use strict";function cache(target,propertyKey,descriptor){var method=descriptor.get;descriptor.get=function(){if("undefined"==typeof modules[propertyKey]){var value=method.apply(this,arguments);modules[propertyKey]=value}return modules[propertyKey]},descriptor.set=function(value){}}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},auth_1=require("./auth"),client_1=require("./client"),config_1=require("./config"),cordova_1=require("./cordova"),core_1=require("./core"),deploy_1=require("./deploy/deploy"),device_1=require("./device"),events_1=require("./events"),insights_1=require("./insights"),logger_1=require("./logger"),push_1=require("./push/push"),storage_1=require("./storage"),user_1=require("./user/user"),modules={},Container=function(){function Container(){}return Object.defineProperty(Container.prototype,"appStatus",{get:function(){return{asleep:!1,closed:!1}},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"config",{get:function(){return new config_1.Config},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"eventEmitter",{get:function(){return new events_1.EventEmitter},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"logger",{get:function(){return new logger_1.Logger(this.config.settings.logger)},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"localStorageStrategy",{get:function(){return new storage_1.LocalStorageStrategy},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"sessionStorageStrategy",{get:function(){return new storage_1.SessionStorageStrategy},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"authTokenContext",{get:function(){var label="auth_"+this.config.get("app_id");return new auth_1.CombinedAuthTokenContext({storage:new storage_1.Storage({strategy:this.localStorageStrategy}),tempStorage:new storage_1.Storage({strategy:this.sessionStorageStrategy})},label)},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"client",{get:function(){return new client_1.Client(this.authTokenContext,this.config.getURL("api"))},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"insights",{get:function(){return new insights_1.Insights({appStatus:this.appStatus,storage:new storage_1.Storage({strategy:this.localStorageStrategy}),config:this.config,client:this.client,logger:this.logger})},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"core",{get:function(){return new core_1.Core({config:this.config,logger:this.logger,emitter:this.eventEmitter,insights:this.insights})},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"device",{get:function(){return new device_1.Device({emitter:this.eventEmitter})},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"cordova",{get:function(){return new cordova_1.Cordova({appStatus:this.appStatus,device:this.device,emitter:this.eventEmitter,logger:this.logger})},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"userContext",{get:function(){return new user_1.UserContext({storage:new storage_1.Storage({strategy:this.localStorageStrategy}),config:this.config})},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"singleUserService",{get:function(){return new user_1.SingleUserService({client:this.client,context:this.userContext})},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"authModules",{get:function(){return{basic:new auth_1.BasicAuth({config:this.config,client:this.client}),custom:new auth_1.CustomAuth({config:this.config,client:this.client}),twitter:new auth_1.TwitterAuth({config:this.config,client:this.client}),facebook:new auth_1.FacebookAuth({config:this.config,client:this.client}),github:new auth_1.GithubAuth({config:this.config,client:this.client}),google:new auth_1.GoogleAuth({config:this.config,client:this.client}),instagram:new auth_1.InstagramAuth({config:this.config,client:this.client}),linkedin:new auth_1.LinkedInAuth({config:this.config,client:this.client})}},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"auth",{get:function(){return new auth_1.Auth({config:this.config,emitter:this.eventEmitter,authModules:this.authModules,tokenContext:this.authTokenContext,userService:this.singleUserService,storage:new storage_1.Storage({strategy:this.localStorageStrategy})})},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"push",{get:function(){var config=this.config;return new push_1.Push({config:config,auth:this.auth,userService:this.singleUserService,device:this.device,client:this.client,emitter:this.eventEmitter,storage:new storage_1.Storage({strategy:this.localStorageStrategy}),logger:this.logger},config.settings.push)},enumerable:!0,configurable:!0}),Object.defineProperty(Container.prototype,"deploy",{get:function(){return new deploy_1.Deploy({config:this.config,emitter:this.eventEmitter,logger:this.logger})},enumerable:!0,configurable:!0}),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"appStatus",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"config",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"eventEmitter",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"logger",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"localStorageStrategy",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"sessionStorageStrategy",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"authTokenContext",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"client",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"insights",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"core",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"device",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"cordova",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"userContext",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"singleUserService",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"authModules",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"auth",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"push",null),__decorate([cache,__metadata("design:type",Object)],Container.prototype,"deploy",null),Container}();exports.Container=Container},{"./auth":385,"./client":386,"./config":387,"./cordova":388,"./core":389,"./deploy/deploy":390,"./device":391,"./events":394,"./insights":396,"./logger":397,"./push/push":400,"./storage":402,"./user/user":404}],393:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Exception=function(_super){function Exception(message){_super.call(this,message),this.message=message,this.name="Exception",this.stack=(new Error).stack}return __extends(Exception,_super),Exception.prototype.toString=function(){return this.name+": "+this.message},Exception}(Error);exports.Exception=Exception;var DetailedError=function(_super){function DetailedError(message,details){_super.call(this,message),this.message=message,this.details=details,this.name="DetailedError"}return __extends(DetailedError,_super),DetailedError}(Exception);exports.DetailedError=DetailedError},{}],394:[function(require,module,exports){"use strict";var EventReceiver=function(){function EventReceiver(key,event,handler){this.key=key,this.event=event,this.handler=handler}return EventReceiver}();exports.EventReceiver=EventReceiver;var EventEmitter=function(){function EventEmitter(){this.n=0,this.eventReceivers={},this.eventsEmitted={}}return EventEmitter.prototype.on=function(event,callback){"undefined"==typeof this.eventReceivers[event]&&(this.eventReceivers[event]={});var receiver=new EventReceiver(this.n,event,callback);return this.n++,this.eventReceivers[event][receiver.key]=receiver,receiver},EventEmitter.prototype.off=function(receiver){if("undefined"==typeof this.eventReceivers[receiver.event]||"undefined"==typeof this.eventReceivers[receiver.event][receiver.key])throw new Error("unknown event receiver");delete this.eventReceivers[receiver.event][receiver.key]},EventEmitter.prototype.once=function(event,callback){var _this=this;this.emitted(event)?callback():this.on(event,function(){_this.emitted(event)||callback()})},EventEmitter.prototype.emit=function(event,data){void 0===data&&(data=null),"undefined"==typeof this.eventReceivers[event]&&(this.eventReceivers[event]={}),"undefined"==typeof this.eventsEmitted[event]&&(this.eventsEmitted[event]=0);for(var k in this.eventReceivers[event])this.eventReceivers[event][k].handler(data);this.eventsEmitted[event]+=1},EventEmitter.prototype.emitted=function(event){return"undefined"==typeof this.eventsEmitted[event]?0:this.eventsEmitted[event]},EventEmitter}();exports.EventEmitter=EventEmitter},{}],395:[function(require,module,exports){"use strict";var auth_1=require("./auth");exports.Auth=auth_1.Auth,exports.AuthType=auth_1.AuthType,exports.BasicAuth=auth_1.BasicAuth,exports.CustomAuth=auth_1.CustomAuth,exports.FacebookAuth=auth_1.FacebookAuth,exports.GithubAuth=auth_1.GithubAuth,exports.GoogleAuth=auth_1.GoogleAuth,exports.InstagramAuth=auth_1.InstagramAuth,exports.LinkedInAuth=auth_1.LinkedInAuth,exports.TwitterAuth=auth_1.TwitterAuth;var client_1=require("./client");exports.Client=client_1.Client;var config_1=require("./config");exports.Config=config_1.Config;var cordova_1=require("./cordova");exports.Cordova=cordova_1.Cordova;var core_1=require("./core");exports.Core=core_1.Core;var deploy_1=require("./deploy/deploy");exports.Deploy=deploy_1.Deploy;var device_1=require("./device");exports.Device=device_1.Device;var di_1=require("./di");exports.DIContainer=di_1.Container;var events_1=require("./events");exports.EventEmitter=events_1.EventEmitter;var insights_1=require("./insights");exports.Insights=insights_1.Insights;var logger_1=require("./logger");exports.Logger=logger_1.Logger;var push_1=require("./push/push");exports.Push=push_1.Push;var storage_1=require("./storage");exports.Storage=storage_1.Storage,exports.LocalStorageStrategy=storage_1.LocalStorageStrategy,exports.SessionStorageStrategy=storage_1.SessionStorageStrategy;var user_1=require("./user/user");exports.UserContext=user_1.UserContext,exports.User=user_1.User,exports.SingleUserService=user_1.SingleUserService},{"./auth":385,"./client":386,"./config":387,"./cordova":388,"./core":389,"./deploy/deploy":390,"./device":391,"./di":392,"./events":394,"./insights":396,"./logger":397,"./push/push":400,"./storage":402,"./user/user":404}],396:[function(require,module,exports){"use strict";var Stat=function(){function Stat(appId,stat,value){void 0===value&&(value=1),this.appId=appId,this.stat=stat,this.value=value,this.appId=appId,this.stat=stat,this.value=value,this.created=new Date}return Stat.prototype.toJSON=function(){return{app_id:this.appId,stat:this.stat,value:this.value,created:this.created.toISOString()}},Stat}();exports.Stat=Stat;var Insights=function(){function Insights(deps,options){var _this=this;void 0===options&&(options={intervalSubmit:6e4,intervalActiveCheck:1e3,submitCount:100}),this.options=options,this.app=deps.appStatus,this.storage=deps.storage,this.config=deps.config,this.client=deps.client,this.logger=deps.logger,this.batch=[],setInterval(function(){_this.submit()},this.options.intervalSubmit),setInterval(function(){_this.app.closed||_this.checkActivity()},this.options.intervalActiveCheck)}return Insights.prototype.track=function(stat,value){void 0===value&&(value=1),this.trackStat(new Stat(this.config.get("app_id"),stat,value))},Insights.prototype.checkActivity=function(){var session=this.storage.get("insights_session");if(session){var d=new Date(session),hour=36e5;d.getTime()+hour<(new Date).getTime()&&this.markActive()}else this.markActive()},Insights.prototype.markActive=function(){this.storage.set("insights_session",(new Date).toISOString()),this.track("mobileapp.active")},Insights.prototype.trackStat=function(stat){this.batch.push(stat),this.shouldSubmit()&&this.submit()},Insights.prototype.shouldSubmit=function(){return this.batch.length>=this.options.submitCount},Insights.prototype.submit=function(){var _this=this;if(0!==this.batch.length){for(var insights=[],_i=0,_a=this.batch;_i<_a.length;_i++){var stat=_a[_i];insights.push(stat.toJSON())}this.client.post("/insights").send({insights:insights}).end(function(err,res){err&&_this.logger.error("Ionic Insights: Could not send insights.",err)}),this.batch=[]}},Insights}();exports.Insights=Insights},{}],397:[function(require,module,exports){"use strict";var Logger=function(){function Logger(options){void 0===options&&(options={}),this.options=options,this.infofn=console.log.bind(console),this.warnfn=console.warn.bind(console),this.errorfn=console.error.bind(console)}return Logger.prototype.info=function(message){for(var optionalParams=[],_i=1;_i<arguments.length;_i++)optionalParams[_i-1]=arguments[_i];this.options.silent||this.infofn.apply(this,[message].concat(optionalParams))},Logger.prototype.warn=function(message){for(var optionalParams=[],_i=1;_i<arguments.length;_i++)optionalParams[_i-1]=arguments[_i];this.options.silent||this.warnfn.apply(this,[message].concat(optionalParams))},Logger.prototype.error=function(message){for(var optionalParams=[],_i=1;_i<arguments.length;_i++)optionalParams[_i-1]=arguments[_i];this.errorfn.apply(this,[message].concat(optionalParams))},Logger}();exports.Logger=Logger},{}],398:[function(require,module,exports){"use strict";var DeferredPromise=function(){function DeferredPromise(){this.init()}return DeferredPromise.prototype.init=function(){var _this=this;this.promise=new Promise(function(resolve,reject){_this.resolve=resolve,_this.reject=reject})},DeferredPromise}();exports.DeferredPromise=DeferredPromise},{}],399:[function(require,module,exports){"use strict";var PushMessage=function(){function PushMessage(){}return PushMessage.fromPluginData=function(data){var message=new PushMessage;return message.raw=data,message.text=data.message,message.title=data.title,message.count=data.count,message.sound=data.sound,message.image=data.image,message.app={asleep:!data.additionalData.foreground,closed:data.additionalData.coldstart},message.payload=data.additionalData.payload,message},PushMessage.prototype.toString=function(){return'<PushMessage ["'+this.title+'"]>'},PushMessage}();exports.PushMessage=PushMessage},{}],400:[function(require,module,exports){"use strict";var promise_1=require("../promise"),token_1=require("./token"),message_1=require("./message"),Push=function(){function Push(deps,options){return void 0===options&&(options={}),this.options=options,this.blockRegistration=!1,this.blockUnregister=!1,this.blockSaveToken=!1,this.registered=!1,this.config=deps.config,this.auth=deps.auth,this.userService=deps.userService,this.device=deps.device,this.client=deps.client,this.emitter=deps.emitter,this.storage=deps.storage,this.logger=deps.logger,this.device.isAndroid()&&!this.options.sender_id?void this.logger.error("Ionic Push: GCM project number not found (http://docs.ionic.io/docs/push-android-setup)"):(options.pluginConfig||(options.pluginConfig={}),this.device.isAndroid()&&(options.pluginConfig.android||(options.pluginConfig.android={}),options.pluginConfig.android.senderID||(options.pluginConfig.android.senderID=this.options.sender_id)),void(this.options=options))}return Object.defineProperty(Push.prototype,"token",{get:function(){return this._token||(this._token=new token_1.PushToken(this.storage.get("push_token").token)),this._token},set:function(val){val?this.storage.set("push_token",{token:val.token}):this.storage["delete"]("push_token"),this._token=val},enumerable:!0,configurable:!0}),Push.prototype.saveToken=function(token,options){var _this=this;void 0===options&&(options={});var deferred=new promise_1.DeferredPromise,tokenData={token:token.token,app_id:this.config.get("app_id")};if(!options.ignore_user){var user=this.userService.current();this.auth.isAuthenticated()&&(tokenData.user_id=user.id)}return this.blockSaveToken?deferred.reject(new Error("A token save operation is already in progress.")):this.client.post("/push/tokens").send(tokenData).end(function(err,res){err?(_this.blockSaveToken=!1,_this.logger.error("Ionic Push:",err),deferred.reject(err)):(_this.blockSaveToken=!1,_this.logger.info("Ionic Push: saved push token: "+token),tokenData.user_id&&_this.logger.info("Ionic Push: added push token to user: "+tokenData.user_id),token.saved=!0,deferred.resolve(token))}),deferred.promise},Push.prototype.register=function(){var _this=this,deferred=new promise_1.DeferredPromise;return this.blockRegistration?deferred.reject(new Error("Another registration is already in progress.")):(this.blockRegistration=!0,this.emitter.once("device:ready",function(){var pushPlugin=_this._getPushPlugin();pushPlugin?(_this.plugin=pushPlugin.init(_this.options.pluginConfig),_this.plugin.on("registration",function(data){_this.blockRegistration=!1,_this.token=new token_1.PushToken(data.registrationId),_this.token.registered=!0,deferred.resolve(_this.token)}),_this._callbackRegistration(),_this.registered=!0):deferred.reject(new Error("Push plugin not found! See logs."))})),deferred.promise},Push.prototype.unregister=function(){var _this=this,deferred=new promise_1.DeferredPromise;if(this.blockUnregister)deferred.reject(new Error("An unregister operation is already in progress."));else{var pushToken_1=this.token;if(pushToken_1){var tokenData={token:pushToken_1.token,app_id:this.config.get("app_id")};this.plugin&&this.plugin.unregister(function(){},function(){}),this.client.post("/push/tokens/invalidate").send(tokenData).end(function(err,res){_this.blockUnregister=!1,err?(_this.logger.error("Ionic Push:",err),deferred.reject(err)):(_this.logger.info("Ionic Push: unregistered push token: "+pushToken_1.token),_this.token=null,deferred.resolve())})}else deferred.resolve()}return this.blockUnregister=!0,deferred.promise},Push.prototype._callbackRegistration=function(){var _this=this;this.plugin.on("registration",function(data){_this.token=new token_1.PushToken(data.registrationId),_this.options.debug&&_this.logger.info("Ionic Push (debug): device token registered: "+_this.token),_this.emitter.emit("push:register",{token:data.registrationId})}),this.plugin.on("notification",function(data){var message=message_1.PushMessage.fromPluginData(data);_this.options.debug&&_this.logger.info("Ionic Push (debug): notification received: "+message),_this.emitter.emit("push:notification",{message:message,raw:data})}),this.plugin.on("error",function(e){_this.options.debug&&(_this.logger.error("Ionic Push (debug): unexpected error occured."),_this.logger.error("Ionic Push:",e)),_this.emitter.emit("push:error",{err:e})})},Push.prototype._getPushPlugin=function(){var plugin=window.PushNotification;return plugin||(this.device.isIOS()||this.device.isAndroid()?this.logger.error("Ionic Push: PushNotification plugin is required. Have you run `ionic plugin add phonegap-plugin-push` ?"):this.logger.warn("Ionic Push: Disabled! Native push notifications will not work in a browser. Run your app on an actual device to use push.")),plugin},Push}();exports.Push=Push},{"../promise":398,"./message":399,"./token":401}],401:[function(require,module,exports){"use strict";var PushToken=function(){function PushToken(token){this.token=token,this.registered=!1,this.saved=!1,this.token=token}return PushToken.prototype.toString=function(){return"<PushToken ["+this.token+"]>"},PushToken}();exports.PushToken=PushToken},{}],402:[function(require,module,exports){"use strict";var LocalStorageStrategy=function(){function LocalStorageStrategy(){}return LocalStorageStrategy.prototype.get=function(key){return localStorage.getItem(key)},LocalStorageStrategy.prototype.set=function(key,value){return localStorage.setItem(key,value)},LocalStorageStrategy.prototype["delete"]=function(key){return localStorage.removeItem(key)},LocalStorageStrategy}();exports.LocalStorageStrategy=LocalStorageStrategy;var SessionStorageStrategy=function(){function SessionStorageStrategy(){}return SessionStorageStrategy.prototype.get=function(key){return sessionStorage.getItem(key)},SessionStorageStrategy.prototype.set=function(key,value){return sessionStorage.setItem(key,value)},SessionStorageStrategy.prototype["delete"]=function(key){return sessionStorage.removeItem(key)},SessionStorageStrategy}();exports.SessionStorageStrategy=SessionStorageStrategy;var Storage=function(){function Storage(deps,options){void 0===options&&(options={prefix:"ionic",cache:!0}),this.options=options,this.strategy=deps.strategy,this.storageCache={}}return Storage.prototype.set=function(key,value){key=this.standardizeKey(key);var json=JSON.stringify(value);this.strategy.set(key,json),this.options.cache&&(this.storageCache[key]=value)},Storage.prototype["delete"]=function(key){key=this.standardizeKey(key),this.strategy["delete"](key),this.options.cache&&delete this.storageCache[key]},Storage.prototype.get=function(key){if(key=this.standardizeKey(key),this.options.cache){var cached=this.storageCache[key];if(cached)return cached}var json=this.strategy.get(key);if(!json)return null;try{var value=JSON.parse(json);return this.options.cache&&(this.storageCache[key]=value),value}catch(err){return null}},Storage.prototype.standardizeKey=function(key){return this.options.prefix+"_"+key},Storage}();exports.Storage=Storage},{}],403:[function(require,module,exports){"use strict";var dataTypeMapping={},DataTypeSchema=function(){function DataTypeSchema(properties){this.data={},this.setProperties(properties);
}return DataTypeSchema.prototype.setProperties=function(properties){if(properties instanceof Object)for(var x in properties)this.data[x]=properties[x]},DataTypeSchema.prototype.toJSON=function(){var data=this.data;return{__Ionic_DataTypeSchema:data.name,value:data.value}},DataTypeSchema.prototype.isValid=function(){return!(!this.data.name||!this.data.value)},DataTypeSchema}();exports.DataTypeSchema=DataTypeSchema;var DataType=function(){function DataType(){}return DataType.get=function(name,value){return!!dataTypeMapping[name]&&new dataTypeMapping[name](value)},DataType.getMapping=function(){return dataTypeMapping},Object.defineProperty(DataType,"Schema",{get:function(){return DataTypeSchema},enumerable:!0,configurable:!0}),DataType.register=function(name,cls){dataTypeMapping[name]=cls},DataType}();exports.DataType=DataType;var UniqueArray=function(){function UniqueArray(value){if(this.data=[],value instanceof Array)for(var x in value)this.push(value[x])}return UniqueArray.prototype.toJSON=function(){var data=this.data,schema=new DataTypeSchema({name:"UniqueArray",value:data});return schema.toJSON()},UniqueArray.fromStorage=function(value){return new UniqueArray(value)},UniqueArray.prototype.push=function(value){this.data.indexOf(value)===-1&&this.data.push(value)},UniqueArray.prototype.pull=function(value){var index=this.data.indexOf(value);this.data.splice(index,1)},UniqueArray}();exports.UniqueArray=UniqueArray,DataType.register("UniqueArray",UniqueArray)},{}],404:[function(require,module,exports){"use strict";var promise_1=require("../promise"),data_types_1=require("./data-types"),UserContext=function(){function UserContext(deps){this.config=deps.config,this.storage=deps.storage}return Object.defineProperty(UserContext.prototype,"label",{get:function(){return"user_"+this.config.get("app_id")},enumerable:!0,configurable:!0}),UserContext.prototype.unstore=function(){this.storage["delete"](this.label)},UserContext.prototype.store=function(user){this.storage.set(this.label,user.serializeForStorage())},UserContext.prototype.load=function(user){var data=this.storage.get(this.label);if(data)return user.id=data.id,user.data=new UserData(data.data),user.details=data.details||{},user.fresh=data.fresh,user},UserContext}();exports.UserContext=UserContext;var UserData=function(){function UserData(data){void 0===data&&(data={}),this.data={},"object"==typeof data&&(this.data=data,this.deserializeDataTypes())}return UserData.prototype.get=function(key,defaultValue){return this.data.hasOwnProperty(key)?this.data[key]:0===defaultValue||defaultValue===!1?defaultValue:defaultValue||null},UserData.prototype.set=function(key,value){this.data[key]=value},UserData.prototype.unset=function(key){delete this.data[key]},UserData.prototype.deserializeDataTypes=function(){if(this.data)for(var x in this.data)if(this.data[x]&&"object"==typeof this.data[x]&&this.data[x].__Ionic_DataTypeSchema){var name=this.data[x].__Ionic_DataTypeSchema,mapping=data_types_1.DataType.getMapping();mapping[name]&&(this.data[x]=mapping[name].fromStorage(this.data[x].value))}},UserData}();exports.UserData=UserData;var User=function(){function User(deps){this.details={},this.social={},this.service=deps.service,this.fresh=!0,this._unset={},this.data=new UserData}return User.prototype.isAnonymous=function(){return!this.id},User.prototype.get=function(key,defaultValue){return this.data.get(key,defaultValue)},User.prototype.set=function(key,value){return delete this._unset[key],this.data.set(key,value)},User.prototype.unset=function(key){return this._unset[key]=!0,this.data.unset(key)},User.prototype.clear=function(){this.id=null,this.data=new UserData,this.details={},this.fresh=!0},User.prototype.save=function(){return this._unset={},this.service.save()},User.prototype["delete"]=function(){return this.service["delete"]()},User.prototype.load=function(id){return this.service.load(id)},User.prototype.store=function(){this.service.store()},User.prototype.unstore=function(){this.service.unstore()},User.prototype.serializeForAPI=function(){return{email:this.details.email,password:this.details.password,username:this.details.username,image:this.details.image,name:this.details.name,custom:this.data.data}},User.prototype.serializeForStorage=function(){return{id:this.id,data:this.data.data,details:this.details,fresh:this.fresh,social:this.social}},User.prototype.toString=function(){return"<User ["+(this.isAnonymous()?"anonymous":this.id)+"]>"},User}();exports.User=User;var SingleUserService=function(){function SingleUserService(deps,config){void 0===config&&(config={}),this.config=config,this.client=deps.client,this.context=deps.context}return SingleUserService.prototype.current=function(){return this.user||(this.user=this.context.load(new User({service:this}))),this.user||(this.user=new User({service:this})),this.user},SingleUserService.prototype.store=function(){this.context.store(this.current())},SingleUserService.prototype.unstore=function(){this.context.unstore()},SingleUserService.prototype.load=function(id){void 0===id&&(id="self");var deferred=new promise_1.DeferredPromise,user=this.current();return this.client.get("/users/"+id).end(function(err,res){err?deferred.reject(err):(user.id=res.body.data.uuid,user.data=new UserData(res.body.data.custom),user.details=res.body.data.details,user.fresh=!1,user.social=res.body.data.social,deferred.resolve())}),deferred.promise},SingleUserService.prototype["delete"]=function(){var deferred=new promise_1.DeferredPromise;return this.user.isAnonymous()?deferred.reject(new Error("User is anonymous and cannot be deleted from the API.")):(this.unstore(),this.client["delete"]("/users/"+this.user.id).end(function(err,res){err?deferred.reject(err):deferred.resolve()})),deferred.promise},SingleUserService.prototype.save=function(){var _this=this,deferred=new promise_1.DeferredPromise;return this.store(),this.user.isAnonymous()?deferred.reject(new Error("User is anonymous and cannot be updated in the API. Use load(<id>) or signup a user using auth.")):this.client.patch("/users/"+this.user.id).send(this.user.serializeForAPI()).end(function(err,res){err?deferred.reject(err):(_this.user.fresh=!1,deferred.resolve())}),deferred.promise},SingleUserService}();exports.SingleUserService=SingleUserService},{"../promise":398,"./data-types":403}],405:[function(require,module,exports){function noop(){}function isHost(obj){var str={}.toString.call(obj);switch(str){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj)null!=obj[key]&&pushEncodedKeyValuePair(pairs,key,obj[key]);return pairs.join("&")}function pushEncodedKeyValuePair(pairs,key,val){return Array.isArray(val)?val.forEach(function(v){pushEncodedKeyValuePair(pairs,key,v)}):void pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(val))}function parseString(str){for(var parts,pair,obj={},pairs=str.split("&"),i=0,len=pairs.length;i<len;++i)pair=pairs[i],parts=pair.split("="),obj[decodeURIComponent(parts[0])]=decodeURIComponent(parts[1]);return obj}function parseHeader(str){var index,line,field,val,lines=str.split(/\r?\n/),fields={};lines.pop();for(var i=0,len=lines.length;i<len;++i)line=lines[i],index=line.indexOf(":"),field=line.slice(0,index).toLowerCase(),val=trim(line.slice(index+1)),fields[field]=val;return fields}function isJSON(mime){return/[\/+]json\b/.test(mime)}function type(str){return str.split(/ *; */).shift()}function params(str){return reduce(str.split(/ *; */),function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();return key&&val&&(obj[key]=val),obj},{})}function Response(req,options){options=options||{},this.req=req,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function Request(method,url){var self=this;this._query=this._query||[],this.method=method,this.url=url,this.header={},this._header={},this.on("end",function(){var err=null,res=null;try{res=new Response(self)}catch(e){return err=new Error("Parser is unable to parse the response"),err.parse=!0,err.original=e,err.rawResponse=self.xhr&&self.xhr.responseText?self.xhr.responseText:null,err.statusCode=self.xhr&&self.xhr.status?self.xhr.status:null,self.callback(err)}if(self.emit("response",res),err)return self.callback(err,res);if(res.status>=200&&res.status<300)return self.callback(err,res);var new_err=new Error(res.statusText||"Unsuccessful HTTP response");new_err.original=err,new_err.response=res,new_err.status=res.status,self.callback(new_err,res)})}function del(url,fn){var req=request("DELETE",url);return fn&&req.end(fn),req}var root,Emitter=require("emitter"),reduce=require("reduce"),requestBase=require("./request-base"),isObject=require("./is-object");root="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var request=module.exports=require("./request").bind(null,Request);request.getXHR=function(){if(!(!root.XMLHttpRequest||root.location&&"file:"==root.location.protocol&&root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},Response.prototype.get=function(field){return this.header[field.toLowerCase()]},Response.prototype.setHeaderProperties=function(header){var ct=this.header["content-type"]||"";this.type=type(ct);var obj=params(ct);for(var key in obj)this[key]=obj[key]},Response.prototype.parseBody=function(str){var parse=request.parse[this.type];return!parse&&isJSON(this.type)&&(parse=request.parse["application/json"]),parse&&str&&(str.length||str instanceof Object)?parse(str):null},Response.prototype.setStatusProperties=function(status){1223===status&&(status=204);var type=status/100|0;this.status=this.statusCode=status,this.statusType=type,this.info=1==type,this.ok=2==type,this.clientError=4==type,this.serverError=5==type,this.error=(4==type||5==type)&&this.toError(),this.accepted=202==status,this.noContent=204==status,this.badRequest=400==status,this.unauthorized=401==status,this.notAcceptable=406==status,this.notFound=404==status,this.forbidden=403==status},Response.prototype.toError=function(){var req=this.req,method=req.method,url=req.url,msg="cannot "+method+" "+url+" ("+this.status+")",err=new Error(msg);return err.status=this.status,err.method=method,err.url=url,err},request.Response=Response,Emitter(Request.prototype);for(var key in requestBase)Request.prototype[key]=requestBase[key];Request.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr&&this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},Request.prototype.type=function(type){return this.set("Content-Type",request.types[type]||type),this},Request.prototype.responseType=function(val){return this._responseType=val,this},Request.prototype.accept=function(type){return this.set("Accept",request.types[type]||type),this},Request.prototype.auth=function(user,pass,options){switch(options||(options={type:"basic"}),options.type){case"basic":var str=btoa(user+":"+pass);this.set("Authorization","Basic "+str);break;case"auto":this.username=user,this.password=pass}return this},Request.prototype.query=function(val){return"string"!=typeof val&&(val=serialize(val)),val&&this._query.push(val),this},Request.prototype.attach=function(field,file,filename){return this._getFormData().append(field,file,filename||file.name),this},Request.prototype._getFormData=function(){return this._formData||(this._formData=new root.FormData),this._formData},Request.prototype.send=function(data){var obj=isObject(data),type=this._header["content-type"];if(obj&&isObject(this._data))for(var key in data)this._data[key]=data[key];else"string"==typeof data?(type||this.type("form"),type=this._header["content-type"],"application/x-www-form-urlencoded"==type?this._data=this._data?this._data+"&"+data:data:this._data=(this._data||"")+data):this._data=data;return!obj||isHost(data)?this:(type||this.type("json"),this)},Response.prototype.parse=function(fn){return root.console&&console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0"),this.serialize(fn),this},Response.prototype.serialize=function(fn){return this._parser=fn,this},Request.prototype.callback=function(err,res){var fn=this._callback;this.clearTimeout(),fn(err,res)},Request.prototype.crossDomainError=function(){var err=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");err.crossDomain=!0,err.status=this.status,err.method=this.method,err.url=this.url,this.callback(err)},Request.prototype.timeoutError=function(){var timeout=this._timeout,err=new Error("timeout of "+timeout+"ms exceeded");err.timeout=timeout,this.callback(err)},Request.prototype.withCredentials=function(){return this._withCredentials=!0,this},Request.prototype.end=function(fn){var self=this,xhr=this.xhr=request.getXHR(),query=this._query.join("&"),timeout=this._timeout,data=this._formData||this._data;this._callback=fn||noop,xhr.onreadystatechange=function(){if(4==xhr.readyState){var status;try{status=xhr.status}catch(e){status=0}if(0==status){if(self.timedout)return self.timeoutError();if(self.aborted)return;return self.crossDomainError()}self.emit("end")}};var handleProgress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),e.direction="download",self.emit("progress",e)};this.hasListeners("progress")&&(xhr.onprogress=handleProgress);try{xhr.upload&&this.hasListeners("progress")&&(xhr.upload.onprogress=handleProgress)}catch(e){}if(timeout&&!this._timer&&(this._timer=setTimeout(function(){self.timedout=!0,self.abort()},timeout)),query&&(query=request.serializeObject(query),this.url+=~this.url.indexOf("?")?"&"+query:"?"+query),this.username&&this.password?xhr.open(this.method,this.url,!0,this.username,this.password):xhr.open(this.method,this.url,!0),this._withCredentials&&(xhr.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!isHost(data)){var contentType=this._header["content-type"],serialize=this._parser||request.serialize[contentType?contentType.split(";")[0]:""];!serialize&&isJSON(contentType)&&(serialize=request.serialize["application/json"]),serialize&&(data=serialize(data))}for(var field in this.header)null!=this.header[field]&&xhr.setRequestHeader(field,this.header[field]);return this._responseType&&(xhr.responseType=this._responseType),this.emit("request",this),xhr.send("undefined"!=typeof data?data:null),this},request.Request=Request,request.get=function(url,data,fn){var req=request("GET",url);return"function"==typeof data&&(fn=data,data=null),data&&req.query(data),fn&&req.end(fn),req},request.head=function(url,data,fn){var req=request("HEAD",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.del=del,request["delete"]=del,request.patch=function(url,data,fn){var req=request("PATCH",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.post=function(url,data,fn){var req=request("POST",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.put=function(url,data,fn){var req=request("PUT",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req}},{"./is-object":406,"./request":408,"./request-base":407,emitter:409,reduce:410}],406:[function(require,module,exports){function isObject(obj){return null!=obj&&"object"==typeof obj}module.exports=isObject},{}],407:[function(require,module,exports){var isObject=require("./is-object");exports.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},exports.parse=function(fn){return this._parser=fn,this},exports.timeout=function(ms){return this._timeout=ms,this},exports.then=function(fulfill,reject){return this.end(function(err,res){err?reject(err):fulfill(res)})},exports.use=function(fn){return fn(this),this},exports.get=function(field){return this._header[field.toLowerCase()]},exports.getHeader=exports.get,exports.set=function(field,val){if(isObject(field)){for(var key in field)this.set(key,field[key]);return this}return this._header[field.toLowerCase()]=val,this.header[field]=val,this},exports.unset=function(field){return delete this._header[field.toLowerCase()],delete this.header[field],this},exports.field=function(name,val){return this._getFormData().append(name,val),this}},{"./is-object":406}],408:[function(require,module,exports){function request(RequestConstructor,method,url){return"function"==typeof url?new RequestConstructor("GET",method).end(url):2==arguments.length?new RequestConstructor("GET",method):new RequestConstructor(method,url)}module.exports=request},{}],409:[function(require,module,exports){function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}"undefined"!=typeof module&&(module.exports=Emitter),Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){this.off(event,on),fn.apply(this,arguments)}return on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks["$"+event],this;for(var cb,i=0;i<callbacks.length;i++)if(cb=callbacks[i],cb===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks["$"+event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks["$"+event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],410:[function(require,module,exports){module.exports=function(arr,fn,initial){for(var idx=0,len=arr.length,curr=3==arguments.length?initial:arr[idx++];idx<len;)curr=fn.call(null,curr,arr[idx],++idx,arr);return curr}},{}],411:[function(require,module,exports){"use strict";function tokenNotExpired(tokenName,jwt){void 0===tokenName&&(tokenName="id_token");var token=jwt||localStorage.getItem(tokenName),jwtHelper=new JwtHelper;return token&&!jwtHelper.isTokenExpired(token,null)}function provideAuth(config){return void 0===config&&(config={}),[core_1.provide(AuthHttp,{useFactory:function(http,options){return new AuthHttp(new AuthConfig(config),http,options)},deps:[http_1.Http,http_1.RequestOptions]})]}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),http_1=require("@angular/http"),Observable_1=require("rxjs/Observable"),AuthConfig=function(){function AuthConfig(config){var _this=this;void 0===config&&(config={}),this.headerName=config.headerName||"Authorization",config.headerPrefix?this.headerPrefix=config.headerPrefix+" ":config.noTokenScheme?this.headerPrefix="":this.headerPrefix="Bearer ",this.tokenName=config.tokenName||"id_token",this.noJwtError=config.noJwtError||!1,this.tokenGetter=config.tokenGetter||function(){return localStorage.getItem(_this.tokenName)},this.globalHeaders=config.globalHeaders||[],this.noTokenScheme=config.noTokenScheme||!1}return AuthConfig.prototype.getConfig=function(){return{headerName:this.headerName,headerPrefix:this.headerPrefix,tokenName:this.tokenName,tokenGetter:this.tokenGetter,noJwtError:this.noJwtError,noTokenScheme:this.noTokenScheme,globalHeaders:this.globalHeaders}},AuthConfig}();exports.AuthConfig=AuthConfig;var AuthHttp=function(){function AuthHttp(options,http,_defOpts){var _this=this;this.http=http,this._defOpts=_defOpts,this._config=options.getConfig(),this.tokenStream=new Observable_1.Observable(function(obs){obs.next(_this._config.tokenGetter())})}return AuthHttp.prototype.setGlobalHeaders=function(headers,request){request.headers||(request.headers=new http_1.Headers),headers.forEach(function(header){var key=Object.keys(header)[0],headerValue=header[key];request.headers.set(key,headerValue)})},AuthHttp.prototype.request=function(url,options){if("string"==typeof url)return this.get(url,options);var req=url;if(tokenNotExpired(null,this._config.tokenGetter()))req.headers.set(this._config.headerName,this._config.headerPrefix+this._config.tokenGetter());else if(!this._config.noJwtError)return new Observable_1.Observable(function(obs){obs.error(new Error("No JWT present or has expired"))});return this.http.request(req)},AuthHttp.prototype.mergeOptions=function(defaultOpts,providedOpts){var newOptions=defaultOpts||new http_1.RequestOptions;return this._config.globalHeaders&&this.setGlobalHeaders(this._config.globalHeaders,providedOpts),newOptions=newOptions.merge(new http_1.RequestOptions(providedOpts))},AuthHttp.prototype.requestHelper=function(requestArgs,additionalOptions){var options=new http_1.RequestOptions(requestArgs);return additionalOptions&&(options=options.merge(additionalOptions)),this.request(new http_1.Request(this.mergeOptions(this._defOpts,options)))},AuthHttp.prototype.get=function(url,options){return this.requestHelper({url:url,method:http_1.RequestMethod.Get},options)},AuthHttp.prototype.post=function(url,body,options){return this.requestHelper({url:url,body:body,method:http_1.RequestMethod.Post},options)},AuthHttp.prototype.put=function(url,body,options){return this.requestHelper({url:url,body:body,method:http_1.RequestMethod.Put},options)},AuthHttp.prototype["delete"]=function(url,options){return this.requestHelper({url:url,method:http_1.RequestMethod.Delete},options)},AuthHttp.prototype.patch=function(url,body,options){return this.requestHelper({url:url,body:body,method:http_1.RequestMethod.Patch},options)},AuthHttp.prototype.head=function(url,options){return this.requestHelper({url:url,method:http_1.RequestMethod.Head},options)},AuthHttp=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[AuthConfig,http_1.Http,http_1.RequestOptions])],AuthHttp)}();exports.AuthHttp=AuthHttp;var JwtHelper=function(){function JwtHelper(){}return JwtHelper.prototype.urlBase64Decode=function(str){var output=str.replace(/-/g,"+").replace(/_/g,"/");switch(output.length%4){case 0:break;case 2:output+="==";break;case 3:output+="=";break;default:throw"Illegal base64url string!"}return decodeURIComponent(escape("undefined"==typeof window?atob(output):window.atob(output)))},JwtHelper.prototype.decodeToken=function(token){var parts=token.split(".");if(3!==parts.length)throw new Error("JWT must have 3 parts");var decoded=this.urlBase64Decode(parts[1]);if(!decoded)throw new Error("Cannot decode the token");return JSON.parse(decoded)},JwtHelper.prototype.getTokenExpirationDate=function(token){var decoded;if(decoded=this.decodeToken(token),"undefined"==typeof decoded.exp)return null;var date=new Date(0);return date.setUTCSeconds(decoded.exp),date},JwtHelper.prototype.isTokenExpired=function(token,offsetSeconds){var date=this.getTokenExpirationDate(token);return offsetSeconds=offsetSeconds||0,null!==date&&!(date.valueOf()>(new Date).valueOf()+1e3*offsetSeconds)},JwtHelper}();exports.JwtHelper=JwtHelper,exports.tokenNotExpired=tokenNotExpired,exports.AUTH_PROVIDERS=[core_1.provide(AuthHttp,{useFactory:function(http,options){return new AuthHttp(new AuthConfig,http,options)},deps:[http_1.Http,http_1.RequestOptions]})],exports.provideAuth=provideAuth},{"@angular/core":167,"@angular/http":294,"rxjs/Observable":629}],412:[function(require,module,exports){"use strict";var dom_1=require("../util/dom"),util_1=require("../util/util"),Animation=function(){function Animation(ele,opts){void 0===opts&&(opts={}),this._c=[],this._el=[],this._fx={},this._dur=null,this._easing=null,this._bfSty={},this._bfAdd=[],this._bfRmv=[],this._afSty={},this._afAdd=[],this._afRmv=[],this._bfReadFns=[],this._bfWriteFns=[],this._fFns=[],this._fOnceFns=[],this._rv=!1,this._lastUpd=0,this.isPlaying=!1,this.hasTween=!1,this.hasCompleted=!1,this.element(ele),this._opts=util_1.assign({renderDelay:24},opts)}return Animation.prototype._reset=function(){this._fx={},this._bfSty={},this._afSty={},this._el.length=this._c.length=this._bfAdd.length=this._bfRmv.length=this._afAdd.length=this._afRmv.length=this._fFns.length=this._bfReadFns.length=this._bfWriteFns.length=this._fOnceFns.length=0,this._easing=this._dur=null},Animation.prototype.element=function(ele){var i;if(ele)if("string"==typeof ele)for(ele=document.querySelectorAll(ele),i=0;i<ele.length;i++)this._addEle(ele[i]);else if(ele.length)for(i=0;i<ele.length;i++)this._addEle(ele[i]);else this._addEle(ele);return this},Animation.prototype._addEle=function(ele){ele.nativeElement&&(ele=ele.nativeElement),1===ele.nodeType&&this._el.push(ele)},Animation.prototype.parent=function(parentAnimation){return this._parent=parentAnimation,this},Animation.prototype.add=function(childAnimation){return childAnimation.parent(this),this._c.push(childAnimation),this},Animation.prototype.getDuration=function(){return null!==this._dur?this._dur:this._parent&&this._parent.getDuration()||0},Animation.prototype.duration=function(milliseconds){return this._dur=milliseconds,this},Animation.prototype.getEasing=function(){return null!==this._easing?this._easing:this._parent&&this._parent.getEasing()||null},Animation.prototype.easing=function(name){return this._easing=name,this},Animation.prototype.from=function(prop,val){return this._addProp("from",prop,val),this},Animation.prototype.to=function(prop,val,clearProperyAfterTransition){var fx=this._addProp("to",prop,val);return clearProperyAfterTransition&&this.after.clearStyles([fx.trans?dom_1.CSS.transform:prop]),this},Animation.prototype.fromTo=function(prop,fromVal,toVal,clearProperyAfterTransition){return this.from(prop,fromVal).to(prop,toVal,clearProperyAfterTransition)},Animation.prototype._addProp=function(state,prop,val){var fxProp=this._fx[prop];fxProp||(fxProp=this._fx[prop]={trans:"undefined"!=typeof TRANSFORMS[prop],wc:""},fxProp.trans?fxProp.wc=dom_1.CSS.transform:"opacity"===prop&&(fxProp.wc=prop));var fxState=fxProp[state]={val:val,num:null,unit:""};if("string"==typeof val&&val.indexOf(" ")<0){var r=val.match(CSS_VALUE_REGEX),num=parseFloat(r[1]);isNaN(num)||(fxState.num=num),fxState.unit=r[0]!==r[2]?r[2]:""}else"number"==typeof val&&(fxState.num=val);return fxProp},Object.defineProperty(Animation.prototype,"before",{get:function(){var _this=this;return{addClass:function(className){return _this._bfAdd.push(className),_this},removeClass:function(className){return _this._bfRmv.push(className),_this},setStyles:function(styles){return _this._bfSty=styles,_this},clearStyles:function(propertyNames){for(var i=0;i<propertyNames.length;i++)_this._bfSty[propertyNames[i]]="";return _this},addDomReadFn:function(domReadFn){return _this._bfReadFns.push(domReadFn),_this},addDomWriteFn:function(domWriteFn){return _this._bfWriteFns.push(domWriteFn),_this}}},enumerable:!0,configurable:!0}),Object.defineProperty(Animation.prototype,"after",{get:function(){var _this=this;return{addClass:function(className){return _this._afAdd.push(className),_this},removeClass:function(className){return _this._afRmv.push(className),_this},setStyles:function(styles){return _this._afSty=styles,_this},clearStyles:function(propertyNames){for(var i=0;i<propertyNames.length;i++)_this._afSty[propertyNames[i]]="";return _this}}},enumerable:!0,configurable:!0}),Animation.prototype.play=function(opts){void 0===opts&&(opts={});var self=this,dur=this._dur;util_1.isDefined(opts.duration)&&(dur=opts.duration),self.hasTween=!1,self.hasCompleted=!1,self.isPlaying=!0,self._clearAsync(),dur>30?(self._progress(0),self._willChg(!0),self._asyncEnd(dur,!0),dom_1.rafFrames(self._opts.renderDelay/16,function(){self._beforeReadFn(),self._beforeWriteFn(),self._before(),self._setTrans(self._dur,!1),dom_1.rafFrames(2,function(){self._progress(1)})})):dom_1.rafFrames(self._opts.renderDelay/16,function(){self._beforeReadFn(),self._beforeWriteFn(),self._before(),self._progress(1),self._after(),self._didFinish(!0)})},Animation.prototype.stop=function(opts){void 0===opts&&(opts={});var self=this,duration=util_1.isDefined(opts.duration)?opts.duration:0,stepValue=util_1.isDefined(opts.stepValue)?opts.stepValue:1;this._clearAsync(),self._progress(stepValue),duration>30?(self._setTrans(duration,!0),self._asyncEnd(duration,!1)):(self._after(),self._didFinish(!1))},Animation.prototype._asyncEnd=function(duration,shouldComplete){function onTransitionEnd(ev){self._clearAsync(),self._after(),self._willChg(!1),self._didFinish(shouldComplete)}function onTransitionFallback(){self._tmr=0,self._clearAsync(),self._setTrans(0,!0),self._progress(1),self._after(),self._willChg(!1),self._didFinish(shouldComplete)}var self=this;self._unregTrans=dom_1.transitionEnd(self._transEl(),onTransitionEnd),self._tmr=dom_1.nativeTimeout(onTransitionFallback,duration+400)},Animation.prototype._clearAsync=function(){this._unregTrans&&this._unregTrans(),this._tmr&&(clearTimeout(this._tmr),this._tmr=0)},Animation.prototype._progress=function(stepValue){var i,prop,fx,val,transforms,tweenEffect;for(i=0;i<this._c.length;i++)this._c[i]._progress(stepValue);if(this._el.length){this._rv&&(stepValue=stepValue*-1+1),transforms=[];for(prop in this._fx)if(fx=this._fx[prop],fx.from&&fx.to&&(tweenEffect=fx.from.num!==fx.to.num,tweenEffect&&(this.hasTween=!0),val=0===stepValue?fx.from.val:1===stepValue?fx.to.val:tweenEffect?(fx.to.num-fx.from.num)*stepValue+fx.from.num+fx.to.unit:null,null!==val))if(fx.trans)transforms.push(prop+"("+val+")");else for(i=0;i<this._el.length;i++)this._el[i].style[prop]=val;if(transforms.length)for(SUPPORTS_WILL_CHANGE||transforms.push("translateZ(0px)"),i=0;i<this._el.length;i++)this._el[i].style[dom_1.CSS.transform]=transforms.join(" ");
}},Animation.prototype._setTrans=function(duration,forcedLinearEasing){var i,easing;for(i=0;i<this._c.length;i++)this._c[i]._setTrans(duration,forcedLinearEasing);if(Object.keys(this._fx).length)for(easing=forcedLinearEasing?"linear":this.getEasing(),i=0;i<this._el.length;i++)duration>0?(this._el[i].style[dom_1.CSS.transition]="",this._el[i].style[dom_1.CSS.transitionDuration]=duration+"ms",easing&&(this._el[i].style[dom_1.CSS.transitionTimingFn]=easing)):this._el[i].style[dom_1.CSS.transition]="none"},Animation.prototype._willChg=function(addWillChange){var i,wc,prop;for(i=0;i<this._c.length;i++)this._c[i]._willChg(addWillChange);if(SUPPORTS_WILL_CHANGE){if(wc=[],addWillChange)for(prop in this._fx)""!==this._fx[prop].wc&&("webkitTransform"===this._fx[prop].wc?wc.push("transform","-webkit-transform"):wc.push(this._fx[prop].wc));for(i=0;i<this._el.length;i++)this._el[i].style.willChange=wc.join(",")}},Animation.prototype._before=function(){var i,j,prop,ele;for(i=0;i<this._c.length;i++)this._c[i]._before();if(!this._rv)for(i=0;i<this._el.length;i++){for(ele=this._el[i],j=0;j<this._bfAdd.length;j++)ele.classList.add(this._bfAdd[j]);for(j=0;j<this._bfRmv.length;j++)ele.classList.remove(this._bfRmv[j]);for(prop in this._bfSty)ele.style[prop]=this._bfSty[prop]}},Animation.prototype._beforeReadFn=function(){var i;for(i=0;i<this._c.length;i++)this._c[i]._beforeReadFn();for(i=0;i<this._bfReadFns.length;i++)this._bfReadFns[i]()},Animation.prototype._beforeWriteFn=function(){var i;for(i=0;i<this._c.length;i++)this._c[i]._beforeWriteFn();for(i=0;i<this._bfReadFns.length;i++)this._bfWriteFns[i]()},Animation.prototype._after=function(){var i,j,prop,ele;for(i=0;i<this._c.length;i++)this._c[i]._after();for(i=0;i<this._el.length;i++)if(ele=this._el[i],ele.style[dom_1.CSS.transitionDuration]="",ele.style[dom_1.CSS.transitionTimingFn]="",this._rv){for(j=0;j<this._bfAdd.length;j++)ele.classList.remove(this._bfAdd[j]);for(j=0;j<this._bfRmv.length;j++)ele.classList.add(this._bfRmv[j]);for(prop in this._bfSty)ele.style[prop]=""}else{for(j=0;j<this._afAdd.length;j++)ele.classList.add(this._afAdd[j]);for(j=0;j<this._afRmv.length;j++)ele.classList.remove(this._afRmv[j]);for(prop in this._afSty)ele.style[prop]=this._afSty[prop]}},Animation.prototype.progressStart=function(){for(var i=0;i<this._c.length;i++)this._c[i].progressStart();this._willChg(!0),this._before(),this._setTrans(0,!0)},Animation.prototype.progressStep=function(stepValue){var now=Date.now();if(now-16>this._lastUpd){this._lastUpd=now,stepValue=Math.min(1,Math.max(0,stepValue));for(var i=0;i<this._c.length;i++)this._c[i].progressStep(stepValue);this._rv&&(stepValue=stepValue*-1+1),this._progress(stepValue)}},Animation.prototype.progressEnd=function(shouldComplete,currentStepValue){for(var i=0;i<this._c.length;i++)this._c[i].progressEnd(shouldComplete,currentStepValue);this._progress(shouldComplete?1:0),currentStepValue<.05||currentStepValue>.95?(this._after(),this._willChg(!1),this._didFinish(shouldComplete)):(this._asyncEnd(64,shouldComplete),this._setTrans(64,!0))},Animation.prototype.onFinish=function(callback,onceTimeCallback,clearOnFinishCallacks){return void 0===onceTimeCallback&&(onceTimeCallback=!1),void 0===clearOnFinishCallacks&&(clearOnFinishCallacks=!1),clearOnFinishCallacks&&(this._fFns=[],this._fOnceFns=[]),onceTimeCallback?this._fOnceFns.push(callback):this._fFns.push(callback),this},Animation.prototype._didFinish=function(hasCompleted){this.isPlaying=!1,this.hasCompleted=hasCompleted;var i;for(i=0;i<this._fFns.length;i++)this._fFns[i](this);for(i=0;i<this._fOnceFns.length;i++)this._fOnceFns[i](this);this._fOnceFns=[]},Animation.prototype.reverse=function(shouldReverse){void 0===shouldReverse&&(shouldReverse=!0);for(var i=0;i<this._c.length;i++)this._c[i].reverse(shouldReverse);return this._rv=shouldReverse,this},Animation.prototype.destroy=function(removeElement){var i,ele;for(i=0;i<this._c.length;i++)this._c[i].destroy(removeElement);if(removeElement)for(i=0;i<this._el.length;i++)ele=this._el[i],ele.parentNode&&ele.parentNode.removeChild(ele);this._clearAsync(),this._reset()},Animation.prototype._transEl=function(){var i,targetEl;for(i=0;i<this._c.length;i++)if(targetEl=this._c[i]._transEl())return targetEl;return this.hasTween&&this._el.length?this._el[0]:null},Animation.create=function(name,opts){void 0===opts&&(opts={});var AnimationClass=AnimationRegistry[name];return AnimationClass||(AnimationClass=Animation),new AnimationClass(null,opts)},Animation.register=function(name,AnimationClass){AnimationRegistry[name]=AnimationClass},Animation}();exports.Animation=Animation;var TRANSFORMS={translateX:1,translateY:1,translateZ:1,scale:1,scaleX:1,scaleY:1,scaleZ:1,rotate:1,rotateX:1,rotateY:1,rotateZ:1,skewX:1,skewY:1,perspective:1},CSS_VALUE_REGEX=/(^-?\d*\.?\d*)(.*)/,SUPPORTS_WILL_CHANGE="undefined"!=typeof document.documentElement.style.willChange,AnimationRegistry={}},{"../util/dom":527,"../util/util":535}],413:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},animation_1=require("./animation"),SlideIn=function(_super){function SlideIn(element){_super.call(this,element),this.easing("cubic-bezier(0.1,0.7,0.1,1)").duration(400).fromTo("translateY","100%","0%")}return __extends(SlideIn,_super),SlideIn}(animation_1.Animation);animation_1.Animation.register("slide-in",SlideIn);var SlideOut=function(_super){function SlideOut(element){_super.call(this,element),this.easing("ease-out").duration(250).fromTo("translateY","0%","100%")}return __extends(SlideOut,_super),SlideOut}(animation_1.Animation);animation_1.Animation.register("slide-out",SlideOut);var FadeIn=function(_super){function FadeIn(element){_super.call(this,element),this.easing("ease-in").duration(400).fromTo("opacity",.001,1,!0)}return __extends(FadeIn,_super),FadeIn}(animation_1.Animation);animation_1.Animation.register("fade-in",FadeIn);var FadeOut=function(_super){function FadeOut(element){_super.call(this,element),this.easing("ease-out").duration(250).fromTo("opacity",.999,0)}return __extends(FadeOut,_super),FadeOut}(animation_1.Animation);animation_1.Animation.register("fade-out",FadeOut)},{"./animation":412}],414:[function(require,module,exports){"use strict";var action_sheet_1=require("./components/action-sheet/action-sheet");exports.ActionSheet=action_sheet_1.ActionSheet,exports.ActionSheetController=action_sheet_1.ActionSheetController;var alert_1=require("./components/alert/alert");exports.Alert=alert_1.Alert,exports.AlertController=alert_1.AlertController;var app_1=require("./components/app/app");exports.App=app_1.App;var backdrop_1=require("./components/backdrop/backdrop");exports.Backdrop=backdrop_1.Backdrop;var badge_1=require("./components/badge/badge");exports.Badge=badge_1.Badge;var button_1=require("./components/button/button");exports.Button=button_1.Button;var checkbox_1=require("./components/checkbox/checkbox");exports.Checkbox=checkbox_1.Checkbox;var content_1=require("./components/content/content");exports.Content=content_1.Content;var datetime_1=require("./components/datetime/datetime");exports.DateTime=datetime_1.DateTime;var icon_1=require("./components/icon/icon");exports.Icon=icon_1.Icon;var img_1=require("./components/img/img");exports.Img=img_1.Img;var infinite_scroll_1=require("./components/infinite-scroll/infinite-scroll");exports.InfiniteScroll=infinite_scroll_1.InfiniteScroll;var infinite_scroll_content_1=require("./components/infinite-scroll/infinite-scroll-content");exports.InfiniteScrollContent=infinite_scroll_content_1.InfiniteScrollContent;var input_1=require("./components/input/input");exports.TextArea=input_1.TextArea,exports.TextInput=input_1.TextInput;var item_1=require("./components/item/item");exports.Item=item_1.Item;var item_reorder_1=require("./components/item/item-reorder");exports.ItemReorder=item_reorder_1.ItemReorder;var item_sliding_1=require("./components/item/item-sliding");exports.ItemSliding=item_sliding_1.ItemSliding,exports.ItemOptions=item_sliding_1.ItemOptions;var label_1=require("./components/label/label");exports.Label=label_1.Label;var list_1=require("./components/list/list");exports.List=list_1.List,exports.ListHeader=list_1.ListHeader;var loading_1=require("./components/loading/loading");exports.Loading=loading_1.Loading,exports.LoadingController=loading_1.LoadingController;var menu_1=require("./components/menu/menu");exports.Menu=menu_1.Menu;var menu_close_1=require("./components/menu/menu-close");exports.MenuClose=menu_close_1.MenuClose;var menu_controller_1=require("./components/menu/menu-controller");exports.MenuController=menu_controller_1.MenuController;var menu_toggle_1=require("./components/menu/menu-toggle");exports.MenuToggle=menu_toggle_1.MenuToggle;var menu_types_1=require("./components/menu/menu-types");exports.MenuType=menu_types_1.MenuType;var modal_1=require("./components/modal/modal");exports.Modal=modal_1.Modal,exports.ModalController=modal_1.ModalController;var nav_1=require("./components/nav/nav");exports.Nav=nav_1.Nav;var nav_controller_1=require("./components/nav/nav-controller");exports.NavController=nav_controller_1.NavController;var nav_params_1=require("./components/nav/nav-params");exports.NavParams=nav_params_1.NavParams;var nav_pop_1=require("./components/nav/nav-pop");exports.NavPop=nav_pop_1.NavPop;var nav_push_1=require("./components/nav/nav-push");exports.NavPush=nav_push_1.NavPush;var view_controller_1=require("./components/nav/view-controller");exports.ViewController=view_controller_1.ViewController;var navbar_1=require("./components/navbar/navbar");exports.Navbar=navbar_1.Navbar,exports.NavbarTemplate=navbar_1.NavbarTemplate;var option_1=require("./components/option/option");exports.Option=option_1.Option;var picker_1=require("./components/picker/picker");exports.Picker=picker_1.Picker,exports.PickerController=picker_1.PickerController;var popover_1=require("./components/popover/popover");exports.Popover=popover_1.Popover,exports.PopoverController=popover_1.PopoverController;var radio_button_1=require("./components/radio/radio-button");exports.RadioButton=radio_button_1.RadioButton;var radio_group_1=require("./components/radio/radio-group");exports.RadioGroup=radio_group_1.RadioGroup;var range_1=require("./components/range/range");exports.Range=range_1.Range,exports.RangeKnob=range_1.RangeKnob;var refresher_1=require("./components/refresher/refresher");exports.Refresher=refresher_1.Refresher;var refresher_content_1=require("./components/refresher/refresher-content");exports.RefresherContent=refresher_content_1.RefresherContent;var scroll_1=require("./components/scroll/scroll");exports.Scroll=scroll_1.Scroll;var searchbar_1=require("./components/searchbar/searchbar");exports.Searchbar=searchbar_1.Searchbar;var segment_1=require("./components/segment/segment");exports.Segment=segment_1.Segment,exports.SegmentButton=segment_1.SegmentButton;var select_1=require("./components/select/select");exports.Select=select_1.Select;var show_hide_when_1=require("./components/show-hide-when/show-hide-when");exports.ShowWhen=show_hide_when_1.ShowWhen,exports.HideWhen=show_hide_when_1.HideWhen,exports.DisplayWhen=show_hide_when_1.DisplayWhen;var slides_1=require("./components/slides/slides");exports.Slides=slides_1.Slides,exports.Slide=slides_1.Slide,exports.SlideLazy=slides_1.SlideLazy;var spinner_1=require("./components/spinner/spinner");exports.Spinner=spinner_1.Spinner;var tab_1=require("./components/tabs/tab");exports.Tab=tab_1.Tab;var tabs_1=require("./components/tabs/tabs");exports.Tabs=tabs_1.Tabs;var tap_click_1=require("./components/tap-click/tap-click");exports.TapClick=tap_click_1.TapClick,exports.isActivatable=tap_click_1.isActivatable;var toast_1=require("./components/toast/toast");exports.Toast=toast_1.Toast,exports.ToastController=toast_1.ToastController;var toggle_1=require("./components/toggle/toggle");exports.Toggle=toggle_1.Toggle;var toolbar_1=require("./components/toolbar/toolbar");exports.Toolbar=toolbar_1.Toolbar,exports.ToolbarBase=toolbar_1.ToolbarBase,exports.Header=toolbar_1.Header,exports.Footer=toolbar_1.Footer;var virtual_scroll_1=require("./components/virtual-scroll/virtual-scroll");exports.VirtualScroll=virtual_scroll_1.VirtualScroll},{"./components/action-sheet/action-sheet":416,"./components/alert/alert":418,"./components/app/app":419,"./components/backdrop/backdrop":420,"./components/badge/badge":421,"./components/button/button":422,"./components/checkbox/checkbox":423,"./components/content/content":424,"./components/datetime/datetime":425,"./components/icon/icon":426,"./components/img/img":427,"./components/infinite-scroll/infinite-scroll":429,"./components/infinite-scroll/infinite-scroll-content":428,"./components/input/input":431,"./components/item/item":438,"./components/item/item-reorder":435,"./components/item/item-sliding":437,"./components/label/label":439,"./components/list/list":440,"./components/loading/loading":442,"./components/menu/menu":448,"./components/menu/menu-close":443,"./components/menu/menu-controller":444,"./components/menu/menu-toggle":446,"./components/menu/menu-types":447,"./components/modal/modal":450,"./components/nav/nav":458,"./components/nav/nav-controller":452,"./components/nav/nav-params":454,"./components/nav/nav-pop":455,"./components/nav/nav-push":457,"./components/nav/view-controller":460,"./components/navbar/navbar":461,"./components/option/option":462,"./components/picker/picker":464,"./components/popover/popover":466,"./components/radio/radio-button":467,"./components/radio/radio-group":468,"./components/range/range":469,"./components/refresher/refresher":471,"./components/refresher/refresher-content":470,"./components/scroll/scroll":472,"./components/searchbar/searchbar":473,"./components/segment/segment":474,"./components/select/select":475,"./components/show-hide-when/show-hide-when":476,"./components/slides/slides":477,"./components/spinner/spinner":479,"./components/tabs/tab":482,"./components/tabs/tabs":483,"./components/tap-click/tap-click":486,"./components/toast/toast":488,"./components/toggle/toggle":489,"./components/toolbar/toolbar":492,"./components/virtual-scroll/virtual-scroll":494}],415:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),common_1=require("@angular/common"),animation_1=require("../../animations/animation"),backdrop_1=require("../backdrop/backdrop"),config_1=require("../../config/config"),form_1=require("../../util/form"),icon_1=require("../icon/icon"),key_1=require("../../util/key"),nav_params_1=require("../nav/nav-params"),transition_1=require("../../transitions/transition"),view_controller_1=require("../nav/view-controller"),ActionSheetCmp=function(){function ActionSheetCmp(_viewCtrl,_config,_elementRef,_form,params,renderer){this._viewCtrl=_viewCtrl,this._config=_config,this._elementRef=_elementRef,this._form=_form,this.d=params.data,this.d.cssClass&&renderer.setElementClass(_elementRef.nativeElement,this.d.cssClass,!0),this.id=++actionSheetIds,this.d.title&&(this.hdrId="acst-hdr-"+this.id),this.d.subTitle&&(this.descId="acst-subhdr-"+this.id)}return ActionSheetCmp.prototype.ionViewLoaded=function(){var _this=this,buttons=[];this.d.buttons.forEach(function(button){"string"==typeof button&&(button={text:button}),button.cssClass||(button.cssClass=""),"cancel"===button.role?_this.d.cancelButton=button:("destructive"===button.role?button.cssClass=(button.cssClass+" "||"")+"action-sheet-destructive":"selected"===button.role&&(button.cssClass=(button.cssClass+" "||"")+"action-sheet-selected"),buttons.push(button))}),this.d.buttons=buttons},ActionSheetCmp.prototype.ionViewDidEnter=function(){this._form.focusOut();var focusableEle=this._elementRef.nativeElement.querySelector("button");focusableEle&&focusableEle.focus(),this.enabled=!0},ActionSheetCmp.prototype._keyUp=function(ev){this.enabled&&this._viewCtrl.isLast()&&ev.keyCode===key_1.Key.ESCAPE&&this.bdClick()},ActionSheetCmp.prototype.click=function(button,dismissDelay){var _this=this;if(this.enabled){var shouldDismiss=!0;button.handler&&button.handler()===!1&&(shouldDismiss=!1),shouldDismiss&&setTimeout(function(){_this.dismiss(button.role)},dismissDelay||this._config.get("pageTransitionDelay"))}},ActionSheetCmp.prototype.bdClick=function(){this.enabled&&this.d.enableBackdropDismiss&&(this.d.cancelButton?this.click(this.d.cancelButton,1):this.dismiss("backdrop"))},ActionSheetCmp.prototype.dismiss=function(role){return this._viewCtrl.dismiss(null,role)},__decorate([core_1.HostListener("body:keyup",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[KeyboardEvent]),__metadata("design:returntype",void 0)],ActionSheetCmp.prototype,"_keyUp",null),ActionSheetCmp=__decorate([core_1.Component({selector:"ion-action-sheet",template:'\n    <ion-backdrop (click)="bdClick()"></ion-backdrop>\n    <div class="action-sheet-wrapper">\n      <div class="action-sheet-container">\n        <div class="action-sheet-group">\n          <div class="action-sheet-title" id="{{hdrId}}" *ngIf="d.title">{{d.title}}</div>\n          <div class="action-sheet-sub-title" id="{{descId}}" *ngIf="d.subTitle">{{d.subTitle}}</div>\n          <button category="action-sheet-button" (click)="click(b)" *ngFor="let b of d.buttons" class="disable-hover" [ngClass]="b.cssClass">\n            <ion-icon [name]="b.icon" *ngIf="b.icon" class="action-sheet-icon"></ion-icon>\n            {{b.text}}\n          </button>\n        </div>\n        <div class="action-sheet-group" *ngIf="d.cancelButton">\n          <button category="action-sheet-button" (click)="click(d.cancelButton)" class="action-sheet-cancel disable-hover" [ngClass]="d.cancelButton.cssClass">\n            <ion-icon [name]="d.cancelButton.icon" *ngIf="d.cancelButton.icon" class="action-sheet-icon"></ion-icon>\n            {{d.cancelButton.text}}\n          </button>\n        </div>\n      </div>\n    </div>\n    ',directives:[backdrop_1.Backdrop,icon_1.Icon,common_1.NgClass,common_1.NgFor,common_1.NgIf],host:{role:"dialog","[attr.aria-labelledby]":"hdrId","[attr.aria-describedby]":"descId"},encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[view_controller_1.ViewController,config_1.Config,core_1.ElementRef,form_1.Form,nav_params_1.NavParams,core_1.Renderer])],ActionSheetCmp)}();exports.ActionSheetCmp=ActionSheetCmp;var ActionSheetSlideIn=function(_super){function ActionSheetSlideIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".action-sheet-wrapper"));backdrop.fromTo("opacity",.01,.4),wrapper.fromTo("translateY","100%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(backdrop).add(wrapper)}return __extends(ActionSheetSlideIn,_super),ActionSheetSlideIn}(transition_1.Transition);transition_1.Transition.register("action-sheet-slide-in",ActionSheetSlideIn);var ActionSheetSlideOut=function(_super){function ActionSheetSlideOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".action-sheet-wrapper"));backdrop.fromTo("opacity",.4,0),wrapper.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(300).add(backdrop).add(wrapper)}return __extends(ActionSheetSlideOut,_super),ActionSheetSlideOut}(transition_1.Transition);transition_1.Transition.register("action-sheet-slide-out",ActionSheetSlideOut);var ActionSheetMdSlideIn=function(_super){function ActionSheetMdSlideIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".action-sheet-wrapper"));backdrop.fromTo("opacity",.01,.26),wrapper.fromTo("translateY","100%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(backdrop).add(wrapper)}return __extends(ActionSheetMdSlideIn,_super),ActionSheetMdSlideIn}(transition_1.Transition);transition_1.Transition.register("action-sheet-md-slide-in",ActionSheetMdSlideIn);var ActionSheetMdSlideOut=function(_super){function ActionSheetMdSlideOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".action-sheet-wrapper"));backdrop.fromTo("opacity",.26,0),wrapper.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(450).add(backdrop).add(wrapper)}return __extends(ActionSheetMdSlideOut,_super),ActionSheetMdSlideOut}(transition_1.Transition);transition_1.Transition.register("action-sheet-md-slide-out",ActionSheetMdSlideOut);var ActionSheetWpSlideIn=function(_super){function ActionSheetWpSlideIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".action-sheet-wrapper"));backdrop.fromTo("opacity",.01,.16),wrapper.fromTo("translateY","100%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(backdrop).add(wrapper)}return __extends(ActionSheetWpSlideIn,_super),ActionSheetWpSlideIn}(transition_1.Transition);transition_1.Transition.register("action-sheet-wp-slide-in",ActionSheetWpSlideIn);var ActionSheetWpSlideOut=function(_super){function ActionSheetWpSlideOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".action-sheet-wrapper"));backdrop.fromTo("opacity",.1,0),wrapper.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(450).add(backdrop).add(wrapper)}return __extends(ActionSheetWpSlideOut,_super),ActionSheetWpSlideOut}(transition_1.Transition);transition_1.Transition.register("action-sheet-wp-slide-out",ActionSheetWpSlideOut);var actionSheetIds=-1},{"../../animations/animation":412,"../../config/config":497,"../../transitions/transition":520,"../../util/form":530,"../../util/key":531,"../backdrop/backdrop":420,"../icon/icon":426,"../nav/nav-params":454,"../nav/view-controller":460,"@angular/common":20,"@angular/core":167}],416:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),action_sheet_component_1=require("./action-sheet-component"),app_1=require("../app/app"),util_1=require("../../util/util"),view_controller_1=require("../nav/view-controller"),ActionSheet=function(_super){function ActionSheet(app,opts){opts.buttons=opts.buttons||[],opts.enableBackdropDismiss=!util_1.isPresent(opts.enableBackdropDismiss)||!!opts.enableBackdropDismiss,_super.call(this,action_sheet_component_1.ActionSheetCmp,opts),this._app=app,this.isOverlay=!0,this.fireOtherLifecycles=!1}return __extends(ActionSheet,_super),ActionSheet.prototype.getTransitionName=function(direction){var key="actionSheet"+("back"===direction?"Leave":"Enter");return this._nav&&this._nav.config.get(key)},ActionSheet.prototype.setTitle=function(title){this.data.title=title},ActionSheet.prototype.setSubTitle=function(subTitle){this.data.subTitle=subTitle},ActionSheet.prototype.addButton=function(button){this.data.buttons.push(button)},ActionSheet.prototype.present=function(navOptions){return void 0===navOptions&&(navOptions={}),this._app.present(this,navOptions)},ActionSheet.create=function(opt){},ActionSheet}(view_controller_1.ViewController);exports.ActionSheet=ActionSheet;var ActionSheetController=function(){function ActionSheetController(_app){this._app=_app}return ActionSheetController.prototype.create=function(opts){return void 0===opts&&(opts={}),new ActionSheet(this._app,opts)},ActionSheetController=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[app_1.App])],ActionSheetController)}();exports.ActionSheetController=ActionSheetController},{"../../util/util":535,"../app/app":419,"../nav/view-controller":460,"./action-sheet-component":415,"@angular/core":167}],417:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),common_1=require("@angular/common"),forms_1=require("@angular/forms"),animation_1=require("../../animations/animation"),backdrop_1=require("../backdrop/backdrop"),config_1=require("../../config/config"),util_1=require("../../util/util"),key_1=require("../../util/key"),nav_params_1=require("../nav/nav-params"),transition_1=require("../../transitions/transition"),view_controller_1=require("../nav/view-controller"),AlertCmp=function(){function AlertCmp(_viewCtrl,_elementRef,_config,params,renderer){this._viewCtrl=_viewCtrl,this._elementRef=_elementRef,this._config=_config,this.d=params.data,this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(cssClass){""!==cssClass.trim()&&renderer.setElementClass(_elementRef.nativeElement,cssClass,!0)}),this.id=++alertIds,this.descId="",this.hdrId="alert-hdr-"+this.id,this.subHdrId="alert-subhdr-"+this.id,this.msgId="alert-msg-"+this.id,this.activeId="",this.lastClick=0,this.d.message?this.descId=this.msgId:this.d.subTitle&&(this.descId=this.subHdrId),this.d.message||(this.d.message="")}return AlertCmp.prototype.ionViewLoaded=function(){var _this=this,data=this.d;data.buttons=data.buttons.map(function(button){return"string"==typeof button?{text:button}:button}),data.inputs=data.inputs.map(function(input,index){return{type:input.type||"text",name:util_1.isPresent(input.name)?input.name:index,placeholder:util_1.isPresent(input.placeholder)?input.placeholder:"",value:util_1.isPresent(input.value)?input.value:"",label:input.label,checked:!!input.checked,disabled:!!input.disabled,id:"alert-input-"+_this.id+"-"+index}});var inputTypes=[];data.inputs.forEach(function(input){inputTypes.indexOf(input.type)<0&&inputTypes.push(input.type)}),inputTypes.length>1&&(inputTypes.indexOf("checkbox")>-1||inputTypes.indexOf("radio")>-1),this.inputType=inputTypes.length?inputTypes[0]:null;var checkedInput=this.d.inputs.find(function(input){return input.checked});checkedInput&&(this.activeId=checkedInput.id)},AlertCmp.prototype._keyUp=function(ev){if(this.enabled&&this._viewCtrl.isLast())if(ev.keyCode===key_1.Key.ENTER){if(this.lastClick+1e3<Date.now()){var button=this.d.buttons[this.d.buttons.length-1];this.btnClick(button)}}else ev.keyCode===key_1.Key.ESCAPE&&this.bdClick()},AlertCmp.prototype.ionViewDidEnter=function(){var activeElement=document.activeElement;document.activeElement&&activeElement.blur();var focusableEle=this._elementRef.nativeElement.querySelector("input,button");focusableEle&&focusableEle.focus(),this.enabled=!0},AlertCmp.prototype.btnClick=function(button,dismissDelay){var _this=this;if(this.enabled){this.lastClick=Date.now();var shouldDismiss=!0;button.handler&&button.handler(this.getValues())===!1&&(shouldDismiss=!1),shouldDismiss&&setTimeout(function(){_this.dismiss(button.role)},dismissDelay||this._config.get("pageTransitionDelay"))}},AlertCmp.prototype.rbClick=function(checkedInput){this.enabled&&(this.d.inputs.forEach(function(input){input.checked=checkedInput===input}),this.activeId=checkedInput.id)},AlertCmp.prototype.cbClick=function(checkedInput){this.enabled&&(checkedInput.checked=!checkedInput.checked)},AlertCmp.prototype.bdClick=function(){if(this.enabled&&this.d.enableBackdropDismiss){var cancelBtn=this.d.buttons.find(function(b){return"cancel"===b.role});cancelBtn?this.btnClick(cancelBtn,1):this.dismiss("backdrop")}},AlertCmp.prototype.dismiss=function(role){return this._viewCtrl.dismiss(this.getValues(),role)},AlertCmp.prototype.getValues=function(){if("radio"===this.inputType){var checkedInput=this.d.inputs.find(function(i){return i.checked});return checkedInput?checkedInput.value:void 0}if("checkbox"===this.inputType)return this.d.inputs.filter(function(i){return i.checked}).map(function(i){return i.value});var values={};return this.d.inputs.forEach(function(i){values[i.name]=i.value}),values},__decorate([core_1.HostListener("body:keyup",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[KeyboardEvent]),__metadata("design:returntype",void 0)],AlertCmp.prototype,"_keyUp",null),AlertCmp=__decorate([core_1.Component({selector:"ion-alert",template:'\n    <ion-backdrop (click)="bdClick()"></ion-backdrop>\n    <div class="alert-wrapper">\n      <div class="alert-head">\n        <h2 id="{{hdrId}}" class="alert-title" *ngIf="d.title" [innerHTML]="d.title"></h2>\n        <h3 id="{{subHdrId}}" class="alert-sub-title" *ngIf="d.subTitle" [innerHTML]="d.subTitle"></h3>\n      </div>\n      <div id="{{msgId}}" class="alert-message" [innerHTML]="d.message"></div>\n      <div *ngIf="d.inputs.length" [ngSwitch]="inputType">\n\n        <template ngSwitchCase="radio">\n          <div class="alert-radio-group" role="radiogroup" [attr.aria-labelledby]="hdrId" [attr.aria-activedescendant]="activeId">\n            <button category="alert-radio-button" *ngFor="let i of d.inputs" (click)="rbClick(i)" [attr.aria-checked]="i.checked" [disabled]="i.disabled" [attr.id]="i.id" class="alert-tappable alert-radio" role="radio">\n              <div class="alert-radio-icon"><div class="alert-radio-inner"></div></div>\n              <div class="alert-radio-label">\n                {{i.label}}\n              </div>\n            </button>\n          </div>\n        </template>\n\n        <template ngSwitchCase="checkbox">\n          <div class="alert-checkbox-group">\n            <button category="alert-checkbox-button" *ngFor="let i of d.inputs" (click)="cbClick(i)" [attr.aria-checked]="i.checked" [disabled]="i.disabled" class="alert-tappable alert-checkbox" role="checkbox">\n              <div class="alert-checkbox-icon"><div class="alert-checkbox-inner"></div></div>\n              <div class="alert-checkbox-label">\n                {{i.label}}\n              </div>\n            </button>\n          </div>\n        </template>\n\n        <template ngSwitchDefault>\n          <div class="alert-input-group">\n            <div *ngFor="let i of d.inputs" class="alert-input-wrapper">\n              <input [placeholder]="i.placeholder" [(ngModel)]="i.value" [type]="i.type" class="alert-input">\n            </div>\n          </div>\n        </template>\n\n      </div>\n      <div class="alert-button-group" [ngClass]="{vertical: d.buttons.length>2}">\n        <button category="alert-button" *ngFor="let b of d.buttons" (click)="btnClick(b)" [ngClass]="b.cssClass">\n          {{b.text}}\n        </button>\n      </div>\n    </div>\n    ',
directives:[backdrop_1.Backdrop,common_1.NgClass,common_1.NgFor,common_1.NgIf,forms_1.NgModel,common_1.NgSwitch,common_1.NgSwitchCase,common_1.NgSwitchDefault],host:{role:"dialog","[attr.aria-labelledby]":"hdrId","[attr.aria-describedby]":"descId"},encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[view_controller_1.ViewController,core_1.ElementRef,config_1.Config,nav_params_1.NavParams,core_1.Renderer])],AlertCmp)}();exports.AlertCmp=AlertCmp;var AlertPopIn=function(_super){function AlertPopIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".alert-wrapper"));wrapper.fromTo("opacity",.01,1).fromTo("scale",1.1,1),backdrop.fromTo("opacity",.01,.3),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(AlertPopIn,_super),AlertPopIn}(transition_1.Transition);transition_1.Transition.register("alert-pop-in",AlertPopIn);var AlertPopOut=function(_super){function AlertPopOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".alert-wrapper"));wrapper.fromTo("opacity",.99,0).fromTo("scale",1,.9),backdrop.fromTo("opacity",.3,0),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(AlertPopOut,_super),AlertPopOut}(transition_1.Transition);transition_1.Transition.register("alert-pop-out",AlertPopOut);var AlertMdPopIn=function(_super){function AlertMdPopIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".alert-wrapper"));wrapper.fromTo("opacity",.01,1).fromTo("scale",1.1,1),backdrop.fromTo("opacity",.01,.5),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(AlertMdPopIn,_super),AlertMdPopIn}(transition_1.Transition);transition_1.Transition.register("alert-md-pop-in",AlertMdPopIn);var AlertMdPopOut=function(_super){function AlertMdPopOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".alert-wrapper"));wrapper.fromTo("opacity",.99,0).fromTo("scale",1,.9),backdrop.fromTo("opacity",.5,0),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(AlertMdPopOut,_super),AlertMdPopOut}(transition_1.Transition);transition_1.Transition.register("alert-md-pop-out",AlertMdPopOut);var AlertWpPopIn=function(_super){function AlertWpPopIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".alert-wrapper"));wrapper.fromTo("opacity",.01,1).fromTo("scale",1.3,1),backdrop.fromTo("opacity",.01,.5),this.easing("cubic-bezier(0,0 0.05,1)").duration(200).add(backdrop).add(wrapper)}return __extends(AlertWpPopIn,_super),AlertWpPopIn}(transition_1.Transition);transition_1.Transition.register("alert-wp-pop-in",AlertWpPopIn);var AlertWpPopOut=function(_super){function AlertWpPopOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".alert-wrapper"));wrapper.fromTo("opacity",.99,0).fromTo("scale",1,1.3),backdrop.fromTo("opacity",.5,0),this.easing("ease-out").duration(150).add(backdrop).add(wrapper)}return __extends(AlertWpPopOut,_super),AlertWpPopOut}(transition_1.Transition);transition_1.Transition.register("alert-wp-pop-out",AlertWpPopOut);var alertIds=-1},{"../../animations/animation":412,"../../config/config":497,"../../transitions/transition":520,"../../util/key":531,"../../util/util":535,"../backdrop/backdrop":420,"../nav/nav-params":454,"../nav/view-controller":460,"@angular/common":20,"@angular/core":167,"@angular/forms":256}],418:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),app_1=require("../app/app"),alert_component_1=require("./alert-component"),util_1=require("../../util/util"),view_controller_1=require("../nav/view-controller"),Alert=function(_super){function Alert(app,opts){void 0===opts&&(opts={}),opts.inputs=opts.inputs||[],opts.buttons=opts.buttons||[],opts.enableBackdropDismiss=!util_1.isPresent(opts.enableBackdropDismiss)||!!opts.enableBackdropDismiss,_super.call(this,alert_component_1.AlertCmp,opts),this._app=app,this.isOverlay=!0,this.fireOtherLifecycles=!1}return __extends(Alert,_super),Alert.prototype.getTransitionName=function(direction){var key="back"===direction?"alertLeave":"alertEnter";return this._nav&&this._nav.config.get(key)},Alert.prototype.setTitle=function(title){this.data.title=title},Alert.prototype.setSubTitle=function(subTitle){this.data.subTitle=subTitle},Alert.prototype.setBody=function(message){this.setMessage(message)},Alert.prototype.setMessage=function(message){this.data.message=message},Alert.prototype.addInput=function(input){this.data.inputs.push(input)},Alert.prototype.addButton=function(button){this.data.buttons.push(button)},Alert.prototype.setCssClass=function(cssClass){this.data.cssClass=cssClass},Alert.prototype.present=function(navOptions){return void 0===navOptions&&(navOptions={}),this._app.present(this,navOptions)},Alert.create=function(opt){},Alert}(view_controller_1.ViewController);exports.Alert=Alert;var AlertController=function(){function AlertController(_app){this._app=_app}return AlertController.prototype.create=function(opts){return void 0===opts&&(opts={}),new Alert(this._app,opts)},AlertController=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[app_1.App])],AlertController)}();exports.AlertController=AlertController},{"../../util/util":535,"../app/app":419,"../nav/view-controller":460,"./alert-component":417,"@angular/core":167}],419:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),platform_browser_1=require("@angular/platform-browser"),click_block_1=require("../../util/click-block"),config_1=require("../../config/config"),nav_controller_base_1=require("../nav/nav-controller-base"),nav_portal_1=require("../nav/nav-portal"),platform_1=require("../../platform/platform"),UserComponent=function(){function UserComponent(){}return UserComponent}();exports.UserComponent=UserComponent;var App=function(){function App(_config,_platform){this._config=_config,this._platform=_platform,this._disTime=0,this._scrollTime=0,this._title="",this._titleSrv=new platform_browser_1.Title,this._rootNav=null,this.viewDidLoad=new core_1.EventEmitter,this.viewWillEnter=new core_1.EventEmitter,this.viewDidEnter=new core_1.EventEmitter,this.viewWillLeave=new core_1.EventEmitter,this.viewDidLeave=new core_1.EventEmitter,this.viewWillUnload=new core_1.EventEmitter,this.viewDidUnload=new core_1.EventEmitter,_platform.registerBackButtonAction(this.navPop.bind(this))}return App.prototype.setTitle=function(val){val!==this._title&&(this._title=val,this._titleSrv.setTitle(val))},App.prototype.setEnabled=function(isEnabled,duration){void 0===duration&&(duration=700),this._disTime=isEnabled?0:Date.now()+duration,this.clickBlock&&(isEnabled||duration<=32?this.clickBlock.activate(!1,0):this.clickBlock.activate(!0,duration+CLICK_BLOCK_BUFFER_IN_MILLIS))},App.prototype.setScrollDisabled=function(disableScroll){var enabled=this._config.get("canDisableScroll",!0);enabled&&this.appRoot&&(this.appRoot.disableScroll=disableScroll)},App.prototype.isEnabled=function(){return this._disTime<Date.now()},App.prototype.setScrolling=function(){this._scrollTime=Date.now()},App.prototype.isScrolling=function(){return this._scrollTime+48>Date.now()},App.prototype.getActiveNav=function(){for(var activeChildNav,nav=this._rootNav||null;nav&&(activeChildNav=nav.getActiveChildNav());)nav=activeChildNav;return nav},App.prototype.getRootNav=function(){return this._rootNav},App.prototype.setRootNav=function(nav){this._rootNav=nav},App.prototype.setPortal=function(portal){this._portal=portal},App.prototype.present=function(enteringView,opts){return void 0===opts&&(opts={}),enteringView.setNav(this._portal),opts.keyboardClose=!1,opts.direction="forward",opts.animation||(opts.animation=enteringView.getTransitionName("forward")),enteringView.setLeavingOpts({keyboardClose:!1,direction:"back",animation:enteringView.getTransitionName("back"),ev:opts.ev}),this._portal.insertViews(-1,[enteringView],opts)},App.prototype.navPop=function(){function navPop(nav){if(nav){if(nav_controller_base_1.isTabs(nav)){var prevTab=nav.previousTab(!0);if(prevTab)return nav.select(prevTab),Promise.resolve()}else if(nav_controller_base_1.isNav(nav)&&nav.length()>1)return nav.pop();return navPop(nav.parent)}return null}if(this._rootNav&&this.isEnabled()){if(this._portal&&this._portal.length()>0)return this._portal.pop();var navPromise=navPop(this.getActiveNav());return null===navPromise&&this._config.getBoolean("navExitApp",!0)&&this._platform.exitApp(),navPromise}return Promise.resolve()},App.prototype.getRegisteredComponent=function(cls){},App.prototype.getComponent=function(id){},App.prototype.getAppInjector=function(){},App=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[config_1.Config,platform_1.Platform])],App)}();exports.App=App;var AppRoot=function(){function AppRoot(_cmp,_cr,_renderer,app){this._cmp=_cmp,this._cr=_cr,this._renderer=_renderer,this.disableScroll=!1,app.appRoot=this}return AppRoot.prototype.ngAfterViewInit=function(){var _this=this;this._cr.resolveComponent(this._cmp).then(function(componentFactory){var appEle=_this._renderer.createElement(null,componentFactory.selector||"div",null);appEle.setAttribute("class","app-root");var componentRef=componentFactory.create(_this._viewport.injector,null,appEle);_this._viewport.insert(componentRef.hostView,0)})},__decorate([core_1.ViewChild("anchor",{read:core_1.ViewContainerRef}),__metadata("design:type",core_1.ViewContainerRef)],AppRoot.prototype,"_viewport",void 0),__decorate([core_1.HostBinding("class.disable-scroll"),__metadata("design:type",Boolean)],AppRoot.prototype,"disableScroll",void 0),AppRoot=__decorate([core_1.Component({selector:"ion-app",template:"\n    <div #anchor nav-portal></div>\n    <click-block></click-block>\n  ",directives:[nav_portal_1.NavPortal,click_block_1.ClickBlock]}),__metadata("design:paramtypes",[UserComponent,core_1.ComponentResolver,core_1.Renderer,App])],AppRoot)}();exports.AppRoot=AppRoot;var CLICK_BLOCK_BUFFER_IN_MILLIS=64},{"../../config/config":497,"../../platform/platform":510,"../../util/click-block":524,"../nav/nav-controller-base":451,"../nav/nav-portal":456,"@angular/core":167,"@angular/platform-browser":326}],420:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),gesture_controller_1=require("../../gestures/gesture-controller"),util_1=require("../../util/util"),Backdrop=function(){function Backdrop(_gestureCtrl,_elementRef){this._gestureCtrl=_gestureCtrl,this._elementRef=_elementRef,this._gestureID=null,this.disableScroll=!0}return Backdrop.prototype.ngOnInit=function(){util_1.isTrueProperty(this.disableScroll)&&(this._gestureID=this._gestureCtrl.newID(),this._gestureCtrl.disableScroll(this._gestureID))},Backdrop.prototype.ngOnDestroy=function(){this._gestureID&&this._gestureCtrl.enableScroll(this._gestureID)},Backdrop.prototype.getNativeElement=function(){return this._elementRef.nativeElement},__decorate([core_1.Input(),__metadata("design:type",Object)],Backdrop.prototype,"disableScroll",void 0),Backdrop=__decorate([core_1.Directive({selector:"ion-backdrop",host:{role:"presentation",tappable:"","disable-activated":""}}),__metadata("design:paramtypes",[gesture_controller_1.GestureController,core_1.ElementRef])],Backdrop)}();exports.Backdrop=Backdrop},{"../../gestures/gesture-controller":503,"../../util/util":535,"@angular/core":167}],421:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),config_1=require("../../config/config"),Badge=function(){function Badge(config,_elementRef,_renderer){this._elementRef=_elementRef,this._renderer=_renderer;var element=_elementRef.nativeElement;this._readAttrs(element)}return Badge.prototype._readAttrs=function(element){for(var attrName,elementAttrs=element.attributes,i=0,l=elementAttrs.length;i<l;i++)""===elementAttrs[i].value&&(attrName=elementAttrs[i].name,attrName.indexOf("item")===-1&&this._setClass(attrName))},Badge.prototype._setClass=function(color){this._renderer.setElementClass(this._elementRef.nativeElement,"badge-"+color,!0)},Badge=__decorate([core_1.Directive({selector:"ion-badge"}),__metadata("design:paramtypes",[config_1.Config,core_1.ElementRef,core_1.Renderer])],Badge)}();exports.Badge=Badge},{"../../config/config":497,"@angular/core":167}],422:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),config_1=require("../../config/config"),util_1=require("../../util/util"),Button=function(){function Button(config,_elementRef,_renderer,ionItem){this._elementRef=_elementRef,this._renderer=_renderer,this._role="button",this._size=null,this._style="default",this._shape=null,this._display=null,this._colors=[],this._icon=null,this._disabled=!1,this.isItem=""===ionItem;var element=_elementRef.nativeElement;return config.get("hoverCSS")===!1&&_renderer.setElementClass(_elementRef.nativeElement,"disable-hover",!0),element.hasAttribute("ion-item")?void(this._role=null):(element.hasAttribute("disabled")&&(this._disabled=!0),void this._readAttrs(element))}return Object.defineProperty(Button.prototype,"large",{set:function(val){this._attr("_size","large",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"small",{set:function(val){this._attr("_size","small",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"default",{set:function(val){this._attr("_size","default",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"outline",{set:function(val){this._attr("_style","outline",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"clear",{set:function(val){this._attr("_style","clear",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"solid",{set:function(val){this._attr("_style","solid",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"round",{set:function(val){this._attr("_shape","round",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"block",{set:function(val){this._attr("_display","block",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"full",{set:function(val){this._attr("_display","full",val)},enumerable:!0,configurable:!0}),Button.prototype._attr=function(type,attrName,attrValue){this._setClass(this[type],!1),util_1.isTrueProperty(attrValue)?(this[type]=attrName,this._setClass(attrName,!0)):this[type]="_style"===type?"default":null,"_style"===type&&this._setColor(attrName,util_1.isTrueProperty(attrValue))},Object.defineProperty(Button.prototype,"color",{set:function(val){this._setColor(BUTTON_STYLE_ATTRS.concat(["default"]),!1),this._colors=val instanceof Array?val:[val],this._setColor(this._style,!0)},enumerable:!0,configurable:!0}),Button.prototype.ngOnInit=function(){this.category&&this.setRole(this.category)},Button.prototype.ngAfterContentInit=function(){this._init=!0,this._readIcon(this._elementRef.nativeElement),this._assignCss(!0)},Button.prototype.ngAfterContentChecked=function(){this._readIcon(this._elementRef.nativeElement),this._assignCss(!0)},Button.prototype.addClass=function(className){this._renderer.setElementClass(this._elementRef.nativeElement,className,!0)},Button.prototype.setRole=function(val){this._assignCss(!1),this._role=val,this._readIcon(this._elementRef.nativeElement),this._assignCss(!0)},Button.prototype._readIcon=function(element){var childNodes=element.childNodes;childNodes.length>0&&(childNodes=childNodes[0].childNodes);for(var childNode,nodes=[],i=0,l=childNodes.length;i<l;i++)childNode=childNodes[i],3===childNode.nodeType?""!==childNode.textContent.trim()&&nodes.push(TEXT):1===childNode.nodeType&&("ION-ICON"===childNode.nodeName?nodes.push(ICON):nodes.push(TEXT));this._setClass(this._icon,!1),nodes.length>1?nodes[0]===ICON&&nodes[1]===TEXT?this._icon="icon-left":nodes[0]===TEXT&&nodes[1]===ICON&&(this._icon="icon-right"):1===nodes.length&&nodes[0]===ICON&&(this._icon="icon-only")},Button.prototype._readAttrs=function(element){for(var attrName,elementAttrs=element.attributes,i=0,l=elementAttrs.length;i<l;i++)""===elementAttrs[i].value&&(attrName=elementAttrs[i].name,BUTTON_STYLE_ATTRS.indexOf(attrName)>-1?this._style=attrName:BUTTON_DISPLAY_ATTRS.indexOf(attrName)>-1?this._display=attrName:BUTTON_SHAPE_ATTRS.indexOf(attrName)>-1?this._shape=attrName:BUTTON_SIZE_ATTRS.indexOf(attrName)>-1?this._size=attrName:IGNORE_ATTRS.test(attrName)||this._colors.push(attrName))},Button.prototype._assignCss=function(assignCssClass){var role=this._role;role&&(this._renderer.setElementClass(this._elementRef.nativeElement,role,assignCssClass),this._setClass(this._style,assignCssClass),this._setClass(this._shape,assignCssClass),this._setClass(this._display,assignCssClass),this._setClass(this._size,assignCssClass),this._setClass(this._icon,assignCssClass),this._setColor(this._style,assignCssClass))},Button.prototype._setClass=function(type,assignCssClass){type&&this._init&&this._renderer.setElementClass(this._elementRef.nativeElement,this._role+"-"+type.toLowerCase(),assignCssClass)},Button.prototype._setColor=function(type,assignCssClass){var _this=this;if(type&&this._init){var styles=type instanceof Array?type:[type];styles.forEach(function(styleName){styleName="bar-button"!==_this._role&&"solid"===styleName?"default":styleName;var colorStyle=null!==styleName&&"default"!==styleName?styleName.toLowerCase()+"-":"";_this._colors.forEach(function(colorName){_this._setClass(colorStyle+colorName,assignCssClass)})})}},__decorate([core_1.Input(),__metadata("design:type",String)],Button.prototype,"category",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"large",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"small",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"default",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"outline",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"clear",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"solid",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"round",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"block",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"full",null),__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],Button.prototype,"color",null),Button=__decorate([core_1.Component({selector:"button:not([ion-item]),[button]",template:'<span class="button-inner"><ng-content></ng-content></span><ion-button-effect></ion-button-effect>',changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__param(3,core_1.Attribute("ion-item")),__metadata("design:paramtypes",[config_1.Config,core_1.ElementRef,core_1.Renderer,String])],Button)}();exports.Button=Button;var BUTTON_SIZE_ATTRS=["large","small","default"],BUTTON_STYLE_ATTRS=["clear","outline","solid"],BUTTON_SHAPE_ATTRS=["round","fab"],BUTTON_DISPLAY_ATTRS=["block","full"],IGNORE_ATTRS=/_ng|button|left|right/,TEXT=1,ICON=2},{"../../config/config":497,"../../util/util":535,"@angular/core":167}],423:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),forms_1=require("@angular/forms"),form_1=require("../../util/form"),item_1=require("../item/item"),util_1=require("../../util/util");exports.CHECKBOX_VALUE_ACCESSOR=new core_1.Provider(forms_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return Checkbox}),multi:!0});var Checkbox=function(){function Checkbox(_form,_item){this._form=_form,this._item=_item,this._checked=!1,this._disabled=!1,this.ionChange=new core_1.EventEmitter,_form.register(this),_item&&(this.id="chk-"+_item.registerInput("checkbox"),this._labelId="lbl-"+_item.id,this._item.setCssClass("item-checkbox",!0))}return Checkbox.prototype._click=function(ev){ev.preventDefault(),ev.stopPropagation(),this.onChange(!this._checked)},Object.defineProperty(Checkbox.prototype,"checked",{get:function(){return this._checked},set:function(val){this._setChecked(util_1.isTrueProperty(val)),this.onChange(this._checked)},enumerable:!0,configurable:!0}),Checkbox.prototype._setChecked=function(isChecked){isChecked!==this._checked&&(this._checked=isChecked,this._init&&this.ionChange.emit(this),this._item&&this._item.setCssClass("item-checkbox-checked",isChecked))},Checkbox.prototype.writeValue=function(val){this._setChecked(util_1.isTrueProperty(val))},Checkbox.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn,this.onChange=function(isChecked){fn(isChecked),_this._setChecked(isChecked),_this.onTouched()}},Checkbox.prototype.registerOnTouched=function(fn){this.onTouched=fn},Object.defineProperty(Checkbox.prototype,"disabled",{get:function(){return this._disabled},set:function(val){this._disabled=util_1.isTrueProperty(val),this._item&&this._item.setCssClass("item-checkbox-disabled",this._disabled)},enumerable:!0,configurable:!0}),Checkbox.prototype.onChange=function(isChecked){this._setChecked(isChecked),this.onTouched()},Checkbox.prototype.onTouched=function(){},Checkbox.prototype.ngAfterContentInit=function(){this._init=!0},Checkbox.prototype.ngOnDestroy=function(){this._form.deregister(this)},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Checkbox.prototype,"ionChange",void 0),__decorate([core_1.HostListener("click",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[UIEvent]),__metadata("design:returntype",void 0)],Checkbox.prototype,"_click",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Checkbox.prototype,"checked",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Checkbox.prototype,"disabled",null),Checkbox=__decorate([core_1.Component({selector:"ion-checkbox",template:'\n    <div class="checkbox-icon" [class.checkbox-checked]="_checked">\n      <div class="checkbox-inner"></div>\n    </div>\n    <button role="checkbox"\n            type="button"\n            category="item-cover"\n            [id]="id"\n            [attr.aria-checked]="_checked"\n            [attr.aria-labelledby]="_labelId"\n            [attr.aria-disabled]="_disabled"\n            class="item-cover">\n    </button>\n  ',host:{"[class.checkbox-disabled]":"_disabled"},providers:[exports.CHECKBOX_VALUE_ACCESSOR],encapsulation:core_1.ViewEncapsulation.None}),__param(1,core_1.Optional()),__metadata("design:paramtypes",[form_1.Form,item_1.Item])],Checkbox)}();exports.Checkbox=Checkbox},{"../../util/form":530,"../../util/util":535,"../item/item":438,"@angular/core":167,"@angular/forms":256}],424:[function(require,module,exports){"use strict";function parsePxUnit(val){return val.indexOf("px")>0?parseInt(val,10):0}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),app_1=require("../app/app"),ion_1=require("../ion"),config_1=require("../../config/config"),keyboard_1=require("../../util/keyboard"),dom_1=require("../../util/dom"),scroll_view_1=require("../../util/scroll-view"),tabs_1=require("../tabs/tabs"),view_controller_1=require("../nav/view-controller"),util_1=require("../../util/util"),Content=function(_super){function Content(_elementRef,config,_app,_keyboard,_zone,viewCtrl,_tabs){_super.call(this,_elementRef),this._elementRef=_elementRef,this._app=_app,this._keyboard=_keyboard,this._zone=_zone,this._tabs=_tabs,this._inputPolling=!1,this._sbPadding=config.getBoolean("statusbarPadding",!1),viewCtrl&&(viewCtrl.setContent(this),viewCtrl.setContentRef(_elementRef))}return __extends(Content,_super),Content.prototype.ngOnInit=function(){var _this=this;this._scrollEle=this._elementRef.nativeElement.children[0],this._zone.runOutsideAngular(function(){_this._scroll=new scroll_view_1.ScrollView(_this._scrollEle),_this._scLsn=_this.addScrollListener(_this._app.setScrolling)})},Content.prototype.ngOnDestroy=function(){this._scLsn&&this._scLsn(),this._scroll&&this._scroll.destroy(),this._scrollEle=this._footerEle=this._scLsn=this._scroll=null},Content.prototype.addScrollListener=function(handler){return this._addListener("scroll",handler)},Content.prototype.addTouchStartListener=function(handler){return this._addListener("touchstart",handler)},Content.prototype.addTouchMoveListener=function(handler){return this._addListener("touchmove",handler)},Content.prototype.addTouchEndListener=function(handler){return this._addListener("touchend",handler)},Content.prototype.addMouseDownListener=function(handler){return this._addListener("mousedown",handler)},Content.prototype.addMouseUpListener=function(handler){return this._addListener("mouseup",handler)},Content.prototype.addMouseMoveListener=function(handler){return this._addListener("mousemove",handler)},Content.prototype._addListener=function(type,handler){var _this=this;if(this._scrollEle)return this._scrollEle.removeEventListener(type,handler),this._scrollEle.addEventListener(type,handler),function(){_this._scrollEle&&_this._scrollEle.removeEventListener(type,handler)}},Content.prototype.getScrollElement=function(){return this._scrollEle},Content.prototype.onScrollEnd=function(callback){function next(){var currentScrollTop=_scrollEle.scrollTop;return null!==lastScrollTop&&(Math.round(lastScrollTop)===Math.round(currentScrollTop)?framesUnchanged++:framesUnchanged=0,framesUnchanged>9)?callback():(lastScrollTop=currentScrollTop,void dom_1.nativeRaf(function(){dom_1.nativeRaf(next)}))}var lastScrollTop=null,framesUnchanged=0,_scrollEle=this._scrollEle;
dom_1.nativeTimeout(next,100)},Content.prototype.onScrollElementTransitionEnd=function(callback){dom_1.transitionEnd(this._scrollEle,callback)},Content.prototype.scrollTo=function(x,y,duration){return void 0===duration&&(duration=300),this._scroll.scrollTo(x,y,duration)},Content.prototype.scrollToTop=function(duration){return void 0===duration&&(duration=300),this._scroll.scrollToTop(duration)},Content.prototype.getScrollTop=function(){return this._scroll.getTop()},Content.prototype.setScrollTop=function(top){this._scroll.setTop(top)},Content.prototype.scrollToBottom=function(duration){return void 0===duration&&(duration=300),this._scroll.scrollToBottom(duration)},Content.prototype.jsScroll=function(onScrollCallback){return this._scroll.jsScroll(onScrollCallback)},Content.prototype.addCssClass=function(className){this.getNativeElement().classList.add(className)},Object.defineProperty(Content.prototype,"fullscreen",{get:function(){return!!this._fullscreen},set:function(val){this._fullscreen=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Content.prototype.removeCssClass=function(className){this.getNativeElement().classList.remove(className)},Content.prototype.setScrollElementStyle=function(prop,val){this._scrollEle.style[prop]=val},Content.prototype.getContentDimensions=function(){var _scrollEle=this._scrollEle,parentElement=_scrollEle.parentElement;return{contentHeight:parentElement.offsetHeight,contentTop:parentElement.offsetTop,contentBottom:parentElement.offsetTop+parentElement.offsetHeight,contentWidth:parentElement.offsetWidth,contentLeft:parentElement.offsetLeft,contentRight:parentElement.offsetLeft+parentElement.offsetWidth,scrollHeight:_scrollEle.scrollHeight,scrollTop:_scrollEle.scrollTop,scrollBottom:_scrollEle.scrollTop+_scrollEle.scrollHeight,scrollWidth:_scrollEle.scrollWidth,scrollLeft:_scrollEle.scrollLeft,scrollRight:_scrollEle.scrollLeft+_scrollEle.scrollWidth}},Content.prototype.addScrollPadding=function(newPadding){newPadding>this._scrollPadding&&(this._scrollPadding=newPadding,this._scrollEle.style.paddingBottom=newPadding+"px")},Content.prototype.clearScrollPaddingFocusOut=function(){var _this=this;this._inputPolling||(this._inputPolling=!0,this._keyboard.onClose(function(){_this._scrollPadding=0,_this._scrollEle.style.paddingBottom=_this._paddingBottom>0?_this._paddingBottom+"px":"",_this._inputPolling=!1,_this.addScrollPadding(0)},200,1/0))},Content.prototype.resize=function(){var _this=this;dom_1.nativeRaf(function(){_this.readDimensions(),_this.writeDimensions()})},Content.prototype.readDimensions=function(){this._paddingTop=0,this._paddingRight=0,this._paddingBottom=0,this._paddingLeft=0,this._headerHeight=0,this._footerHeight=0,this._tabsPlacement=null;var ele=this._elementRef.nativeElement;if(ele){for(var computedStyle,parentEle=ele.parentElement,i=0;i<parentEle.children.length;i++)ele=parentEle.children[i],"ION-CONTENT"===ele.tagName?this._fullscreen&&(computedStyle=getComputedStyle(ele),this._paddingTop=parsePxUnit(computedStyle.paddingTop),this._paddingBottom=parsePxUnit(computedStyle.paddingBottom),this._paddingRight=parsePxUnit(computedStyle.paddingRight),this._paddingLeft=parsePxUnit(computedStyle.paddingLeft)):"ION-HEADER"===ele.tagName?this._headerHeight=ele.clientHeight:"ION-FOOTER"===ele.tagName&&(this._footerHeight=ele.clientHeight,this._footerEle=ele);ele=parentEle;for(var tabbarEle;ele&&"ION-MODAL"!==ele.tagName&&!ele.classList.contains("tab-subpage");)"ION-TABS"===ele.tagName&&(tabbarEle=ele.firstElementChild,this._tabbarHeight=tabbarEle.clientHeight,null===this._tabsPlacement&&(this._tabsPlacement=ele.getAttribute("tabsplacement"))),ele=ele.parentElement}},Content.prototype.writeDimensions=function(){var newVal,scrollEle=this._scrollEle;scrollEle&&(this._fullscreen?(newVal=this._headerHeight+this._paddingTop,"top"===this._tabsPlacement&&(newVal+=this._tabbarHeight),newVal!==this.contentTop&&(scrollEle.style.paddingTop=newVal>0?newVal+"px":"",this.contentTop=newVal),newVal=this._footerHeight+this._paddingBottom,"bottom"===this._tabsPlacement&&(newVal+=this._tabbarHeight,newVal>0&&this._footerEle&&(this._footerEle.style.bottom=newVal-this._footerHeight-this._paddingBottom+"px")),newVal!==this.contentBottom&&(scrollEle.style.paddingBottom=newVal>0?newVal+"px":"",this.contentBottom=newVal)):(newVal=this._headerHeight,"top"===this._tabsPlacement&&(newVal+=this._tabbarHeight),newVal!==this.contentTop&&(scrollEle.style.marginTop=newVal>0?newVal+"px":"",this.contentTop=newVal),newVal=this._footerHeight,"bottom"===this._tabsPlacement&&(newVal+=this._tabbarHeight),newVal!==this.contentBottom&&(scrollEle.style.marginBottom=newVal>0?newVal+"px":"",this.contentBottom=newVal,newVal>0&&this._footerEle&&(this._footerEle.style.bottom=newVal-this._footerHeight+"px"))),null!==this._tabsPlacement&&this._tabs&&("top"===this._tabsPlacement?this._tabs.setTabbarPosition(this._headerHeight,-1):this._tabs.setTabbarPosition(-1,0)))},__decorate([core_1.Input(),__metadata("design:type",Boolean)],Content.prototype,"fullscreen",null),Content=__decorate([core_1.Component({selector:"ion-content",template:'<scroll-content><ng-content></ng-content></scroll-content><ng-content select="ion-fixed"></ng-content><ng-content select="ion-refresher"></ng-content>',changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None,host:{"[class.statusbar-padding]":"_sbPadding"}}),__param(5,core_1.Optional()),__param(6,core_1.Optional()),__metadata("design:paramtypes",[core_1.ElementRef,config_1.Config,app_1.App,keyboard_1.Keyboard,core_1.NgZone,view_controller_1.ViewController,tabs_1.Tabs])],Content)}(ion_1.Ion);exports.Content=Content},{"../../config/config":497,"../../util/dom":527,"../../util/keyboard":532,"../../util/scroll-view":533,"../../util/util":535,"../app/app":419,"../ion":433,"../nav/view-controller":460,"../tabs/tabs":483,"@angular/core":167}],425:[function(require,module,exports){"use strict";function convertToArrayOfNumbers(input,type){var values=[];return util_1.isString(input)&&(input=input.replace(/\[|\]|\s/g,"").split(",")),util_1.isArray(input)&&input.forEach(function(num){num=parseInt(num,10),isNaN(num)||values.push(num)}),!values.length,values}function convertToArrayOfStrings(input,type){if(util_1.isPresent(input)){var values=[];return util_1.isString(input)&&(input=input.replace(/\[|\]/g,"").split(",")),util_1.isArray(input)&&input.forEach(function(val){val=val.trim(),val&&values.push(val)}),!values.length,values}}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),forms_1=require("@angular/forms"),config_1=require("../../config/config"),picker_1=require("../picker/picker"),form_1=require("../../util/form"),item_1=require("../item/item"),util_1=require("../../util/util"),datetime_util_1=require("../../util/datetime-util");exports.DATETIME_VALUE_ACCESSOR=new core_1.Provider(forms_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return DateTime}),multi:!0});var DateTime=function(){function DateTime(_form,_config,_item,_pickerCtrl){this._form=_form,this._config=_config,this._item=_item,this._pickerCtrl=_pickerCtrl,this._disabled=!1,this._text="",this._isOpen=!1,this._value={},this._locale={},this.displayFormat="MMM D, YYYY",this.cancelText="Cancel",this.doneText="Done",this.pickerOptions={},this.ionChange=new core_1.EventEmitter,this.ionCancel=new core_1.EventEmitter,this._form.register(this),_item&&(this.id="dt-"+_item.registerInput("datetime"),this._labelId="lbl-"+_item.id,this._item.setCssClass("item-datetime",!0))}return DateTime.prototype._click=function(ev){0!==ev.detail&&(ev.preventDefault(),ev.stopPropagation(),this.open())},DateTime.prototype._keyup=function(){this._isOpen||this.open()},DateTime.prototype.open=function(){var _this=this;if(!this._disabled){var pickerOptions=util_1.merge({},this.pickerOptions),picker=this._pickerCtrl.create(pickerOptions);pickerOptions.buttons=[{text:this.cancelText,role:"cancel",handler:function(){_this.ionCancel.emit(null)}},{text:this.doneText,handler:function(data){_this.onChange(data),_this.ionChange.emit(data)}}],this.generate(picker),this.validate(picker),picker.ionChange.subscribe(function(){_this.validate(picker)}),picker.present(pickerOptions),this._isOpen=!0,picker.onDidDismiss(function(){_this._isOpen=!1})}},DateTime.prototype.generate=function(picker){var _this=this,template=this.pickerFormat||this.displayFormat;util_1.isPresent(template)&&(this.calcMinMax(),template=template.replace("DDDD","{~}").replace("DDD","{~}"),template.indexOf("D")===-1&&(template=template.replace("{~}","D")),template=template.replace(/{~}/g,""),datetime_util_1.parseTemplate(template).forEach(function(format){var values,key=datetime_util_1.convertFormatToKey(format);values=util_1.isPresent(_this[key+"Values"])?convertToArrayOfNumbers(_this[key+"Values"],key):datetime_util_1.dateValueRange(format,_this._min,_this._max);var column={name:key,options:values.map(function(val){return{value:val,text:datetime_util_1.renderTextFormat(format,val,null,_this._locale)}})};if(column.options.length){var selected=column.options.find(function(opt){return opt.value===datetime_util_1.getValueFromFormat(_this._value,format)});selected&&(column.selectedIndex=column.options.indexOf(selected)),picker.addColumn(column)}}),this.divyColumns(picker))},DateTime.prototype.validate=function(picker){var i,yearOpt,monthOpt,dayOpt,today=new Date,columns=picker.getColumns(),yearCol=columns.find(function(col){return"year"===col.name}),monthCol=columns.find(function(col){return"month"===col.name}),dayCol=columns.find(function(col){return"day"===col.name}),selectedYear=today.getFullYear();yearCol&&(yearOpt=yearCol.options[yearCol.selectedIndex],yearOpt&&(selectedYear=yearOpt.value));var selectedMonth,numDaysInMonth=31;monthCol&&(monthOpt=monthCol.options[monthCol.selectedIndex],monthOpt&&(selectedMonth=monthOpt.value,numDaysInMonth=datetime_util_1.daysInMonth(selectedMonth,selectedYear)));var minCompareVal=datetime_util_1.dateDataSortValue(this._min),maxCompareVal=datetime_util_1.dateDataSortValue(this._max);if(monthCol)for(i=0;i<monthCol.options.length;i++)monthOpt=monthCol.options[i],monthOpt.disabled=datetime_util_1.dateSortValue(selectedYear,monthOpt.value,31)<minCompareVal||datetime_util_1.dateSortValue(selectedYear,monthOpt.value,1)>maxCompareVal;if(dayCol)if(util_1.isPresent(selectedMonth))for(i=0;i<31;i++){dayOpt=dayCol.options[i];var compareVal=datetime_util_1.dateSortValue(selectedYear,selectedMonth,dayOpt.value);dayOpt.disabled=compareVal<minCompareVal||compareVal>maxCompareVal||numDaysInMonth<=i}else for(i=0;i<31;i++)dayCol.options[i].disabled=numDaysInMonth<=i;picker.refresh()},DateTime.prototype.divyColumns=function(picker){var pickerColumns=picker.getColumns(),columns=[];if(pickerColumns.forEach(function(col,i){columns.push(0),col.options.forEach(function(opt){opt.text.length>columns[i]&&(columns[i]=opt.text.length)})}),2===columns.length){var width=Math.max(columns[0],columns[1]);pickerColumns[0].columnWidth=pickerColumns[1].columnWidth=16*width+"px"}else if(3===columns.length){var width=Math.max(columns[0],columns[2]);pickerColumns[1].columnWidth=16*columns[1]+"px",pickerColumns[0].columnWidth=pickerColumns[2].columnWidth=16*width+"px"}else columns.length>3&&columns.forEach(function(col,i){pickerColumns[i].columnWidth=12*col+"px"})},DateTime.prototype.setValue=function(newData){datetime_util_1.updateDate(this._value,newData)},DateTime.prototype.getValue=function(){return this._value},DateTime.prototype.checkHasValue=function(inputValue){this._item&&this._item.setCssClass("input-has-value",!(!inputValue||""===inputValue))},DateTime.prototype.updateText=function(){this._text=datetime_util_1.renderDateTime(this.displayFormat,this._value,this._locale)},DateTime.prototype.calcMinMax=function(){var todaysYear=(new Date).getFullYear();util_1.isBlank(this.min)&&(util_1.isPresent(this.yearValues)?this.min=Math.min.apply(Math,convertToArrayOfNumbers(this.yearValues,"year")):this.min=(todaysYear-100).toString()),util_1.isBlank(this.max)&&(util_1.isPresent(this.yearValues)?this.max=Math.max.apply(Math,convertToArrayOfNumbers(this.yearValues,"year")):this.max=todaysYear.toString());var min=this._min=datetime_util_1.parseDate(this.min),max=this._max=datetime_util_1.parseDate(this.max);min.month=min.month||1,min.day=min.day||1,min.hour=min.hour||0,min.minute=min.minute||0,min.second=min.second||0,max.month=max.month||12,max.day=max.day||31,max.hour=max.hour||23,max.minute=max.minute||59,max.second=max.second||59},Object.defineProperty(DateTime.prototype,"disabled",{get:function(){return this._disabled},set:function(val){this._disabled=util_1.isTrueProperty(val),this._item&&this._item.setCssClass("item-datetime-disabled",this._disabled)},enumerable:!0,configurable:!0}),DateTime.prototype.writeValue=function(val){this.setValue(val),this.updateText(),this.checkHasValue(val)},DateTime.prototype.ngAfterContentInit=function(){var _this=this;["monthNames","monthShortNames","dayNames","dayShortNames"].forEach(function(type){_this._locale[type]=convertToArrayOfStrings(util_1.isPresent(_this[type])?_this[type]:_this._config.get(type),type)}),this.updateText()},DateTime.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn,this.onChange=function(val){_this.setValue(val),_this.updateText(),_this.checkHasValue(val),fn(datetime_util_1.convertDataToISO(_this._value)),_this.onTouched()}},DateTime.prototype.registerOnTouched=function(fn){this.onTouched=fn},DateTime.prototype.onChange=function(val){this.setValue(val),this.updateText(),this.onTouched()},DateTime.prototype.onTouched=function(){},DateTime.prototype.ngOnDestroy=function(){this._form.deregister(this)},__decorate([core_1.Input(),__metadata("design:type",String)],DateTime.prototype,"min",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],DateTime.prototype,"max",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],DateTime.prototype,"displayFormat",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],DateTime.prototype,"pickerFormat",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],DateTime.prototype,"cancelText",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],DateTime.prototype,"doneText",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],DateTime.prototype,"yearValues",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],DateTime.prototype,"monthValues",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],DateTime.prototype,"dayValues",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],DateTime.prototype,"hourValues",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],DateTime.prototype,"minuteValues",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],DateTime.prototype,"monthNames",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],DateTime.prototype,"monthShortNames",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],DateTime.prototype,"dayNames",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],DateTime.prototype,"dayShortNames",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],DateTime.prototype,"pickerOptions",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],DateTime.prototype,"ionChange",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],DateTime.prototype,"ionCancel",void 0),__decorate([core_1.HostListener("click",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[UIEvent]),__metadata("design:returntype",void 0)],DateTime.prototype,"_click",null),__decorate([core_1.HostListener("keyup.space"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],DateTime.prototype,"_keyup",null),__decorate([core_1.Input(),__metadata("design:type",Object)],DateTime.prototype,"disabled",null),DateTime=__decorate([core_1.Component({selector:"ion-datetime",template:'\n    <div class="datetime-text">{{_text}}</div>\n    <button aria-haspopup="true"\n            type="button"\n            [id]="id"\n            category="item-cover"\n            [attr.aria-labelledby]="_labelId"\n            [attr.aria-disabled]="_disabled"\n            class="item-cover">\n    </button>\n  ',host:{"[class.datetime-disabled]":"_disabled"},providers:[exports.DATETIME_VALUE_ACCESSOR],encapsulation:core_1.ViewEncapsulation.None}),__param(2,core_1.Optional()),__param(3,core_1.Optional()),__metadata("design:paramtypes",[form_1.Form,config_1.Config,item_1.Item,picker_1.PickerController])],DateTime)}();exports.DateTime=DateTime},{"../../config/config":497,"../../util/datetime-util":525,"../../util/form":530,"../../util/util":535,"../item/item":438,"../picker/picker":464,"@angular/core":167,"@angular/forms":256}],426:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),config_1=require("../../config/config"),Icon=function(){function Icon(config,_elementRef,_renderer){this._elementRef=_elementRef,this._renderer=_renderer,this._name="",this._ios="",this._md="",this._css="",this.mode=config.get("iconMode")}return Icon.prototype.ngOnDestroy=function(){this._css&&this._renderer.setElementClass(this._elementRef.nativeElement,this._css,!1)},Object.defineProperty(Icon.prototype,"name",{get:function(){return this._name},set:function(val){/^md-|^ios-|^logo-/.test(val)||(val=this.mode+"-"+val),this._name=val,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(Icon.prototype,"ios",{get:function(){return this._ios},set:function(val){this._ios=val,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(Icon.prototype,"md",{get:function(){return this._md},set:function(val){this._md=val,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(Icon.prototype,"isActive",{get:function(){return void 0===this._isActive||this._isActive===!0||"true"===this._isActive},set:function(val){this._isActive=val,this.update()},enumerable:!0,configurable:!0}),Icon.prototype.update=function(){var css="ion-";css+=this._ios&&"ios"===this.mode?this._ios:this._md&&"md"===this.mode?this._md:this._name,"ios"===this.mode&&!this.isActive&&css.indexOf("logo")<0&&(css+="-outline"),this._css!==css&&(this._css&&this._renderer.setElementClass(this._elementRef.nativeElement,this._css,!1),this._css=css,this._renderer.setElementClass(this._elementRef.nativeElement,css,!0),this._renderer.setElementAttribute(this._elementRef.nativeElement,"aria-label",css.replace("ion-","").replace("ios-","").replace("md-","").replace("-"," ")))},Icon.prototype.addClass=function(className){this._renderer.setElementClass(this._elementRef.nativeElement,className,!0)},__decorate([core_1.Input(),__metadata("design:type",String)],Icon.prototype,"name",null),__decorate([core_1.Input(),__metadata("design:type",String)],Icon.prototype,"ios",null),__decorate([core_1.Input(),__metadata("design:type",String)],Icon.prototype,"md",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Icon.prototype,"isActive",null),Icon=__decorate([core_1.Directive({selector:"ion-icon",host:{role:"img"}}),__metadata("design:paramtypes",[config_1.Config,core_1.ElementRef,core_1.Renderer])],Icon)}();exports.Icon=Icon},{"../../config/config":497,"@angular/core":167}],427:[function(require,module,exports){"use strict";function getUnitValue(val){if(util_1.isPresent(val))if("string"==typeof val){if(val.indexOf("%")>-1||val.indexOf("px")>-1)return val;if(val.length)return val+"px"}else if("number"==typeof val)return val+"px";return""}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),dom_1=require("../../util/dom"),util_1=require("../../util/util"),platform_1=require("../../platform/platform"),Img=function(){function Img(_elementRef,_platform,_zone){this._elementRef=_elementRef,this._platform=_platform,this._zone=_zone,this._src="",this._normalizeSrc="",this._imgs=[],this._enabled=!0}return Object.defineProperty(Img.prototype,"src",{set:function(val){var tmpImg=new Image;tmpImg.src=util_1.isPresent(val)?val:"",this._src=util_1.isPresent(val)?val:"",this._normalizeSrc=tmpImg.src,this._init&&this._update()},enumerable:!0,configurable:!0}),Img.prototype.ngOnInit=function(){this._init=!0,this._update()},Img.prototype._update=function(){var _this=this;if(this._enabled&&""!==this._src){for(var i=this._imgs.length-1;i>=0;i--)this._imgs[i].src===this._normalizeSrc?this._imgs[i].complete&&this._loaded(!0):(this._imgs[i].parentElement&&this._imgs[i].parentElement.removeChild(this._imgs[i]),this._imgs.splice(i,1));this._imgs.length||this._zone.runOutsideAngular(function(){var img=new Image;img.style.width=_this._width,img.style.height=_this._height,util_1.isPresent(_this.alt)&&(img.alt=_this.alt),util_1.isPresent(_this.title)&&(img.title=_this.title),img.addEventListener("load",function(){img.src===_this._normalizeSrc&&(_this._elementRef.nativeElement.appendChild(img),dom_1.nativeRaf(function(){_this._update()}))}),img.src=_this._src,_this._imgs.push(img),_this._loaded(!1)})}else this._imgs.some(function(img){return img.src===_this._normalizeSrc})||this._loaded(!1)},Img.prototype._loaded=function(isLoaded){this._elementRef.nativeElement.classList[isLoaded?"add":"remove"]("img-loaded")},Img.prototype.enable=function(shouldEnable){this._enabled=shouldEnable,this._update()},Object.defineProperty(Img.prototype,"width",{set:function(val){this._w=getUnitValue(val)},enumerable:!0,configurable:!0}),Object.defineProperty(Img.prototype,"height",{set:function(val){this._h=getUnitValue(val)},enumerable:!0,configurable:!0}),Object.defineProperty(Img.prototype,"_width",{get:function(){return util_1.isPresent(this._w)?this._w:""},enumerable:!0,configurable:!0}),Object.defineProperty(Img.prototype,"_height",{get:function(){return util_1.isPresent(this._h)?this._h:""},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",String),__metadata("design:paramtypes",[String])],Img.prototype,"src",null),__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],Img.prototype,"width",null),__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],Img.prototype,"height",null),__decorate([core_1.Input(),__metadata("design:type",String)],Img.prototype,"alt",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Img.prototype,"title",void 0),__decorate([core_1.HostBinding("style.width"),__metadata("design:type",String)],Img.prototype,"_width",null),__decorate([core_1.HostBinding("style.height"),__metadata("design:type",String)],Img.prototype,"_height",null),Img=__decorate([core_1.Component({selector:"ion-img",template:'<div class="img-placeholder" [style.height]="_h" [style.width]="_w"></div>',changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[core_1.ElementRef,platform_1.Platform,core_1.NgZone])],Img)}();exports.Img=Img},{"../../platform/platform":510,"../../util/dom":527,"../../util/util":535,"@angular/core":167}],428:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),common_1=require("@angular/common"),config_1=require("../../config/config"),infinite_scroll_1=require("./infinite-scroll"),spinner_1=require("../spinner/spinner"),InfiniteScrollContent=function(){function InfiniteScrollContent(inf,_config){this.inf=inf,this._config=_config}return InfiniteScrollContent.prototype.ngOnInit=function(){this.loadingSpinner||(this.loadingSpinner=this._config.get("infiniteLoadingSpinner",this._config.get("spinner","ios")))},__decorate([core_1.Input(),__metadata("design:type",String)],InfiniteScrollContent.prototype,"loadingSpinner",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],InfiniteScrollContent.prototype,"loadingText",void 0),InfiniteScrollContent=__decorate([core_1.Component({selector:"ion-infinite-scroll-content",template:'<div class="infinite-loading"><div class="infinite-loading-spinner" *ngIf="loadingSpinner"><ion-spinner [name]="loadingSpinner"></ion-spinner></div><div class="infinite-loading-text" [innerHTML]="loadingText" *ngIf="loadingText"></div></div>',directives:[common_1.NgIf,spinner_1.Spinner],host:{"[attr.state]":"inf.state"},encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[infinite_scroll_1.InfiniteScroll,config_1.Config])],InfiniteScrollContent)}();exports.InfiniteScrollContent=InfiniteScrollContent},{"../../config/config":497,"../spinner/spinner":479,"./infinite-scroll":429,"@angular/common":20,"@angular/core":167}],429:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),content_1=require("../content/content"),InfiniteScroll=function(){function InfiniteScroll(_content,_zone,_elementRef){this._content=_content,this._zone=_zone,this._elementRef=_elementRef,this._lastCheck=0,this._highestY=0,this._thr="15%",this._thrPx=0,this._thrPc=.15,this._init=!1,this.state=STATE_ENABLED,this.ionInfinite=new core_1.EventEmitter,_content.addCssClass("has-infinite-scroll")}return Object.defineProperty(InfiniteScroll.prototype,"threshold",{get:function(){return this._thr},set:function(val){this._thr=val,val.indexOf("%")>-1?(this._thrPx=0,this._thrPc=parseFloat(val)/100):(this._thrPx=parseFloat(val),this._thrPc=0)},enumerable:!0,configurable:!0}),InfiniteScroll.prototype._onScroll=function(){var _this=this;if(this.state===STATE_LOADING||this.state===STATE_DISABLED)return 1;var now=Date.now();if(this._lastCheck+32>now)return 2;this._lastCheck=now;var infiniteHeight=this._elementRef.nativeElement.scrollHeight;if(!infiniteHeight)return 3;var d=this._content.getContentDimensions(),reloadY=d.contentHeight;reloadY+=this._thrPc?reloadY*this._thrPc:this._thrPx;var distanceFromInfinite=d.scrollHeight-infiniteHeight-d.scrollTop-reloadY;return distanceFromInfinite<0?(this._zone.run(function(){_this.state!==STATE_LOADING&&_this.state!==STATE_DISABLED&&(_this.state=STATE_LOADING,_this.ionInfinite.emit(_this))}),5):6},InfiniteScroll.prototype.complete=function(){this.state=STATE_ENABLED},InfiniteScroll.prototype.enable=function(shouldEnable){this.state=shouldEnable?STATE_ENABLED:STATE_DISABLED,this._setListeners(shouldEnable)},InfiniteScroll.prototype._setListeners=function(shouldListen){var _this=this;this._init&&(shouldListen?this._scLsn||this._zone.runOutsideAngular(function(){_this._scLsn=_this._content.addScrollListener(_this._onScroll.bind(_this))}):(this._scLsn&&this._scLsn(),this._scLsn=null))},InfiniteScroll.prototype.ngAfterContentInit=function(){this._init=!0,this._setListeners(this.state!==STATE_DISABLED)},InfiniteScroll.prototype.ngOnDestroy=function(){this._setListeners(!1)},__decorate([core_1.Input(),__metadata("design:type",String)],InfiniteScroll.prototype,"threshold",null),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],InfiniteScroll.prototype,"ionInfinite",void 0),InfiniteScroll=__decorate([core_1.Directive({selector:"ion-infinite-scroll"}),__param(0,core_1.Host()),__metadata("design:paramtypes",[content_1.Content,core_1.NgZone,core_1.ElementRef])],InfiniteScroll)}();exports.InfiniteScroll=InfiniteScroll;var STATE_ENABLED="enabled",STATE_DISABLED="disabled",STATE_LOADING="loading"},{"../content/content":424,"@angular/core":167}],430:[function(require,module,exports){"use strict";function getScrollAssistDuration(distanceToScroll){distanceToScroll=Math.abs(distanceToScroll);var duration=distanceToScroll/SCROLL_ASSIST_SPEED;return Math.min(400,Math.max(150,duration))}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),dom_1=require("../../util/dom"),util_1=require("../../util/util"),native_input_1=require("./native-input"),InputBase=function(){function InputBase(config,_form,_item,_app,_platform,_elementRef,_scrollView,nav,ngControl){this._form=_form,this._item=_item,this._app=_app,this._platform=_platform,this._elementRef=_elementRef,this._scrollView=_scrollView,this._disabled=!1,this._type="text",this._value="",this.placeholder="",this.blur=new core_1.EventEmitter,this.focus=new core_1.EventEmitter,
this._nav=nav,this._useAssist=config.getBoolean("scrollAssist",!1),this._usePadding=config.getBoolean("scrollPadding",this._useAssist),this._keyboardHeight=config.getNumber("keyboardHeight"),this._autoFocusAssist=config.get("autoFocusAssist","delay"),this._autoComplete=config.get("autocomplete","off"),this._autoCorrect=config.get("autocorrect","off"),ngControl&&(ngControl.valueAccessor=this,this.inputControl=ngControl),_form.register(this)}return InputBase.prototype.ngOnInit=function(){this._item&&(this._item.setCssClass("item-input",!0),this._item.registerInput(this._type));var clearInput=this.clearInput;"string"==typeof clearInput&&(this.clearInput=""===clearInput||"true"===clearInput)},InputBase.prototype.ngAfterContentInit=function(){var self=this;self._scrollMove=function(ev){self._nav&&self._nav.isTransitioning()||(self.deregScrollMove(),self.hasFocus()&&(self._native.hideFocus(!0),self._scrollView.onScrollEnd(function(){self._native.hideFocus(!1),self.hasFocus()&&self.regScrollMove()})))},this.setItemInputControlCss()},InputBase.prototype.ngAfterContentChecked=function(){this.setItemInputControlCss()},InputBase.prototype.setItemInputControlCss=function(){var item=this._item,nativeInput=this._native,inputControl=this.inputControl;item&&inputControl&&this.setControlCss(item,inputControl),nativeInput&&inputControl&&this.setControlCss(nativeInput,inputControl)},InputBase.prototype.setControlCss=function(element,control){element.setCssClass("ng-untouched",control.untouched),element.setCssClass("ng-touched",control.touched),element.setCssClass("ng-pristine",control.pristine),element.setCssClass("ng-dirty",control.dirty),element.setCssClass("ng-valid",control.valid),element.setCssClass("ng-invalid",!control.valid)},InputBase.prototype.ngOnDestroy=function(){this._form.deregister(this)},Object.defineProperty(InputBase.prototype,"value",{get:function(){return this._value},set:function(val){this._value=val,this.checkHasValue(val)},enumerable:!0,configurable:!0}),Object.defineProperty(InputBase.prototype,"type",{get:function(){return this._type},set:function(val){this._type="text",val&&(val=val.toLowerCase(),/password|email|number|search|tel|url|date|month|time|week/.test(val)&&(this._type=val))},enumerable:!0,configurable:!0}),Object.defineProperty(InputBase.prototype,"disabled",{get:function(){return this._disabled},set:function(val){this._disabled=util_1.isTrueProperty(val),this._item&&this._item.setCssClass("item-input-disabled",this._disabled),this._native&&this._native.isDisabled(this._disabled)},enumerable:!0,configurable:!0}),Object.defineProperty(InputBase.prototype,"_nativeInput",{set:function(nativeInput){var _this=this;this._native=nativeInput,this._item&&null!==this._item.labelId&&nativeInput.labelledBy(this._item.labelId),nativeInput.valueChange.subscribe(function(inputValue){_this.onChange(inputValue)}),this.focusChange(this.hasFocus()),nativeInput.focusChange.subscribe(function(textInputHasFocus){_this.focusChange(textInputHasFocus),_this.checkHasValue(nativeInput.getValue()),textInputHasFocus||_this.onTouched(textInputHasFocus)}),this.checkHasValue(nativeInput.getValue()),this.disabled=this._disabled;var ionInputEle=this._elementRef.nativeElement,nativeInputEle=nativeInput.element();dom_1.copyInputAttributes(ionInputEle,nativeInputEle),ionInputEle.hasAttribute("autofocus")&&(ionInputEle.removeAttribute("autofocus"),"immediate"===this._autoFocusAssist?nativeInputEle.focus():"delay"===this._autoFocusAssist&&setTimeout(function(){nativeInputEle.focus()},650)),ionInputEle.hasAttribute("autocomplete")&&(this._autoComplete=ionInputEle.getAttribute("autocomplete")),nativeInputEle.setAttribute("autocomplete",this._autoComplete),ionInputEle.hasAttribute("autocorrect")&&(this._autoCorrect=ionInputEle.getAttribute("autocorrect")),nativeInputEle.setAttribute("autocorrect",this._autoCorrect)},enumerable:!0,configurable:!0}),Object.defineProperty(InputBase.prototype,"_nextInput",{set:function(nextInput){var _this=this;nextInput&&nextInput.focused.subscribe(function(){_this._form.tabFocus(_this)})},enumerable:!0,configurable:!0}),InputBase.prototype.writeValue=function(val){this._value=val,this.checkHasValue(val)},InputBase.prototype.onChange=function(val){this.checkHasValue(val)},InputBase.prototype.onTouched=function(val){},InputBase.prototype.hasFocus=function(){return this._native.hasFocus()},InputBase.prototype.checkHasValue=function(inputValue){this._item&&this._item.setCssClass("input-has-value",!(!inputValue||""===inputValue))},InputBase.prototype.focusChange=function(inputHasFocus){this._item&&this._item.setCssClass("input-has-focus",inputHasFocus),inputHasFocus||this.deregScrollMove()},InputBase.prototype.pointerStart=function(ev){"touchstart"===ev.type&&(this._isTouch=!0),(this._isTouch||!this._isTouch&&"mousedown"===ev.type)&&this._app.isEnabled()&&(this._coord=dom_1.pointerCoord(ev))},InputBase.prototype.pointerEnd=function(ev){if(this._isTouch&&"mouseup"===ev.type||!this._app.isEnabled())ev.preventDefault(),ev.stopPropagation();else if(this._coord){var endCoord=dom_1.pointerCoord(ev);dom_1.hasPointerMoved(8,this._coord,endCoord)||this.hasFocus()||(ev.preventDefault(),ev.stopPropagation(),this.initFocus())}this._coord=null},InputBase.prototype.initFocus=function(){var _this=this,scrollView=this._scrollView;if(scrollView){var ele=this._elementRef.nativeElement;ele=dom_1.closest(ele,"ion-item,[ion-item]")||ele;var scrollData=InputBase.getScrollData(ele.offsetTop,ele.offsetHeight,scrollView.getContentDimensions(),this._keyboardHeight,this._platform.height());if(scrollData.scrollAmount>-3&&scrollData.scrollAmount<3)return this.setFocus(),void this.regScrollMove();this._usePadding&&scrollView.addScrollPadding(scrollData.scrollPadding);var scrollDuration=getScrollAssistDuration(scrollData.scrollAmount);this._app.setEnabled(!1,scrollDuration),this._nav&&this._nav.setTransitioning(!0,scrollDuration),this._native.beginFocus(!0,scrollData.inputSafeY),scrollView.scrollTo(0,scrollData.scrollTo,scrollDuration).then(function(){_this._native.beginFocus(!1,0),_this.setFocus(),_this._app.setEnabled(!0),_this._nav&&_this._nav.setTransitioning(!1),_this.regScrollMove(),_this._usePadding&&_this._scrollView.clearScrollPaddingFocusOut()})}else this.setFocus(),this.regScrollMove()},InputBase.prototype.setFocus=function(){this._form.setAsFocused(this),this._native.setFocus(),document.body.scrollTop=0},InputBase.prototype.registerOnChange=function(fn){this.onChange=fn},InputBase.prototype.registerOnTouched=function(fn){this.onTouched=fn},InputBase.prototype.regScrollMove=function(){var _this=this;this._useAssist&&this._scrollView&&setTimeout(function(){_this.deregScrollMove(),_this._deregScroll=_this._scrollView.addScrollListener(_this._scrollMove)},80)},InputBase.prototype.deregScrollMove=function(){this._deregScroll&&this._deregScroll()},InputBase.prototype.focusNext=function(){this._form.tabFocus(this)},InputBase.getScrollData=function(inputOffsetTop,inputOffsetHeight,scrollViewDimensions,keyboardHeight,plaformHeight){var inputTop=inputOffsetTop+scrollViewDimensions.contentTop-scrollViewDimensions.scrollTop,inputBottom=inputTop+inputOffsetHeight,safeAreaTop=scrollViewDimensions.contentTop,safeAreaHeight=plaformHeight-keyboardHeight-safeAreaTop;safeAreaHeight/=2;var safeAreaBottom=safeAreaTop+safeAreaHeight,inputTopWithinSafeArea=inputTop>=safeAreaTop&&inputTop<=safeAreaBottom,inputTopAboveSafeArea=inputTop<safeAreaTop,inputTopBelowSafeArea=inputTop>safeAreaBottom,inputBottomWithinSafeArea=inputBottom>=safeAreaTop&&inputBottom<=safeAreaBottom,inputBottomBelowSafeArea=inputBottom>safeAreaBottom,scrollData={scrollAmount:0,scrollTo:0,scrollPadding:0,inputSafeY:0};if(inputTopWithinSafeArea&&inputBottomWithinSafeArea)return scrollData;if(inputTopBelowSafeArea||inputBottomBelowSafeArea?(safeAreaHeight>inputOffsetHeight?scrollData.scrollAmount=Math.round(safeAreaBottom-inputBottom):scrollData.scrollAmount=Math.round(safeAreaTop-inputTop),scrollData.inputSafeY=-(inputTop-safeAreaTop)+4):inputTopAboveSafeArea&&(scrollData.scrollAmount=Math.round(safeAreaTop-inputTop),scrollData.inputSafeY=safeAreaTop-inputTop+4),scrollData.scrollTo=scrollViewDimensions.scrollTop-scrollData.scrollAmount,scrollData.scrollAmount<0){var availablePadding=scrollViewDimensions.scrollHeight-scrollViewDimensions.scrollTop-scrollViewDimensions.contentHeight,paddingSpace=availablePadding+scrollData.scrollAmount;paddingSpace<0&&(scrollData.scrollPadding=scrollViewDimensions.contentHeight-safeAreaHeight)}return scrollData},__decorate([core_1.Input(),__metadata("design:type",Object)],InputBase.prototype,"clearInput",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],InputBase.prototype,"placeholder",void 0),__decorate([core_1.ViewChild(native_input_1.NativeInput),__metadata("design:type",native_input_1.NativeInput)],InputBase.prototype,"_native",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],InputBase.prototype,"blur",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],InputBase.prototype,"focus",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],InputBase.prototype,"value",null),__decorate([core_1.Input(),__metadata("design:type",Object)],InputBase.prototype,"type",null),__decorate([core_1.Input(),__metadata("design:type",Object)],InputBase.prototype,"disabled",null),__decorate([core_1.ViewChild(native_input_1.NativeInput),__metadata("design:type",native_input_1.NativeInput),__metadata("design:paramtypes",[native_input_1.NativeInput])],InputBase.prototype,"_nativeInput",null),__decorate([core_1.ViewChild(native_input_1.NextInput),__metadata("design:type",native_input_1.NextInput),__metadata("design:paramtypes",[native_input_1.NextInput])],InputBase.prototype,"_nextInput",null),InputBase}();exports.InputBase=InputBase;var SCROLL_ASSIST_SPEED=.3},{"../../util/dom":527,"../../util/util":535,"./native-input":432,"@angular/core":167}],431:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),common_1=require("@angular/common"),forms_1=require("@angular/forms"),app_1=require("../app/app"),config_1=require("../../config/config"),content_1=require("../content/content"),form_1=require("../../util/form"),input_base_1=require("./input-base"),item_1=require("../item/item"),native_input_1=require("./native-input"),nav_controller_1=require("../nav/nav-controller"),platform_1=require("../../platform/platform"),TextInput=function(_super){function TextInput(config,form,item,app,platform,elementRef,scrollView,nav,ngControl){_super.call(this,config,form,item,app,platform,elementRef,scrollView,nav,ngControl)}return __extends(TextInput,_super),TextInput.prototype.inputBlurred=function(ev){this.blur.emit(ev)},TextInput.prototype.inputFocused=function(ev){this.focus.emit(ev)},TextInput.prototype.clearTextInput=function(){this._value="",this.onChange(this._value),this.writeValue(this._value)},TextInput=__decorate([core_1.Component({selector:"ion-input",template:'\n    <input [type]="type" [(ngModel)]="_value" (blur)="inputBlurred($event)" (focus)="inputFocused($event)" [placeholder]="placeholder" class="text-input">\n    <input [type]="type" aria-hidden="true" next-input *ngIf="_useAssist">\n    <button clear [hidden]="!clearInput" type="button" class="text-input-clear-icon" (click)="clearTextInput()" (mousedown)="clearTextInput()"></button>\n    <div (touchstart)="pointerStart($event)" (touchend)="pointerEnd($event)" (mousedown)="pointerStart($event)" (mouseup)="pointerEnd($event)" class="input-cover" tappable *ngIf="_useAssist"></div>\n  ',directives:[native_input_1.NativeInput,native_input_1.NextInput,common_1.NgIf,forms_1.NgModel],encapsulation:core_1.ViewEncapsulation.None}),__param(2,core_1.Optional()),__param(6,core_1.Optional()),__param(7,core_1.Optional()),__param(8,core_1.Optional()),__metadata("design:paramtypes",[config_1.Config,form_1.Form,item_1.Item,app_1.App,platform_1.Platform,core_1.ElementRef,content_1.Content,nav_controller_1.NavController,forms_1.NgControl])],TextInput)}(input_base_1.InputBase);exports.TextInput=TextInput;var TextArea=function(_super){function TextArea(config,form,item,app,platform,elementRef,scrollView,nav,ngControl){_super.call(this,config,form,item,app,platform,elementRef,scrollView,nav,ngControl)}return __extends(TextArea,_super),TextArea.prototype.ngOnInit=function(){_super.prototype.ngOnInit.call(this),this._item&&this._item.setCssClass("item-textarea",!0)},TextArea.prototype.inputBlurred=function(ev){this.blur.emit(ev)},TextArea.prototype.inputFocused=function(ev){this.focus.emit(ev)},TextArea=__decorate([core_1.Component({selector:"ion-textarea",template:'<textarea [(ngModel)]="_value" (blur)="inputBlurred($event)" (focus)="inputFocused($event)" [placeholder]="placeholder" class="text-input"></textarea><input type="text" aria-hidden="true" next-input *ngIf="_useAssist"><div (touchstart)="pointerStart($event)" (touchend)="pointerEnd($event)" (mousedown)="pointerStart($event)" (mouseup)="pointerEnd($event)" class="input-cover" tappable *ngIf="_useAssist"></div>',directives:[native_input_1.NativeInput,native_input_1.NextInput,common_1.NgIf],encapsulation:core_1.ViewEncapsulation.None}),__param(2,core_1.Optional()),__param(6,core_1.Optional()),__param(7,core_1.Optional()),__param(8,core_1.Optional()),__metadata("design:paramtypes",[config_1.Config,form_1.Form,item_1.Item,app_1.App,platform_1.Platform,core_1.ElementRef,content_1.Content,nav_controller_1.NavController,forms_1.NgControl])],TextArea)}(input_base_1.InputBase);exports.TextArea=TextArea},{"../../config/config":497,"../../platform/platform":510,"../../util/form":530,"../app/app":419,"../content/content":424,"../item/item":438,"../nav/nav-controller":452,"./input-base":430,"./native-input":432,"@angular/common":20,"@angular/core":167,"@angular/forms":256}],432:[function(require,module,exports){"use strict";function cloneInput(focusedInputEle,addCssClass){var clonedInputEle=focusedInputEle.cloneNode(!0);return clonedInputEle.classList.add("cloned-input"),clonedInputEle.classList.add(addCssClass),clonedInputEle.setAttribute("aria-hidden",!0),clonedInputEle.removeAttribute("aria-labelledby"),clonedInputEle.tabIndex=-1,clonedInputEle.style.width=focusedInputEle.offsetWidth+10+"px",clonedInputEle.style.height=focusedInputEle.offsetHeight+"px",clonedInputEle.value=focusedInputEle.value,clonedInputEle}function removeClone(focusedInputEle,queryCssClass){var clonedInputEle=focusedInputEle.parentElement.querySelector("."+queryCssClass);clonedInputEle&&clonedInputEle.parentNode.removeChild(clonedInputEle)}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),forms_1=require("@angular/forms"),config_1=require("../../config/config"),dom_1=require("../../util/dom"),NativeInput=function(){function NativeInput(_elementRef,_renderer,config,ngControl){this._elementRef=_elementRef,this._renderer=_renderer,this.ngControl=ngControl,this.focusChange=new core_1.EventEmitter,this.valueChange=new core_1.EventEmitter,this._clone=config.getBoolean("inputCloning",!1),this._blurring=config.getBoolean("inputBlurring",!1)}return NativeInput.prototype._change=function(ev){this.valueChange.emit(ev.target.value)},NativeInput.prototype._focus=function(){function docTouchEnd(ev){var tapped=ev.target;tapped&&self.element()&&("INPUT"===tapped.tagName||"TEXTAREA"===tapped.tagName||tapped.classList.contains("input-cover")||self.element().blur())}var self=this;self.focusChange.emit(!0),self._blurring&&(document.addEventListener("touchend",docTouchEnd,!0),self._unrefBlur=function(){document.removeEventListener("touchend",docTouchEnd,!0)})},NativeInput.prototype._blur=function(){this.focusChange.emit(!1),this.hideFocus(!1),this._unrefBlur&&this._unrefBlur(),this._unrefBlur=null},NativeInput.prototype.labelledBy=function(val){this._renderer.setElementAttribute(this._elementRef.nativeElement,"aria-labelledby",val)},NativeInput.prototype.isDisabled=function(val){this._renderer.setElementAttribute(this._elementRef.nativeElement,"disabled",val?"":null)},NativeInput.prototype.setFocus=function(){document.activeElement!==this.element()&&this.element().focus()},NativeInput.prototype.beginFocus=function(shouldFocus,inputRelativeY){if(this._relocated!==shouldFocus){var focusedInputEle=this.element();if(shouldFocus){if(this._clone){var clonedInputEle=cloneInput(focusedInputEle,"cloned-focus");focusedInputEle.parentNode.insertBefore(clonedInputEle,focusedInputEle),focusedInputEle.style[dom_1.CSS.transform]="translate3d(-9999px,"+inputRelativeY+"px,0)",focusedInputEle.style.opacity="0"}this.setFocus(),this._clone&&focusedInputEle.classList.add("cloned-active")}else this._clone&&(focusedInputEle.classList.remove("cloned-active"),focusedInputEle.style[dom_1.CSS.transform]="",focusedInputEle.style.opacity="",removeClone(focusedInputEle,"cloned-focus"));this._relocated=shouldFocus}},NativeInput.prototype.hideFocus=function(shouldHideFocus){var focusedInputEle=this.element();if(shouldHideFocus){var clonedInputEle=cloneInput(focusedInputEle,"cloned-move");focusedInputEle.classList.add("cloned-active"),focusedInputEle.parentNode.insertBefore(clonedInputEle,focusedInputEle)}else focusedInputEle.classList.remove("cloned-active"),removeClone(focusedInputEle,"cloned-move")},NativeInput.prototype.hasFocus=function(){return dom_1.hasFocus(this.element())},NativeInput.prototype.getValue=function(){return this.element().value},NativeInput.prototype.setCssClass=function(cssClass,shouldAdd){this._renderer.setElementClass(this._elementRef.nativeElement,cssClass,shouldAdd)},NativeInput.prototype.element=function(){return this._elementRef.nativeElement},NativeInput.prototype.ngOnDestroy=function(){this._unrefBlur&&this._unrefBlur()},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],NativeInput.prototype,"focusChange",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],NativeInput.prototype,"valueChange",void 0),__decorate([core_1.HostListener("input",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],NativeInput.prototype,"_change",null),__decorate([core_1.HostListener("focus"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],NativeInput.prototype,"_focus",null),__decorate([core_1.HostListener("blur"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],NativeInput.prototype,"_blur",null),NativeInput=__decorate([core_1.Directive({selector:".text-input"}),__metadata("design:paramtypes",[core_1.ElementRef,core_1.Renderer,config_1.Config,forms_1.NgControl])],NativeInput)}();exports.NativeInput=NativeInput;var NextInput=function(){function NextInput(){this.focused=new core_1.EventEmitter}return NextInput.prototype.receivedFocus=function(){this.focused.emit(!0)},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],NextInput.prototype,"focused",void 0),__decorate([core_1.HostListener("focus"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],NextInput.prototype,"receivedFocus",null),NextInput=__decorate([core_1.Directive({selector:"[next-input]"}),__metadata("design:paramtypes",[])],NextInput)}();exports.NextInput=NextInput},{"../../config/config":497,"../../util/dom":527,"@angular/core":167,"@angular/forms":256}],433:[function(require,module,exports){"use strict";var dom_1=require("../util/dom"),ids=0,Ion=function(){function Ion(elementRef){this.elementRef=elementRef,this._id="i"+ids++}return Ion.prototype.getElementRef=function(){return this.elementRef},Ion.prototype.getNativeElement=function(){return this.elementRef.nativeElement},Ion.prototype.getDimensions=function(){return dom_1.getDimensions(this.elementRef.nativeElement,this._id)},Ion.prototype.width=function(){return dom_1.getDimensions(this.elementRef.nativeElement,this._id).width},Ion.prototype.height=function(){return dom_1.getDimensions(this.elementRef.nativeElement,this._id).height},Ion.prototype.ngOnDestroy=function(){dom_1.clearDimensions(this._id)},Ion}();exports.Ion=Ion},{"../util/dom":527}],434:[function(require,module,exports){"use strict";function itemForPosition(x,y){var element=document.elementFromPoint(x,y);return item_reorder_1.findReorderItem(element)}var item_reorder_1=require("../item/item-reorder"),ui_event_manager_1=require("../../util/ui-event-manager"),dom_1=require("../../util/dom"),AUTO_SCROLL_MARGIN=60,SCROLL_JUMP=10,ITEM_REORDER_ACTIVE="reorder-active",ItemReorderGesture=function(){function ItemReorderGesture(reorderList){this.reorderList=reorderList,this.selectedItemEle=null,this.events=new ui_event_manager_1.UIEventManager((!1)),this.events.pointerEvents({element:this.reorderList.getNativeElement(),pointerDown:this.onDragStart.bind(this),pointerMove:this.onDragMove.bind(this),pointerUp:this.onDragEnd.bind(this)})}return ItemReorderGesture.prototype.onDragStart=function(ev){var reorderElement=ev.target;if("ION-REORDER"!==reorderElement.nodeName)return!1;var reorderMark=reorderElement.$ionComponent;if(!reorderMark)return!1;this.reorderList.reorderPrepare();var item=reorderMark.getReorderNode();return!!item&&(ev.preventDefault(),this.selectedItemEle=item,this.selectedItemHeight=item.offsetHeight,this.lastYcoord=-100,this.lastToIndex=item_reorder_1.indexForItem(item),this.windowHeight=window.innerHeight-AUTO_SCROLL_MARGIN,this.lastScrollPosition=this.reorderList.scrollContent(0),this.offset=dom_1.pointerCoord(ev),this.offset.y+=this.lastScrollPosition,item.classList.add(ITEM_REORDER_ACTIVE),this.reorderList.reorderStart(),!0)},ItemReorderGesture.prototype.onDragMove=function(ev){var selectedItem=this.selectedItemEle;if(selectedItem){ev.preventDefault();var coord=dom_1.pointerCoord(ev),posY=coord.y,scrollPosition=this.scroll(posY);if(Math.abs(posY-this.lastYcoord)>30){var overItem=this.itemForCoord(coord);if(overItem){var toIndex=item_reorder_1.indexForItem(overItem);if(void 0!==toIndex&&(toIndex!==this.lastToIndex||this.emptyZone)){var fromIndex=item_reorder_1.indexForItem(this.selectedItemEle);this.lastToIndex=toIndex,this.lastYcoord=posY,this.emptyZone=!1,this.reorderList.reorderMove(fromIndex,toIndex,this.selectedItemHeight)}}else this.emptyZone=!0}var ydiff=Math.round(posY-this.offset.y+scrollPosition);selectedItem.style[dom_1.CSS.transform]="translateY("+ydiff+"px)"}},ItemReorderGesture.prototype.onDragEnd=function(){var _this=this;if(this.selectedItemEle){var toIndex=this.lastToIndex,fromIndex=item_reorder_1.indexForItem(this.selectedItemEle),reorderInactive=function(){_this.selectedItemEle.style.transition="",_this.selectedItemEle.classList.remove(ITEM_REORDER_ACTIVE),_this.selectedItemEle=null};toIndex===fromIndex?(this.selectedItemEle.style.transition="transform 200ms ease-in-out",setTimeout(reorderInactive,200)):reorderInactive(),this.reorderList.reorderEmit(fromIndex,toIndex)}},ItemReorderGesture.prototype.itemForCoord=function(coord){return itemForPosition(this.offset.x-100,coord.y)},ItemReorderGesture.prototype.scroll=function(posY){return posY<AUTO_SCROLL_MARGIN?this.lastScrollPosition=this.reorderList.scrollContent(-SCROLL_JUMP):posY>this.windowHeight&&(this.lastScrollPosition=this.reorderList.scrollContent(SCROLL_JUMP)),this.lastScrollPosition},ItemReorderGesture.prototype.destroy=function(){this.onDragEnd(),this.events.unlistenAll(),this.events=null,this.reorderList=null},ItemReorderGesture}();exports.ItemReorderGesture=ItemReorderGesture},{"../../util/dom":527,"../../util/ui-event-manager":534,"../item/item-reorder":435}],435:[function(require,module,exports){"use strict";function findReorderItem(node){for(var nested=0;node&&nested<4;){if(void 0!==indexForItem(node))return node;node=node.parentNode,nested++}return null}function indexForItem(element){return element.$ionIndex}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),content_1=require("../content/content"),dom_1=require("../../util/dom"),item_1=require("./item"),item_reorder_gesture_1=require("../item/item-reorder-gesture"),util_1=require("../../util/util"),ItemReorder=function(){function ItemReorder(elementRef,_rendered,_zone,_content){this._rendered=_rendered,this._zone=_zone,this._content=_content,this._enableReorder=!1,this._lastToIndex=-1,this.ionItemReorder=new core_1.EventEmitter,this._element=elementRef.nativeElement}return ItemReorder.prototype.ngOnDestroy=function(){this._element=null,this._reorderGesture&&this._reorderGesture.destroy()},Object.defineProperty(ItemReorder.prototype,"reorder",{get:function(){return this._enableReorder},set:function(val){this._enableReorder=util_1.isTrueProperty(val),this._enableReorder?this._reorderGesture||(this._reorderGesture=new item_reorder_gesture_1.ItemReorderGesture(this)):(this._reorderGesture&&this._reorderGesture.destroy(),this._reorderGesture=null)},enumerable:!0,configurable:!0}),ItemReorder.prototype.reorderPrepare=function(){for(var children=this._element.children,len=children.length,i=0;i<len;i++)children[i].$ionIndex=i},ItemReorder.prototype.reorderStart=function(){this.setCssClass("reorder-list-active",!0)},ItemReorder.prototype.reorderEmit=function(fromIndex,toIndex){var _this=this;this.reorderReset(),fromIndex!==toIndex&&this._zone.run(function(){_this.ionItemReorder.emit({from:fromIndex,to:toIndex})})},ItemReorder.prototype.scrollContent=function(scroll){var scrollTop=this._content.getScrollTop()+scroll;return 0!==scroll&&this._content.scrollTo(0,scrollTop,0),scrollTop},ItemReorder.prototype.reorderReset=function(){var children=this._element.children,len=children.length;this.setCssClass("reorder-list-active",!1);for(var transform=dom_1.CSS.transform,i=0;i<len;i++)children[i].style[transform]="";this._lastToIndex=-1},ItemReorder.prototype.reorderMove=function(fromIndex,toIndex,itemHeight){this._lastToIndex===-1&&(this._lastToIndex=fromIndex);var lastToIndex=this._lastToIndex;this._lastToIndex=toIndex;var children=this._element.children,transform=dom_1.CSS.transform;if(toIndex>=lastToIndex)for(var i=lastToIndex;i<=toIndex;i++)i!==fromIndex&&(children[i].style[transform]=i>fromIndex?"translateY("+-itemHeight+"px)":"");if(toIndex<=lastToIndex)for(var i=toIndex;i<=lastToIndex;i++)i!==fromIndex&&(children[i].style[transform]=i<fromIndex?"translateY("+itemHeight+"px)":"")},ItemReorder.prototype.setCssClass=function(classname,add){this._rendered.setElementClass(this._element,classname,add)},ItemReorder.prototype.getNativeElement=function(){return this._element},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],ItemReorder.prototype,"ionItemReorder",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],ItemReorder.prototype,"reorder",null),ItemReorder=__decorate([core_1.Directive({selector:"ion-list[reorder],ion-item-group[reorder]",host:{"[class.reorder-enabled]":"_enableReorder"}}),__param(3,core_1.Optional()),__metadata("design:paramtypes",[core_1.ElementRef,core_1.Renderer,core_1.NgZone,content_1.Content])],ItemReorder)}();exports.ItemReorder=ItemReorder;var Reorder=function(){function Reorder(item,elementRef){this.item=item,this.elementRef=elementRef,elementRef.nativeElement.$ionComponent=this}return Reorder.prototype.getReorderNode=function(){var node=this.item.getNativeElement();return findReorderItem(node)},Reorder=__decorate([core_1.Component({selector:"ion-reorder",template:'<ion-icon name="menu"></ion-icon>'}),__param(0,core_1.Inject(core_1.forwardRef(function(){return item_1.Item}))),__metadata("design:paramtypes",[item_1.Item,core_1.ElementRef])],Reorder)}();exports.Reorder=Reorder,exports.findReorderItem=findReorderItem,exports.indexForItem=indexForItem},{"../../util/dom":527,"../../util/util":535,"../content/content":424,"../item/item-reorder-gesture":434,"./item":438,"@angular/core":167}],436:[function(require,module,exports){"use strict";function getContainer(ev){var ele=dom_1.closest(ev.target,"ion-item-sliding",!0);return ele?ele.$ionComponent:null}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},dom_1=require("../../util/dom"),drag_gesture_1=require("../../gestures/drag-gesture"),DRAG_THRESHOLD=10,MAX_ATTACK_ANGLE=20,ItemSlidingGesture=function(_super){function ItemSlidingGesture(list){_super.call(this,list.getNativeElement(),{maxAngle:MAX_ATTACK_ANGLE,threshold:DRAG_THRESHOLD,gesture:list._gestureCtrl.create("item-sliding",{priority:-10})}),this.list=list,this.preSelectedContainer=null,this.selectedContainer=null,this.openContainer=null}return __extends(ItemSlidingGesture,_super),ItemSlidingGesture.prototype.canStart=function(ev){if(this.selectedContainer)return!1;var container=getContainer(ev);if(!container)return this.closeOpened(),!1;container!==this.openContainer&&this.closeOpened();var coord=dom_1.pointerCoord(ev);return this.preSelectedContainer=container,this.firstCoordX=coord.x,this.firstTimestamp=Date.now(),!0},ItemSlidingGesture.prototype.onDragStart=function(ev){ev.preventDefault();var coord=dom_1.pointerCoord(ev);this.selectedContainer=this.openContainer=this.preSelectedContainer,this.selectedContainer.startSliding(coord.x)},ItemSlidingGesture.prototype.onDragMove=function(ev){ev.preventDefault();var coordX=dom_1.pointerCoord(ev).x;this.selectedContainer.moveSliding(coordX)},ItemSlidingGesture.prototype.onDragEnd=function(ev){ev.preventDefault();var coordX=dom_1.pointerCoord(ev).x,deltaX=coordX-this.firstCoordX,deltaT=Date.now()-this.firstTimestamp;this.selectedContainer.endSliding(deltaX/deltaT);this.selectedContainer=null,this.preSelectedContainer=null},ItemSlidingGesture.prototype.notCaptured=function(ev){
this.closeOpened()},ItemSlidingGesture.prototype.closeOpened=function(){return this.selectedContainer=null,!!this.openContainer&&(this.openContainer.close(),this.openContainer=null,!0)},ItemSlidingGesture.prototype.destroy=function(){_super.prototype.destroy.call(this),this.closeOpened(),this.list=null,this.preSelectedContainer=null,this.selectedContainer=null,this.openContainer=null},ItemSlidingGesture}(drag_gesture_1.PanGesture);exports.ItemSlidingGesture=ItemSlidingGesture},{"../../gestures/drag-gesture":502,"../../util/dom":527}],437:[function(require,module,exports){"use strict";function shouldClose(isCloseDirection,isMovingFast,isOnCloseZone){var shouldClose=!isMovingFast&&isOnCloseZone||isCloseDirection&&isMovingFast;return shouldClose}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),dom_1=require("../../util/dom"),item_1=require("./item"),util_1=require("../../util/util"),list_1=require("../list/list"),SWIPE_MARGIN=30,ELASTIC_FACTOR=.55,ItemOptions=function(){function ItemOptions(_elementRef,_renderer){this._elementRef=_elementRef,this._renderer=_renderer,this.ionSwipe=new core_1.EventEmitter}return ItemOptions.prototype.setCssStyle=function(property,value){this._renderer.setElementStyle(this._elementRef.nativeElement,property,value)},ItemOptions.prototype.getSides=function(){return util_1.isPresent(this.side)&&"left"===this.side?1:2},ItemOptions.prototype.width=function(){return this._elementRef.nativeElement.offsetWidth},__decorate([core_1.Input(),__metadata("design:type",String)],ItemOptions.prototype,"side",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],ItemOptions.prototype,"ionSwipe",void 0),ItemOptions=__decorate([core_1.Directive({selector:"ion-item-options"}),__metadata("design:paramtypes",[core_1.ElementRef,core_1.Renderer])],ItemOptions)}();exports.ItemOptions=ItemOptions;var ItemSliding=function(){function ItemSliding(list,_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._openAmount=0,this._startX=0,this._optsWidthRightSide=0,this._optsWidthLeftSide=0,this._timer=null,this._optsDirty=!0,this._state=2,this.ionDrag=new core_1.EventEmitter,list&&list.containsSlidingItem(!0),_elementRef.nativeElement.$ionComponent=this,this.setCssClass("item-wrapper",!0)}return Object.defineProperty(ItemSliding.prototype,"_itemOptions",{set:function(itemOptions){for(var sides=0,_i=0,_a=itemOptions.toArray();_i<_a.length;_i++){var item=_a[_i],side=item.getSides();1===side?this._leftOptions=item:this._rightOptions=item,sides|=item.getSides()}this._optsDirty=!0,this._sides=sides},enumerable:!0,configurable:!0}),ItemSliding.prototype.getOpenAmount=function(){return this._openAmount},ItemSliding.prototype.getSlidingPercent=function(){var openAmount=this._openAmount;return openAmount>0?openAmount/this._optsWidthRightSide:openAmount<0?openAmount/this._optsWidthLeftSide:0},ItemSliding.prototype.startSliding=function(startX){this._timer&&(dom_1.clearNativeTimeout(this._timer),this._timer=null),0===this._openAmount&&(this._optsDirty=!0,this._setState(4)),this._startX=startX+this._openAmount,this.item.setCssStyle(dom_1.CSS.transition,"none")},ItemSliding.prototype.moveSliding=function(x){if(this._optsDirty)return void this.calculateOptsWidth();var openAmount=this._startX-x;switch(this._sides){case 2:openAmount=Math.max(0,openAmount);break;case 1:openAmount=Math.min(0,openAmount);break;case 3:break;default:return}if(openAmount>this._optsWidthRightSide){var optsWidth=this._optsWidthRightSide;openAmount=optsWidth+(openAmount-optsWidth)*ELASTIC_FACTOR}else if(openAmount<-this._optsWidthLeftSide){var optsWidth=-this._optsWidthLeftSide;openAmount=optsWidth+(openAmount-optsWidth)*ELASTIC_FACTOR}return this._setOpenAmount(openAmount,!1),openAmount},ItemSliding.prototype.endSliding=function(velocity){var restingPoint=this._openAmount>0?this._optsWidthRightSide:-this._optsWidthLeftSide,isCloseDirection=this._openAmount>0==!(velocity<0),isMovingFast=Math.abs(velocity)>.3,isOnCloseZone=Math.abs(this._openAmount)<Math.abs(restingPoint/2);return shouldClose(isCloseDirection,isMovingFast,isOnCloseZone)&&(restingPoint=0),this._setOpenAmount(restingPoint,!0),this.fireSwipeEvent(),restingPoint},ItemSliding.prototype.fireSwipeEvent=function(){32&this._state?this._rightOptions.ionSwipe.emit(this):64&this._state&&this._leftOptions.ionSwipe.emit(this)},ItemSliding.prototype.calculateOptsWidth=function(){var _this=this;dom_1.nativeRaf(function(){_this._optsDirty&&(_this._optsWidthRightSide=0,_this._rightOptions&&(_this._optsWidthRightSide=_this._rightOptions.width()),_this._optsWidthLeftSide=0,_this._leftOptions&&(_this._optsWidthLeftSide=_this._leftOptions.width()),_this._optsDirty=!1)})},ItemSliding.prototype._setOpenAmount=function(openAmount,isFinal){var _this=this;if(this._timer&&(dom_1.clearNativeTimeout(this._timer),this._timer=null),this._openAmount=openAmount,isFinal)this.item.setCssStyle(dom_1.CSS.transition,"");else if(openAmount>0){var state=openAmount>=this._optsWidthRightSide+SWIPE_MARGIN?40:8;this._setState(state)}else if(openAmount<0){var state=openAmount<=-this._optsWidthLeftSide-SWIPE_MARGIN?80:16;this._setState(state)}return 0===openAmount?(this._timer=dom_1.nativeTimeout(function(){_this._setState(2),_this._timer=null},600),void this.item.setCssStyle(dom_1.CSS.transform,"")):(this.item.setCssStyle(dom_1.CSS.transform,"translate3d("+-openAmount+"px,0,0)"),void this.ionDrag.emit(this))},ItemSliding.prototype._setState=function(state){state!==this._state&&(this.setCssClass("active-slide",2!==state),this.setCssClass("active-options-right",!!(8&state)),this.setCssClass("active-options-left",!!(16&state)),this.setCssClass("active-swipe-right",!!(32&state)),this.setCssClass("active-swipe-left",!!(64&state)),this._state=state)},ItemSliding.prototype.close=function(){this._setOpenAmount(0,!0)},ItemSliding.prototype.setCssClass=function(cssClass,shouldAdd){this._renderer.setElementClass(this._elementRef.nativeElement,cssClass,shouldAdd)},ItemSliding.prototype.setCssStyle=function(property,value){this._renderer.setElementStyle(this._elementRef.nativeElement,property,value)},__decorate([core_1.ContentChild(item_1.Item),__metadata("design:type",item_1.Item)],ItemSliding.prototype,"item",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],ItemSliding.prototype,"ionDrag",void 0),__decorate([core_1.ContentChildren(ItemOptions),__metadata("design:type",core_1.QueryList),__metadata("design:paramtypes",[core_1.QueryList])],ItemSliding.prototype,"_itemOptions",null),ItemSliding=__decorate([core_1.Component({selector:"ion-item-sliding",template:'\n    <ng-content select="ion-item,[ion-item]"></ng-content>\n    <ng-content select="ion-item-options"></ng-content>\n  ',changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__param(0,core_1.Optional()),__metadata("design:paramtypes",[list_1.List,core_1.Renderer,core_1.ElementRef])],ItemSliding)}();exports.ItemSliding=ItemSliding},{"../../util/dom":527,"../../util/util":535,"../list/list":440,"./item":438,"@angular/core":167}],438:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),common_1=require("@angular/common"),button_1=require("../button/button"),form_1=require("../../util/form"),icon_1=require("../icon/icon"),item_reorder_1=require("../item/item-reorder"),label_1=require("../label/label"),Item=function(){function Item(form,_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._ids=-1,this._inputs=[],this._viewLabel=!0,this.labelId=null,this.id=form.nextId().toString()}return Item.prototype.registerInput=function(type){return this._inputs.push(type),this.id+"-"+ ++this._ids},Item.prototype.ngAfterContentInit=function(){if(this._viewLabel&&this._inputs.length){var labelText=this.getLabelText().trim();this._viewLabel=labelText.length>0}this._inputs.length>1&&this.setCssClass("item-multiple-inputs",!0)},Item.prototype.getLabelText=function(){return this._label?this._label.text:""},Object.defineProperty(Item.prototype,"contentLabel",{set:function(label){label&&(this._label=label,this.labelId=label.id="lbl-"+this.id,label.type&&this.setCssClass("item-label-"+label.type,!0),this._viewLabel=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(Item.prototype,"viewLabel",{set:function(label){this._label||(this._label=label)},enumerable:!0,configurable:!0}),Object.defineProperty(Item.prototype,"_buttons",{set:function(buttons){buttons.toArray().forEach(function(button){button.isItem||button._size||button.addClass("item-button")})},enumerable:!0,configurable:!0}),Object.defineProperty(Item.prototype,"_icons",{set:function(icons){icons.toArray().forEach(function(icon){icon.addClass("item-icon")})},enumerable:!0,configurable:!0}),Item.prototype.setCssClass=function(cssClass,shouldAdd){this._renderer.setElementClass(this._elementRef.nativeElement,cssClass,shouldAdd)},Item.prototype.setCssStyle=function(property,value){this._renderer.setElementStyle(this._elementRef.nativeElement,property,value)},Item.prototype.getNativeElement=function(){return this._elementRef.nativeElement},__decorate([core_1.ContentChild(label_1.Label),__metadata("design:type",label_1.Label),__metadata("design:paramtypes",[label_1.Label])],Item.prototype,"contentLabel",null),__decorate([core_1.ViewChild(label_1.Label),__metadata("design:type",label_1.Label),__metadata("design:paramtypes",[label_1.Label])],Item.prototype,"viewLabel",null),__decorate([core_1.ContentChildren(button_1.Button),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],Item.prototype,"_buttons",null),__decorate([core_1.ContentChildren(icon_1.Icon),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],Item.prototype,"_icons",null),Item=__decorate([core_1.Component({selector:"ion-list-header,ion-item,[ion-item],ion-item-divider",template:'\n    <ng-content select="[item-left],ion-checkbox:not([item-right])"></ng-content>\n    <div class="item-inner">\n      <div class="input-wrapper">\n        <ng-content select="ion-label"></ng-content>\n        <ion-label *ngIf="_viewLabel">\n          <ng-content></ng-content>\n        </ion-label>\n        <ng-content select="ion-select,ion-input,ion-textarea,ion-datetime,ion-range,[item-content]"></ng-content>\n      </div>\n      <ng-content select="[item-right],ion-radio,ion-toggle"></ng-content>\n      <ion-reorder></ion-reorder>\n    </div>\n    <ion-button-effect></ion-button-effect>\n  ',directives:[common_1.NgIf,label_1.Label,core_1.forwardRef(function(){return item_reorder_1.Reorder})],changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[form_1.Form,core_1.Renderer,core_1.ElementRef])],Item)}();exports.Item=Item;var ItemContent=function(){function ItemContent(){}return ItemContent=__decorate([core_1.Directive({selector:"ion-item,[ion-item]",host:{"class":"item"}}),__metadata("design:paramtypes",[])],ItemContent)}();exports.ItemContent=ItemContent},{"../../util/form":530,"../button/button":422,"../icon/icon":426,"../item/item-reorder":435,"../label/label":439,"@angular/common":20,"@angular/core":167}],439:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),Label=function(){function Label(_elementRef,_renderer,isFloating,isStacked,isFixed,isInset){this._elementRef=_elementRef,this._renderer=_renderer,this.type=""===isFloating?"floating":""===isStacked?"stacked":""===isFixed?"fixed":""===isInset?"inset":null}return Object.defineProperty(Label.prototype,"id",{get:function(){return this._id},set:function(val){this._id=val,val&&this._renderer.setElementAttribute(this._elementRef.nativeElement,"id",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"text",{get:function(){return this._elementRef.nativeElement.textContent||""},enumerable:!0,configurable:!0}),Label.prototype.addClass=function(className){this._renderer.setElementClass(this._elementRef.nativeElement,className,!0)},__decorate([core_1.Input(),__metadata("design:type",String)],Label.prototype,"id",null),Label=__decorate([core_1.Directive({selector:"ion-label"}),__param(2,core_1.Attribute("floating")),__param(3,core_1.Attribute("stacked")),__param(4,core_1.Attribute("fixed")),__param(5,core_1.Attribute("inset")),__metadata("design:paramtypes",[core_1.ElementRef,core_1.Renderer,String,String,String,String])],Label)}();exports.Label=Label},{"@angular/core":167}],440:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),ion_1=require("../ion"),util_1=require("../../util/util"),item_sliding_gesture_1=require("../item/item-sliding-gesture"),gesture_controller_1=require("../../gestures/gesture-controller"),List=function(_super){function List(elementRef,_rendered,_gestureCtrl){_super.call(this,elementRef),this._rendered=_rendered,this._gestureCtrl=_gestureCtrl,this._enableSliding=!0,this._containsSlidingItems=!1}return __extends(List,_super),List.prototype.ngOnDestroy=function(){this._slidingGesture&&this._slidingGesture.destroy()},Object.defineProperty(List.prototype,"sliding",{get:function(){return this._enableSliding},set:function(val){this._enableSliding=util_1.isTrueProperty(val),this._updateSlidingState()},enumerable:!0,configurable:!0}),List.prototype.containsSlidingItem=function(contains){this._containsSlidingItems=contains,this._updateSlidingState()},List.prototype._updateSlidingState=function(){var shouldSlide=this._enableSliding&&this._containsSlidingItems;shouldSlide?this._slidingGesture||(this._slidingGesture=new item_sliding_gesture_1.ItemSlidingGesture(this),this._slidingGesture.listen()):(this._slidingGesture&&this._slidingGesture.destroy(),this._slidingGesture=null)},List.prototype.closeSlidingItems=function(){this._slidingGesture&&this._slidingGesture.closeOpened()},__decorate([core_1.Input(),__metadata("design:type",Boolean)],List.prototype,"sliding",null),List=__decorate([core_1.Directive({selector:"ion-list"}),__metadata("design:paramtypes",[core_1.ElementRef,core_1.Renderer,gesture_controller_1.GestureController])],List)}(ion_1.Ion);exports.List=List;var ListHeader=function(){function ListHeader(_renderer,_elementRef,_id){this._renderer=_renderer,this._elementRef=_elementRef,this._id=_id}return Object.defineProperty(ListHeader.prototype,"id",{get:function(){return this._id},set:function(val){this._id=val,this._renderer.setElementAttribute(this._elementRef.nativeElement,"id",val)},enumerable:!0,configurable:!0}),ListHeader=__decorate([core_1.Directive({selector:"ion-list-header"}),__param(2,core_1.Attribute("id")),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef,String])],ListHeader)}();exports.ListHeader=ListHeader},{"../../gestures/gesture-controller":503,"../../util/util":535,"../ion":433,"../item/item-sliding-gesture":436,"@angular/core":167}],441:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),common_1=require("@angular/common"),animation_1=require("../../animations/animation"),backdrop_1=require("../backdrop/backdrop"),config_1=require("../../config/config"),util_1=require("../../util/util"),nav_params_1=require("../nav/nav-params"),spinner_1=require("../spinner/spinner"),transition_1=require("../../transitions/transition"),view_controller_1=require("../nav/view-controller"),LoadingCmp=function(){function LoadingCmp(_viewCtrl,_config,_elementRef,params,renderer){this._viewCtrl=_viewCtrl,this._config=_config,this._elementRef=_elementRef,this.d=params.data,this.d.cssClass&&renderer.setElementClass(_elementRef.nativeElement,this.d.cssClass,!0),this.id=++loadingIds}return LoadingCmp.prototype.ngOnInit=function(){util_1.isUndefined(this.d.spinner)&&(this.d.spinner=this._config.get("loadingSpinner",this._config.get("spinner","ios"))),this.showSpinner=util_1.isDefined(this.d.spinner)&&"hide"!==this.d.spinner},LoadingCmp.prototype.ionViewDidEnter=function(){var _this=this,activeElement=document.activeElement;document.activeElement&&activeElement.blur(),this.d.duration?this.durationTimeout=setTimeout(function(){return _this.dismiss("backdrop")},this.d.duration):null},LoadingCmp.prototype.dismiss=function(role){return this.durationTimeout&&clearTimeout(this.durationTimeout),this._viewCtrl.dismiss(null,role)},LoadingCmp=__decorate([core_1.Component({selector:"ion-loading",template:'\n    <ion-backdrop [class.hide-backdrop]="!d.showBackdrop"></ion-backdrop>\n    <div class="loading-wrapper">\n      <div *ngIf="showSpinner" class="loading-spinner">\n        <ion-spinner [name]="d.spinner"></ion-spinner>\n      </div>\n      <div *ngIf="d.content" [innerHTML]="d.content" class="loading-content"></div>\n    </div>\n  ',directives:[backdrop_1.Backdrop,common_1.NgIf,spinner_1.Spinner],host:{role:"dialog"},encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[view_controller_1.ViewController,config_1.Config,core_1.ElementRef,nav_params_1.NavParams,core_1.Renderer])],LoadingCmp)}();exports.LoadingCmp=LoadingCmp;var LoadingPopIn=function(_super){function LoadingPopIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".loading-wrapper"));wrapper.fromTo("opacity",.01,1).fromTo("scale",1.1,1),backdrop.fromTo("opacity",.01,.3),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(LoadingPopIn,_super),LoadingPopIn}(transition_1.Transition);transition_1.Transition.register("loading-pop-in",LoadingPopIn);var LoadingPopOut=function(_super){function LoadingPopOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".loading-wrapper"));wrapper.fromTo("opacity",.99,0).fromTo("scale",1,.9),backdrop.fromTo("opacity",.3,0),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(LoadingPopOut,_super),LoadingPopOut}(transition_1.Transition);transition_1.Transition.register("loading-pop-out",LoadingPopOut);var LoadingMdPopIn=function(_super){function LoadingMdPopIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".loading-wrapper"));wrapper.fromTo("opacity",.01,1).fromTo("scale",1.1,1),backdrop.fromTo("opacity",.01,.5),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(LoadingMdPopIn,_super),LoadingMdPopIn}(transition_1.Transition);transition_1.Transition.register("loading-md-pop-in",LoadingMdPopIn);var LoadingMdPopOut=function(_super){function LoadingMdPopOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".loading-wrapper"));wrapper.fromTo("opacity",.99,0).fromTo("scale",1,.9),backdrop.fromTo("opacity",.5,0),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(LoadingMdPopOut,_super),LoadingMdPopOut}(transition_1.Transition);transition_1.Transition.register("loading-md-pop-out",LoadingMdPopOut);var LoadingWpPopIn=function(_super){function LoadingWpPopIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".loading-wrapper"));wrapper.fromTo("opacity",.01,1).fromTo("scale",1.3,1),backdrop.fromTo("opacity",.01,.16),this.easing("cubic-bezier(0,0 0.05,1)").duration(200).add(backdrop).add(wrapper)}return __extends(LoadingWpPopIn,_super),LoadingWpPopIn}(transition_1.Transition);transition_1.Transition.register("loading-wp-pop-in",LoadingWpPopIn);var LoadingWpPopOut=function(_super){function LoadingWpPopOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".loading-wrapper"));wrapper.fromTo("opacity",.99,0).fromTo("scale",1,1.3),backdrop.fromTo("opacity",.16,0),this.easing("ease-out").duration(150).add(backdrop).add(wrapper)}return __extends(LoadingWpPopOut,_super),LoadingWpPopOut}(transition_1.Transition);transition_1.Transition.register("loading-wp-pop-out",LoadingWpPopOut);var loadingIds=-1},{"../../animations/animation":412,"../../config/config":497,"../../transitions/transition":520,"../../util/util":535,"../backdrop/backdrop":420,"../nav/nav-params":454,"../nav/view-controller":460,"../spinner/spinner":479,"@angular/common":20,"@angular/core":167}],442:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),app_1=require("../app/app"),util_1=require("../../util/util"),loading_component_1=require("./loading-component"),view_controller_1=require("../nav/view-controller"),Loading=function(_super){function Loading(app,opts){void 0===opts&&(opts={}),opts.showBackdrop=!util_1.isPresent(opts.showBackdrop)||!!opts.showBackdrop,opts.dismissOnPageChange=!!util_1.isPresent(opts.dismissOnPageChange)&&!!opts.dismissOnPageChange,_super.call(this,loading_component_1.LoadingCmp,opts),this._app=app,this.isOverlay=!0,this.fireOtherLifecycles=!1}return __extends(Loading,_super),Loading.prototype.getTransitionName=function(direction){var key="back"===direction?"loadingLeave":"loadingEnter";return this._nav&&this._nav.config.get(key)},Loading.prototype.present=function(navOptions){return void 0===navOptions&&(navOptions={}),this._app.present(this,navOptions)},Loading.create=function(opt){},Loading}(view_controller_1.ViewController);exports.Loading=Loading;var LoadingController=function(){function LoadingController(_app){this._app=_app}return LoadingController.prototype.create=function(opts){return void 0===opts&&(opts={}),new Loading(this._app,opts)},LoadingController=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[app_1.App])],LoadingController)}();exports.LoadingController=LoadingController},{"../../util/util":535,"../app/app":419,"../nav/view-controller":460,"./loading-component":441,"@angular/core":167}],443:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),menu_controller_1=require("./menu-controller"),MenuClose=function(){function MenuClose(_menu){this._menu=_menu}return MenuClose.prototype.close=function(){var menu=this._menu.get(this.menuClose);menu&&menu.close()},__decorate([core_1.Input(),__metadata("design:type",String)],MenuClose.prototype,"menuClose",void 0),__decorate([core_1.HostListener("click"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],MenuClose.prototype,"close",null),MenuClose=__decorate([core_1.Directive({selector:"[menuClose]"}),__metadata("design:paramtypes",[menu_controller_1.MenuController])],MenuClose)}();exports.MenuClose=MenuClose},{"./menu-controller":444,"@angular/core":167}],444:[function(require,module,exports){"use strict";var MenuController=function(){function MenuController(){this._menus=[]}return MenuController.prototype.open=function(menuId){var menu=this.get(menuId);if(menu){var openedMenu=this.getOpen();return openedMenu&&menu!==openedMenu&&openedMenu.setOpen(!1,!1),menu.open()}return Promise.resolve(!1)},MenuController.prototype.close=function(menuId){var menu;return menu=menuId?this.get(menuId):this.getOpen(),menu?menu.close():Promise.resolve(!1)},MenuController.prototype.toggle=function(menuId){var menu=this.get(menuId);if(menu){var openedMenu=this.getOpen();return openedMenu&&menu!==openedMenu&&openedMenu.setOpen(!1,!1),menu.toggle()}return Promise.resolve(!1)},MenuController.prototype.enable=function(shouldEnable,menuId){var menu=this.get(menuId);if(menu)return menu.enable(shouldEnable)},MenuController.prototype.swipeEnable=function(shouldEnable,menuId){var menu=this.get(menuId);if(menu)return menu.swipeEnable(shouldEnable)},MenuController.prototype.isOpen=function(menuId){var menu=this.get(menuId);return menu&&menu.isOpen||!1},MenuController.prototype.isEnabled=function(menuId){var menu=this.get(menuId);return menu&&menu.enabled||!1},MenuController.prototype.get=function(menuId){var menu;return"left"===menuId||"right"===menuId?(menu=this._menus.find(function(m){return m.side===menuId&&m.enabled}),menu?menu:this._menus.find(function(m){return m.side===menuId})||null):menuId?this._menus.find(function(m){return m.id===menuId})||null:(menu=this._menus.find(function(m){return m.enabled}),menu?menu:this._menus.length?this._menus[0]:null)},MenuController.prototype.getOpen=function(){return this._menus.find(function(m){return m.isOpen})},MenuController.prototype.getMenus=function(){return this._menus},MenuController.prototype.register=function(menu){this._menus.push(menu)},MenuController.prototype.unregister=function(menu){var index=this._menus.indexOf(menu);index>-1&&this._menus.splice(index,1)},MenuController.registerType=function(name,cls){menuTypes[name]=cls},MenuController.create=function(type,menuCmp,platform){return new menuTypes[type](menuCmp,platform)},MenuController}();exports.MenuController=MenuController;var menuTypes={}},{}],445:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},slide_edge_gesture_1=require("../../gestures/slide-edge-gesture"),util_1=require("../../util/util"),MenuContentGesture=function(_super){function MenuContentGesture(menu,contentEle,options){void 0===options&&(options={}),_super.call(this,contentEle,util_1.assign({direction:"x",edge:menu.side,threshold:0,maxEdgeStart:menu.maxEdgeStart||50,maxAngle:40,gesture:menu.gestureCtrl.create("menu-swipe",{priority:10})},options)),this.menu=menu}return __extends(MenuContentGesture,_super),MenuContentGesture.prototype.canStart=function(ev){var menu=this.menu;return!(!menu.enabled||!menu.swipeEnabled)&&(!!menu.isOpen||!menu.getMenuController().getOpen()&&_super.prototype.canStart.call(this,ev))},MenuContentGesture.prototype.onSlideBeforeStart=function(slide,ev){this.menu.swipeStart()},MenuContentGesture.prototype.onSlide=function(slide,ev){var z="right"===this.menu.side?slide.min:slide.max,stepValue=slide.distance/z;ev.preventDefault(),
this.menu.swipeProgress(stepValue)},MenuContentGesture.prototype.onSlideEnd=function(slide,ev){var z="right"===this.menu.side?slide.min:slide.max,currentStepValue=slide.distance/z,velocity=slide.velocity;z=Math.abs(.5*z);var shouldCompleteRight=velocity>=0&&(velocity>.2||slide.delta>z),shouldCompleteLeft=velocity<=0&&(velocity<-.2||slide.delta<-z);this.menu.swipeEnd(shouldCompleteLeft,shouldCompleteRight,currentStepValue)},MenuContentGesture.prototype.getElementStartPos=function(slide,ev){return"right"===this.menu.side?this.menu.isOpen?slide.min:slide.max:this.menu.isOpen?slide.max:slide.min},MenuContentGesture.prototype.getSlideBoundaries=function(){return"right"===this.menu.side?{min:-this.menu.width(),max:0}:{min:0,max:this.menu.width()}},MenuContentGesture}(slide_edge_gesture_1.SlideEdgeGesture);exports.MenuContentGesture=MenuContentGesture},{"../../gestures/slide-edge-gesture":507,"../../util/util":535}],446:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),menu_controller_1=require("./menu-controller"),navbar_1=require("../navbar/navbar"),view_controller_1=require("../nav/view-controller"),MenuToggle=function(){function MenuToggle(_menu,elementRef,_viewCtrl,_navbar){this._menu=_menu,this._viewCtrl=_viewCtrl,this._navbar=_navbar,this._inNavbar=!!_navbar}return MenuToggle.prototype.toggle=function(){var menu=this._menu.get(this.menuToggle);menu&&menu.toggle()},Object.defineProperty(MenuToggle.prototype,"isHidden",{get:function(){if(this._inNavbar&&this._viewCtrl){if(this._viewCtrl.isFirst())return!1;var menu=this._menu.get(this.menuToggle);if(menu)return!menu.persistent}return!1},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",String)],MenuToggle.prototype,"menuToggle",void 0),__decorate([core_1.HostListener("click"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],MenuToggle.prototype,"toggle",null),MenuToggle=__decorate([core_1.Directive({selector:"[menuToggle]",host:{"[hidden]":"isHidden",menuToggle:""}}),__param(2,core_1.Optional()),__param(3,core_1.Optional()),__metadata("design:paramtypes",[menu_controller_1.MenuController,core_1.ElementRef,view_controller_1.ViewController,navbar_1.Navbar])],MenuToggle)}();exports.MenuToggle=MenuToggle},{"../nav/view-controller":460,"../navbar/navbar":461,"./menu-controller":444,"@angular/core":167}],447:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},animation_1=require("../../animations/animation"),menu_controller_1=require("./menu-controller"),MenuType=function(){function MenuType(){this.ani=new animation_1.Animation}return MenuType.prototype.setOpen=function(shouldOpen,animated,done){var ani=this.ani.onFinish(done,!0).reverse(!shouldOpen);animated?ani.play():ani.play({duration:0})},MenuType.prototype.setProgressStart=function(isOpen){this.isOpening=!isOpen,this.ani.reverse(isOpen).progressStart()},MenuType.prototype.setProgessStep=function(stepValue){this.ani.progressStep(stepValue)},MenuType.prototype.setProgressEnd=function(shouldComplete,currentStepValue,done){var _this=this,isOpen=this.isOpening&&shouldComplete;this.isOpening||shouldComplete||(isOpen=!0),this.ani.onFinish(function(){_this.isOpening=!1,done(isOpen)},!0),this.ani.progressEnd(shouldComplete,currentStepValue)},MenuType.prototype.destroy=function(){this.ani&&this.ani.destroy()},MenuType}();exports.MenuType=MenuType;var MenuRevealType=function(_super){function MenuRevealType(menu,platform){_super.call(this);var openedX=menu.width()*("right"===menu.side?-1:1)+"px";this.ani.easing("ease").duration(250);var contentOpen=new animation_1.Animation(menu.getContentElement());contentOpen.fromTo("translateX","0px",openedX),this.ani.add(contentOpen)}return __extends(MenuRevealType,_super),MenuRevealType}(MenuType);menu_controller_1.MenuController.registerType("reveal",MenuRevealType);var MenuPushType=function(_super){function MenuPushType(menu,platform){_super.call(this),this.ani.easing("ease").duration(250);var contentOpenedX,menuClosedX,menuOpenedX;"right"===menu.side?(contentOpenedX=-menu.width()+"px",menuClosedX=menu.width()+"px",menuOpenedX="0px"):(contentOpenedX=menu.width()+"px",menuOpenedX="0px",menuClosedX=-menu.width()+"px");var menuAni=new animation_1.Animation(menu.getMenuElement());menuAni.fromTo("translateX",menuClosedX,menuOpenedX),this.ani.add(menuAni);var contentApi=new animation_1.Animation(menu.getContentElement());contentApi.fromTo("translateX","0px",contentOpenedX),this.ani.add(contentApi)}return __extends(MenuPushType,_super),MenuPushType}(MenuType);menu_controller_1.MenuController.registerType("push",MenuPushType);var MenuOverlayType=function(_super){function MenuOverlayType(menu,platform){_super.call(this),this.ani.easing("ease").duration(250);var closedX,openedX;"right"===menu.side?(closedX=8+menu.width()+"px",openedX="0px"):(closedX=-(8+menu.width())+"px",openedX="0px");var menuAni=new animation_1.Animation(menu.getMenuElement());menuAni.fromTo("translateX",closedX,openedX),this.ani.add(menuAni);var backdropApi=new animation_1.Animation(menu.getBackdropElement());backdropApi.fromTo("opacity",.01,.35),this.ani.add(backdropApi)}return __extends(MenuOverlayType,_super),MenuOverlayType}(MenuType);menu_controller_1.MenuController.registerType("overlay",MenuOverlayType)},{"../../animations/animation":412,"./menu-controller":444}],448:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),backdrop_1=require("../backdrop/backdrop"),config_1=require("../../config/config"),util_1=require("../../util/util"),keyboard_1=require("../../util/keyboard"),menu_gestures_1=require("./menu-gestures"),menu_controller_1=require("./menu-controller"),platform_1=require("../../platform/platform"),gesture_controller_1=require("../../gestures/gesture-controller"),Menu=function(){function Menu(_menuCtrl,_elementRef,_config,_platform,_renderer,_keyboard,_zone,gestureCtrl){this._menuCtrl=_menuCtrl,this._elementRef=_elementRef,this._config=_config,this._platform=_platform,this._renderer=_renderer,this._keyboard=_keyboard,this._zone=_zone,this.gestureCtrl=gestureCtrl,this._preventTime=0,this._isEnabled=!0,this._isSwipeEnabled=!0,this._isPers=!1,this._init=!1,this.isOpen=!1,this.ionDrag=new core_1.EventEmitter,this.ionOpen=new core_1.EventEmitter,this.ionClose=new core_1.EventEmitter}return Object.defineProperty(Menu.prototype,"enabled",{get:function(){return this._isEnabled},set:function(val){this._isEnabled=util_1.isTrueProperty(val),this._setListeners()},enumerable:!0,configurable:!0}),Object.defineProperty(Menu.prototype,"swipeEnabled",{get:function(){return this._isSwipeEnabled},set:function(val){this._isSwipeEnabled=util_1.isTrueProperty(val),this._setListeners()},enumerable:!0,configurable:!0}),Object.defineProperty(Menu.prototype,"persistent",{get:function(){return this._isPers},set:function(val){this._isPers=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Menu.prototype.ngOnInit=function(){var self=this;self._init=!0;var content=self.content;if(self._cntEle=content instanceof Node?content:content&&content.getNativeElement&&content.getNativeElement(),self._cntEle){"left"!==self.side&&"right"!==self.side&&(self.side="left"),self._renderer.setElementAttribute(self._elementRef.nativeElement,"side",self.side),self.type||(self.type=self._config.get("menuType")),self._renderer.setElementAttribute(self._elementRef.nativeElement,"type",self.type),self._cntGesture=new menu_gestures_1.MenuContentGesture(self,document.body);var hasEnabledSameSideMenu=self._menuCtrl.getMenus().some(function(m){return m.side===self.side&&m.enabled});hasEnabledSameSideMenu&&(self._isEnabled=!1),self._setListeners(),self.onContentClick=function(ev){self._isEnabled&&(ev.preventDefault(),ev.stopPropagation(),self.close())},self._cntEle.classList.add("menu-content"),self._cntEle.classList.add("menu-content-"+self.type),self._menuCtrl.register(self)}},Menu.prototype.bdClick=function(ev){ev.preventDefault(),ev.stopPropagation(),this._menuCtrl.close()},Menu.prototype._setListeners=function(){var self=this;self._init&&(self._isEnabled&&self._isSwipeEnabled&&!self._cntGesture.isListening?self._cntGesture.listen():!self._cntGesture.isListening||self._isEnabled&&self._isSwipeEnabled||self._cntGesture.unlisten())},Menu.prototype._getType=function(){return this._type||(this._type=menu_controller_1.MenuController.create(this.type,this,this._platform),this._config.get("animate")===!1&&this._type.ani.duration(0)),this._type},Menu.prototype.setOpen=function(shouldOpen,animated){var _this=this;return void 0===animated&&(animated=!0),shouldOpen&&this.isOpen||this._isPrevented()?Promise.resolve(this.isOpen):(this._before(),new Promise(function(resolve){_this._getType().setOpen(shouldOpen,animated,function(){_this._after(shouldOpen),resolve(_this.isOpen)})}))},Menu.prototype.swipeStart=function(){this._isEnabled&&this._isSwipeEnabled&&!this._isPrevented()&&(this._before(),this._getType().setProgressStart(this.isOpen))},Menu.prototype.swipeProgress=function(stepValue){this._isEnabled&&this._isSwipeEnabled&&(this._prevent(),this._getType().setProgessStep(stepValue),this.ionDrag.emit(stepValue))},Menu.prototype.swipeEnd=function(shouldCompleteLeft,shouldCompleteRight,stepValue){var _this=this;if(this._isEnabled&&this._isSwipeEnabled){this._prevent();var opening=!this.isOpen,shouldComplete=!1;shouldComplete=opening?"right"===this.side?shouldCompleteLeft:shouldCompleteRight:"right"===this.side?shouldCompleteRight:shouldCompleteLeft,this._getType().setProgressEnd(shouldComplete,stepValue,function(isOpen){_this._after(isOpen)})}},Menu.prototype._before=function(){this._isEnabled&&(this.getNativeElement().classList.add("show-menu"),this.getBackdropElement().classList.add("show-backdrop"),this._prevent(),this._keyboard.close())},Menu.prototype._after=function(isOpen){(this._isEnabled&&isOpen||!isOpen)&&(this._prevent(),this.isOpen=isOpen,this._cntEle.classList[isOpen?"add":"remove"]("menu-content-open"),this._cntEle.removeEventListener("click",this.onContentClick),isOpen?(this._cntEle.addEventListener("click",this.onContentClick),this.ionOpen.emit(!0)):(this.getNativeElement().classList.remove("show-menu"),this.getBackdropElement().classList.remove("show-backdrop"),this.ionClose.emit(!0)))},Menu.prototype._prevent=function(){this._preventTime=Date.now()+20},Menu.prototype._isPrevented=function(){return this._preventTime>Date.now()},Menu.prototype.open=function(){return this.setOpen(!0)},Menu.prototype.close=function(){return this.setOpen(!1)},Menu.prototype.toggle=function(){return this.setOpen(!this.isOpen)},Menu.prototype.enable=function(shouldEnable){var _this=this;if(this.enabled=shouldEnable,!shouldEnable&&this.isOpen&&this.close(),shouldEnable){this._menuCtrl.getMenus().filter(function(m){return m.side===_this.side&&m!==_this}).map(function(m){return m.enabled=!1})}return this},Menu.prototype.swipeEnable=function(shouldEnable){return this.swipeEnabled=shouldEnable,this},Menu.prototype.getNativeElement=function(){return this._elementRef.nativeElement},Menu.prototype.getMenuElement=function(){return this.getNativeElement().querySelector(".menu-inner")},Menu.prototype.getContentElement=function(){return this._cntEle},Menu.prototype.getBackdropElement=function(){return this.backdrop.getNativeElement()},Menu.prototype.width=function(){return this.getMenuElement().offsetWidth},Menu.prototype.getMenuController=function(){return this._menuCtrl},Menu.prototype.ngOnDestroy=function(){this._menuCtrl.unregister(this),this._cntGesture&&this._cntGesture.destroy(),this._type&&this._type.destroy(),this._resizeUnreg&&this._resizeUnreg(),this._cntEle=null},__decorate([core_1.ViewChild(backdrop_1.Backdrop),__metadata("design:type",backdrop_1.Backdrop)],Menu.prototype,"backdrop",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Menu.prototype,"content",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Menu.prototype,"id",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Menu.prototype,"side",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Menu.prototype,"type",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Menu.prototype,"enabled",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Menu.prototype,"swipeEnabled",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Menu.prototype,"persistent",null),__decorate([core_1.Input(),__metadata("design:type",Number)],Menu.prototype,"maxEdgeStart",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Menu.prototype,"ionDrag",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Menu.prototype,"ionOpen",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Menu.prototype,"ionClose",void 0),Menu=__decorate([core_1.Component({selector:"ion-menu",host:{role:"navigation"},template:'\n    <div class="menu-inner"><ng-content></ng-content></div>\n    <ion-backdrop (click)="bdClick($event)" disableScroll="false"></ion-backdrop>\n  ',directives:[backdrop_1.Backdrop],changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[menu_controller_1.MenuController,core_1.ElementRef,config_1.Config,platform_1.Platform,core_1.Renderer,keyboard_1.Keyboard,core_1.NgZone,gesture_controller_1.GestureController])],Menu)}();exports.Menu=Menu},{"../../config/config":497,"../../gestures/gesture-controller":503,"../../platform/platform":510,"../../util/keyboard":532,"../../util/util":535,"../backdrop/backdrop":420,"./menu-controller":444,"./menu-gestures":445,"@angular/core":167}],449:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),bootstrap_1=require("../../config/bootstrap"),animation_1=require("../../animations/animation"),backdrop_1=require("../backdrop/backdrop"),key_1=require("../../util/key"),nav_params_1=require("../nav/nav-params"),util_1=require("../../util/util"),page_transition_1=require("../../transitions/page-transition"),view_controller_1=require("../nav/view-controller"),dom_1=require("../../util/dom"),ModalCmp=function(){function ModalCmp(_compiler,_renderer,_navParams,_viewCtrl){this._compiler=_compiler,this._renderer=_renderer,this._navParams=_navParams,this._viewCtrl=_viewCtrl,this.d=_navParams.data.opts}return ModalCmp.prototype.loadComponent=function(done){var _this=this,componentType=this._navParams.data.componentType;bootstrap_1.addSelector(componentType,"ion-page"),this._compiler.resolveComponent(componentType).then(function(componentFactory){var componentRef=_this.viewport.createComponent(componentFactory,_this.viewport.length,_this.viewport.parentInjector);_this._renderer.setElementClass(componentRef.location.nativeElement,"show-page",!0);var cssClassName=util_1.pascalCaseToDashCase(componentType.name);_this._renderer.setElementClass(componentRef.location.nativeElement,cssClassName,!0),_this._viewCtrl.setInstance(componentRef.instance),_this.enabled=!0,done()})},ModalCmp.prototype.ngAfterViewInit=function(){},ModalCmp.prototype.dismiss=function(role){return this._viewCtrl.dismiss(null,role)},ModalCmp.prototype.bdClick=function(){this.enabled&&this.d.enableBackdropDismiss&&this.dismiss("backdrop")},ModalCmp.prototype._keyUp=function(ev){this.enabled&&this._viewCtrl.isLast()&&ev.keyCode===key_1.Key.ESCAPE&&this.bdClick()},__decorate([core_1.ViewChild("viewport",{read:core_1.ViewContainerRef}),__metadata("design:type",core_1.ViewContainerRef)],ModalCmp.prototype,"viewport",void 0),__decorate([core_1.HostListener("body:keyup",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[KeyboardEvent]),__metadata("design:returntype",void 0)],ModalCmp.prototype,"_keyUp",null),ModalCmp=__decorate([core_1.Component({selector:"ion-modal",template:'\n    <ion-backdrop disableScroll="false" (click)="bdClick($event)"></ion-backdrop>\n    <div class="modal-wrapper">\n      <div #viewport nav-viewport></div>\n    </div>\n  ',directives:[backdrop_1.Backdrop]}),__metadata("design:paramtypes",[core_1.ComponentResolver,core_1.Renderer,nav_params_1.NavParams,view_controller_1.ViewController])],ModalCmp)}();exports.ModalCmp=ModalCmp;var ModalSlideIn=function(_super){function ModalSlideIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=enteringView.pageRef().nativeElement,backdropEle=ele.querySelector("ion-backdrop"),backdrop=new animation_1.Animation(backdropEle),wrapper=new animation_1.Animation(ele.querySelector(".modal-wrapper"));if(backdrop.fromTo("opacity",.01,.4),wrapper.fromTo("translateY","100%","0%"),this.element(enteringView.pageRef()).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(400).add(backdrop).add(wrapper),enteringView.hasNavbar()){var enteringNavBar=new animation_1.Animation(enteringView.navbarRef());enteringNavBar.before.addClass("show-navbar"),this.add(enteringNavBar)}}return __extends(ModalSlideIn,_super),ModalSlideIn}(page_transition_1.PageTransition);page_transition_1.PageTransition.register("modal-slide-in",ModalSlideIn);var ModalSlideOut=function(_super){function ModalSlideOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapperEle=ele.querySelector(".modal-wrapper"),wrapperEleRect=wrapperEle.getBoundingClientRect(),wrapper=new animation_1.Animation(wrapperEle),screenDimensions=dom_1.windowDimensions();wrapper.fromTo("translateY","0px",screenDimensions.height-wrapperEleRect.top+"px"),backdrop.fromTo("opacity",.4,0),this.element(leavingView.pageRef()).easing("ease-out").duration(250).add(backdrop).add(wrapper)}return __extends(ModalSlideOut,_super),ModalSlideOut}(page_transition_1.PageTransition);page_transition_1.PageTransition.register("modal-slide-out",ModalSlideOut);var ModalMDSlideIn=function(_super){function ModalMDSlideIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".modal-wrapper"));backdrop.fromTo("opacity",.01,.4),wrapper.fromTo("translateY","40px","0px"),wrapper.fromTo("opacity",.01,1);var DURATION=280,EASING="cubic-bezier(0.36,0.66,0.04,1)";if(this.element(enteringView.pageRef()).easing(EASING).duration(DURATION).add(backdrop).add(wrapper),enteringView.hasNavbar()){var enteringNavBar=new animation_1.Animation(enteringView.navbarRef());enteringNavBar.before.addClass("show-navbar"),this.add(enteringNavBar)}}return __extends(ModalMDSlideIn,_super),ModalMDSlideIn}(page_transition_1.PageTransition);page_transition_1.PageTransition.register("modal-md-slide-in",ModalMDSlideIn);var ModalMDSlideOut=function(_super){function ModalMDSlideOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".modal-wrapper"));backdrop.fromTo("opacity",.4,0),wrapper.fromTo("translateY","0px","40px"),wrapper.fromTo("opacity",.99,0),this.element(leavingView.pageRef()).duration(200).easing("cubic-bezier(0.47,0,0.745,0.715)").add(wrapper).add(backdrop)}return __extends(ModalMDSlideOut,_super),ModalMDSlideOut}(page_transition_1.PageTransition);page_transition_1.PageTransition.register("modal-md-slide-out",ModalMDSlideOut)},{"../../animations/animation":412,"../../config/bootstrap":496,"../../transitions/page-transition":516,"../../util/dom":527,"../../util/key":531,"../../util/util":535,"../backdrop/backdrop":420,"../nav/nav-params":454,"../nav/view-controller":460,"@angular/core":167}],450:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),app_1=require("../app/app"),util_1=require("../../util/util"),modal_component_1=require("./modal-component"),view_controller_1=require("../nav/view-controller"),Modal=function(_super){function Modal(app,componentType,data,opts){void 0===data&&(data={}),void 0===opts&&(opts={}),data.componentType=componentType,opts.showBackdrop=!util_1.isPresent(opts.showBackdrop)||!!opts.showBackdrop,opts.enableBackdropDismiss=!util_1.isPresent(opts.enableBackdropDismiss)||!!opts.enableBackdropDismiss,data.opts=opts,_super.call(this,modal_component_1.ModalCmp,data),this._app=app,this.isOverlay=!0}return __extends(Modal,_super),Modal.prototype.getTransitionName=function(direction){var key="back"===direction?"modalLeave":"modalEnter";return this._nav&&this._nav.config.get(key)},Modal.prototype.loaded=function(done){var _this=this,originalNgAfterViewInit=this.instance.ngAfterViewInit;this.instance.ngAfterViewInit=function(){originalNgAfterViewInit&&originalNgAfterViewInit(),_this.instance.loadComponent(done)}},Modal.prototype.present=function(navOptions){return void 0===navOptions&&(navOptions={}),this._app.present(this,navOptions)},Modal.create=function(cmp,opt){},Modal}(view_controller_1.ViewController);exports.Modal=Modal;var ModalController=function(){function ModalController(_app){this._app=_app}return ModalController.prototype.create=function(componentType,data,opts){return void 0===data&&(data={}),void 0===opts&&(opts={}),new Modal(this._app,componentType,data,opts)},ModalController=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[app_1.App])],ModalController)}();exports.ModalController=ModalController},{"../../util/util":535,"../app/app":419,"../nav/view-controller":460,"./modal-component":449,"@angular/core":167}],451:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("@angular/core"),bootstrap_1=require("../../config/bootstrap"),ion_1=require("../ion"),util_1=require("../../util/util"),nav_controller_1=require("./nav-controller"),nav_interfaces_1=require("./nav-interfaces"),nav_params_1=require("./nav-params"),swipe_back_1=require("./swipe-back"),transition_1=require("../../transitions/transition"),view_controller_1=require("./view-controller"),NavControllerBase=function(_super){function NavControllerBase(parent,_app,config,_keyboard,elementRef,_zone,_renderer,_compiler,_gestureCtrl){_super.call(this,elementRef),this._app=_app,this._keyboard=_keyboard,this._zone=_zone,this._renderer=_renderer,this._compiler=_compiler,this._gestureCtrl=_gestureCtrl,this._transIds=0,this._init=!1,this._children=[],this._ids=-1,this._views=[],this.trnsTime=0,this.parent=parent,this.config=config,this._trnsDelay=config.get("pageTransitionDelay"),this._sbEnabled=config.getBoolean("swipeBackEnabled"),this._sbThreshold=config.getNumber("swipeBackThreshold",40),this.id="n"+ ++ctrlIds,this.viewDidLoad=new core_1.EventEmitter,this.viewWillEnter=new core_1.EventEmitter,this.viewDidEnter=new core_1.EventEmitter,this.viewWillLeave=new core_1.EventEmitter,this.viewDidLeave=new core_1.EventEmitter,this.viewWillUnload=new core_1.EventEmitter,this.viewDidUnload=new core_1.EventEmitter}return __extends(NavControllerBase,_super),NavControllerBase.prototype.setViewport=function(val){this._viewport=val},NavControllerBase.prototype.setRoot=function(page,params,opts){return this.setPages([{page:page,params:params}],opts)},NavControllerBase.prototype.setPages=function(pages,opts){if(!pages||!pages.length)return Promise.resolve(!1);util_1.isBlank(opts)&&(opts={});var leavingView=this._remove(0,this._views.length),views=pages.map(function(p){return new view_controller_1.ViewController(p.page,p.params)}),enteringView=this._insert(0,views);opts.animate!==!0&&(opts.animate=!1),opts.direction=opts.direction||nav_interfaces_1.DIRECTION_BACK;var resolve,promise=new Promise(function(res){resolve=res});return this._transition(enteringView,leavingView,opts,function(hasCompleted){resolve(hasCompleted)}),promise},NavControllerBase.prototype.push=function(page,params,opts,done){return this.insertPages(-1,[{page:page,params:params}],opts,done)},NavControllerBase.prototype.present=function(enteringView,opts){return Promise.resolve()},NavControllerBase.prototype.insert=function(insertIndex,page,params,opts,done){return this.insertPages(insertIndex,[{page:page,params:params}],opts,done)},NavControllerBase.prototype.insertPages=function(insertIndex,insertPages,opts,done){var views=insertPages.map(function(p){return new view_controller_1.ViewController(p.page,p.params)});return this.insertViews(insertIndex,views,opts,done)},NavControllerBase.prototype.insertViews=function(insertIndex,insertViews,opts,done){void 0===opts&&(opts={});var promise;if(done||(promise=new Promise(function(res){done=res})),!insertViews||!insertViews.length)return done(!1),promise;util_1.isBlank(opts)&&(opts={});var enteringView=this._insert(insertIndex,insertViews);util_1.isPresent(opts.id)&&(enteringView.id=opts.id),opts.direction=opts.direction||"forward",opts.animation||(opts.animation=enteringView.getTransitionName(opts.direction));for(var i=this._views.length-1;i>=0;i--)if(this._views[i].state===exports.STATE_ACTIVE||this._views[i].state===exports.STATE_INIT_ENTER){if(this._views[i]===enteringView){var leavingView=this.getByState(exports.STATE_INIT_LEAVE);if(!leavingView&&this._isPortal){var activeNav=this._app.getActiveNav();activeNav&&(leavingView=activeNav.getByState(exports.STATE_INIT_LEAVE))}return this._transition(enteringView,leavingView,opts,done),promise}break}return done(enteringView),promise},NavControllerBase.prototype._insert=function(insertIndex,insertViews){var _this=this;(insertIndex<0||insertIndex>this._views.length)&&(insertIndex=this._views.length);var view=this.getActive();if(!view&&this._isPortal){var activeNav=this._app.getActiveNav();activeNav&&(view=activeNav.getActive())}view?view.state=exports.STATE_INIT_LEAVE:(view=this.getByState(exports.STATE_INIT_ENTER))&&(view.state=exports.STATE_INACTIVE);var insertView=null;return insertViews.forEach(function(view,i){insertView=view,view.setNav(_this),view.state=exports.STATE_INACTIVE,view.id=_this.id+"-"+ ++_this._ids,_this._views.splice(insertIndex+i,0,view)}),insertView&&(insertView.state=exports.STATE_INIT_ENTER),insertView},NavControllerBase.prototype.pop=function(opts,done){var activeView=this.getByState(exports.STATE_TRANS_ENTER)||this.getByState(exports.STATE_INIT_ENTER)||this.getActive();return this.remove(this.indexOf(activeView),1,opts,done)},NavControllerBase.prototype.popToRoot=function(opts,done){return this.popTo(this.first(),opts,done)},NavControllerBase.prototype.popTo=function(view,opts,done){var startIndex=this.indexOf(view);if(startIndex<0)return Promise.reject("View not found to pop to");var activeView=this.getByState(exports.STATE_TRANS_ENTER)||this.getByState(exports.STATE_INIT_ENTER)||this.getActive(),removeCount=this.indexOf(activeView)-startIndex;return this.remove(startIndex+1,removeCount,opts,done)},NavControllerBase.prototype.remove=function(startIndex,removeCount,opts,done){var _this=this;void 0===startIndex&&(startIndex=-1),void 0===removeCount&&(removeCount=1);var promise;if(done||(promise=new Promise(function(resolve){done=resolve})),startIndex===-1)startIndex=this._views.length-1;else if(startIndex<0||startIndex>=this._views.length)return done(!1),promise;util_1.isBlank(opts)&&(opts={}),util_1.isBlank(opts.climbNav)&&(opts.climbNav=!0),opts.direction=opts.direction||nav_interfaces_1.DIRECTION_BACK;var leavingView=this._remove(startIndex,removeCount);if(!leavingView){var forcedActive=this.getByState(exports.STATE_FORCE_ACTIVE);if(forcedActive)return this._trans&&(this._trans.stop(),this._trans.destroy(),this._trans=null,this._cleanup()),done(!1),promise}if(leavingView){var enteringView=this.getByState(exports.STATE_INIT_ENTER);if(!enteringView&&this._isPortal){var activeNav=this._app.getActiveNav();activeNav&&(enteringView=activeNav.last(),enteringView&&(enteringView.state=exports.STATE_INIT_ENTER))}if(!enteringView&&!this._isPortal){if(opts.climbNav)for(var parentNav=this.parent;parentNav;){if(!exports.isTabs(parentNav))return leavingView.fireWillLeave(),this.viewWillLeave.emit(leavingView),this._app.viewWillLeave.emit(leavingView),parentNav.pop(opts).then(function(rtnVal){return leavingView.fireDidLeave(),_this.viewDidLeave.emit(leavingView),_this._app.viewDidLeave.emit(leavingView),rtnVal});parentNav=parentNav.parent}return leavingView.state=exports.STATE_ACTIVE,done(!1),promise}return opts.animation||(opts.animation=leavingView.getTransitionName(opts.direction)),this._transition(enteringView,leavingView,opts,done),promise}return done(!1),promise},NavControllerBase.prototype._remove=function(startIndex,removeCount){
for(var _this=this,view=null,i=startIndex,ii=removeCount+startIndex;i<ii&&(view=this.getByIndex(i),view);i++)view.state===exports.STATE_TRANS_ENTER||view.state===exports.STATE_TRANS_LEAVE?view.state=exports.STATE_REMOVE_AFTER_TRANS:view.state===exports.STATE_INIT_ENTER?view.state=exports.STATE_CANCEL_ENTER:view.state=exports.STATE_REMOVE;if(view=this.getByState(exports.STATE_INIT_LEAVE)){var enteringView=this.getByState(exports.STATE_INIT_ENTER);enteringView&&(enteringView.state=exports.STATE_INACTIVE);for(var i=this.indexOf(view)-1;i>=0;i--)if(this._views[i].state===exports.STATE_INACTIVE){this._views[i].state=exports.STATE_INIT_ENTER;break}}else if(view=this.getByState(exports.STATE_TRANS_LEAVE))view.state=exports.STATE_FORCE_ACTIVE;else if(view=this.getByState(exports.STATE_REMOVE)){view.state=exports.STATE_INIT_LEAVE,view.fireWillUnload(),this.viewWillUnload.emit(view),this._app.viewWillUnload.emit(view);for(var i=this.indexOf(view)-1;i>=0;i--)if(this._views[i].state===exports.STATE_INACTIVE){this._views[i].state=exports.STATE_INIT_ENTER;break}}return view=this.getActive(),view&&(view=this.getByState(exports.STATE_INIT_ENTER),view&&(view.state=exports.STATE_INACTIVE),view=this.getByState(exports.STATE_INIT_LEAVE),view&&(view.state=exports.STATE_REMOVE)),this._views.filter(function(v){return v.state===exports.STATE_REMOVE}).forEach(function(view){view.fireWillLeave(),view.fireDidLeave(),_this._views.splice(_this.indexOf(view),1),view.destroy()}),this.getByState(exports.STATE_INIT_LEAVE)},NavControllerBase.prototype._transition=function(enteringView,leavingView,opts,done){var _this=this,transId=++this._transIds;return enteringView===leavingView?(this._transFinish(transId,enteringView,leavingView,null,!1,!1),void done(!1)):(util_1.isBlank(opts)&&(opts={}),this._setAnimate(opts),leavingView||(leavingView=new view_controller_1.ViewController),enteringView||(enteringView=new view_controller_1.ViewController,enteringView.fireLoaded()),void this._render(transId,enteringView,leavingView,opts,function(hasCompleted){_this._transFinish(transId,enteringView,leavingView,opts.direction,!1,hasCompleted),done(hasCompleted)}))},NavControllerBase.prototype._setAnimate=function(opts){(1!==this._views.length||this._init||this._isPortal)&&this.config.get("animate")!==!1||(opts.animate=!1)},NavControllerBase.prototype._render=function(transId,enteringView,leavingView,opts,done){var _this=this;if(enteringView.state===exports.STATE_INACTIVE)return done();enteringView.state=exports.STATE_INIT_ENTER,leavingView.state=exports.STATE_INIT_LEAVE;var isAlreadyTransitioning=this.isTransitioning();enteringView.isLoaded()?this._postRender(transId,enteringView,leavingView,isAlreadyTransitioning,opts,done):(this.setTransitioning(!0,500),this.loadPage(enteringView,this._viewport,opts,function(){enteringView.fireLoaded(),_this.viewDidLoad.emit(enteringView),_this._app.viewDidLoad.emit(enteringView),_this._postRender(transId,enteringView,leavingView,isAlreadyTransitioning,opts,done)}))},NavControllerBase.prototype._postRender=function(transId,enteringView,leavingView,isAlreadyTransitioning,opts,done){var _this=this;if(enteringView.state===exports.STATE_INACTIVE)return done();if(opts.preload)opts.animate=!1;else{var lastestLeavingView=this.getByState(exports.STATE_TRANS_ENTER)||leavingView;this._setZIndex(enteringView,lastestLeavingView,opts.direction),isAlreadyTransitioning?(enteringView.domShow(!0,this._renderer),leavingView.domShow(!0,this._renderer)):this._views.forEach(function(view){view.domShow(_this._isPortal||view===enteringView||view===leavingView,_this._renderer)}),leavingView.fireOtherLifecycles&&(enteringView.fireWillEnter(),this.viewWillEnter.emit(enteringView),this._app.viewWillEnter.emit(enteringView)),enteringView.fireOtherLifecycles&&(leavingView.fireWillLeave(),this.viewWillLeave.emit(leavingView),this._app.viewWillLeave.emit(leavingView))}this._beforeTrans(enteringView,leavingView,opts,done)},NavControllerBase.prototype._beforeTrans=function(enteringView,leavingView,opts,done){var _this=this;return enteringView.state===exports.STATE_INACTIVE||enteringView.state===exports.STATE_CANCEL_ENTER?done():(enteringView.state=exports.STATE_TRANS_ENTER,leavingView.state=exports.STATE_TRANS_LEAVE,void this._zone.runOutsideAngular(function(){var transitionOpts={animation:opts.animation,direction:opts.direction,duration:opts.duration,easing:opts.easing,renderDelay:opts.transitionDelay||_this._trnsDelay,isRTL:_this.config.platform.isRTL(),ev:opts.ev},transAnimation=_this._createTrans(enteringView,leavingView,transitionOpts);_this._trans&&_this._trans.destroy(),_this._trans=transAnimation,opts.animate===!1&&transAnimation.duration(0);var parentTransitionEndTime=_this.getLongestTrans(Date.now());if(parentTransitionEndTime>0){var duration=parentTransitionEndTime-Date.now();_this.setTransitioning(!0,duration)}else{var keyboardDurationPadding=0;_this._keyboard.isOpen()&&(keyboardDurationPadding=600);var duration=transAnimation.getDuration()+keyboardDurationPadding,enableApp=duration<64;_this._app.setEnabled(enableApp,duration),_this.setTransitioning(!enableApp,duration)}transAnimation.onFinish(function(trans){trans.destroy(),_this._afterTrans(enteringView,leavingView,opts,trans.hasCompleted,done)}),opts.progressAnimation?transAnimation.progressStart():transAnimation.play()}))},NavControllerBase.prototype._afterTrans=function(enteringView,leavingView,opts,hasCompleted,done){var _this=this;this._zone.run(function(){return!opts.preload&&hasCompleted&&(leavingView.fireOtherLifecycles&&(enteringView.fireDidEnter(),_this.viewDidEnter.emit(enteringView),_this._app.viewDidEnter.emit(enteringView)),enteringView.fireOtherLifecycles&&_this._init&&(leavingView.fireDidLeave(),_this.viewDidLeave.emit(leavingView),_this._app.viewDidLeave.emit(leavingView))),enteringView.state===exports.STATE_INACTIVE?done(hasCompleted):void(opts.keyboardClose!==!1&&_this._keyboard.isOpen()?(_this._keyboard.close(),_this._keyboard.onClose(function(){done(hasCompleted)},32)):done(hasCompleted))})},NavControllerBase.prototype._transFinish=function(transId,enteringView,leavingView,direction,updateUrl,hasCompleted){var _this=this;if(enteringView.state===exports.STATE_CANCEL_ENTER&&this.remove(enteringView.index,1),transId===this._transIds){hasCompleted?(enteringView.state!==exports.STATE_REMOVE_AFTER_TRANS&&(enteringView.state=exports.STATE_ACTIVE),leavingView.state!==exports.STATE_REMOVE_AFTER_TRANS&&(leavingView.state=exports.STATE_INACTIVE),this._cleanup(),leavingView=this.getPrevious(enteringView),this._isPortal?enteringView.domShow(!0,this._renderer):this._views.forEach(function(view){view.domShow(view===enteringView||view===leavingView,_this._renderer)}),this._init=!0):(leavingView.state=exports.STATE_ACTIVE,enteringView.state=exports.STATE_INACTIVE);var transitionEndTime=this.getLongestTrans(Date.now());transitionEndTime<=0&&this._app&&this._app.setEnabled(!0),this.setTransitioning(!1),this._sbCheck()}else enteringView.state===exports.STATE_TRANS_ENTER&&(enteringView.state=exports.STATE_INACTIVE),leavingView.state===exports.STATE_TRANS_LEAVE&&(leavingView.state=exports.STATE_INACTIVE)},NavControllerBase.prototype._createTrans=function(enteringView,leavingView,transitionOpts){return transition_1.Transition.createTransition(enteringView,leavingView,transitionOpts)},NavControllerBase.prototype._cleanup=function(){for(var _this=this,activeViewIndex=this.indexOf(this.getActive()),destroys=this._views.filter(function(v){return v.state===exports.STATE_REMOVE_AFTER_TRANS}),i=activeViewIndex+1;i<this._views.length;i++)this._views[i].state===exports.STATE_INACTIVE&&destroys.push(this._views[i]);destroys.forEach(function(view){_this._views.splice(_this.indexOf(view),1),view.destroy(),_this.viewDidUnload.emit(view),_this._app.viewDidUnload.emit(view)});var shouldResetZIndex=this._views.some(function(v){return v.zIndex<0});shouldResetZIndex&&this._views.forEach(function(view){view.setZIndex(view.zIndex+INIT_ZINDEX+1,_this._renderer)})},NavControllerBase.prototype.getActiveChildNav=function(){return this._children[this._children.length-1]},NavControllerBase.prototype.registerChildNav=function(nav){this._children.push(nav)},NavControllerBase.prototype.unregisterChildNav=function(nav){var index=this._children.indexOf(nav);index>-1&&this._children.splice(index,1)},NavControllerBase.prototype.ngOnDestroy=function(){for(var i=this._views.length-1;i>=0;i--)this._views[i].destroy();this._views.length=0,this.parent&&this.parent.unregisterChildNav&&this.parent.unregisterChildNav(this)},NavControllerBase.prototype.loadPage=function(view,viewport,opts,done){var _this=this;viewport&&view.componentType&&(bootstrap_1.addSelector(view.componentType,"ion-page"),this._compiler.resolveComponent(view.componentType).then(function(componentFactory){if(view.state===exports.STATE_CANCEL_ENTER)return view.destroy(),void _this._views.splice(view.index,1);var componentProviders=core_1.ReflectiveInjector.resolve([core_1.provide(nav_controller_1.NavController,{useValue:_this}),core_1.provide(view_controller_1.ViewController,{useValue:view}),core_1.provide(nav_params_1.NavParams,{useValue:view.getNavParams()})]),childInjector=core_1.ReflectiveInjector.fromResolvedProviders(componentProviders,_this._viewport.parentInjector),componentRef=componentFactory.create(childInjector,null,null);viewport.insert(componentRef.hostView,viewport.length),view.setInstance(componentRef.instance),view.loaded(function(){var pageElementRef=componentRef.location;view.setChangeDetector(componentRef.changeDetectorRef),view.setPageRef(pageElementRef);var cssClassName=util_1.pascalCaseToDashCase(view.componentType.name);_this._renderer.setElementClass(pageElementRef.nativeElement,cssClassName,!0),view.onDestroy(function(){_this._renderer.setElementAttribute(pageElementRef.nativeElement,"class",null),_this._renderer.setElementAttribute(pageElementRef.nativeElement,"style",null),componentRef.destroy()}),done(view)})}))},NavControllerBase.prototype.swipeBackStart=function(){var opts={direction:nav_interfaces_1.DIRECTION_BACK,progressAnimation:!0},leavingView=this._remove(this._views.length-1,1);if(leavingView){opts.animation=leavingView.getTransitionName(opts.direction);var enteringView=this.getByState(exports.STATE_INIT_ENTER);this._transition(enteringView,leavingView,opts,function(hasCompleted){})}},NavControllerBase.prototype.swipeBackProgress=function(stepValue){this._trans&&this._sbGesture&&(this._app.setEnabled(!1,4e3),this.setTransitioning(!0,4e3),this._trans.progressStep(stepValue))},NavControllerBase.prototype.swipeBackEnd=function(shouldComplete,currentStepValue){this._trans&&this._sbGesture&&this._trans.progressEnd(shouldComplete,currentStepValue)},NavControllerBase.prototype._sbCheck=function(){var _this=this;if(this._sbEnabled){if(!this._sbGesture){var opts={edge:"left",threshold:this._sbThreshold};this._sbGesture=new swipe_back_1.SwipeBackGesture(this.getNativeElement(),opts,this,this._gestureCtrl)}this.canSwipeBack()?this._sbGesture.isListening||this._zone.runOutsideAngular(function(){_this._sbGesture.listen()}):this._sbGesture.isListening&&this._sbGesture.unlisten()}},NavControllerBase.prototype.canSwipeBack=function(){return this._sbEnabled&&!this.isTransitioning()&&this._app.isEnabled()&&this.canGoBack()},NavControllerBase.prototype.canGoBack=function(){var activeView=this.getActive();return!!activeView&&activeView.enableBack()},NavControllerBase.prototype.isTransitioning=function(includeAncestors){var now=Date.now();return!!(includeAncestors&&this.getLongestTrans(now)>0)||this.trnsTime>now},NavControllerBase.prototype.setTransitioning=function(isTransitioning,fallback){void 0===fallback&&(fallback=700),this.trnsTime=isTransitioning?Date.now()+fallback:0},NavControllerBase.prototype.getLongestTrans=function(now){for(var parentNav=this.parent,transitionEndTime=-1;parentNav;)parentNav.trnsTime>transitionEndTime&&(transitionEndTime=parentNav.trnsTime),parentNav=parentNav.parent;return transitionEndTime>0&&transitionEndTime>now?transitionEndTime:0},NavControllerBase.prototype.getByState=function(state){for(var i=this._views.length-1;i>=0;i--)if(this._views[i].state===state)return this._views[i];return null},NavControllerBase.prototype.getByIndex=function(index){return index<this._views.length&&index>-1?this._views[index]:null},NavControllerBase.prototype.getActive=function(){return this.getByState(exports.STATE_ACTIVE)},NavControllerBase.prototype.isActive=function(view){return!(!view||view.state!==exports.STATE_ACTIVE)},NavControllerBase.prototype.getPrevious=function(view){return this.getByIndex(this.indexOf(view)-1)},NavControllerBase.prototype.first=function(){return this._views.length?this._views[0]:null},NavControllerBase.prototype.last=function(){return this._views.length?this._views[this._views.length-1]:null},NavControllerBase.prototype.indexOf=function(view){return this._views.indexOf(view)},NavControllerBase.prototype.length=function(){return this._views.length},NavControllerBase.prototype.isSwipeBackEnabled=function(){return this._sbEnabled},Object.defineProperty(NavControllerBase.prototype,"rootNav",{get:function(){return this._app.getRootNav()},enumerable:!0,configurable:!0}),NavControllerBase.prototype.dismissPageChangeViews=function(){this._views.forEach(function(view){view.data&&view.data.dismissOnPageChange&&view.dismiss()})},NavControllerBase.prototype._setZIndex=function(enteringView,leavingView,direction){if(enteringView)if(leavingView&&leavingView.isLoaded())direction===nav_interfaces_1.DIRECTION_BACK?enteringView.setZIndex(leavingView.zIndex-1,this._renderer):enteringView.setZIndex(leavingView.zIndex+1,this._renderer);else{var previousView=this.getPrevious(enteringView);previousView&&previousView.isLoaded()?enteringView.setZIndex(previousView.zIndex+1,this._renderer):enteringView.setZIndex(this._isPortal?PORTAL_ZINDEX:INIT_ZINDEX,this._renderer)}},NavControllerBase}(ion_1.Ion);exports.NavControllerBase=NavControllerBase,exports.isTabs=function(nav){return!!nav.getSelected},exports.isTab=function(nav){return util_1.isPresent(nav._tabId)},exports.isNav=function(nav){return util_1.isPresent(nav.push)},exports.STATE_ACTIVE=1,exports.STATE_INACTIVE=2,exports.STATE_INIT_ENTER=3,exports.STATE_INIT_LEAVE=4,exports.STATE_TRANS_ENTER=5,exports.STATE_TRANS_LEAVE=6,exports.STATE_REMOVE=7,exports.STATE_REMOVE_AFTER_TRANS=8,exports.STATE_CANCEL_ENTER=9,exports.STATE_FORCE_ACTIVE=10;var INIT_ZINDEX=100,PORTAL_ZINDEX=9999,ctrlIds=-1},{"../../config/bootstrap":496,"../../transitions/transition":520,"../../util/util":535,"../ion":433,"./nav-controller":452,"./nav-interfaces":453,"./nav-params":454,"./swipe-back":459,"./view-controller":460,"@angular/core":167}],452:[function(require,module,exports){"use strict";var NavController=function(){function NavController(){}return NavController}();exports.NavController=NavController},{}],453:[function(require,module,exports){"use strict";exports.DIRECTION_BACK="back",exports.DIRECTION_FORWARD="forward"},{}],454:[function(require,module,exports){"use strict";var NavParams=function(){function NavParams(data){void 0===data&&(data={}),this.data=data}return NavParams.prototype.get=function(param){return this.data[param]},NavParams}();exports.NavParams=NavParams},{}],455:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),nav_controller_1=require("./nav-controller"),util_1=require("../../util/util"),NavPop=function(){function NavPop(_nav){this._nav=_nav}return NavPop.prototype.onClick=function(){return!this._nav||(this._nav.pop(null,util_1.noop),!1)},__decorate([core_1.HostListener("click"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",Boolean)],NavPop.prototype,"onClick",null),NavPop=__decorate([core_1.Directive({selector:"[navPop]"}),__param(0,core_1.Optional()),__metadata("design:paramtypes",[nav_controller_1.NavController])],NavPop)}();exports.NavPop=NavPop},{"../../util/util":535,"./nav-controller":452,"@angular/core":167}],456:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),app_1=require("../app/app"),config_1=require("../../config/config"),gesture_controller_1=require("../../gestures/gesture-controller"),keyboard_1=require("../../util/keyboard"),nav_controller_base_1=require("../nav/nav-controller-base"),NavPortal=function(_super){function NavPortal(app,config,keyboard,elementRef,zone,renderer,compiler,gestureCtrl,viewPort){_super.call(this,null,app,config,keyboard,elementRef,zone,renderer,compiler,gestureCtrl),this._isPortal=!0,this._init=!0,this.setViewport(viewPort),app.setPortal(this),app.viewDidLeave.subscribe(this.dismissPageChangeViews.bind(this))}return __extends(NavPortal,_super),NavPortal=__decorate([core_1.Directive({selector:"[nav-portal]"}),__param(0,core_1.Inject(core_1.forwardRef(function(){return app_1.App}))),__metadata("design:paramtypes",[app_1.App,config_1.Config,keyboard_1.Keyboard,core_1.ElementRef,core_1.NgZone,core_1.Renderer,core_1.ComponentResolver,gesture_controller_1.GestureController,core_1.ViewContainerRef])],NavPortal)}(nav_controller_base_1.NavControllerBase);exports.NavPortal=NavPortal},{"../../config/config":497,"../../gestures/gesture-controller":503,"../../util/keyboard":532,"../app/app":419,"../nav/nav-controller-base":451,"@angular/core":167}],457:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),nav_controller_1=require("./nav-controller"),util_1=require("../../util/util"),NavPush=function(){function NavPush(_nav){this._nav=_nav}return NavPush.prototype.onClick=function(){return!this._nav||(this._nav.push(this.navPush,this.navParams,util_1.noop),!1)},__decorate([core_1.Input(),__metadata("design:type",Object)],NavPush.prototype,"navPush",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],NavPush.prototype,"navParams",void 0),__decorate([core_1.HostListener("click"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",Boolean)],NavPush.prototype,"onClick",null),NavPush=__decorate([core_1.Directive({selector:"[navPush]"}),__param(0,core_1.Optional()),__metadata("design:paramtypes",[nav_controller_1.NavController])],NavPush)}();exports.NavPush=NavPush},{"../../util/util":535,"./nav-controller":452,"@angular/core":167}],458:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),app_1=require("../app/app"),config_1=require("../../config/config"),keyboard_1=require("../../util/keyboard"),gesture_controller_1=require("../../gestures/gesture-controller"),util_1=require("../../util/util"),nav_controller_base_1=require("./nav-controller-base"),view_controller_1=require("./view-controller"),Nav=function(_super){function Nav(viewCtrl,parent,app,config,keyboard,elementRef,zone,renderer,compiler,gestureCtrl){_super.call(this,parent,app,config,keyboard,elementRef,zone,renderer,compiler,gestureCtrl),this._hasInit=!1,viewCtrl&&(viewCtrl.setContent(this),viewCtrl.setContentRef(elementRef)),parent?parent.registerChildNav(this):viewCtrl&&viewCtrl.getNav()?(this.parent=viewCtrl.getNav(),this.parent.registerChildNav(this)):app&&!app.getRootNav()&&app.setRootNav(this)}return __extends(Nav,_super),Object.defineProperty(Nav.prototype,"_vp",{set:function(val){this.setViewport(val)},enumerable:!0,configurable:!0}),Nav.prototype.ngAfterViewInit=function(){this._hasInit=!0,this._root&&this.push(this._root)},Object.defineProperty(Nav.prototype,"root",{get:function(){return this._root},set:function(page){this._root=page,this._hasInit&&this.setRoot(page)},enumerable:!0,configurable:!0}),Object.defineProperty(Nav.prototype,"swipeBackEnabled",{get:function(){return this._sbEnabled},set:function(val){this._sbEnabled=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),__decorate([core_1.ViewChild("viewport",{read:core_1.ViewContainerRef}),__metadata("design:type",core_1.ViewContainerRef),__metadata("design:paramtypes",[core_1.ViewContainerRef])],Nav.prototype,"_vp",null),__decorate([core_1.Input(),__metadata("design:type",Object)],Nav.prototype,"root",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Nav.prototype,"swipeBackEnabled",null),Nav=__decorate([core_1.Component({selector:"ion-nav",template:'\n    <div #viewport nav-viewport></div>\n    <div class="nav-decor"></div>\n  ',encapsulation:core_1.ViewEncapsulation.None}),__param(0,core_1.Optional()),__param(1,core_1.Optional()),__metadata("design:paramtypes",[view_controller_1.ViewController,nav_controller_base_1.NavControllerBase,app_1.App,config_1.Config,keyboard_1.Keyboard,core_1.ElementRef,core_1.NgZone,core_1.Renderer,core_1.ComponentResolver,gesture_controller_1.GestureController])],Nav)}(nav_controller_base_1.NavControllerBase);exports.Nav=Nav},{"../../config/config":497,"../../gestures/gesture-controller":503,"../../util/keyboard":532,"../../util/util":535,"../app/app":419,"./nav-controller-base":451,"./view-controller":460,"@angular/core":167}],459:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},util_1=require("../../util/util"),slide_edge_gesture_1=require("../../gestures/slide-edge-gesture"),SwipeBackGesture=function(_super){function SwipeBackGesture(element,options,_nav,gestureCtlr){_super.call(this,element,util_1.assign({direction:"x",maxEdgeStart:75,gesture:gestureCtlr.create("goback-swipe",{priority:20})},options)),this._nav=_nav}return __extends(SwipeBackGesture,_super),SwipeBackGesture.prototype.canStart=function(ev){return this._nav.canSwipeBack()&&_super.prototype.canStart.call(this,ev)},SwipeBackGesture.prototype.onSlideBeforeStart=function(slideData,ev){this._nav.swipeBackStart()},SwipeBackGesture.prototype.onSlide=function(slide){var stepValue=slide.distance/slide.max;this._nav.swipeBackProgress(stepValue)},SwipeBackGesture.prototype.onSlideEnd=function(slide,ev){var shouldComplete=Math.abs(slide.velocity)>.2||Math.abs(slide.delta)>.5*Math.abs(slide.max),currentStepValue=slide.distance/slide.max;this._nav.swipeBackEnd(shouldComplete,currentStepValue)},SwipeBackGesture}(slide_edge_gesture_1.SlideEdgeGesture);exports.SwipeBackGesture=SwipeBackGesture},{"../../gestures/slide-edge-gesture":507,"../../util/util":535}],460:[function(require,module,exports){"use strict";function ctrlFn(viewCtrl,fnName){if(viewCtrl.instance){if(viewCtrl.instance["onPage"+fnName])try{viewCtrl.instance["onPage"+fnName]()}catch(e){}if(viewCtrl.instance["ionView"+fnName])try{viewCtrl.instance["ionView"+fnName]()}catch(e){}}}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),util_1=require("../../util/util"),nav_params_1=require("./nav-params"),ViewController=function(){function ViewController(componentType,data){this.componentType=componentType,this._tbRefs=[],this._hdAttr=null,this._leavingOpts=null,this._loaded=!1,this._onDidDismiss=null,this._onWillDismiss=null,this.instance={},this.state=0,this.fireOtherLifecycles=!0,this.isOverlay=!1,this._emitter=new core_1.EventEmitter,this.data=data instanceof nav_params_1.NavParams?data.data:util_1.isPresent(data)?data:{},this.willEnter=new core_1.EventEmitter,this.didEnter=new core_1.EventEmitter,this.willLeave=new core_1.EventEmitter,this.didLeave=new core_1.EventEmitter,this.willUnload=new core_1.EventEmitter,this.didUnload=new core_1.EventEmitter}return ViewController.prototype.subscribe=function(generatorOrNext){return this._emitter.subscribe(generatorOrNext)},ViewController.prototype.emit=function(data){this._emitter.emit(data)},ViewController.prototype.onDismiss=function(callback){this.onDidDismiss(callback)},ViewController.prototype.onDidDismiss=function(callback){this._onDidDismiss=callback},ViewController.prototype.onWillDismiss=function(callback){this._onWillDismiss=callback},ViewController.prototype.dismiss=function(data,role,navOptions){var _this=this;void 0===navOptions&&(navOptions={});var options=util_1.merge({},this._leavingOpts,navOptions);return this._onWillDismiss&&this._onWillDismiss(data,role),this._nav.remove(this._nav.indexOf(this),1,options).then(function(){return _this._onDidDismiss&&_this._onDidDismiss(data,role),data})},ViewController.prototype.setNav=function(navCtrl){this._nav=navCtrl},ViewController.prototype.getNav=function(){return this._nav},ViewController.prototype.getTransitionName=function(direction){return this._nav&&this._nav.config.get("pageTransition")},ViewController.prototype.getNavParams=function(){return new nav_params_1.NavParams(this.data)},ViewController.prototype.setLeavingOpts=function(opts){this._leavingOpts=opts},ViewController.prototype.enableBack=function(){if(this._nav){var previousItem=this._nav.getPrevious(this);return!!previousItem}return!1},ViewController.prototype.setChangeDetector=function(cd){this._cd=cd},ViewController.prototype.setInstance=function(instance){this.instance=instance},Object.defineProperty(ViewController.prototype,"name",{get:function(){return this.componentType?this.componentType.name:""},enumerable:!0,configurable:!0}),Object.defineProperty(ViewController.prototype,"index",{get:function(){return this._nav?this._nav.indexOf(this):-1},enumerable:!0,configurable:!0}),ViewController.prototype.isFirst=function(){return!!this._nav&&this._nav.first()===this},ViewController.prototype.isLast=function(){return!!this._nav&&this._nav.last()===this},ViewController.prototype.domShow=function(shouldShow,renderer){this._pgRef&&(shouldShow&&""===this._hdAttr||!shouldShow&&""!==this._hdAttr)&&(this._hdAttr=shouldShow?null:"",renderer.setElementAttribute(this._pgRef.nativeElement,"hidden",this._hdAttr))},ViewController.prototype.setZIndex=function(zIndex,renderer){this._pgRef&&zIndex!==this.zIndex&&(this.zIndex=zIndex,renderer.setElementStyle(this._pgRef.nativeElement,"z-index",zIndex.toString()))},ViewController.prototype.setPageRef=function(elementRef){this._pgRef=elementRef},ViewController.prototype.pageRef=function(){return this._pgRef},ViewController.prototype.setContentRef=function(elementRef){this._cntRef=elementRef},ViewController.prototype.contentRef=function(){return this._cntRef},ViewController.prototype.setContent=function(directive){this._cntDir=directive},ViewController.prototype.setToolbarRef=function(elementRef){this._tbRefs.push(elementRef)},ViewController.prototype.toolbarRefs=function(){return this._tbRefs},ViewController.prototype.setHeader=function(directive){this._hdrDir=directive},ViewController.prototype.getHeader=function(){return this._hdrDir},ViewController.prototype.setFooter=function(directive){this._ftrDir=directive},ViewController.prototype.getFooter=function(){return this._ftrDir},ViewController.prototype.getContent=function(){return this._cntDir},ViewController.prototype.setNavbar=function(directive){this._nbDir=directive},ViewController.prototype.getNavbar=function(){return this._nbDir},ViewController.prototype.hasNavbar=function(){return!!this.getNavbar()},ViewController.prototype.navbarRef=function(){var navbar=this.getNavbar();return navbar&&navbar.getElementRef()},ViewController.prototype.titleRef=function(){var navbar=this.getNavbar();return navbar&&navbar.getTitleRef()},ViewController.prototype.navbarItemRefs=function(){var navbar=this.getNavbar();return navbar&&navbar.getItemRefs()},ViewController.prototype.backBtnRef=function(){var navbar=this.getNavbar();return navbar&&navbar.getBackButtonRef()},ViewController.prototype.backBtnTextRef=function(){var navbar=this.getNavbar();return navbar&&navbar.getBackButtonTextRef()},ViewController.prototype.navbarBgRef=function(){var navbar=this.getNavbar();return navbar&&navbar.getBackgroundRef()},ViewController.prototype.setBackButtonText=function(val){var navbar=this.getNavbar();navbar&&navbar.setBackButtonText(val)},ViewController.prototype.showBackButton=function(shouldShow){var navbar=this.getNavbar();navbar&&(navbar.hideBackButton=!shouldShow)},ViewController.prototype.isLoaded=function(){return this._loaded},ViewController.prototype.loaded=function(done){done();
},ViewController.prototype.fireLoaded=function(){this._loaded=!0,ctrlFn(this,"Loaded")},ViewController.prototype.fireWillEnter=function(){this._cd&&(this._cd.reattach(),this._cd.detectChanges()),this.willEnter.emit(null),ctrlFn(this,"WillEnter")},ViewController.prototype.fireDidEnter=function(){var navbar=this.getNavbar();navbar&&navbar.didEnter(),this.didEnter.emit(null),ctrlFn(this,"DidEnter")},ViewController.prototype.fireWillLeave=function(){this.willLeave.emit(null),ctrlFn(this,"WillLeave")},ViewController.prototype.fireDidLeave=function(){this.didLeave.emit(null),ctrlFn(this,"DidLeave"),this._cd&&this._cd.detach()},ViewController.prototype.fireWillUnload=function(){this.willUnload.emit(null),ctrlFn(this,"WillUnload")},ViewController.prototype.onDestroy=function(destroyFn){this._destroyFn=destroyFn},ViewController.prototype.destroy=function(){this.didUnload.emit(null),ctrlFn(this,"DidUnload"),this._destroyFn&&this._destroyFn(),this._destroyFn=null},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],ViewController.prototype,"_emitter",void 0),ViewController}();exports.ViewController=ViewController},{"../../util/util":535,"./nav-params":454,"@angular/core":167}],461:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),app_1=require("../app/app"),config_1=require("../../config/config"),icon_1=require("../icon/icon"),ion_1=require("../ion"),util_1=require("../../util/util"),nav_controller_1=require("../nav/nav-controller"),toolbar_1=require("../toolbar/toolbar"),view_controller_1=require("../nav/view-controller"),BackButton=function(_super){function BackButton(_nav,elementRef,navbar){_super.call(this,elementRef),this._nav=_nav,navbar&&navbar.setBackButtonRef(elementRef)}return __extends(BackButton,_super),BackButton.prototype.goBack=function(ev){ev.stopPropagation(),ev.preventDefault(),this._nav&&this._nav.pop()},BackButton=__decorate([core_1.Directive({selector:".back-button",host:{"(click)":"goBack($event)"}}),__param(0,core_1.Optional()),__param(2,core_1.Optional()),__param(2,core_1.Inject(core_1.forwardRef(function(){return Navbar}))),__metadata("design:paramtypes",[nav_controller_1.NavController,core_1.ElementRef,Navbar])],BackButton)}(ion_1.Ion),BackButtonText=function(){function BackButtonText(elementRef,navbar){navbar.setBackButtonTextRef(elementRef)}return BackButtonText=__decorate([core_1.Directive({selector:".back-button-text"}),__param(1,core_1.Inject(core_1.forwardRef(function(){return Navbar}))),__metadata("design:paramtypes",[core_1.ElementRef,Navbar])],BackButtonText)}(),ToolbarBackground=function(){function ToolbarBackground(elementRef,navbar){navbar.setBackgroundRef(elementRef)}return ToolbarBackground=__decorate([core_1.Directive({selector:".toolbar-background"}),__param(1,core_1.Inject(core_1.forwardRef(function(){return Navbar}))),__metadata("design:paramtypes",[core_1.ElementRef,Navbar])],ToolbarBackground)}(),Navbar=function(_super){function Navbar(_app,viewCtrl,elementRef,config){_super.call(this,elementRef),this._app=_app,this._hidden=!1,this._hideBb=!1,viewCtrl&&viewCtrl.setNavbar(this),this._bbIcon=config.get("backButtonIcon"),this._bbText=config.get("backButtonText"),this._sbPadding=config.getBoolean("statusbarPadding",!1)}return __extends(Navbar,_super),Object.defineProperty(Navbar.prototype,"hideBackButton",{get:function(){return this._hideBb},set:function(val){this._hideBb=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Navbar.prototype.setBackButtonText=function(text){this._bbText=text},Navbar.prototype.getBackButtonRef=function(){return this._bbRef},Navbar.prototype.setBackButtonRef=function(backButtonElementRef){this._bbRef=backButtonElementRef},Navbar.prototype.getBackButtonTextRef=function(){return this._bbtRef},Navbar.prototype.setBackButtonTextRef=function(backButtonTextElementRef){this._bbtRef=backButtonTextElementRef},Navbar.prototype.setBackgroundRef=function(backgrouneElementRef){this._bgRef=backgrouneElementRef},Navbar.prototype.getBackgroundRef=function(){return this._bgRef},Navbar.prototype.didEnter=function(){try{this._app.setTitle(this.getTitleText())}catch(e){}},Navbar.prototype.setHidden=function(isHidden){this._hidden=isHidden},__decorate([core_1.Input(),__metadata("design:type",Boolean)],Navbar.prototype,"hideBackButton",null),Navbar=__decorate([core_1.Component({selector:"ion-navbar",template:'\n    <div class="toolbar-background"></div>\n    <button category="bar-button" class="back-button" [hidden]="_hideBb">\n      <span class="button-inner">\n        <ion-icon class="back-button-icon" [name]="_bbIcon"></ion-icon>\n        <span class="back-button-text">\n          <span class="back-default">{{_bbText}}</span>\n        </span>\n      </span>\n    </button>\n    <ng-content select="[menuToggle],ion-buttons[left]"></ng-content>\n    <ng-content select="ion-buttons[start]"></ng-content>\n    <ng-content select="ion-buttons[end],ion-buttons[right]"></ng-content>\n    <div class="toolbar-content">\n      <ng-content></ng-content>\n    </div>\n  ',directives:[BackButton,BackButtonText,icon_1.Icon,ToolbarBackground],host:{"[hidden]":"_hidden","class":"toolbar","[class.statusbar-padding]":"_sbPadding"}}),__param(1,core_1.Optional()),__metadata("design:paramtypes",[app_1.App,view_controller_1.ViewController,core_1.ElementRef,config_1.Config])],Navbar)}(toolbar_1.ToolbarBase);exports.Navbar=Navbar;var NavbarTemplate=function(){function NavbarTemplate(){}return NavbarTemplate=__decorate([core_1.Directive({selector:"template[navbar]"}),__metadata("design:paramtypes",[])],NavbarTemplate)}();exports.NavbarTemplate=NavbarTemplate},{"../../config/config":497,"../../util/util":535,"../app/app":419,"../icon/icon":426,"../ion":433,"../nav/nav-controller":452,"../nav/view-controller":460,"../toolbar/toolbar":492,"@angular/core":167}],462:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),util_1=require("../../util/util"),Option=function(){function Option(_elementRef){this._elementRef=_elementRef,this._selected=!1,this._disabled=!1,this.ionSelect=new core_1.EventEmitter}return Object.defineProperty(Option.prototype,"selected",{get:function(){return this._selected},set:function(val){this._selected=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Object.defineProperty(Option.prototype,"value",{get:function(){return util_1.isPresent(this._value)?this._value:this.text},set:function(val){this._value=val},enumerable:!0,configurable:!0}),Object.defineProperty(Option.prototype,"disabled",{get:function(){return this._disabled},set:function(val){this._disabled=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Object.defineProperty(Option.prototype,"text",{get:function(){return this._elementRef.nativeElement.textContent},enumerable:!0,configurable:!0}),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Option.prototype,"ionSelect",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Option.prototype,"selected",null),__decorate([core_1.Input(),__metadata("design:type",Object)],Option.prototype,"value",null),__decorate([core_1.Input(),__metadata("design:type",Object)],Option.prototype,"disabled",null),Option=__decorate([core_1.Directive({selector:"ion-option"}),__metadata("design:paramtypes",[core_1.ElementRef])],Option)}();exports.Option=Option},{"../../util/util":535,"@angular/core":167}],463:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),common_1=require("@angular/common"),platform_browser_1=require("@angular/platform-browser"),animation_1=require("../../animations/animation"),backdrop_1=require("../backdrop/backdrop"),dom_1=require("../../util/dom"),util_1=require("../../util/util"),config_1=require("../../config/config"),key_1=require("../../util/key"),nav_params_1=require("../nav/nav-params"),transition_1=require("../../transitions/transition"),ui_event_manager_1=require("../../util/ui-event-manager"),view_controller_1=require("../nav/view-controller"),PickerColumnCmp=function(){function PickerColumnCmp(config,elementRef,_sanitizer){this.elementRef=elementRef,this._sanitizer=_sanitizer,this.y=0,this.pos=[],this.startY=null,this.receivingEvents=!1,this.events=new ui_event_manager_1.UIEventManager,this.ionChange=new core_1.EventEmitter,this.rotateFactor=config.getNumber("pickerRotateFactor",0)}return PickerColumnCmp.prototype.ngAfterViewInit=function(){var colEle=this.colEle.nativeElement;this.colHeight=colEle.clientHeight,this.optHeight=colEle.firstElementChild?colEle.firstElementChild.clientHeight:0,this.setSelected(this.col.selectedIndex,0),this.events.pointerEvents({elementRef:this.elementRef,pointerDown:this.pointerStart.bind(this),pointerMove:this.pointerMove.bind(this),pointerUp:this.pointerEnd.bind(this)})},PickerColumnCmp.prototype.ngOnDestroy=function(){this.events.unlistenAll()},PickerColumnCmp.prototype.pointerStart=function(ev){dom_1.cancelRaf(this.rafId),this.startY=dom_1.pointerCoord(ev).y,this.receivingEvents=!0,this.velocity=0,this.pos.length=0,this.pos.push(this.startY,Date.now());for(var minY=this.col.options.length-1,maxY=0,i=0;i<this.col.options.length;i++)this.col.options[i].disabled||(minY=Math.min(minY,i),maxY=Math.max(maxY,i));return this.minY=minY*this.optHeight*-1,this.maxY=maxY*this.optHeight*-1,!0},PickerColumnCmp.prototype.pointerMove=function(ev){if(ev.preventDefault(),ev.stopPropagation(),null!==this.startY){var currentY=dom_1.pointerCoord(ev).y;this.pos.push(currentY,Date.now());var y=this.y+(currentY-this.startY);y>this.minY?(y=Math.pow(y,.8),this.bounceFrom=y):y<this.maxY?(y+=Math.pow(this.maxY-y,.9),this.bounceFrom=y):this.bounceFrom=0,this.update(y,0,!1,!1)}},PickerColumnCmp.prototype.pointerEnd=function(ev){if(this.receivingEvents){if(this.receivingEvents=!1,this.velocity=0,this.bounceFrom>0)this.update(this.minY,100,!0,!0);else if(this.bounceFrom<0)this.update(this.maxY,100,!0,!0);else if(null!==this.startY){var endY=dom_1.pointerCoord(ev).y;this.pos.push(endY,Date.now());for(var endPos=this.pos.length-1,startPos=endPos,timeRange=Date.now()-100,i=endPos;i>0&&this.pos[i]>timeRange;i-=2)startPos=i;if(startPos!==endPos){var timeOffset=this.pos[endPos]-this.pos[startPos],movedTop=this.pos[startPos-1]-this.pos[endPos-1];this.velocity=movedTop/timeOffset*FRAME_MS}if(Math.abs(endY-this.startY)>3){ev.preventDefault(),ev.stopPropagation();var y=this.y+(endY-this.startY);this.update(y,0,!0,!0)}}this.startY=null,this.decelerate()}},PickerColumnCmp.prototype.decelerate=function(){var y=0;if(dom_1.cancelRaf(this.rafId),isNaN(this.y)||!this.optHeight)this.update(y,0,!0,!0);else if(Math.abs(this.velocity)>0){this.velocity*=DECELERATION_FRICTION,this.velocity=this.velocity>0?Math.max(this.velocity,1):Math.min(this.velocity,-1),y=Math.round(this.y-this.velocity),y>this.minY?(y=this.minY,this.velocity=0):y<this.maxY&&(y=this.maxY,this.velocity=0);var notLockedIn=y%this.optHeight!==0||Math.abs(this.velocity)>1;this.update(y,0,!0,!notLockedIn),notLockedIn&&(this.rafId=dom_1.raf(this.decelerate.bind(this)))}else if(this.y%this.optHeight!==0){var currentPos=Math.abs(this.y%this.optHeight);this.velocity=currentPos>this.optHeight/2?1:-1,this.decelerate()}},PickerColumnCmp.prototype.optClick=function(ev,index){this.velocity||(ev.preventDefault(),ev.stopPropagation(),this.setSelected(index,150))},PickerColumnCmp.prototype.setSelected=function(selectedIndex,duration){var y=selectedIndex>-1?selectedIndex*this.optHeight*-1:0;dom_1.cancelRaf(this.rafId),this.velocity=0,this.update(y,duration,!0,!0)},PickerColumnCmp.prototype.update=function(y,duration,saveY,emitChange){y=Math.round(y),this.col.selectedIndex=Math.max(Math.abs(Math.round(y/this.optHeight)),0);for(var i=0;i<this.col.options.length;i++){var opt=this.col.options[i],optTop=i*this.optHeight,optOffset=optTop+y,rotateX=optOffset*this.rotateFactor,translateX=0,translateY=0,translateZ=0;0!==this.rotateFactor?(translateX=0,translateZ=90,(rotateX>90||rotateX<-90)&&(translateX=-9999,rotateX=0)):translateY=optOffset,opt._trans=this._sanitizer.bypassSecurityTrustStyle("rotateX("+rotateX+"deg) translate3d("+translateX+"px,"+translateY+"px,"+translateZ+"px)"),opt._dur=duration>0?duration+"ms":""}saveY&&(this.y=y),emitChange&&(void 0===this.lastIndex?this.lastIndex=this.col.selectedIndex:this.lastIndex!==this.col.selectedIndex&&(this.lastIndex=this.col.selectedIndex,this.ionChange.emit(this.col.options[this.col.selectedIndex])))},PickerColumnCmp.prototype.refresh=function(){for(var min=this.col.options.length-1,max=0,i=0;i<this.col.options.length;i++)this.col.options[i].disabled||(min=Math.min(min,i),max=Math.max(max,i));var selectedIndex=util_1.clamp(min,this.col.selectedIndex,max);if(selectedIndex!==this.col.selectedIndex){var y=selectedIndex*this.optHeight*-1;this.update(y,150,!0,!0)}},__decorate([core_1.ViewChild("colEle"),__metadata("design:type",core_1.ElementRef)],PickerColumnCmp.prototype,"colEle",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],PickerColumnCmp.prototype,"col",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],PickerColumnCmp.prototype,"ionChange",void 0),PickerColumnCmp=__decorate([core_1.Component({selector:".picker-col",template:'\n    <div *ngIf="col.prefix" class="picker-prefix" [style.width]="col.prefixWidth">{{col.prefix}}</div>\n    <div class="picker-opts" #colEle [style.width]="col.optionsWidth">\n      <button *ngFor="let o of col.options; let i=index" [style.transform]="o._trans" [style.transitionDuration]="o._dur" [style.webkitTransform]="o._trans" [style.webkitTransitionDuration]="o._dur" [class.picker-opt-selected]="col.selectedIndex === i" [class.picker-opt-disabled]="o.disabled" (click)="optClick($event, i)" type="button" category="picker-opt">\n        {{o.text}}\n      </button>\n    </div>\n    <div *ngIf="col.suffix" class="picker-suffix" [style.width]="col.suffixWidth">{{col.suffix}}</div>\n  ',directives:[common_1.NgFor,common_1.NgIf],host:{"[style.min-width]":"col.columnWidth","[class.picker-opts-left]":'col.align=="left"',"[class.picker-opts-right]":'col.align=="right"'}}),__metadata("design:paramtypes",[config_1.Config,core_1.ElementRef,platform_browser_1.DomSanitizationService])],PickerColumnCmp)}();exports.PickerColumnCmp=PickerColumnCmp;var PickerCmp=function(){function PickerCmp(_viewCtrl,_elementRef,_config,params,renderer){this._viewCtrl=_viewCtrl,this._elementRef=_elementRef,this._config=_config,this.d=params.data,this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(cssClass){renderer.setElementClass(_elementRef.nativeElement,cssClass,!0)}),this.id=++pickerIds,this.lastClick=0}return PickerCmp.prototype.ionViewLoaded=function(){var data=this.d;data.buttons=data.buttons.map(function(button){return util_1.isString(button)?{text:button}:(button.role&&(button.cssRole="picker-toolbar-"+button.role),button)}),data.columns=data.columns.map(function(column){return util_1.isPresent(column.columnWidth)||(column.columnWidth=100/data.columns.length+"%"),util_1.isPresent(column.options)||(column.options=[]),column.options=column.options.map(function(inputOpt){var opt={text:"",value:"",disabled:inputOpt.disabled};return util_1.isPresent(inputOpt)&&(util_1.isString(inputOpt)||util_1.isNumber(inputOpt)?(opt.text=inputOpt.toString(),opt.value=inputOpt):(opt.text=util_1.isPresent(inputOpt.text)?inputOpt.text:inputOpt.value,opt.value=util_1.isPresent(inputOpt.value)?inputOpt.value:inputOpt.text)),opt}),column})},PickerCmp.prototype.refresh=function(){this._cols.forEach(function(column){column.refresh()})},PickerCmp.prototype._colChange=function(selectedOption){var picker=this._viewCtrl;picker.ionChange.emit(this.getSelected())},PickerCmp.prototype._keyUp=function(ev){if(this.enabled&&this._viewCtrl.isLast())if(ev.keyCode===key_1.Key.ENTER){if(this.lastClick+1e3<Date.now()){var button=this.d.buttons[this.d.buttons.length-1];this.btnClick(button)}}else ev.keyCode===key_1.Key.ESCAPE&&this.bdClick()},PickerCmp.prototype.ionViewDidEnter=function(){var activeElement=document.activeElement;activeElement&&activeElement.blur();var focusableEle=this._elementRef.nativeElement.querySelector("button");focusableEle&&focusableEle.focus(),this.enabled=!0},PickerCmp.prototype.btnClick=function(button,dismissDelay){var _this=this;if(this.enabled){this.lastClick=Date.now();var shouldDismiss=!0;button.handler&&button.handler(this.getSelected())===!1&&(shouldDismiss=!1),shouldDismiss&&setTimeout(function(){_this.dismiss(button.role)},dismissDelay||this._config.get("pageTransitionDelay"))}},PickerCmp.prototype.bdClick=function(){this.enabled&&this.d.enableBackdropDismiss&&this.dismiss("backdrop")},PickerCmp.prototype.dismiss=function(role){return this._viewCtrl.dismiss(this.getSelected(),role)},PickerCmp.prototype.getSelected=function(){var selected={};return this.d.columns.forEach(function(col,index){var selectedColumn=col.options[col.selectedIndex];selected[col.name]={text:selectedColumn?selectedColumn.text:null,value:selectedColumn?selectedColumn.value:null,columnIndex:index}}),selected},__decorate([core_1.ViewChildren(PickerColumnCmp),__metadata("design:type",core_1.QueryList)],PickerCmp.prototype,"_cols",void 0),__decorate([core_1.HostListener("body:keyup",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[KeyboardEvent]),__metadata("design:returntype",void 0)],PickerCmp.prototype,"_keyUp",null),PickerCmp=__decorate([core_1.Component({selector:"ion-picker-cmp",template:'\n    <ion-backdrop (click)="bdClick()"></ion-backdrop>\n    <div class="picker-wrapper">\n      <div class="picker-toolbar">\n        <div *ngFor="let b of d.buttons" class="picker-toolbar-button" [ngClass]="b.cssRole">\n          <button (click)="btnClick(b)" [ngClass]="b.cssClass" class="picker-button" clear>\n            {{b.text}}\n          </button>\n        </div>\n      </div>\n      <div class="picker-columns">\n        <div class="picker-above-highlight"></div>\n        <div *ngFor="let c of d.columns" [col]="c" class="picker-col" (ionChange)="_colChange($event)"></div>\n        <div class="picker-below-highlight"></div>\n      </div>\n    </div>\n  ',directives:[backdrop_1.Backdrop,common_1.NgClass,common_1.NgFor,PickerColumnCmp],host:{role:"dialog"},encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[view_controller_1.ViewController,core_1.ElementRef,config_1.Config,nav_params_1.NavParams,core_1.Renderer])],PickerCmp)}();exports.PickerCmp=PickerCmp;var PickerSlideIn=function(_super){function PickerSlideIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".picker-wrapper"));backdrop.fromTo("opacity",.01,.26),wrapper.fromTo("translateY","100%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(backdrop).add(wrapper)}return __extends(PickerSlideIn,_super),PickerSlideIn}(transition_1.Transition);transition_1.Transition.register("picker-slide-in",PickerSlideIn);var PickerSlideOut=function(_super){function PickerSlideOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".picker-wrapper"));backdrop.fromTo("opacity",.26,0),wrapper.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(450).add(backdrop).add(wrapper)}return __extends(PickerSlideOut,_super),PickerSlideOut}(transition_1.Transition);transition_1.Transition.register("picker-slide-out",PickerSlideOut);var pickerIds=-1,DECELERATION_FRICTION=.97,FRAME_MS=1e3/60},{"../../animations/animation":412,"../../config/config":497,"../../transitions/transition":520,"../../util/dom":527,"../../util/key":531,"../../util/ui-event-manager":534,"../../util/util":535,"../backdrop/backdrop":420,"../nav/nav-params":454,"../nav/view-controller":460,"@angular/common":20,"@angular/core":167,"@angular/platform-browser":326}],464:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),app_1=require("../app/app"),util_1=require("../../util/util"),picker_component_1=require("./picker-component"),view_controller_1=require("../nav/view-controller"),Picker=function(_super){function Picker(app,opts){void 0===opts&&(opts={}),opts.columns=opts.columns||[],opts.buttons=opts.buttons||[],opts.enableBackdropDismiss=!util_1.isPresent(opts.enableBackdropDismiss)||!!opts.enableBackdropDismiss,_super.call(this,picker_component_1.PickerCmp,opts),this._app=app,this.isOverlay=!0,this.ionChange=new core_1.EventEmitter,this.fireOtherLifecycles=!1}return __extends(Picker,_super),Picker.prototype.getTransitionName=function(direction){var key="back"===direction?"pickerLeave":"pickerEnter";return this._nav&&this._nav.config.get(key)},Picker.prototype.addButton=function(button){this.data.buttons.push(button)},Picker.prototype.addColumn=function(column){this.data.columns.push(column)},Picker.prototype.getColumns=function(){return this.data.columns},Picker.prototype.refresh=function(){this.instance.refresh&&this.instance.refresh()},Picker.prototype.setCssClass=function(cssClass){this.data.cssClass=cssClass},Picker.prototype.present=function(navOptions){return void 0===navOptions&&(navOptions={}),this._app.present(this,navOptions)},Picker.create=function(opt){},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Picker.prototype,"ionChange",void 0),Picker}(view_controller_1.ViewController);exports.Picker=Picker;var PickerController=function(){function PickerController(_app){this._app=_app}return PickerController.prototype.create=function(opts){return void 0===opts&&(opts={}),new Picker(this._app,opts)},PickerController=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[app_1.App])],PickerController)}();exports.PickerController=PickerController},{"../../util/util":535,"../app/app":419,"../nav/view-controller":460,"./picker-component":463,"@angular/core":167}],465:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),bootstrap_1=require("../../config/bootstrap"),animation_1=require("../../animations/animation"),backdrop_1=require("../backdrop/backdrop"),config_1=require("../../config/config"),dom_1=require("../../util/dom"),key_1=require("../../util/key"),nav_params_1=require("../nav/nav-params"),page_transition_1=require("../../transitions/page-transition"),view_controller_1=require("../nav/view-controller"),PopoverCmp=function(){function PopoverCmp(_compiler,_elementRef,_renderer,_config,_navParams,_viewCtrl){this._compiler=_compiler,this._elementRef=_elementRef,this._renderer=_renderer,this._config=_config,this._navParams=_navParams,this._viewCtrl=_viewCtrl,this.d=_navParams.data.opts,this.d.cssClass&&_renderer.setElementClass(_elementRef.nativeElement,this.d.cssClass,!0),this.id=++popoverIds}return PopoverCmp.prototype.ionViewWillEnter=function(){var _this=this;bootstrap_1.addSelector(this._navParams.data.componentType,"ion-popover-inner"),this._compiler.resolveComponent(this._navParams.data.componentType).then(function(componentFactory){var componentRef=_this.viewport.createComponent(componentFactory,_this.viewport.length,_this.viewport.parentInjector);_this._viewCtrl.setInstance(componentRef.instance),_this._viewCtrl.fireWillEnter()})},PopoverCmp.prototype.ngAfterViewInit=function(){var activeElement=document.activeElement;document.activeElement&&activeElement.blur(),this.enabled=!0},PopoverCmp.prototype.dismiss=function(role){return this._viewCtrl.dismiss(null,role)},PopoverCmp.prototype.bdTouch=function(ev){ev.preventDefault(),ev.stopPropagation()},PopoverCmp.prototype.bdClick=function(){this.enabled&&this.d.enableBackdropDismiss&&this.dismiss("backdrop")},PopoverCmp.prototype._keyUp=function(ev){this.enabled&&ev.keyCode===key_1.Key.ESCAPE&&this._viewCtrl.isLast()&&this.bdClick()},__decorate([core_1.ViewChild("viewport",{read:core_1.ViewContainerRef}),__metadata("design:type",core_1.ViewContainerRef)],PopoverCmp.prototype,"viewport",void 0),__decorate([core_1.HostListener("body:keyup",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[KeyboardEvent]),__metadata("design:returntype",void 0)],PopoverCmp.prototype,"_keyUp",null),PopoverCmp=__decorate([core_1.Component({selector:"ion-popover",template:'\n    <ion-backdrop (click)="bdClick($event)" [class.hide-backdrop]="!d.showBackdrop"></ion-backdrop>\n    <div class="popover-wrapper">\n      <div class="popover-arrow"></div>\n      <div class="popover-content">\n        <div class="popover-viewport">\n          <div #viewport nav-viewport></div>\n        </div>\n      </div>\n    </div>\n  ',directives:[backdrop_1.Backdrop]}),__metadata("design:paramtypes",[core_1.ComponentResolver,core_1.ElementRef,core_1.Renderer,config_1.Config,nav_params_1.NavParams,view_controller_1.ViewController])],PopoverCmp)}();exports.PopoverCmp=PopoverCmp;var PopoverTransition=function(_super){function PopoverTransition(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts)}return __extends(PopoverTransition,_super),PopoverTransition.prototype.mdPositionView=function(nativeEle,ev){var originY="top",originX="left",popoverWrapperEle=nativeEle.querySelector(".popover-wrapper"),popoverEle=nativeEle.querySelector(".popover-content"),popoverDim=popoverEle.getBoundingClientRect(),popoverWidth=popoverDim.width,popoverHeight=popoverDim.height,bodyWidth=window.innerWidth,bodyHeight=window.innerHeight,targetDim=ev&&ev.target&&ev.target.getBoundingClientRect(),targetTop=targetDim&&"top"in targetDim?targetDim.top:bodyHeight/2-popoverHeight/2,targetLeft=targetDim&&"left"in targetDim?targetDim.left:bodyWidth/2-popoverWidth/2,targetHeight=(targetDim&&targetDim.width||0,targetDim&&targetDim.height||0),popoverCSS={top:targetTop,left:targetLeft};popoverCSS.left<POPOVER_MD_BODY_PADDING?popoverCSS.left=POPOVER_MD_BODY_PADDING:popoverWidth+POPOVER_MD_BODY_PADDING+popoverCSS.left>bodyWidth&&(popoverCSS.left=bodyWidth-popoverWidth-POPOVER_MD_BODY_PADDING,originX="right"),targetTop+targetHeight+popoverHeight>bodyHeight&&targetTop-popoverHeight>0?(popoverCSS.top=targetTop-popoverHeight,nativeEle.className=nativeEle.className+" popover-bottom",originY="bottom"):targetTop+targetHeight+popoverHeight>bodyHeight&&(popoverEle.style.bottom=POPOVER_MD_BODY_PADDING+"px"),popoverEle.style.top=popoverCSS.top+"px",popoverEle.style.left=popoverCSS.left+"px",popoverEle.style[dom_1.CSS.transformOrigin]=originY+" "+originX,popoverWrapperEle.style.opacity="1"},PopoverTransition.prototype.iosPositionView=function(nativeEle,ev){var originY="top",originX="left",popoverWrapperEle=nativeEle.querySelector(".popover-wrapper"),popoverEle=nativeEle.querySelector(".popover-content"),popoverDim=popoverEle.getBoundingClientRect(),popoverWidth=popoverDim.width,popoverHeight=popoverDim.height,bodyWidth=window.innerWidth,bodyHeight=window.innerHeight,targetDim=ev&&ev.target&&ev.target.getBoundingClientRect(),targetTop=targetDim&&"top"in targetDim?targetDim.top:bodyHeight/2-popoverHeight/2,targetLeft=targetDim&&"left"in targetDim?targetDim.left:bodyWidth/2,targetWidth=targetDim&&targetDim.width||0,targetHeight=targetDim&&targetDim.height||0,arrowEle=nativeEle.querySelector(".popover-arrow"),arrowDim=arrowEle.getBoundingClientRect(),arrowWidth=arrowDim.width,arrowHeight=arrowDim.height;targetDim||(arrowEle.style.display="none");var arrowCSS={top:targetTop+targetHeight,left:targetLeft+targetWidth/2-arrowWidth/2},popoverCSS={top:targetTop+targetHeight+(arrowHeight-1),left:targetLeft+targetWidth/2-popoverWidth/2};popoverCSS.left<POPOVER_IOS_BODY_PADDING?popoverCSS.left=POPOVER_IOS_BODY_PADDING:popoverWidth+POPOVER_IOS_BODY_PADDING+popoverCSS.left>bodyWidth&&(popoverCSS.left=bodyWidth-popoverWidth-POPOVER_IOS_BODY_PADDING,originX="right"),targetTop+targetHeight+popoverHeight>bodyHeight&&targetTop-popoverHeight>0?(arrowCSS.top=targetTop-(arrowHeight+1),
popoverCSS.top=targetTop-popoverHeight-(arrowHeight-1),nativeEle.className=nativeEle.className+" popover-bottom",originY="bottom"):targetTop+targetHeight+popoverHeight>bodyHeight&&(popoverEle.style.bottom=POPOVER_IOS_BODY_PADDING+"%"),arrowEle.style.top=arrowCSS.top+"px",arrowEle.style.left=arrowCSS.left+"px",popoverEle.style.top=popoverCSS.top+"px",popoverEle.style.left=popoverCSS.left+"px",popoverEle.style[dom_1.CSS.transformOrigin]=originY+" "+originX,popoverWrapperEle.style.opacity="1"},PopoverTransition}(page_transition_1.PageTransition),PopoverPopIn=function(_super){function PopoverPopIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts),this.opts=opts;var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".popover-wrapper"));wrapper.fromTo("opacity",.01,1),backdrop.fromTo("opacity",.01,.08),this.easing("ease").duration(100).add(backdrop).add(wrapper)}return __extends(PopoverPopIn,_super),PopoverPopIn.prototype.play=function(){var _this=this;dom_1.nativeRaf(function(){_this.iosPositionView(_this.enteringView.pageRef().nativeElement,_this.opts.ev),_super.prototype.play.call(_this)})},PopoverPopIn}(PopoverTransition);page_transition_1.PageTransition.register("popover-pop-in",PopoverPopIn);var PopoverPopOut=function(_super){function PopoverPopOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts),this.opts=opts;var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector("ion-backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".popover-wrapper"));wrapper.fromTo("opacity",.99,0),backdrop.fromTo("opacity",.08,0),this.easing("ease").duration(500).add(backdrop).add(wrapper)}return __extends(PopoverPopOut,_super),PopoverPopOut}(PopoverTransition);page_transition_1.PageTransition.register("popover-pop-out",PopoverPopOut);var PopoverMdPopIn=function(_super){function PopoverMdPopIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts),this.opts=opts;var ele=enteringView.pageRef().nativeElement,content=new animation_1.Animation(ele.querySelector(".popover-content")),viewport=new animation_1.Animation(ele.querySelector(".popover-viewport"));content.fromTo("scale",.001,1),viewport.fromTo("opacity",.01,1),this.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).add(content).add(viewport)}return __extends(PopoverMdPopIn,_super),PopoverMdPopIn.prototype.play=function(){var _this=this;dom_1.nativeRaf(function(){_this.mdPositionView(_this.enteringView.pageRef().nativeElement,_this.opts.ev),_super.prototype.play.call(_this)})},PopoverMdPopIn}(PopoverTransition);page_transition_1.PageTransition.register("popover-md-pop-in",PopoverMdPopIn);var PopoverMdPopOut=function(_super){function PopoverMdPopOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts),this.opts=opts;var ele=leavingView.pageRef().nativeElement,wrapper=new animation_1.Animation(ele.querySelector(".popover-wrapper"));wrapper.fromTo("opacity",.99,0),this.easing("ease").duration(500).fromTo("opacity",.01,1).add(wrapper)}return __extends(PopoverMdPopOut,_super),PopoverMdPopOut}(PopoverTransition);page_transition_1.PageTransition.register("popover-md-pop-out",PopoverMdPopOut);var popoverIds=-1,POPOVER_IOS_BODY_PADDING=2,POPOVER_MD_BODY_PADDING=12},{"../../animations/animation":412,"../../config/bootstrap":496,"../../config/config":497,"../../transitions/page-transition":516,"../../util/dom":527,"../../util/key":531,"../backdrop/backdrop":420,"../nav/nav-params":454,"../nav/view-controller":460,"@angular/core":167}],466:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),app_1=require("../app/app"),util_1=require("../../util/util"),popover_component_1=require("./popover-component"),view_controller_1=require("../nav/view-controller"),Popover=function(_super){function Popover(app,componentType,data,opts){void 0===data&&(data={}),void 0===opts&&(opts={}),opts.showBackdrop=!util_1.isPresent(opts.showBackdrop)||!!opts.showBackdrop,opts.enableBackdropDismiss=!util_1.isPresent(opts.enableBackdropDismiss)||!!opts.enableBackdropDismiss,data.componentType=componentType,data.opts=opts,_super.call(this,popover_component_1.PopoverCmp,data),this._app=app,this.isOverlay=!0,this.fireOtherLifecycles=!1}return __extends(Popover,_super),Popover.prototype.getTransitionName=function(direction){var key="back"===direction?"popoverLeave":"popoverEnter";return this._nav&&this._nav.config.get(key)},Popover.prototype.present=function(navOptions){return void 0===navOptions&&(navOptions={}),this._app.present(this,navOptions)},Popover.create=function(componentType,data,opts){void 0===data&&(data={}),void 0===opts&&(opts={})},Popover}(view_controller_1.ViewController);exports.Popover=Popover;var PopoverController=function(){function PopoverController(_app){this._app=_app}return PopoverController.prototype.create=function(componentType,data,opts){return void 0===data&&(data={}),void 0===opts&&(opts={}),new Popover(this._app,componentType,data,opts)},PopoverController=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[app_1.App])],PopoverController)}();exports.PopoverController=PopoverController},{"../../util/util":535,"../app/app":419,"../nav/view-controller":460,"./popover-component":465,"@angular/core":167}],467:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),form_1=require("../../util/form"),util_1=require("../../util/util"),item_1=require("../item/item"),radio_group_1=require("./radio-group"),RadioButton=function(){function RadioButton(_form,_item,_group){this._form=_form,this._item=_item,this._group=_group,this._checked=!1,this._disabled=!1,this._value=null,this.ionSelect=new core_1.EventEmitter,_form.register(this),_group&&(this.id="rb-"+_group.add(this)),_item&&(this.id="rb-"+_item.registerInput("radio"),this._labelId="lbl-"+_item.id,this._item.setCssClass("item-radio",!0))}return Object.defineProperty(RadioButton.prototype,"value",{get:function(){return util_1.isBlank(this._value)?this.id:this._value},set:function(val){this._value=val},enumerable:!0,configurable:!0}),Object.defineProperty(RadioButton.prototype,"checked",{get:function(){return this._checked},set:function(isChecked){this._checked=util_1.isTrueProperty(isChecked),this._item&&this._item.setCssClass("item-radio-checked",this._checked)},enumerable:!0,configurable:!0}),Object.defineProperty(RadioButton.prototype,"disabled",{get:function(){return this._disabled},set:function(val){this._disabled=util_1.isTrueProperty(val),this._item&&this._item.setCssClass("item-radio-disabled",this._disabled)},enumerable:!0,configurable:!0}),RadioButton.prototype._click=function(ev){ev.preventDefault(),ev.stopPropagation(),this.checked=!0,this.ionSelect.emit(this.value)},RadioButton.prototype.ngOnInit=function(){this._group&&util_1.isPresent(this._group.value)&&(this.checked=util_1.isCheckedProperty(this._group.value,this.value))},RadioButton.prototype.ngOnDestroy=function(){this._form.deregister(this),this._group&&this._group.remove(this)},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],RadioButton.prototype,"ionSelect",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],RadioButton.prototype,"value",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],RadioButton.prototype,"checked",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],RadioButton.prototype,"disabled",null),__decorate([core_1.HostListener("click",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[UIEvent]),__metadata("design:returntype",void 0)],RadioButton.prototype,"_click",null),RadioButton=__decorate([core_1.Component({selector:"ion-radio",template:'\n    <div class="radio-icon" [class.radio-checked]="_checked">\n      <div class="radio-inner"></div>\n    </div>\n    <button role="radio"\n            type="button"\n            category="item-cover"\n            [id]="id"\n            [attr.aria-checked]="_checked"\n            [attr.aria-labelledby]="_labelId"\n            [attr.aria-disabled]="_disabled"\n            class="item-cover">\n    </button>\n  ',host:{"[class.radio-disabled]":"_disabled"},encapsulation:core_1.ViewEncapsulation.None}),__param(1,core_1.Optional()),__param(2,core_1.Optional()),__metadata("design:paramtypes",[form_1.Form,item_1.Item,radio_group_1.RadioGroup])],RadioButton)}();exports.RadioButton=RadioButton},{"../../util/form":530,"../../util/util":535,"../item/item":438,"./radio-group":468,"@angular/core":167}],468:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),forms_1=require("@angular/forms"),list_1=require("../list/list"),util_1=require("../../util/util");exports.RADIO_VALUE_ACCESSOR=new core_1.Provider(forms_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return RadioGroup}),multi:!0});var RadioGroup=function(){function RadioGroup(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._btns=[],this._ids=-1,this._init=!1,this.ionChange=new core_1.EventEmitter,this.id=++radioGroupIds}return RadioGroup.prototype.ngAfterContentInit=function(){var activeButton=this._btns.find(function(b){return b.checked});activeButton&&this._setActive(activeButton)},RadioGroup.prototype.writeValue=function(val){this.value=val,this._init&&(this._update(),this.onTouched(),this.ionChange.emit(val)),this._init=!0},RadioGroup.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn,this.onChange=function(val){fn(val),_this.value=val,_this._update(),_this.onTouched(),_this.ionChange.emit(val)}},RadioGroup.prototype.registerOnTouched=function(fn){this.onTouched=fn},RadioGroup.prototype._update=function(){var _this=this,hasChecked=!1;this._btns.forEach(function(radioButton){radioButton.checked=util_1.isCheckedProperty(_this.value,radioButton.value)&&!hasChecked,radioButton.checked&&(_this._setActive(radioButton),hasChecked=!0)})},RadioGroup.prototype._setActive=function(radioButton){this._renderer.setElementAttribute(this._elementRef.nativeElement,"aria-activedescendant",radioButton.id)},RadioGroup.prototype.add=function(button){var _this=this;return this._btns.push(button),button.ionSelect.subscribe(function(val){_this.onChange(val)}),this.id+"-"+ ++this._ids},RadioGroup.prototype.remove=function(button){var index=this._btns.indexOf(button);index>-1&&(button.value===this.value&&(this.value=null),this._btns.splice(index,1))},Object.defineProperty(RadioGroup.prototype,"_header",{set:function(header){header&&(header.id||(header.id="rg-hdr-"+this.id),this._renderer.setElementAttribute(this._elementRef.nativeElement,"aria-describedby",header.id))},enumerable:!0,configurable:!0}),RadioGroup.prototype.onChange=function(val){this.value=val,this._update(),this.onTouched(),this.ionChange.emit(val)},RadioGroup.prototype.onTouched=function(){},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],RadioGroup.prototype,"ionChange",void 0),__decorate([core_1.ContentChild(list_1.ListHeader),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],RadioGroup.prototype,"_header",null),RadioGroup=__decorate([core_1.Directive({selector:"[radio-group]",host:{"[attr.aria-activedescendant]":"activeId",role:"radiogroup"},providers:[exports.RADIO_VALUE_ACCESSOR]}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef])],RadioGroup)}();exports.RadioGroup=RadioGroup;var radioGroupIds=-1},{"../../util/util":535,"../list/list":440,"@angular/core":167,"@angular/forms":256}],469:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),common_1=require("@angular/common"),forms_1=require("@angular/forms"),util_1=require("../../util/util"),dom_1=require("../../util/dom"),debouncer_1=require("../../util/debouncer"),form_1=require("../../util/form"),item_1=require("../item/item"),ui_event_manager_1=require("../../util/ui-event-manager");exports.RANGE_VALUE_ACCESSOR=new core_1.Provider(forms_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return Range}),multi:!0});var RangeKnob=function(){function RangeKnob(range){this.range=range}return Object.defineProperty(RangeKnob.prototype,"ratio",{get:function(){return this._ratio},set:function(ratio){this._ratio=util_1.clamp(0,ratio,1),this._val=this.range.ratioToValue(this._ratio),this.range.snaps&&(this._ratio=this.range.valueToRatio(this._val))},enumerable:!0,configurable:!0}),Object.defineProperty(RangeKnob.prototype,"value",{get:function(){return this._val},set:function(val){util_1.isString(val)&&(val=Math.round(val)),util_1.isNumber(val)&&!isNaN(val)&&(this._ratio=this.range.valueToRatio(val),this._val=this.range.ratioToValue(this._ratio))},enumerable:!0,configurable:!0}),RangeKnob.prototype.position=function(){this._x=100*this._ratio+"%"},RangeKnob.prototype.ngOnInit=function(){util_1.isPresent(this.range.value)?this.range.dualKnobs?this.upper?this.value=this.range.value.upper:this.value=this.range.value.lower:this.value=this.range.value:this.ratio=this.range.dualKnobs&&this.upper?1:0,this.position()},__decorate([core_1.Input(),__metadata("design:type",Boolean)],RangeKnob.prototype,"upper",void 0),RangeKnob=__decorate([core_1.Component({selector:".range-knob-handle",template:'\n    <div class="range-pin" *ngIf="range.pin">{{_val}}</div>\n    <div class="range-knob"></div>\n  ',directives:[common_1.NgIf],host:{"[class.range-knob-pressed]":"pressed","[class.range-knob-min]":"_val===range.min","[class.range-knob-max]":"_val===range.max","[style.left]":"_x","[style.top]":"_y","[style.transform]":"_trns","[attr.aria-valuenow]":"_val","[attr.aria-valuemin]":"range.min","[attr.aria-valuemax]":"range.max",role:"slider",tabindex:"0"}}),__param(0,core_1.Inject(core_1.forwardRef(function(){return Range}))),__metadata("design:paramtypes",[Range])],RangeKnob)}();exports.RangeKnob=RangeKnob;var Range=function(){function Range(_form,_item,_renderer){this._form=_form,this._item=_item,this._renderer=_renderer,this._dual=!1,this._disabled=!1,this._start=null,this._ticks=[],this._min=0,this._max=100,this._step=1,this._snaps=!1,this._debouncer=new debouncer_1.Debouncer(0),this._events=new ui_event_manager_1.UIEventManager,this.ionChange=new core_1.EventEmitter,_form.register(this),_item&&(this.id="rng-"+_item.registerInput("range"),this._labelId="lbl-"+_item.id,_item.setCssClass("item-range",!0))}return Object.defineProperty(Range.prototype,"min",{get:function(){return this._min},set:function(val){val=Math.round(val),isNaN(val)||(this._min=val)},enumerable:!0,configurable:!0}),Object.defineProperty(Range.prototype,"max",{get:function(){return this._max},set:function(val){val=Math.round(val),isNaN(val)||(this._max=val)},enumerable:!0,configurable:!0}),Object.defineProperty(Range.prototype,"step",{get:function(){return this._step},set:function(val){val=Math.round(val),!isNaN(val)&&val>0&&(this._step=val)},enumerable:!0,configurable:!0}),Object.defineProperty(Range.prototype,"snaps",{get:function(){return this._snaps},set:function(val){this._snaps=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Object.defineProperty(Range.prototype,"pin",{get:function(){return this._pin},set:function(val){this._pin=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Object.defineProperty(Range.prototype,"debounce",{get:function(){return this._debouncer.wait},set:function(val){this._debouncer.wait=val},enumerable:!0,configurable:!0}),Object.defineProperty(Range.prototype,"dualKnobs",{get:function(){return this._dual},set:function(val){this._dual=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Range.prototype.ngAfterViewInit=function(){var barL="",barR="",firstRatio=this._knobs.first.ratio;if(this._dual){var lastRatio=this._knobs.last.ratio;barL=100*Math.min(firstRatio,lastRatio)+"%",barR=100-100*Math.max(firstRatio,lastRatio)+"%"}else barR=100-100*firstRatio+"%";this._renderer.setElementStyle(this._bar.nativeElement,"left",barL),this._renderer.setElementStyle(this._bar.nativeElement,"right",barR),this._events.pointerEvents({elementRef:this._slider,pointerDown:this.pointerDown.bind(this),pointerMove:this.pointerMove.bind(this),pointerUp:this.pointerUp.bind(this)}),this.createTicks()},Range.prototype.pointerDown=function(ev){if(this._disabled)return!1;ev.preventDefault(),ev.stopPropagation(),this._start=dom_1.pointerCoord(ev);var rect=this._rect=this._slider.nativeElement.getBoundingClientRect();return this._start.x<rect.left?rect.xOffset=this._start.x-rect.left:this._start.x>rect.right?rect.xOffset=this._start.x-rect.right:rect.xOffset=0,this.setActiveKnob(this._start,rect),this.updateKnob(this._start,rect),this._active.position(),this._pressed=this._active.pressed=!0,!0},Range.prototype.pointerMove=function(ev){ev.preventDefault(),ev.stopPropagation(),this.updateKnob(dom_1.pointerCoord(ev),this._rect),this._active.position(),this._pressed=this._active.pressed=!0},Range.prototype.pointerUp=function(ev){ev.preventDefault(),ev.stopPropagation(),this.updateKnob(dom_1.pointerCoord(ev),this._rect),this._active.position(),this._start=this._active=null,this._pressed=this._knobs.first.pressed=this._knobs.last.pressed=!1},Range.prototype.setActiveKnob=function(current,rect){var ratio=(current.x-rect.left)/rect.width;this._dual&&Math.abs(ratio-this._knobs.first.ratio)>Math.abs(ratio-this._knobs.last.ratio)?this._active=this._knobs.last:this._active=this._knobs.first},Range.prototype.updateKnob=function(current,rect){var _this=this;if(this._active){var oldVal=this._active.value;this._active.ratio=(current.x-rect.left)/rect.width;var newVal=this._active.value;oldVal!==newVal&&(this._dual?this.value={lower:Math.min(this._knobs.first.value,this._knobs.last.value),upper:Math.max(this._knobs.first.value,this._knobs.last.value)}:this.value=newVal,this._debouncer.debounce(function(){_this.onChange(_this.value),_this.ionChange.emit(_this)})),this.updateBar()}},Range.prototype.updateBar=function(){var firstRatio=this._knobs.first.ratio;if(this._dual){var lastRatio=this._knobs.last.ratio;this._barL=100*Math.min(firstRatio,lastRatio)+"%",this._barR=100-100*Math.max(firstRatio,lastRatio)+"%"}else this._barL="",this._barR=100-100*firstRatio+"%";this.updateTicks()},Range.prototype.createTicks=function(){var _this=this;this._snaps&&dom_1.raf(function(){_this._ticks=[];for(var value=_this._min;value<=_this._max;value+=_this._step){var ratio=_this.valueToRatio(value);_this._ticks.push({ratio:ratio,left:100*ratio+"%"})}_this.updateTicks()})},Range.prototype.updateTicks=function(){if(this._snaps){var ratio_1=this.ratio;if(this._dual){var upperRatio_1=this.ratioUpper;this._ticks.forEach(function(t){t.active=t.ratio>=ratio_1&&t.ratio<=upperRatio_1})}else this._ticks.forEach(function(t){t.active=t.ratio<=ratio_1})}},Range.prototype.ratioToValue=function(ratio){return ratio=Math.round((this._max-this._min)*ratio+this._min),Math.round(ratio/this._step)*this._step},Range.prototype.valueToRatio=function(value){return value=Math.round(util_1.clamp(this._min,value,this._max)/this._step)*this._step,(value-this._min)/(this._max-this._min)},Range.prototype.writeValue=function(val){if(util_1.isPresent(val)){var knobs=this._knobs;this.value=val,this._knobs&&(this._dual?(knobs.first.value=val.lower,knobs.last.value=val.upper,knobs.last.position()):knobs.first.value=val,knobs.first.position(),this.updateBar())}},Range.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn,this.onChange=function(val){fn(val),_this.onTouched()}},Range.prototype.registerOnTouched=function(fn){this.onTouched=fn},Object.defineProperty(Range.prototype,"disabled",{get:function(){return this._disabled},set:function(val){this._disabled=util_1.isTrueProperty(val),this._item&&this._item.setCssClass("item-range-disabled",this._disabled)},enumerable:!0,configurable:!0}),Object.defineProperty(Range.prototype,"ratio",{get:function(){return this._dual?Math.min(this._knobs.first.ratio,this._knobs.last.ratio):this._knobs.first.ratio},enumerable:!0,configurable:!0}),Object.defineProperty(Range.prototype,"ratioUpper",{get:function(){return this._dual?Math.max(this._knobs.first.ratio,this._knobs.last.ratio):null},enumerable:!0,configurable:!0}),Range.prototype.onChange=function(val){this.onTouched()},Range.prototype.onTouched=function(){},Range.prototype.ngOnDestroy=function(){this._form.deregister(this),this._events.unlistenAll()},__decorate([core_1.ViewChild("bar"),__metadata("design:type",core_1.ElementRef)],Range.prototype,"_bar",void 0),__decorate([core_1.ViewChild("slider"),__metadata("design:type",core_1.ElementRef)],Range.prototype,"_slider",void 0),__decorate([core_1.ViewChildren(RangeKnob),__metadata("design:type",core_1.QueryList)],Range.prototype,"_knobs",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],Range.prototype,"min",null),__decorate([core_1.Input(),__metadata("design:type",Number)],Range.prototype,"max",null),__decorate([core_1.Input(),__metadata("design:type",Number)],Range.prototype,"step",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Range.prototype,"snaps",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Range.prototype,"pin",null),__decorate([core_1.Input(),__metadata("design:type",Number)],Range.prototype,"debounce",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Range.prototype,"dualKnobs",null),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Range.prototype,"ionChange",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Range.prototype,"disabled",null),Range=__decorate([core_1.Component({selector:"ion-range",template:'\n    <ng-content select="[range-left]"></ng-content>\n    <div class="range-slider" #slider>\n      <div class="range-tick" *ngFor="let t of _ticks" [style.left]="t.left" [class.range-tick-active]="t.active"></div>\n      <div class="range-bar"></div>\n      <div class="range-bar range-bar-active" [style.left]="_barL" [style.right]="_barR" #bar></div>\n      <div class="range-knob-handle"></div>\n      <div class="range-knob-handle" [upper]="true" *ngIf="_dual"></div>\n    </div>\n    <ng-content select="[range-right]"></ng-content>\n  ',directives:[common_1.NgFor,common_1.NgIf,RangeKnob],host:{"[class.range-disabled]":"_disabled","[class.range-pressed]":"_pressed","[class.range-has-pin]":"_pin"},providers:[exports.RANGE_VALUE_ACCESSOR],encapsulation:core_1.ViewEncapsulation.None}),__param(1,core_1.Optional()),__metadata("design:paramtypes",[form_1.Form,item_1.Item,core_1.Renderer])],Range)}();exports.Range=Range},{"../../util/debouncer":526,"../../util/dom":527,"../../util/form":530,"../../util/ui-event-manager":534,"../../util/util":535,"../item/item":438,"@angular/common":20,"@angular/core":167,"@angular/forms":256}],470:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),common_1=require("@angular/common"),config_1=require("../../config/config"),icon_1=require("../icon/icon"),refresher_1=require("./refresher"),spinner_1=require("../spinner/spinner"),RefresherContent=function(){function RefresherContent(r,_config){this.r=r,this._config=_config}return RefresherContent.prototype.ngOnInit=function(){this.pullingIcon||(this.pullingIcon=this._config.get("ionPullIcon","arrow-down")),this.refreshingSpinner||(this.refreshingSpinner=this._config.get("ionRefreshingSpinner",this._config.get("spinner","ios")))},__decorate([core_1.Input(),__metadata("design:type",String)],RefresherContent.prototype,"pullingIcon",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],RefresherContent.prototype,"pullingText",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],RefresherContent.prototype,"refreshingSpinner",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],RefresherContent.prototype,"refreshingText",void 0),RefresherContent=__decorate([core_1.Component({selector:"ion-refresher-content",template:'\n    <div class="refresher-pulling">\n      <div class="refresher-pulling-icon" *ngIf="pullingIcon">\n        <ion-icon [name]="pullingIcon"></ion-icon>\n      </div>\n      <div class="refresher-pulling-text" [innerHTML]="pullingText" *ngIf="pullingText"></div>\n    </div>\n    <div class="refresher-refreshing">\n      <div class="refresher-refreshing-icon">\n        <ion-spinner [name]="refreshingSpinner"></ion-spinner>\n      </div>\n      <div class="refresher-refreshing-text" [innerHTML]="refreshingText" *ngIf="refreshingText"></div>\n    </div>\n  ',directives:[icon_1.Icon,common_1.NgIf,spinner_1.Spinner],host:{"[attr.state]":"r.state"},encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[refresher_1.Refresher,config_1.Config])],RefresherContent)}();exports.RefresherContent=RefresherContent},{"../../config/config":497,"../icon/icon":426,"../spinner/spinner":479,"./refresher":471,"@angular/common":20,"@angular/core":167}],471:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),content_1=require("../content/content"),dom_1=require("../../util/dom"),gesture_controller_1=require("../../gestures/gesture-controller"),util_1=require("../../util/util"),ui_event_manager_1=require("../../util/ui-event-manager"),Refresher=function(){function Refresher(_content,_zone,gestureCtrl){this._content=_content,this._zone=_zone,this._appliedStyles=!1,this._lastCheck=0,this._isEnabled=!0,this._events=new ui_event_manager_1.UIEventManager((!1)),this._top="",this.state=STATE_INACTIVE,this.startY=null,this.currentY=null,this.deltaY=null,this.progress=0,this.pullMin=60,this.pullMax=this.pullMin+60,this.closeDuration=280,this.snapbackDuration=280,this.ionRefresh=new core_1.EventEmitter,this.ionPull=new core_1.EventEmitter,this.ionStart=new core_1.EventEmitter,_content.addCssClass("has-refresher"),this._gesture=gestureCtrl.create("refresher",{priority:0})}return Object.defineProperty(Refresher.prototype,"enabled",{get:function(){return this._isEnabled},set:function(val){this._isEnabled=util_1.isTrueProperty(val),this._setListeners(this._isEnabled)},enumerable:!0,configurable:!0}),Refresher.prototype._onStart=function(ev){if(ev.touches&&ev.touches.length>1)return!1;if(this.state!==STATE_INACTIVE)return!1;var scrollHostScrollTop=this._content.getContentDimensions().scrollTop;if(scrollHostScrollTop>0)return!1;if(!this._gesture.canStart())return!1;var coord=dom_1.pointerCoord(ev);if(this._content.contentTop>0){var newTop=this._content.contentTop+"px";this._top!==newTop&&(this._top=newTop)}return this.startY=this.currentY=coord.y,this.progress=0,this.state=STATE_INACTIVE,!0},Refresher.prototype._onMove=function(ev){var _this=this;if(ev.touches&&ev.touches.length>1)return 1;if(!this._gesture.canStart())return 0;if(null===this.startY||this.state===STATE_REFRESHING||this.state===STATE_CANCELLING||this.state===STATE_COMPLETING)return 2;var now=Date.now();if(this._lastCheck+16>now)return 3;this._lastCheck=now;var coord=dom_1.pointerCoord(ev);if(this.currentY=coord.y,this.deltaY=coord.y-this.startY,this.deltaY<=0)return this.progress=0,this.state!==STATE_INACTIVE&&this._zone.run(function(){_this.state=STATE_INACTIVE}),this._appliedStyles?(this._setCss(0,"",!1,""),5):6;if(this.state===STATE_INACTIVE){var scrollHostScrollTop=this._content.getContentDimensions().scrollTop;if(scrollHostScrollTop>0)return this.progress=0,this.startY=null,7;this.state=STATE_PULLING}return ev.preventDefault(),this._setCss(this.deltaY,"0ms",!0,""),this.deltaY?void this._zone.run(function(){_this._onMoveInZone()}):(this.progress=0,8)},Refresher.prototype._onMoveInZone=function(){return this.progress=this.deltaY/this.pullMin,this._didStart||(this._didStart=!0,this.ionStart.emit(this)),this.ionPull.emit(this),
this.deltaY<this.pullMin?(this.state=STATE_PULLING,2):this.deltaY>this.pullMax?(this._beginRefresh(),3):(this.state=STATE_READY,4)},Refresher.prototype._onEnd=function(ev){var _this=this;this.state===STATE_READY?this._zone.run(function(){_this._beginRefresh()}):this.state===STATE_PULLING&&this._zone.run(function(){_this.cancel()}),this.startY=null},Refresher.prototype._beginRefresh=function(){this.state=STATE_REFRESHING,this._setCss(this.pullMin,this.snapbackDuration+"ms",!0,""),this.ionRefresh.emit(this)},Refresher.prototype.complete=function(){this._close(STATE_COMPLETING,"120ms")},Refresher.prototype.cancel=function(){this._close(STATE_CANCELLING,"")},Refresher.prototype._close=function(state,delay){function close(ev){ev&&clearTimeout(timer),this.state=STATE_INACTIVE,this.progress=0,this._didStart=this.startY=this.currentY=this.deltaY=null,this._setCss(0,"0ms",!1,"")}var timer;timer=setTimeout(close.bind(this),600),this._content.onScrollElementTransitionEnd(close.bind(this)),this.state=state,this._setCss(0,"",!0,delay),this._pointerEvents&&this._pointerEvents.stop()},Refresher.prototype._setCss=function(y,duration,overflowVisible,delay){this._appliedStyles=y>0;var content=this._content;content.setScrollElementStyle(dom_1.CSS.transform,y>0?"translateY("+y+"px) translateZ(0px)":"translateZ(0px)"),content.setScrollElementStyle(dom_1.CSS.transitionDuration,duration),content.setScrollElementStyle(dom_1.CSS.transitionDelay,delay),content.setScrollElementStyle("overflow",overflowVisible?"hidden":"")},Refresher.prototype._setListeners=function(shouldListen){this._events.unlistenAll(),this._pointerEvents=null,shouldListen&&(this._pointerEvents=this._events.pointerEvents({element:this._content.getScrollElement(),pointerDown:this._onStart.bind(this),pointerMove:this._onMove.bind(this),pointerUp:this._onEnd.bind(this)}))},Refresher.prototype.ngOnInit=function(){this._setListeners(this._isEnabled)},Refresher.prototype.ngOnDestroy=function(){this._gesture.destroy(),this._setListeners(!1)},__decorate([core_1.Input(),__metadata("design:type",Number)],Refresher.prototype,"pullMin",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],Refresher.prototype,"pullMax",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],Refresher.prototype,"closeDuration",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],Refresher.prototype,"snapbackDuration",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Refresher.prototype,"enabled",null),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Refresher.prototype,"ionRefresh",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Refresher.prototype,"ionPull",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Refresher.prototype,"ionStart",void 0),Refresher=__decorate([core_1.Directive({selector:"ion-refresher",host:{"[class.refresher-active]":'state !== "inactive"',"[style.top]":"_top"}}),__param(0,core_1.Host()),__metadata("design:paramtypes",[content_1.Content,core_1.NgZone,gesture_controller_1.GestureController])],Refresher)}();exports.Refresher=Refresher;var STATE_INACTIVE="inactive",STATE_PULLING="pulling",STATE_READY="ready",STATE_REFRESHING="refreshing",STATE_CANCELLING="cancelling",STATE_COMPLETING="completing"},{"../../gestures/gesture-controller":503,"../../util/dom":527,"../../util/ui-event-manager":534,"../../util/util":535,"../content/content":424,"@angular/core":167}],472:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),ion_1=require("../ion"),Scroll=function(_super){function Scroll(elementRef){_super.call(this,elementRef),this.maxScale=3,this.zoomDuration=250}return __extends(Scroll,_super),Scroll.prototype.ngOnInit=function(){this.scrollElement=this.getNativeElement().children[0]},Scroll.prototype.addScrollEventListener=function(handler){var _this=this;if(this.scrollElement)return this.scrollElement.addEventListener("scroll",handler),function(){_this.scrollElement.removeEventListener("scroll",handler)}},Scroll=__decorate([core_1.Component({selector:"ion-scroll",inputs:["scrollX","scrollY","zoom","maxZoom"],host:{"[class.scroll-x]":"scrollX","[class.scroll-y]":"scrollY"},template:'<scroll-content><div class="scroll-zoom-wrapper"><ng-content></ng-content></div></scroll-content>',changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[core_1.ElementRef])],Scroll)}(ion_1.Ion);exports.Scroll=Scroll},{"../ion":433,"@angular/core":167}],473:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),forms_1=require("@angular/forms"),config_1=require("../../config/config"),icon_1=require("../icon/icon"),util_1=require("../../util/util"),debouncer_1=require("../../util/debouncer"),Searchbar=function(){function Searchbar(_elementRef,_config,ngControl){this._elementRef=_elementRef,this._config=_config,this._value="",this._shouldBlur=!0,this._isActive=!1,this._debouncer=new debouncer_1.Debouncer(250),this.cancelButtonText="Cancel",this.showCancelButton=!1,this.placeholder="Search",this.type="search",this.ionInput=new core_1.EventEmitter,this.ionBlur=new core_1.EventEmitter,this.ionFocus=new core_1.EventEmitter,this.ionCancel=new core_1.EventEmitter,this.ionClear=new core_1.EventEmitter,this.onChange=function(_){},this.onTouched=function(){},ngControl&&(ngControl.valueAccessor=this)}return Object.defineProperty(Searchbar.prototype,"debounce",{get:function(){return this._debouncer.wait},set:function(val){this._debouncer.wait=val},enumerable:!0,configurable:!0}),Object.defineProperty(Searchbar.prototype,"searchbarInput",{set:function(searchbarInput){this._searchbarInput=searchbarInput;var inputEle=searchbarInput.nativeElement,autoComplete=""===this.autocomplete||"on"===this.autocomplete?"on":this._config.get("autocomplete","off");inputEle.setAttribute("autocomplete",autoComplete);var autoCorrect=""===this.autocorrect||"on"===this.autocorrect?"on":this._config.get("autocorrect","off");inputEle.setAttribute("autocorrect",autoCorrect);var spellCheck=""===this.spellcheck||"true"===this.spellcheck||this.spellcheck===!0||this._config.getBoolean("spellcheck",!1);inputEle.setAttribute("spellcheck",spellCheck),inputEle.setAttribute("type",this.type)},enumerable:!0,configurable:!0}),Object.defineProperty(Searchbar.prototype,"value",{get:function(){return this._value},set:function(val){this._value=val},enumerable:!0,configurable:!0}),Searchbar.prototype.ngOnInit=function(){var showCancelButton=this.showCancelButton;"string"==typeof showCancelButton&&(this.showCancelButton=""===showCancelButton||"true"===showCancelButton)},Searchbar.prototype.ngAfterViewInit=function(){this.positionElements()},Searchbar.prototype.positionElements=function(){"ios"===this._config.get("mode")&&(this._searchbarInput&&this._searchbarIcon&&this.positionInputPlaceholder(this._searchbarInput.nativeElement,this._searchbarIcon.nativeElement),this._cancelButton&&this._cancelButton.nativeElement&&this.positionCancelButton(this._cancelButton.nativeElement))},Searchbar.prototype.positionInputPlaceholder=function(inputEle,iconEle){if(this.shouldAlignLeft())inputEle.removeAttribute("style"),iconEle.removeAttribute("style");else{var tempSpan=document.createElement("span");tempSpan.innerHTML=this.placeholder,document.body.appendChild(tempSpan);var textWidth=tempSpan.offsetWidth;tempSpan.remove();var inputLeft="calc(50% - "+textWidth/2+"px)";inputEle.style.paddingLeft=inputLeft;var iconLeft="calc(50% - "+(textWidth/2+30)+"px)";iconEle.style.marginLeft=iconLeft}},Searchbar.prototype.positionCancelButton=function(cancelButtonEle){cancelButtonEle.offsetWidth>0&&(this._sbHasFocus?cancelButtonEle.style.marginRight="0":cancelButtonEle.style.marginRight=-cancelButtonEle.offsetWidth+"px")},Searchbar.prototype.shouldAlignLeft=function(){return this._value&&""!==this._value.toString().trim()||this._sbHasFocus===!0},Searchbar.prototype.inputChanged=function(ev){var _this=this,value=ev.target.value;this._debouncer.debounce(function(){_this._value=value,_this.onChange(_this._value),_this.ionInput.emit(ev)})},Searchbar.prototype.inputFocused=function(ev){this.ionFocus.emit(ev),this._sbHasFocus=!0,this._isActive=!0,this.positionElements()},Searchbar.prototype.inputBlurred=function(ev){return this._shouldBlur===!1?(this._searchbarInput.nativeElement.focus(),void(this._shouldBlur=!0)):(this.ionBlur.emit(ev),this._sbHasFocus=!1,void this.positionElements())},Searchbar.prototype.clearInput=function(ev){this.ionClear.emit(ev),util_1.isPresent(this._value)&&""!==this._value&&(this._value="",this.onChange(this._value),this.ionInput.emit(ev)),this._shouldBlur=!1},Searchbar.prototype.cancelSearchbar=function(ev){this.ionCancel.emit(ev),this.clearInput(ev),this._shouldBlur=!0,this._isActive=!1},Searchbar.prototype.writeValue=function(val){this._value=val,this.positionElements()},Searchbar.prototype.registerOnChange=function(fn){this.onChange=fn},Searchbar.prototype.registerOnTouched=function(fn){this.onTouched=fn},__decorate([core_1.Input(),__metadata("design:type",String)],Searchbar.prototype,"cancelButtonText",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Searchbar.prototype,"showCancelButton",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],Searchbar.prototype,"debounce",null),__decorate([core_1.Input(),__metadata("design:type",String)],Searchbar.prototype,"placeholder",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Searchbar.prototype,"autocomplete",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Searchbar.prototype,"autocorrect",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Searchbar.prototype,"spellcheck",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Searchbar.prototype,"type",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Searchbar.prototype,"ionInput",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Searchbar.prototype,"ionBlur",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Searchbar.prototype,"ionFocus",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Searchbar.prototype,"ionCancel",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Searchbar.prototype,"ionClear",void 0),__decorate([core_1.HostBinding("class.searchbar-has-focus"),__metadata("design:type",Boolean)],Searchbar.prototype,"_sbHasFocus",void 0),__decorate([core_1.ViewChild("searchbarInput"),__metadata("design:type",core_1.ElementRef),__metadata("design:paramtypes",[core_1.ElementRef])],Searchbar.prototype,"searchbarInput",null),__decorate([core_1.ViewChild("searchbarIcon"),__metadata("design:type",core_1.ElementRef)],Searchbar.prototype,"_searchbarIcon",void 0),__decorate([core_1.ViewChild("cancelButton",{read:core_1.ElementRef}),__metadata("design:type",core_1.ElementRef)],Searchbar.prototype,"_cancelButton",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Searchbar.prototype,"value",null),Searchbar=__decorate([core_1.Component({selector:"ion-searchbar",template:'<div class="searchbar-input-container"><button (click)="cancelSearchbar($event)" (mousedown)="cancelSearchbar($event)" clear dark class="searchbar-md-cancel"><ion-icon name="arrow-back"></ion-icon></button><div #searchbarIcon class="searchbar-search-icon"></div><input #searchbarInput [(ngModel)]="_value" [attr.placeholder]="placeholder" (input)="inputChanged($event)" (blur)="inputBlurred($event)" (focus)="inputFocused($event)" class="searchbar-input"><button clear class="searchbar-clear-icon" (click)="clearInput($event)" (mousedown)="clearInput($event)"></button></div><button #cancelButton [tabindex]="_isActive ? 1 : -1" clear (click)="cancelSearchbar($event)" (mousedown)="cancelSearchbar($event)" class="searchbar-ios-cancel">{{cancelButtonText}}</button>',directives:[icon_1.Icon,forms_1.NgModel],host:{"[class.searchbar-has-value]":"_value","[class.searchbar-active]":"_isActive","[class.searchbar-show-cancel]":"showCancelButton","[class.searchbar-left-aligned]":"shouldAlignLeft()"},encapsulation:core_1.ViewEncapsulation.None}),__param(2,core_1.Optional()),__metadata("design:paramtypes",[core_1.ElementRef,config_1.Config,forms_1.NgControl])],Searchbar)}();exports.Searchbar=Searchbar},{"../../config/config":497,"../../util/debouncer":526,"../../util/util":535,"../icon/icon":426,"@angular/core":167,"@angular/forms":256}],474:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),forms_1=require("@angular/forms"),util_1=require("../../util/util"),SegmentButton=function(){function SegmentButton(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._disabled=!1,this.ionSelect=new core_1.EventEmitter}return Object.defineProperty(SegmentButton.prototype,"disabled",{get:function(){return this._disabled},set:function(val){this._disabled=util_1.isTrueProperty(val),this.setCssClass("segment-button-disabled",this._disabled)},enumerable:!0,configurable:!0}),SegmentButton.prototype.setCssClass=function(cssClass,shouldAdd){this._renderer.setElementClass(this._elementRef.nativeElement,cssClass,shouldAdd)},SegmentButton.prototype.onClick=function(){this.ionSelect.emit(this)},SegmentButton.prototype.ngOnInit=function(){!util_1.isPresent(this.value)},Object.defineProperty(SegmentButton.prototype,"isActive",{set:function(isActive){this._renderer.setElementClass(this._elementRef.nativeElement,"segment-activated",isActive),this._renderer.setElementAttribute(this._elementRef.nativeElement,"aria-pressed",isActive)},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",String)],SegmentButton.prototype,"value",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],SegmentButton.prototype,"ionSelect",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],SegmentButton.prototype,"disabled",null),__decorate([core_1.HostListener("click"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],SegmentButton.prototype,"onClick",null),SegmentButton=__decorate([core_1.Component({selector:"ion-segment-button",template:"\n    <ng-content></ng-content>\n    <ion-button-effect></ion-button-effect>\n  ",host:{tappable:"","class":"segment-button",role:"button"},encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef])],SegmentButton)}();exports.SegmentButton=SegmentButton;var Segment=function(){function Segment(ngControl){this._disabled=!1,this.ionChange=new core_1.EventEmitter,this.onChange=function(_){},this.onTouched=function(_){},ngControl&&(ngControl.valueAccessor=this)}return Object.defineProperty(Segment.prototype,"disabled",{get:function(){return this._disabled},set:function(val){if(this._disabled=util_1.isTrueProperty(val),this._buttons)for(var buttons=this._buttons.toArray(),_i=0,buttons_1=buttons;_i<buttons_1.length;_i++){var button=buttons_1[_i];button.setCssClass("segment-button-disabled",this._disabled)}},enumerable:!0,configurable:!0}),Segment.prototype.writeValue=function(value){if(this.value=util_1.isPresent(value)?value:"",this._buttons)for(var buttons=this._buttons.toArray(),_i=0,buttons_2=buttons;_i<buttons_2.length;_i++){var button=buttons_2[_i];button.isActive=button.value===this.value}},Segment.prototype.ngAfterViewInit=function(){for(var _this=this,buttons=this._buttons.toArray(),_i=0,buttons_3=buttons;_i<buttons_3.length;_i++){var button=buttons_3[_i];button.ionSelect.subscribe(function(selectedButton){_this.writeValue(selectedButton.value),_this.onChange(selectedButton.value),_this.ionChange.emit(selectedButton)}),util_1.isPresent(this.value)&&(button.isActive=button.value===this.value),util_1.isTrueProperty(this._disabled)&&button.setCssClass("segment-button-disabled",this._disabled)}},Segment.prototype.registerOnChange=function(fn){this.onChange=fn},Segment.prototype.registerOnTouched=function(fn){this.onTouched=fn},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Segment.prototype,"ionChange",void 0),__decorate([core_1.ContentChildren(SegmentButton),__metadata("design:type",core_1.QueryList)],Segment.prototype,"_buttons",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Segment.prototype,"disabled",null),Segment=__decorate([core_1.Directive({selector:"ion-segment"}),__param(0,core_1.Optional()),__metadata("design:paramtypes",[forms_1.NgControl])],Segment)}();exports.Segment=Segment},{"../../util/util":535,"@angular/core":167,"@angular/forms":256}],475:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),common_1=require("@angular/common"),forms_1=require("@angular/forms"),action_sheet_1=require("../action-sheet/action-sheet"),alert_1=require("../alert/alert"),app_1=require("../app/app"),form_1=require("../../util/form"),util_1=require("../../util/util"),item_1=require("../item/item"),nav_controller_1=require("../nav/nav-controller"),option_1=require("../option/option");exports.SELECT_VALUE_ACCESSOR=new core_1.Provider(forms_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return Select}),multi:!0});var Select=function(){function Select(_app,_form,_elementRef,_renderer,_item,_nav){this._app=_app,this._form=_form,this._elementRef=_elementRef,this._renderer=_renderer,this._item=_item,this._nav=_nav,this._disabled=!1,this._multi=!1,this._values=[],this._texts=[],this._text="",this._isOpen=!1,this.cancelText="Cancel",this.okText="OK",this.alertOptions={},this["interface"]="",this.selectedText="",this.ionChange=new core_1.EventEmitter,this.ionCancel=new core_1.EventEmitter,this._form.register(this),_item&&(this.id="sel-"+_item.registerInput("select"),this._labelId="lbl-"+_item.id,this._item.setCssClass("item-select",!0))}return Select.prototype._click=function(ev){0!==ev.detail&&(ev.preventDefault(),ev.stopPropagation(),this.open())},Select.prototype._keyup=function(){this._isOpen||this.open()},Select.prototype.open=function(){var _this=this;if(!this._disabled){var alertOptions=util_1.merge({},this.alertOptions);alertOptions.buttons=[{text:this.cancelText,role:"cancel",handler:function(){_this.ionCancel.emit(null)}}],!alertOptions.title&&this._item&&(alertOptions.title=this._item.getLabelText());var options=this._options.toArray();"action-sheet"===this["interface"]&&options.length>6&&(this["interface"]="alert"),"action-sheet"===this["interface"]&&this._multi&&(this["interface"]="alert");var overlay;if("action-sheet"===this["interface"])alertOptions.buttons=alertOptions.buttons.concat(options.map(function(input){return{role:input.selected?"selected":"",text:input.text,handler:function(){_this.onChange(input.value),_this.ionChange.emit(input.value)}}})),alertOptions.cssClass="select-action-sheet",overlay=new action_sheet_1.ActionSheet(this._app,alertOptions);else{this["interface"]="alert",alertOptions.inputs=this._options.map(function(input){return{type:_this._multi?"checkbox":"radio",label:input.text,value:input.value,checked:input.selected,disabled:input.disabled}});var selectCssClass="select-alert";overlay=new alert_1.Alert(this._app,alertOptions),selectCssClass+=this._multi?" multiple-select-alert":" single-select-alert",selectCssClass+=alertOptions.cssClass?" "+alertOptions.cssClass:"",overlay.setCssClass(selectCssClass),overlay.addButton({text:this.okText,handler:function(selectedValues){_this.onChange(selectedValues),_this.ionChange.emit(selectedValues)}})}overlay.present(alertOptions),this._isOpen=!0,overlay.onDidDismiss(function(){_this._isOpen=!1})}},Object.defineProperty(Select.prototype,"multiple",{get:function(){return this._multi},set:function(val){this._multi=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Object.defineProperty(Select.prototype,"text",{get:function(){return this._multi?this._texts:this._texts.join()},enumerable:!0,configurable:!0}),Object.defineProperty(Select.prototype,"options",{set:function(val){this._options=val,this._values.length||(this._values=val.filter(function(o){return o.selected}).map(function(o){return o.value})),this._updOpts()},enumerable:!0,configurable:!0}),Select.prototype._updOpts=function(){var _this=this;this._texts=[],this._options&&this._options.forEach(function(option){option.selected=_this._values.some(function(selectValue){return util_1.isCheckedProperty(selectValue,option.value)}),option.selected&&_this._texts.push(option.text)}),this._text=this._texts.join(", ")},Object.defineProperty(Select.prototype,"disabled",{get:function(){return this._disabled},set:function(val){this._disabled=util_1.isTrueProperty(val),this._item&&this._item.setCssClass("item-select-disabled",this._disabled)},enumerable:!0,configurable:!0}),Select.prototype.writeValue=function(val){this._values=Array.isArray(val)?val:util_1.isBlank(val)?[]:[val],this._updOpts()},Select.prototype.ngAfterContentInit=function(){this._updOpts()},Select.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn,this.onChange=function(val){fn(val),_this._values=Array.isArray(val)?val:util_1.isBlank(val)?[]:[val],_this._updOpts(),_this.onTouched()}},Select.prototype.registerOnTouched=function(fn){this.onTouched=fn},Select.prototype.onChange=function(val){this._values=Array.isArray(val)?val:util_1.isBlank(val)?[]:[val],this._updOpts(),this.onTouched()},Select.prototype.onTouched=function(){},Select.prototype.ngOnDestroy=function(){this._form.deregister(this)},__decorate([core_1.Input(),__metadata("design:type",String)],Select.prototype,"cancelText",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Select.prototype,"okText",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Select.prototype,"placeholder",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Select.prototype,"alertOptions",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Select.prototype,"interface",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Select.prototype,"selectedText",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Select.prototype,"ionChange",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Select.prototype,"ionCancel",void 0),__decorate([core_1.HostListener("click",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[UIEvent]),__metadata("design:returntype",void 0)],Select.prototype,"_click",null),__decorate([core_1.HostListener("keyup.space"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],Select.prototype,"_keyup",null),__decorate([core_1.Input(),__metadata("design:type",Object)],Select.prototype,"multiple",null),__decorate([core_1.ContentChildren(option_1.Option),__metadata("design:type",core_1.QueryList),__metadata("design:paramtypes",[core_1.QueryList])],Select.prototype,"options",null),__decorate([core_1.Input(),__metadata("design:type",Object)],Select.prototype,"disabled",null),Select=__decorate([core_1.Component({selector:"ion-select",template:'\n    <div *ngIf="!_text" class="select-placeholder select-text">{{placeholder}}</div>\n    <div *ngIf="_text" class="select-text">{{selectedText || _text}}</div>\n    <div class="select-icon">\n      <div class="select-icon-inner"></div>\n    </div>\n    <button aria-haspopup="true"\n            [id]="id"\n            category="item-cover"\n            [attr.aria-labelledby]="_labelId"\n            [attr.aria-disabled]="_disabled"\n            class="item-cover">\n    </button>\n  ',directives:[common_1.NgIf],host:{"[class.select-disabled]":"_disabled"},providers:[exports.SELECT_VALUE_ACCESSOR],encapsulation:core_1.ViewEncapsulation.None}),__param(4,core_1.Optional()),__param(5,core_1.Optional()),__metadata("design:paramtypes",[app_1.App,form_1.Form,core_1.ElementRef,core_1.Renderer,item_1.Item,nav_controller_1.NavController])],Select)}();exports.Select=Select},{"../../util/form":530,"../../util/util":535,"../action-sheet/action-sheet":416,"../alert/alert":418,"../app/app":419,"../item/item":438,"../nav/nav-controller":452,"../option/option":462,"@angular/common":20,"@angular/core":167,"@angular/forms":256}],476:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),platform_1=require("../../platform/platform"),DisplayWhen=function(){function DisplayWhen(conditions,platform,ngZone){var _this=this;if(this.isMatch=!1,this.platform=platform,conditions){this.conditions=conditions.split(",");for(var i=0;i<this.conditions.length;i++)if(this.conditions[i]&&platform.is(this.conditions[i]))return void(this.isMatch=!0);return this.orientation()?void platform.onResize(function(){ngZone.run(function(){_this.orientation()})}):void 0}}return DisplayWhen.prototype.orientation=function(){for(var i=0;i<this.conditions.length;i++){if("portrait"===this.conditions[i])return this.isMatch=this.platform.isPortrait(),!0;if("landscape"===this.conditions[i])return this.isMatch=this.platform.isLandscape(),!0}},DisplayWhen}();exports.DisplayWhen=DisplayWhen;var ShowWhen=function(_super){function ShowWhen(showWhen,platform,ngZone){_super.call(this,showWhen,platform,ngZone)}return __extends(ShowWhen,_super),ShowWhen=__decorate([core_1.Directive({selector:"[showWhen]",host:{"[class.hidden-show-when]":"!isMatch"}}),__param(0,core_1.Attribute("showWhen")),__metadata("design:paramtypes",[String,platform_1.Platform,core_1.NgZone])],ShowWhen)}(DisplayWhen);exports.ShowWhen=ShowWhen;var HideWhen=function(_super){function HideWhen(hideWhen,platform,ngZone){_super.call(this,hideWhen,platform,ngZone)}return __extends(HideWhen,_super),HideWhen=__decorate([core_1.Directive({selector:"[hideWhen]",host:{"[class.hidden-hide-when]":"isMatch"}}),__param(0,core_1.Attribute("hideWhen")),__metadata("design:paramtypes",[String,platform_1.Platform,core_1.NgZone])],HideWhen)}(DisplayWhen);exports.HideWhen=HideWhen},{"../../platform/platform":510,"@angular/core":167}],477:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),animation_1=require("../../animations/animation"),gesture_1=require("../../gestures/gesture"),dom_1=require("../../util/dom"),util_1=require("../../util/util"),util_2=require("../../util"),ion_1=require("../ion"),swiper_widget_1=require("./swiper-widget"),Slides=function(_super){function Slides(elementRef,renderer){var _this=this;_super.call(this,elementRef),this.ionWillChange=new core_1.EventEmitter,this.ionDidChange=new core_1.EventEmitter,this.ionDrag=new core_1.EventEmitter,this.rapidUpdate=util_1.debounce(function(){_this.update()},10),this.id=++slidesId,this.slideId="slides-"+this.id,renderer.setElementClass(elementRef.nativeElement,this.slideId,!0)}return __extends(Slides,_super),Slides.prototype.ngOnInit=function(){var _this=this;this.options||(this.options={}),util_1.isPresent(this.options.pager)&&(this.showPager=util_1.isTrueProperty(this.options.pager));var paginationId="."+this.slideId+" .swiper-pagination",options=util_1.defaults({
pagination:paginationId},this.options);options.onTap=function(swiper,e){return _this.onTap(swiper,e),_this.options.onTap&&_this.options.onTap(swiper,e)},options.onClick=function(swiper,e){return _this.onClick(swiper,e),_this.options.onClick&&_this.options.onClick(swiper,e)},options.onDoubleTap=function(swiper,e){return _this.onDoubleTap(swiper,e),_this.options.onDoubleTap&&_this.options.onDoubleTap(swiper,e)},options.onTransitionStart=function(swiper,e){return _this.onTransitionStart(swiper,e),_this.options.onTransitionStart&&_this.options.onTransitionStart(swiper,e)},options.onTransitionEnd=function(swiper,e){return _this.onTransitionEnd(swiper,e),_this.options.onTransitionEnd&&_this.options.onTransitionEnd(swiper,e)},options.onSlideChangeStart=function(swiper){return _this.ionWillChange.emit(swiper),_this.options.onSlideChangeStart&&_this.options.onSlideChangeStart(swiper)},options.onSlideChangeEnd=function(swiper){return _this.ionDidChange.emit(swiper),_this.options.onSlideChangeEnd&&_this.options.onSlideChangeEnd(swiper)},options.onLazyImageLoad=function(swiper,slide,img){return _this.options.onLazyImageLoad&&_this.options.onLazyImageLoad(swiper,slide,img)},options.onLazyImageReady=function(swiper,slide,img){return _this.options.onLazyImageReady&&_this.options.onLazyImageReady(swiper,slide,img)},options.onSliderMove=function(swiper,e){return _this.ionDrag.emit(swiper),_this.options.onSliderMove&&_this.options.onSliderMove(swiper,e)},setTimeout(function(){var swiper=new swiper_widget_1.Swiper(_this.getNativeElement().children[0],options);_this.slider=swiper},300)},Slides.prototype.onTap=function(swiper,e){},Slides.prototype.onClick=function(swiper,e){},Slides.prototype.onDoubleTap=function(swiper,e){this.toggleZoom(swiper,e)},Slides.prototype.onLazyImageLoad=function(swiper,slide,img){},Slides.prototype.onLazyImageReady=function(swiper,slide,img){},Slides.prototype.initZoom=function(){var _this=this;this.zoomDuration=this.zoomDuration||230,this.maxScale=this.zoomMax||3,this.zoomElement=this.getNativeElement().children[0].children[0],this.zoomElement&&this.zoomElement.classList.add("ion-scroll-zoom"),this.zoomGesture=new gesture_1.Gesture(this.zoomElement),this.zoomGesture.listen(),this.scale=1,this.zoomLastPosX=0,this.zoomLastPosY=0;var lastScale,zoomRect;this.viewportWidth=this.getNativeElement().offsetWidth,this.viewportHeight=this.getNativeElement().offsetHeight,this.zoomElement.addEventListener("touchstart",function(e){_this.onTouchStart(e)}),this.zoomElement.addEventListener("touchmove",function(e){_this.onTouchMove(e)}),this.zoomElement.addEventListener("touchend",function(e){_this.onTouchEnd(e)}),this.zoomGesture.on("pinchstart",function(e){lastScale=_this.scale}),this.zoomGesture.on("pinch",function(e){_this.scale=Math.max(1,Math.min(lastScale*e.scale,10)),_this.zoomElement.style[dom_1.CSS.transform]="scale("+_this.scale+")",zoomRect=_this.zoomElement.getBoundingClientRect()}),this.zoomGesture.on("pinchend",function(){if(_this.scale>_this.maxScale){var za=new animation_1.Animation(_this.zoomElement).duration(_this.zoomDuration).easing("linear").from("scale",_this.scale).to("scale",_this.maxScale);za.play(),_this.scale=_this.maxScale}})},Slides.prototype.resetZoom=function(){this.zoomElement&&(this.zoomElement.parentElement.style[dom_1.CSS.transform]="",this.zoomElement.style[dom_1.CSS.transform]="scale(1)"),this.scale=1,this.zoomLastPosX=0,this.zoomLastPosY=0},Slides.prototype.toggleZoom=function(swiper,e){if(this.enableZoom){var zi=new animation_1.Animation(this.touch.target.children[0]).duration(this.zoomDuration).easing("linear"),za=(new animation_1.Animation(this.touch.target.children[0]).duration(this.zoomDuration).easing("linear"),new animation_1.Animation);za.add(zi),this.scale>1?(zi.from("scale",this.scale),zi.to("scale",1),za.play(),this.scale=1):(zi.from("scale",this.scale),zi.to("scale",this.maxScale),za.play(),this.scale=this.maxScale)}},Slides.prototype.onTransitionStart=function(swiper,e){},Slides.prototype.onTransitionEnd=function(swiper,e){},Slides.prototype.onTouchStart=function(e){var target=util_2.dom.closest(e.target,".slide").children[0].children[0];this.touch={x:null,y:null,startX:e.touches[0].clientX,startY:e.touches[0].clientY,deltaX:0,deltaY:0,lastX:0,lastY:0,target:target.parentElement,zoomable:target,zoomableWidth:target.offsetWidth,zoomableHeight:target.offsetHeight}},Slides.prototype.onTouchMove=function(e){this.touch.deltaX=e.touches[0].clientX-this.touch.startX,this.touch.deltaY=e.touches[0].clientY-this.touch.startY;var zoomableScaledWidth=this.touch.zoomableWidth*this.scale,zoomableScaledHeight=this.touch.zoomableHeight*this.scale,x1=Math.min(this.viewportWidth/2-zoomableScaledWidth/2,0),x2=-x1;Math.min(this.viewportHeight/2-zoomableScaledHeight/2,0);if(!(this.scale<=1))if(this.touch.x=this.touch.deltaX+this.touch.lastX,this.touch.y=this.touch.deltaY+this.touch.lastY,this.touch.x<x1,this.touch.x>x2,this.touch.x>this.viewportWidth);else if(!(-this.touch.x>this.viewportWidth))return this.touch.target.style[dom_1.CSS.transform]="translateX("+this.touch.x+"px) translateY("+this.touch.y+"px)",e.preventDefault(),e.stopPropagation(),!1},Slides.prototype.onTouchEnd=function(e){if(this.scale>1){if(Math.abs(this.touch.x)>this.viewportWidth)var posX=posX>0?this.viewportWidth-1:-(this.viewportWidth-1);this.touch.lastX=this.touch.x,this.touch.lastY=this.touch.y}},Slides.prototype.update=function(){var _this=this;setTimeout(function(){_this.slider.update(),_this.length()>10&&(_this.showPager=!1)},300)},Slides.prototype.slideTo=function(index,speed,runCallbacks){this.slider.slideTo(index,speed,runCallbacks)},Slides.prototype.slideNext=function(speed,runCallbacks){this.slider.slideNext(runCallbacks,speed)},Slides.prototype.slidePrev=function(speed,runCallbacks){this.slider.slidePrev(runCallbacks,speed)},Slides.prototype.getActiveIndex=function(){return this.slider.activeIndex},Slides.prototype.getPreviousIndex=function(){return this.slider.previousIndex},Slides.prototype.length=function(){return this.slider.slides.length},Slides.prototype.isEnd=function(){return this.slider.isEnd},Slides.prototype.isBeginning=function(){return this.slider.isBeginning},Slides.prototype.getSlider=function(){return this.slider},__decorate([core_1.Input(),__metadata("design:type",Object)],Slides.prototype,"options",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Slides.prototype,"pager",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Slides.prototype,"zoom",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Slides.prototype,"zoomDuration",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Slides.prototype,"zoomMax",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Slides.prototype,"ionWillChange",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Slides.prototype,"ionDidChange",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Slides.prototype,"ionDrag",void 0),Slides=__decorate([core_1.Component({selector:"ion-slides",template:'<div class="swiper-container"><div class="swiper-wrapper"><ng-content></ng-content></div><div [class.hide]="!showPager" class="swiper-pagination"></div></div>',changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[core_1.ElementRef,core_1.Renderer])],Slides)}(ion_1.Ion);exports.Slides=Slides;var Slide=function(){function Slide(elementRef,slides){this.slides=slides,this.ele=elementRef.nativeElement,this.ele.classList.add("swiper-slide"),slides.rapidUpdate()}return Slide.prototype.ngOnDestroy=function(){this.slides.rapidUpdate()},__decorate([core_1.Input(),__metadata("design:type",Object)],Slide.prototype,"zoom",void 0),Slide=__decorate([core_1.Component({selector:"ion-slide",template:'<div class="slide-zoom"><ng-content></ng-content></div>',changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__param(1,core_1.Host()),__metadata("design:paramtypes",[core_1.ElementRef,Slides])],Slide)}();exports.Slide=Slide;var SlideLazy=function(){function SlideLazy(){}return SlideLazy=__decorate([core_1.Directive({selector:"slide-lazy",host:{"class":"swiper-lazy"}}),__metadata("design:paramtypes",[])],SlideLazy)}();exports.SlideLazy=SlideLazy;var slidesId=-1},{"../../animations/animation":412,"../../gestures/gesture":504,"../../util":523,"../../util/dom":527,"../../util/util":535,"../ion":433,"./swiper-widget":478,"@angular/core":167}],478:[function(require,module,exports){"use strict";function Swiper(container,params){function isH(){return"horizontal"===s.params.direction}function round(a){return Math.floor(a)}function autoplay(){s.autoplayTimeoutId=setTimeout(function(){s.params.loop?(s.fixLoop(),s._slideNext()):s.isEnd?params.autoplayStopOnLast?s.stopAutoplay():s._slideTo(0):s._slideNext()},s.params.autoplay)}function findElementInEvent(e,selector){var el=$(e.target);if(!el.is(selector))if("string"==typeof selector)el=el.parents(selector);else if(selector.nodeType){var found;return el.parents().each(function(index,_el){_el===selector&&(found=selector)}),found?selector:void 0}if(0!==el.length)return el[0]}function initObserver(target,options){options=options||{};var ObserverFunc=window.MutationObserver||window.WebkitMutationObserver,observer=new ObserverFunc(function(mutations){mutations.forEach(function(mutation){s.onResize(!0),s.emit("onObserverUpdate",s,mutation)})});observer.observe(target,{attributes:"undefined"==typeof options.attributes||options.attributes,childList:"undefined"==typeof options.childList||options.childList,characterData:"undefined"==typeof options.characterData||options.characterData}),s.observers.push(observer)}function handleKeyboard(e){e.originalEvent&&(e=e.originalEvent);var kc=e.keyCode||e.charCode;if(!s.params.allowSwipeToNext&&(isH()&&39===kc||!isH()&&40===kc))return!1;if(!s.params.allowSwipeToPrev&&(isH()&&37===kc||!isH()&&38===kc))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===kc||39===kc||38===kc||40===kc){var inView=!1;if(s.container.parents(".swiper-slide").length>0&&0===s.container.parents(".swiper-slide-active").length)return;var windowScroll={left:window.pageXOffset,top:window.pageYOffset},windowWidth=window.innerWidth,windowHeight=window.innerHeight,swiperOffset=s.container.offset();s.rtl&&(swiperOffset.left=swiperOffset.left-s.container[0].scrollLeft);for(var swiperCoord=[[swiperOffset.left,swiperOffset.top],[swiperOffset.left+s.width,swiperOffset.top],[swiperOffset.left,swiperOffset.top+s.height],[swiperOffset.left+s.width,swiperOffset.top+s.height]],i=0;i<swiperCoord.length;i++){var point=swiperCoord[i];point[0]>=windowScroll.left&&point[0]<=windowScroll.left+windowWidth&&point[1]>=windowScroll.top&&point[1]<=windowScroll.top+windowHeight&&(inView=!0)}if(!inView)return}isH()?(37!==kc&&39!==kc||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===kc&&!s.rtl||37===kc&&s.rtl)&&s.slideNext(),(37===kc&&!s.rtl||39===kc&&s.rtl)&&s.slidePrev()):(38!==kc&&40!==kc||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===kc&&s.slideNext(),38===kc&&s.slidePrev())}}function handleMousewheel(e){e.originalEvent&&(e=e.originalEvent);var we=s.mousewheel.event,delta=0;if(e.detail)delta=-e.detail;else if("mousewheel"===we)if(s.params.mousewheelForceToAxis)if(isH()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;delta=e.wheelDeltaX}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;delta=e.wheelDeltaY}else delta=e.wheelDelta;else if("DOMMouseScroll"===we)delta=-e.detail;else if("wheel"===we)if(s.params.mousewheelForceToAxis)if(isH()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;delta=-e.deltaX}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;delta=-e.deltaY}else delta=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY;if(s.params.mousewheelInvert&&(delta=-delta),s.params.freeMode){var position=s.getWrapperTranslate()+delta*s.params.mousewheelSensitivity;if(position>0&&(position=0),position<s.maxTranslate()&&(position=s.maxTranslate()),s.setWrapperTransition(0),s.setWrapperTranslate(position),s.updateProgress(),s.updateActiveIndex(),s.params.freeModeSticky&&(clearTimeout(s.mousewheel.timeout),s.mousewheel.timeout=setTimeout(function(){s.slideReset()},300)),0===position||position===s.maxTranslate())return}else{if((new window.Date).getTime()-s.mousewheel.lastScrollTime>60)if(delta<0)if(s.isEnd&&!s.params.loop||s.animating){if(s.params.mousewheelReleaseOnEdges)return!0}else s.slideNext();else if(s.isBeginning&&!s.params.loop||s.animating){if(s.params.mousewheelReleaseOnEdges)return!0}else s.slidePrev();s.mousewheel.lastScrollTime=(new window.Date).getTime()}return s.params.autoplay&&s.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}function setParallaxTransform(el,progress){el=$(el);var p,pX,pY;p=el.attr("data-swiper-parallax")||"0",pX=el.attr("data-swiper-parallax-x"),pY=el.attr("data-swiper-parallax-y"),pX||pY?(pX=pX||"0",pY=pY||"0"):isH()?(pX=p,pY="0"):(pY=p,pX="0"),pX=pX.indexOf("%")>=0?parseInt(pX,10)*progress+"%":pX*progress+"px",pY=pY.indexOf("%")>=0?parseInt(pY,10)*progress+"%":pY*progress+"px",el.transform("translate3d("+pX+", "+pY+",0px)")}function normalizeEventName(eventName){return 0!==eventName.indexOf("on")&&(eventName=eventName[0]!==eventName[0].toUpperCase()?"on"+eventName[0].toUpperCase()+eventName.substring(1):"on"+eventName),eventName}if(!(this instanceof Swiper))return new Swiper(container,params);var defaults={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},initialVirtualTranslate=params&&params.virtualTranslate;params=params||{};for(var def in defaults)if("undefined"==typeof params[def])params[def]=defaults[def];else if("object"==typeof params[def])for(var deepDef in defaults[def])"undefined"==typeof params[def][deepDef]&&(params[def][deepDef]=defaults[def][deepDef]);var s=this;if(s.version="3.1.0",s.params=params,s.classNames=[],"undefined"!=typeof $&&"undefined"!=typeof Dom7&&($=Dom7),("undefined"!=typeof $||($="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7))&&(s.$=$,s.container=$(container),0!==s.container.length)){if(s.container.length>1)return void s.container.each(function(){new Swiper(this,params)});s.container[0].swiper=s,s.container.data("swiper",s),s.classNames.push("swiper-container-"+s.params.direction),s.params.freeMode&&s.classNames.push("swiper-container-free-mode"),s.support.flexbox||(s.classNames.push("swiper-container-no-flexbox"),s.params.slidesPerColumn=1),(s.params.parallax||s.params.watchSlidesVisibility)&&(s.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(s.params.effect)>=0&&(s.support.transforms3d?(s.params.watchSlidesProgress=!0,s.classNames.push("swiper-container-3d")):s.params.effect="slide"),"slide"!==s.params.effect&&s.classNames.push("swiper-container-"+s.params.effect),"cube"===s.params.effect&&(s.params.resistanceRatio=0,s.params.slidesPerView=1,s.params.slidesPerColumn=1,s.params.slidesPerGroup=1,s.params.centeredSlides=!1,s.params.spaceBetween=0,s.params.virtualTranslate=!0,s.params.setWrapperSize=!1),"fade"===s.params.effect&&(s.params.slidesPerView=1,s.params.slidesPerColumn=1,s.params.slidesPerGroup=1,s.params.watchSlidesProgress=!0,s.params.spaceBetween=0,"undefined"==typeof initialVirtualTranslate&&(s.params.virtualTranslate=!0)),s.params.grabCursor&&s.support.touch&&(s.params.grabCursor=!1),s.wrapper=s.container.children("."+s.params.wrapperClass),s.params.pagination&&(s.paginationContainer=$(s.params.pagination),s.params.paginationClickable&&s.paginationContainer.addClass("swiper-pagination-clickable")),s.rtl=isH()&&("rtl"===s.container[0].dir.toLowerCase()||"rtl"===s.container.css("direction")),s.rtl&&s.classNames.push("swiper-container-rtl"),s.rtl&&(s.wrongRTL="-webkit-box"===s.wrapper.css("display")),s.params.slidesPerColumn>1&&s.classNames.push("swiper-container-multirow"),s.device.android&&s.classNames.push("swiper-container-android"),s.container.addClass(s.classNames.join(" ")),s.translate=0,s.progress=0,s.velocity=0,s.lockSwipeToNext=function(){s.params.allowSwipeToNext=!1},s.lockSwipeToPrev=function(){s.params.allowSwipeToPrev=!1},s.lockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=!1},s.unlockSwipeToNext=function(){s.params.allowSwipeToNext=!0},s.unlockSwipeToPrev=function(){s.params.allowSwipeToPrev=!0},s.unlockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=!0},s.params.grabCursor&&(s.container[0].style.cursor="move",s.container[0].style.cursor="-webkit-grab",s.container[0].style.cursor="-moz-grab",s.container[0].style.cursor="grab"),s.imagesToLoad=[],s.imagesLoaded=0,s.loadImage=function(imgElement,src,checkForComplete,callback){function onReady(){callback&&callback()}var image;imgElement.complete&&checkForComplete?onReady():src?(image=new window.Image,image.onload=onReady,image.onerror=onReady,image.src=src):onReady()},s.preloadImages=function(){function _onReady(){"undefined"!=typeof s&&null!==s&&(void 0!==s.imagesLoaded&&s.imagesLoaded++,s.imagesLoaded===s.imagesToLoad.length&&(s.params.updateOnImagesReady&&s.update(),s.emit("onImagesReady",s)))}s.imagesToLoad=s.container.find("img");for(var i=0;i<s.imagesToLoad.length;i++)s.loadImage(s.imagesToLoad[i],s.imagesToLoad[i].currentSrc||s.imagesToLoad[i].getAttribute("src"),!0,_onReady)},s.autoplayTimeoutId=void 0,s.autoplaying=!1,s.autoplayPaused=!1,s.startAutoplay=function(){return"undefined"==typeof s.autoplayTimeoutId&&(!!s.params.autoplay&&(!s.autoplaying&&(s.autoplaying=!0,s.emit("onAutoplayStart",s),void autoplay())))},s.stopAutoplay=function(internal){s.autoplayTimeoutId&&(s.autoplayTimeoutId&&clearTimeout(s.autoplayTimeoutId),s.autoplaying=!1,s.autoplayTimeoutId=void 0,s.emit("onAutoplayStop",s))},s.pauseAutoplay=function(speed){s.autoplayPaused||(s.autoplayTimeoutId&&clearTimeout(s.autoplayTimeoutId),s.autoplayPaused=!0,0===speed?(s.autoplayPaused=!1,autoplay()):s.wrapper.transitionEnd(function(){s&&(s.autoplayPaused=!1,s.autoplaying?autoplay():s.stopAutoplay())}))},s.minTranslate=function(){return-s.snapGrid[0]},s.maxTranslate=function(){return-s.snapGrid[s.snapGrid.length-1]},s.updateContainerSize=function(){var width,height;width="undefined"!=typeof s.params.width?s.params.width:s.container[0].clientWidth,height="undefined"!=typeof s.params.height?s.params.height:s.container[0].clientHeight,0===width&&isH()||0===height&&!isH()||(width=width-parseInt(s.container.css("padding-left"),10)-parseInt(s.container.css("padding-right"),10),height=height-parseInt(s.container.css("padding-top"),10)-parseInt(s.container.css("padding-bottom"),10),s.width=width,s.height=height,s.size=isH()?s.width:s.height)},s.updateSlidesSize=function(){s.slides=s.wrapper.children("."+s.params.slideClass),s.snapGrid=[],s.slidesGrid=[],s.slidesSizesGrid=[];var i,spaceBetween=s.params.spaceBetween,slidePosition=-s.params.slidesOffsetBefore,prevSlideSize=0,index=0;"string"==typeof spaceBetween&&spaceBetween.indexOf("%")>=0&&(spaceBetween=parseFloat(spaceBetween.replace("%",""))/100*s.size),s.virtualSize=-spaceBetween,s.rtl?s.slides.css({marginLeft:"",marginTop:""}):s.slides.css({marginRight:"",marginBottom:""});var slidesNumberEvenToRows;s.params.slidesPerColumn>1&&(slidesNumberEvenToRows=Math.floor(s.slides.length/s.params.slidesPerColumn)===s.slides.length/s.params.slidesPerColumn?s.slides.length:Math.ceil(s.slides.length/s.params.slidesPerColumn)*s.params.slidesPerColumn);var slideSize,slidesPerColumn=s.params.slidesPerColumn,slidesPerRow=slidesNumberEvenToRows/slidesPerColumn,numFullColumns=slidesPerRow-(s.params.slidesPerColumn*slidesPerRow-s.slides.length);for(i=0;i<s.slides.length;i++){slideSize=0;var slide=s.slides.eq(i);if(s.params.slidesPerColumn>1){var newSlideOrderIndex,column,row;"column"===s.params.slidesPerColumnFill?(column=Math.floor(i/slidesPerColumn),row=i-column*slidesPerColumn,(column>numFullColumns||column===numFullColumns&&row===slidesPerColumn-1)&&++row>=slidesPerColumn&&(row=0,column++),newSlideOrderIndex=column+row*slidesNumberEvenToRows/slidesPerColumn,slide.css({"-webkit-box-ordinal-group":newSlideOrderIndex,"-moz-box-ordinal-group":newSlideOrderIndex,"-ms-flex-order":newSlideOrderIndex,"-webkit-order":newSlideOrderIndex,order:newSlideOrderIndex})):(row=Math.floor(i/slidesPerRow),column=i-row*slidesPerRow),slide.css({"margin-top":0!==row&&s.params.spaceBetween&&s.params.spaceBetween+"px"}).attr("data-swiper-column",column).attr("data-swiper-row",row)}"none"!==slide.css("display")&&("auto"===s.params.slidesPerView?(slideSize=isH()?slide.outerWidth(!0):slide.outerHeight(!0),s.params.roundLengths&&(slideSize=round(slideSize))):(slideSize=(s.size-(s.params.slidesPerView-1)*spaceBetween)/s.params.slidesPerView,s.params.roundLengths&&(slideSize=round(slideSize)),isH()?s.slides[i].style.width=slideSize+"px":s.slides[i].style.height=slideSize+"px"),s.slides[i].swiperSlideSize=slideSize,s.slidesSizesGrid.push(slideSize),s.params.centeredSlides?(slidePosition=slidePosition+slideSize/2+prevSlideSize/2+spaceBetween,0===i&&(slidePosition=slidePosition-s.size/2-spaceBetween),Math.abs(slidePosition)<.001&&(slidePosition=0),index%s.params.slidesPerGroup===0&&s.snapGrid.push(slidePosition),s.slidesGrid.push(slidePosition)):(index%s.params.slidesPerGroup===0&&s.snapGrid.push(slidePosition),s.slidesGrid.push(slidePosition),slidePosition=slidePosition+slideSize+spaceBetween),s.virtualSize+=slideSize+spaceBetween,prevSlideSize=slideSize,index++)}s.virtualSize=Math.max(s.virtualSize,s.size)+s.params.slidesOffsetAfter;var newSlidesGrid;if(s.rtl&&s.wrongRTL&&("slide"===s.params.effect||"coverflow"===s.params.effect)&&s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"}),s.support.flexbox&&!s.params.setWrapperSize||(isH()?s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"}):s.wrapper.css({height:s.virtualSize+s.params.spaceBetween+"px"})),s.params.slidesPerColumn>1&&(s.virtualSize=(slideSize+s.params.spaceBetween)*slidesNumberEvenToRows,s.virtualSize=Math.ceil(s.virtualSize/s.params.slidesPerColumn)-s.params.spaceBetween,s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"}),s.params.centeredSlides)){for(newSlidesGrid=[],i=0;i<s.snapGrid.length;i++)s.snapGrid[i]<s.virtualSize+s.snapGrid[0]&&newSlidesGrid.push(s.snapGrid[i]);s.snapGrid=newSlidesGrid}if(!s.params.centeredSlides){for(newSlidesGrid=[],i=0;i<s.snapGrid.length;i++)s.snapGrid[i]<=s.virtualSize-s.size&&newSlidesGrid.push(s.snapGrid[i]);s.snapGrid=newSlidesGrid,Math.floor(s.virtualSize-s.size)>Math.floor(s.snapGrid[s.snapGrid.length-1])&&s.snapGrid.push(s.virtualSize-s.size)}0===s.snapGrid.length&&(s.snapGrid=[0]),0!==s.params.spaceBetween&&(isH()?s.rtl?s.slides.css({marginLeft:spaceBetween+"px"}):s.slides.css({marginRight:spaceBetween+"px"}):s.slides.css({marginBottom:spaceBetween+"px"})),s.params.watchSlidesProgress&&s.updateSlidesOffset()},s.updateSlidesOffset=function(){for(var i=0;i<s.slides.length;i++)s.slides[i].swiperSlideOffset=isH()?s.slides[i].offsetLeft:s.slides[i].offsetTop},s.updateSlidesProgress=function(translate){if("undefined"==typeof translate&&(translate=s.translate||0),0!==s.slides.length){"undefined"==typeof s.slides[0].swiperSlideOffset&&s.updateSlidesOffset();var offsetCenter=-translate;s.rtl&&(offsetCenter=translate);s.container[0].getBoundingClientRect(),isH()?"left":"top",isH()?"right":"bottom";s.slides.removeClass(s.params.slideVisibleClass);for(var i=0;i<s.slides.length;i++){var slide=s.slides[i],slideProgress=(offsetCenter-slide.swiperSlideOffset)/(slide.swiperSlideSize+s.params.spaceBetween);if(s.params.watchSlidesVisibility){var slideBefore=-(offsetCenter-slide.swiperSlideOffset),slideAfter=slideBefore+s.slidesSizesGrid[i],isVisible=slideBefore>=0&&slideBefore<s.size||slideAfter>0&&slideAfter<=s.size||slideBefore<=0&&slideAfter>=s.size;isVisible&&s.slides.eq(i).addClass(s.params.slideVisibleClass)}slide.progress=s.rtl?-slideProgress:slideProgress}}},s.updateProgress=function(translate){"undefined"==typeof translate&&(translate=s.translate||0);var translatesDiff=s.maxTranslate()-s.minTranslate();0===translatesDiff?(s.progress=0,s.isBeginning=s.isEnd=!0):(s.progress=(translate-s.minTranslate())/translatesDiff,s.isBeginning=s.progress<=0,s.isEnd=s.progress>=1),s.isBeginning&&s.emit("onReachBeginning",s),s.isEnd&&s.emit("onReachEnd",s),s.params.watchSlidesProgress&&s.updateSlidesProgress(translate),s.emit("onProgress",s,s.progress)},s.updateActiveIndex=function(){var newActiveIndex,i,snapIndex,translate=s.rtl?s.translate:-s.translate;for(i=0;i<s.slidesGrid.length;i++)"undefined"!=typeof s.slidesGrid[i+1]?translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]-(s.slidesGrid[i+1]-s.slidesGrid[i])/2?newActiveIndex=i:translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]&&(newActiveIndex=i+1):translate>=s.slidesGrid[i]&&(newActiveIndex=i);(newActiveIndex<0||"undefined"==typeof newActiveIndex)&&(newActiveIndex=0),snapIndex=Math.floor(newActiveIndex/s.params.slidesPerGroup),snapIndex>=s.snapGrid.length&&(snapIndex=s.snapGrid.length-1),newActiveIndex!==s.activeIndex&&(s.snapIndex=snapIndex,s.previousIndex=s.activeIndex,s.activeIndex=newActiveIndex,s.updateClasses())},s.updateClasses=function(){s.slides.removeClass(s.params.slideActiveClass+" "+s.params.slideNextClass+" "+s.params.slidePrevClass);var activeSlide=s.slides.eq(s.activeIndex);if(activeSlide.addClass(s.params.slideActiveClass),activeSlide.next("."+s.params.slideClass).addClass(s.params.slideNextClass),activeSlide.prev("."+s.params.slideClass).addClass(s.params.slidePrevClass),s.bullets&&s.bullets.length>0){s.bullets.removeClass(s.params.bulletActiveClass);var bulletIndex;s.params.loop?(bulletIndex=Math.ceil(s.activeIndex-s.loopedSlides)/s.params.slidesPerGroup,bulletIndex>s.slides.length-1-2*s.loopedSlides&&(bulletIndex-=s.slides.length-2*s.loopedSlides),bulletIndex>s.bullets.length-1&&(bulletIndex-=s.bullets.length)):bulletIndex="undefined"!=typeof s.snapIndex?s.snapIndex:s.activeIndex||0,s.paginationContainer.length>1?s.bullets.each(function(){$(this).index()===bulletIndex&&$(this).addClass(s.params.bulletActiveClass)}):s.bullets.eq(bulletIndex).addClass(s.params.bulletActiveClass)}s.params.loop||(s.params.prevButton&&(s.isBeginning?($(s.params.prevButton).addClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.disable($(s.params.prevButton))):($(s.params.prevButton).removeClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.enable($(s.params.prevButton)))),s.params.nextButton&&(s.isEnd?($(s.params.nextButton).addClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.disable($(s.params.nextButton))):($(s.params.nextButton).removeClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.enable($(s.params.nextButton)))))},s.updatePagination=function(){if(s.params.pagination&&s.paginationContainer&&s.paginationContainer.length>0){for(var bulletsHTML="",numberOfBullets=s.params.loop?Math.ceil((s.slides.length-2*s.loopedSlides)/s.params.slidesPerGroup):s.snapGrid.length,i=0;i<numberOfBullets;i++)bulletsHTML+=s.params.paginationBulletRender?s.params.paginationBulletRender(i,s.params.bulletClass):"<"+s.params.paginationElement+' class="'+s.params.bulletClass+'"></'+s.params.paginationElement+">";s.paginationContainer.html(bulletsHTML),s.bullets=s.paginationContainer.find("."+s.params.bulletClass),s.params.paginationClickable&&s.params.a11y&&s.a11y&&s.a11y.initPagination()}},s.update=function(updateTranslate){function forceSetTranslate(){newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate()),s.setWrapperTranslate(newTranslate),s.updateActiveIndex(),s.updateClasses()}if(s.updateContainerSize(),s.updateSlidesSize(),s.updateProgress(),s.updatePagination(),s.updateClasses(),s.params.scrollbar&&s.scrollbar&&s.scrollbar.set(),updateTranslate){var translated,newTranslate;s.controller&&s.controller.spline&&(s.controller.spline=void 0),s.params.freeMode?forceSetTranslate():(translated=("auto"===s.params.slidesPerView||s.params.slidesPerView>1)&&s.isEnd&&!s.params.centeredSlides?s.slideTo(s.slides.length-1,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0),translated||forceSetTranslate())}},s.onResize=function(forceUpdatePagination){var allowSwipeToPrev=s.params.allowSwipeToPrev,allowSwipeToNext=s.params.allowSwipeToNext;if(s.params.allowSwipeToPrev=s.params.allowSwipeToNext=!0,s.updateContainerSize(),s.updateSlidesSize(),("auto"===s.params.slidesPerView||s.params.freeMode||forceUpdatePagination)&&s.updatePagination(),s.params.scrollbar&&s.scrollbar&&s.scrollbar.set(),s.controller&&s.controller.spline&&(s.controller.spline=void 0),s.params.freeMode){var newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate());s.setWrapperTranslate(newTranslate),s.updateActiveIndex(),s.updateClasses()}else s.updateClasses(),("auto"===s.params.slidesPerView||s.params.slidesPerView>1)&&s.isEnd&&!s.params.centeredSlides?s.slideTo(s.slides.length-1,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0);s.params.allowSwipeToPrev=allowSwipeToPrev,s.params.allowSwipeToNext=allowSwipeToNext};var desktopEvents=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?desktopEvents=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(desktopEvents=["MSPointerDown","MSPointerMove","MSPointerUp"]),s.touchEvents={start:s.support.touch||!s.params.simulateTouch?"touchstart":desktopEvents[0],
move:s.support.touch||!s.params.simulateTouch?"touchmove":desktopEvents[1],end:s.support.touch||!s.params.simulateTouch?"touchend":desktopEvents[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===s.params.touchEventsTarget?s.container:s.wrapper).addClass("swiper-wp8-"+s.params.direction),s.initEvents=function(detach){console.debug("swiper initEvents",detach?"detach":"attach");var actionDom=detach?"off":"on",action=detach?"removeEventListener":"addEventListener",touchEventsTarget="container"===s.params.touchEventsTarget?s.container[0]:s.wrapper[0],target=s.support.touch?touchEventsTarget:document,moveCapture=!!s.params.nested;s.browser.ie?(touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,!1),target[action](s.touchEvents.move,s.onTouchMove,moveCapture),target[action](s.touchEvents.end,s.onTouchEnd,!1)):(s.support.touch&&(touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,!1),touchEventsTarget[action](s.touchEvents.move,s.onTouchMove,moveCapture),touchEventsTarget[action](s.touchEvents.end,s.onTouchEnd,!1)),!params.simulateTouch||s.device.ios||s.device.android||(touchEventsTarget[action]("mousedown",s.onTouchStart,!1),document[action]("mousemove",s.onTouchMove,moveCapture),document[action]("mouseup",s.onTouchEnd,!1))),window[action]("resize",s.onResize),s.params.nextButton&&($(s.params.nextButton)[actionDom]("click",s.onClickNext),s.params.a11y&&s.a11y&&$(s.params.nextButton)[actionDom]("keydown",s.a11y.onEnterKey)),s.params.prevButton&&($(s.params.prevButton)[actionDom]("click",s.onClickPrev),s.params.a11y&&s.a11y&&$(s.params.prevButton)[actionDom]("keydown",s.a11y.onEnterKey)),s.params.pagination&&s.params.paginationClickable&&($(s.paginationContainer)[actionDom]("click","."+s.params.bulletClass,s.onClickIndex),s.params.a11y&&s.a11y&&$(s.paginationContainer)[actionDom]("keydown","."+s.params.bulletClass,s.a11y.onEnterKey)),(s.params.preventClicks||s.params.preventClicksPropagation)&&touchEventsTarget[action]("click",s.preventClicks,!0)},s.attachEvents=function(detach){s.initEvents()},s.detachEvents=function(){s.initEvents(!0)},s.allowClick=!0,s.preventClicks=function(e){s.allowClick||(s.params.preventClicks&&e.preventDefault(),s.params.preventClicksPropagation&&s.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},s.onClickNext=function(e){e.preventDefault(),s.isEnd&&!s.params.loop||s.slideNext()},s.onClickPrev=function(e){e.preventDefault(),s.isBeginning&&!s.params.loop||s.slidePrev()},s.onClickIndex=function(e){e.preventDefault();var index=$(this).index()*s.params.slidesPerGroup;s.params.loop&&(index+=s.loopedSlides),s.slideTo(index)},s.updateClickedSlide=function(e){var slide=findElementInEvent(e,"."+s.params.slideClass),slideFound=!1;if(slide)for(var i=0;i<s.slides.length;i++)s.slides[i]===slide&&(slideFound=!0);if(!slide||!slideFound)return s.clickedSlide=void 0,void(s.clickedIndex=void 0);if(s.clickedSlide=slide,s.clickedIndex=$(slide).index(),s.params.slideToClickedSlide&&void 0!==s.clickedIndex&&s.clickedIndex!==s.activeIndex){var realIndex,slideToIndex=s.clickedIndex;if(s.params.loop)if(realIndex=$(s.clickedSlide).attr("data-swiper-slide-index"),slideToIndex>s.slides.length-s.params.slidesPerView)s.fixLoop(),slideToIndex=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]').eq(0).index(),setTimeout(function(){s.slideTo(slideToIndex)},0);else if(slideToIndex<s.params.slidesPerView-1){s.fixLoop();var duplicatedSlides=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]');slideToIndex=duplicatedSlides.eq(duplicatedSlides.length-1).index(),setTimeout(function(){s.slideTo(slideToIndex)},0)}else s.slideTo(slideToIndex);else s.slideTo(slideToIndex)}};var isTouched,isMoved,touchStartTime,isScrolling,currentTranslate,startTranslate,allowThresholdMove,clickTimeout,allowMomentumBounce,formElements="input, select, textarea, button",lastClickTime=Date.now(),velocities=[];s.animating=!1,s.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var isTouchEvent,startMoving;if(s.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),isTouchEvent="touchstart"===e.type,isTouchEvent||!("which"in e)||3!==e.which){if(s.params.noSwiping&&findElementInEvent(e,"."+s.params.noSwipingClass))return void(s.allowClick=!0);if(!s.params.swipeHandler||findElementInEvent(e,s.params.swipeHandler)){var startX=s.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,startY=s.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(!(s.device.ios&&s.params.iOSEdgeSwipeDetection&&startX<=s.params.iOSEdgeSwipeThreshold)){if(isTouched=!0,isMoved=!1,isScrolling=void 0,startMoving=void 0,s.touches.startX=startX,s.touches.startY=startY,touchStartTime=Date.now(),s.allowClick=!0,s.updateContainerSize(),s.swipeDirection=void 0,s.params.threshold>0&&(allowThresholdMove=!1),"touchstart"!==e.type){var preventDefault=!0;$(e.target).is(formElements)&&(preventDefault=!1),document.activeElement&&$(document.activeElement).is(formElements)&&document.activeElement.blur(),preventDefault&&e.preventDefault()}s.emit("onTouchStart",s,e)}}}},s.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(isTouchEvent&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(s.params.onlyExternal)return s.allowClick=!1,void(isTouched&&(s.touches.startX=s.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s.touches.startY=s.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,touchStartTime=Date.now()));if(isTouchEvent&&document.activeElement&&e.target===document.activeElement&&$(e.target).is(formElements))return isMoved=!0,void(s.allowClick=!1);if(s.emit("onTouchMove",s,e),!(e.targetTouches&&e.targetTouches.length>1)){if(s.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof isScrolling){var touchAngle=180*Math.atan2(Math.abs(s.touches.currentY-s.touches.startY),Math.abs(s.touches.currentX-s.touches.startX))/Math.PI;isScrolling=isH()?touchAngle>s.params.touchAngle:90-touchAngle>s.params.touchAngle}if(isScrolling&&s.emit("onTouchMoveOpposite",s,e),"undefined"==typeof startMoving&&s.browser.ieTouch&&(s.touches.currentX===s.touches.startX&&s.touches.currentY===s.touches.startY||(startMoving=!0)),isTouched){if(isScrolling)return void(isTouched=!1);if(startMoving||!s.browser.ieTouch){s.allowClick=!1,s.emit("onSliderMove",s,e),e.preventDefault(),s.params.touchMoveStopPropagation&&!s.params.nested&&e.stopPropagation(),isMoved||(params.loop&&s.fixLoop(),startTranslate=s.getWrapperTranslate(),s.setWrapperTransition(0),s.animating&&s.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),s.params.autoplay&&s.autoplaying&&(s.params.autoplayDisableOnInteraction?s.stopAutoplay():s.pauseAutoplay()),allowMomentumBounce=!1,s.params.grabCursor&&(s.container[0].style.cursor="move",s.container[0].style.cursor="-webkit-grabbing",s.container[0].style.cursor="-moz-grabbin",s.container[0].style.cursor="grabbing")),isMoved=!0;var diff=s.touches.diff=isH()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY;diff*=s.params.touchRatio,s.rtl&&(diff=-diff),s.swipeDirection=diff>0?"prev":"next",currentTranslate=diff+startTranslate;var disableParentSwiper=!0;if(diff>0&&currentTranslate>s.minTranslate()?(disableParentSwiper=!1,s.params.resistance&&(currentTranslate=s.minTranslate()-1+Math.pow(-s.minTranslate()+startTranslate+diff,s.params.resistanceRatio))):diff<0&&currentTranslate<s.maxTranslate()&&(disableParentSwiper=!1,s.params.resistance&&(currentTranslate=s.maxTranslate()+1-Math.pow(s.maxTranslate()-startTranslate-diff,s.params.resistanceRatio))),disableParentSwiper&&(e.preventedByNestedSwiper=!0),!s.params.allowSwipeToNext&&"next"===s.swipeDirection&&currentTranslate<startTranslate&&(currentTranslate=startTranslate),!s.params.allowSwipeToPrev&&"prev"===s.swipeDirection&&currentTranslate>startTranslate&&(currentTranslate=startTranslate),s.params.followFinger){if(s.params.threshold>0){if(!(Math.abs(diff)>s.params.threshold||allowThresholdMove))return void(currentTranslate=startTranslate);if(!allowThresholdMove)return allowThresholdMove=!0,s.touches.startX=s.touches.currentX,s.touches.startY=s.touches.currentY,currentTranslate=startTranslate,void(s.touches.diff=isH()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY)}(s.params.freeMode||s.params.watchSlidesProgress)&&s.updateActiveIndex(),s.params.freeMode&&(0===velocities.length&&velocities.push({position:s.touches[isH()?"startX":"startY"],time:touchStartTime}),velocities.push({position:s.touches[isH()?"currentX":"currentY"],time:(new window.Date).getTime()})),s.updateProgress(currentTranslate),s.setWrapperTranslate(currentTranslate)}}}}}},s.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),s.emit("onTouchEnd",s,e),isTouched){s.params.grabCursor&&isMoved&&isTouched&&(s.container[0].style.cursor="move",s.container[0].style.cursor="-webkit-grab",s.container[0].style.cursor="-moz-grab",s.container[0].style.cursor="grab");var touchEndTime=Date.now(),timeDiff=touchEndTime-touchStartTime;if(s.allowClick&&(s.updateClickedSlide(e),s.emit("onTap",s,e),timeDiff<300&&touchEndTime-lastClickTime>300&&(clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(function(){s&&(s.params.paginationHide&&s.paginationContainer.length>0&&!$(e.target).hasClass(s.params.bulletClass)&&s.paginationContainer.toggleClass(s.params.paginationHiddenClass),s.emit("onClick",s,e))},300)),timeDiff<300&&touchEndTime-lastClickTime<300&&(clickTimeout&&clearTimeout(clickTimeout),s.emit("onDoubleTap",s,e))),lastClickTime=Date.now(),setTimeout(function(){s&&(s.allowClick=!0)},0),!isTouched||!isMoved||!s.swipeDirection||0===s.touches.diff||currentTranslate===startTranslate)return void(isTouched=isMoved=!1);isTouched=isMoved=!1;var currentPos;if(currentPos=s.params.followFinger?s.rtl?s.translate:-s.translate:-currentTranslate,s.params.freeMode){if(currentPos<-s.minTranslate())return void s.slideTo(s.activeIndex);if(currentPos>-s.maxTranslate())return void(s.slides.length<s.snapGrid.length?s.slideTo(s.snapGrid.length-1):s.slideTo(s.slides.length-1));if(s.params.freeModeMomentum){if(velocities.length>1){var lastMoveEvent=velocities.pop(),velocityEvent=velocities.pop(),distance=lastMoveEvent.position-velocityEvent.position,time=lastMoveEvent.time-velocityEvent.time;s.velocity=distance/time,s.velocity=s.velocity/2,Math.abs(s.velocity)<.02&&(s.velocity=0),(time>150||(new window.Date).getTime()-lastMoveEvent.time>300)&&(s.velocity=0)}else s.velocity=0;velocities.length=0;var momentumDuration=1e3*s.params.freeModeMomentumRatio,momentumDistance=s.velocity*momentumDuration,newPosition=s.translate+momentumDistance;s.rtl&&(newPosition=-newPosition);var afterBouncePosition,doBounce=!1,bounceAmount=20*Math.abs(s.velocity)*s.params.freeModeMomentumBounceRatio;if(newPosition<s.maxTranslate())s.params.freeModeMomentumBounce?(newPosition+s.maxTranslate()<-bounceAmount&&(newPosition=s.maxTranslate()-bounceAmount),afterBouncePosition=s.maxTranslate(),doBounce=!0,allowMomentumBounce=!0):newPosition=s.maxTranslate();else if(newPosition>s.minTranslate())s.params.freeModeMomentumBounce?(newPosition-s.minTranslate()>bounceAmount&&(newPosition=s.minTranslate()+bounceAmount),afterBouncePosition=s.minTranslate(),doBounce=!0,allowMomentumBounce=!0):newPosition=s.minTranslate();else if(s.params.freeModeSticky){var nextSlide,j=0;for(j=0;j<s.snapGrid.length;j+=1)if(s.snapGrid[j]>-newPosition){nextSlide=j;break}newPosition=Math.abs(s.snapGrid[nextSlide]-newPosition)<Math.abs(s.snapGrid[nextSlide-1]-newPosition)||"next"===s.swipeDirection?s.snapGrid[nextSlide]:s.snapGrid[nextSlide-1],s.rtl||(newPosition=-newPosition)}if(0!==s.velocity)momentumDuration=s.rtl?Math.abs((-newPosition-s.translate)/s.velocity):Math.abs((newPosition-s.translate)/s.velocity);else if(s.params.freeModeSticky)return void s.slideReset();s.params.freeModeMomentumBounce&&doBounce?(s.updateProgress(afterBouncePosition),s.setWrapperTransition(momentumDuration),s.setWrapperTranslate(newPosition),s.onTransitionStart(),s.animating=!0,s.wrapper.transitionEnd(function(){s&&allowMomentumBounce&&(s.emit("onMomentumBounce",s),s.setWrapperTransition(s.params.speed),s.setWrapperTranslate(afterBouncePosition),s.wrapper.transitionEnd(function(){s&&s.onTransitionEnd()}))})):s.velocity?(s.updateProgress(newPosition),s.setWrapperTransition(momentumDuration),s.setWrapperTranslate(newPosition),s.onTransitionStart(),s.animating||(s.animating=!0,s.wrapper.transitionEnd(function(){s&&s.onTransitionEnd()}))):s.updateProgress(newPosition),s.updateActiveIndex()}return void((!s.params.freeModeMomentum||timeDiff>=s.params.longSwipesMs)&&(s.updateProgress(),s.updateActiveIndex()))}var i,stopIndex=0,groupSize=s.slidesSizesGrid[0];for(i=0;i<s.slidesGrid.length;i+=s.params.slidesPerGroup)"undefined"!=typeof s.slidesGrid[i+s.params.slidesPerGroup]?currentPos>=s.slidesGrid[i]&&currentPos<s.slidesGrid[i+s.params.slidesPerGroup]&&(stopIndex=i,groupSize=s.slidesGrid[i+s.params.slidesPerGroup]-s.slidesGrid[i]):currentPos>=s.slidesGrid[i]&&(stopIndex=i,groupSize=s.slidesGrid[s.slidesGrid.length-1]-s.slidesGrid[s.slidesGrid.length-2]);var ratio=(currentPos-s.slidesGrid[stopIndex])/groupSize;if(timeDiff>s.params.longSwipesMs){if(!s.params.longSwipes)return void s.slideTo(s.activeIndex);"next"===s.swipeDirection&&(ratio>=s.params.longSwipesRatio?s.slideTo(stopIndex+s.params.slidesPerGroup):s.slideTo(stopIndex)),"prev"===s.swipeDirection&&(ratio>1-s.params.longSwipesRatio?s.slideTo(stopIndex+s.params.slidesPerGroup):s.slideTo(stopIndex))}else{if(!s.params.shortSwipes)return void s.slideTo(s.activeIndex);"next"===s.swipeDirection&&s.slideTo(stopIndex+s.params.slidesPerGroup),"prev"===s.swipeDirection&&s.slideTo(stopIndex)}}},s._slideTo=function(slideIndex,speed){return s.slideTo(slideIndex,speed,!0,!0)},s.slideTo=function(slideIndex,speed,runCallbacks,internal){"undefined"==typeof runCallbacks&&(runCallbacks=!0),"undefined"==typeof slideIndex&&(slideIndex=0),slideIndex<0&&(slideIndex=0),s.snapIndex=Math.floor(slideIndex/s.params.slidesPerGroup),s.snapIndex>=s.snapGrid.length&&(s.snapIndex=s.snapGrid.length-1);var translate=-s.snapGrid[s.snapIndex];s.params.autoplay&&s.autoplaying&&(internal||!s.params.autoplayDisableOnInteraction?s.pauseAutoplay(speed):s.stopAutoplay()),s.updateProgress(translate);for(var i=0;i<s.slidesGrid.length;i++)-Math.floor(100*translate)>=Math.floor(100*s.slidesGrid[i])&&(slideIndex=i);if(!s.params.allowSwipeToNext&&translate<s.translate&&translate<s.minTranslate())return!1;if(!s.params.allowSwipeToPrev&&translate>s.translate&&translate>s.maxTranslate()&&(s.activeIndex||0)!==slideIndex)return!1;if("undefined"==typeof speed&&(speed=s.params.speed),s.previousIndex=s.activeIndex||0,s.activeIndex=slideIndex,translate===s.translate)return s.updateClasses(),!1;s.updateClasses(),s.onTransitionStart(runCallbacks);isH()?translate:0,isH()?0:translate;return 0===speed?(s.setWrapperTransition(0),s.setWrapperTranslate(translate),s.onTransitionEnd(runCallbacks)):(s.setWrapperTransition(speed),s.setWrapperTranslate(translate),s.animating||(s.animating=!0,s.wrapper.transitionEnd(function(){s&&s.onTransitionEnd(runCallbacks)}))),!0},s.onTransitionStart=function(runCallbacks){"undefined"==typeof runCallbacks&&(runCallbacks=!0),s.lazy&&s.lazy.onTransitionStart(),runCallbacks&&(s.emit("onTransitionStart",s),s.activeIndex!==s.previousIndex&&s.emit("onSlideChangeStart",s))},s.onTransitionEnd=function(runCallbacks){s.animating=!1,s.setWrapperTransition(0),"undefined"==typeof runCallbacks&&(runCallbacks=!0),s.lazy&&s.lazy.onTransitionEnd(),runCallbacks&&(s.emit("onTransitionEnd",s),s.activeIndex!==s.previousIndex&&s.emit("onSlideChangeEnd",s)),s.params.hashnav&&s.hashnav&&s.hashnav.setHash()},s.slideNext=function(runCallbacks,speed,internal){if(s.params.loop){if(s.animating)return!1;s.fixLoop();s.container[0].clientLeft;return s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal)}return s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal)},s._slideNext=function(speed){return s.slideNext(!0,speed,!0)},s.slidePrev=function(runCallbacks,speed,internal){if(s.params.loop){if(s.animating)return!1;s.fixLoop();s.container[0].clientLeft;return s.slideTo(s.activeIndex-1,speed,runCallbacks,internal)}return s.slideTo(s.activeIndex-1,speed,runCallbacks,internal)},s._slidePrev=function(speed){return s.slidePrev(!0,speed,!0)},s.slideReset=function(runCallbacks,speed,internal){return s.slideTo(s.activeIndex,speed,runCallbacks)},s.setWrapperTransition=function(duration,byController){s.wrapper.transition(duration),"slide"!==s.params.effect&&s.effects[s.params.effect]&&s.effects[s.params.effect].setTransition(duration),s.params.parallax&&s.parallax&&s.parallax.setTransition(duration),s.params.scrollbar&&s.scrollbar&&s.scrollbar.setTransition(duration),s.params.control&&s.controller&&s.controller.setTransition(duration,byController),s.emit("onSetTransition",s,duration)},s.setWrapperTranslate=function(translate,updateActiveIndex,byController){var x=0,y=0,z=0;isH()?x=s.rtl?-translate:translate:y=translate,s.params.virtualTranslate||(s.support.transforms3d?s.wrapper.transform("translate3d("+x+"px, "+y+"px, "+z+"px)"):s.wrapper.transform("translate("+x+"px, "+y+"px)")),s.translate=isH()?x:y,updateActiveIndex&&s.updateActiveIndex(),"slide"!==s.params.effect&&s.effects[s.params.effect]&&s.effects[s.params.effect].setTranslate(s.translate),s.params.parallax&&s.parallax&&s.parallax.setTranslate(s.translate),s.params.scrollbar&&s.scrollbar&&s.scrollbar.setTranslate(s.translate),s.params.control&&s.controller&&s.controller.setTranslate(s.translate,byController),s.emit("onSetTranslate",s,s.translate)},s.getTranslate=function(el,axis){var matrix,curTransform,curStyle,transformMatrix;return"undefined"==typeof axis&&(axis="x"),s.params.virtualTranslate?s.rtl?-s.translate:s.translate:(curStyle=window.getComputedStyle(el,null),window.WebKitCSSMatrix?transformMatrix=new window.WebKitCSSMatrix("none"===curStyle.webkitTransform?"":curStyle.webkitTransform):(transformMatrix=curStyle.MozTransform||curStyle.OTransform||curStyle.MsTransform||curStyle.msTransform||curStyle.transform||curStyle.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),matrix=transformMatrix.toString().split(",")),"x"===axis&&(curTransform=window.WebKitCSSMatrix?transformMatrix.m41:16===matrix.length?parseFloat(matrix[12]):parseFloat(matrix[4])),"y"===axis&&(curTransform=window.WebKitCSSMatrix?transformMatrix.m42:16===matrix.length?parseFloat(matrix[13]):parseFloat(matrix[5])),s.rtl&&curTransform&&(curTransform=-curTransform),curTransform||0)},s.getWrapperTranslate=function(axis){return"undefined"==typeof axis&&(axis=isH()?"x":"y"),s.getTranslate(s.wrapper[0],axis)},s.observers=[],s.initObservers=function(){if(s.params.observeParents)for(var containerParents=s.container.parents(),i=0;i<containerParents.length;i++)initObserver(containerParents[i]);initObserver(s.container[0],{childList:!1}),initObserver(s.wrapper[0],{attributes:!1})},s.disconnectObservers=function(){for(var i=0;i<s.observers.length;i++)s.observers[i].disconnect();s.observers=[]},s.createLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove();var slides=s.wrapper.children("."+s.params.slideClass);"auto"!==s.params.slidesPerView||s.params.loopedSlides||(s.params.loopedSlides=slides.length),s.loopedSlides=parseInt(s.params.loopedSlides||s.params.slidesPerView,10),s.loopedSlides=s.loopedSlides+s.params.loopAdditionalSlides,s.loopedSlides>slides.length&&(s.loopedSlides=slides.length);var i,prependSlides=[],appendSlides=[];for(slides.each(function(index,el){var slide=$(this);index<s.loopedSlides&&appendSlides.push(el),index<slides.length&&index>=slides.length-s.loopedSlides&&prependSlides.push(el),slide.attr("data-swiper-slide-index",index)}),i=0;i<appendSlides.length;i++)s.wrapper.append($(appendSlides[i].cloneNode(!0)).addClass(s.params.slideDuplicateClass));for(i=prependSlides.length-1;i>=0;i--)s.wrapper.prepend($(prependSlides[i].cloneNode(!0)).addClass(s.params.slideDuplicateClass))},s.destroyLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove(),s.slides.removeAttr("data-swiper-slide-index")},s.fixLoop=function(){var newIndex;s.activeIndex<s.loopedSlides?(newIndex=s.slides.length-3*s.loopedSlides+s.activeIndex,newIndex+=s.loopedSlides,s.slideTo(newIndex,0,!1,!0)):("auto"===s.params.slidesPerView&&s.activeIndex>=2*s.loopedSlides||s.activeIndex>s.slides.length-2*s.params.slidesPerView)&&(newIndex=-s.slides.length+s.activeIndex+s.loopedSlides,newIndex+=s.loopedSlides,s.slideTo(newIndex,0,!1,!0))},s.appendSlide=function(slides){if(s.params.loop&&s.destroyLoop(),"object"==typeof slides&&slides.length)for(var i=0;i<slides.length;i++)slides[i]&&s.wrapper.append(slides[i]);else s.wrapper.append(slides);s.params.loop&&s.createLoop(),s.params.observer&&s.support.observer||s.update(!0)},s.prependSlide=function(slides){s.params.loop&&s.destroyLoop();var newActiveIndex=s.activeIndex+1;if("object"==typeof slides&&slides.length){for(var i=0;i<slides.length;i++)slides[i]&&s.wrapper.prepend(slides[i]);newActiveIndex=s.activeIndex+slides.length}else s.wrapper.prepend(slides);s.params.loop&&s.createLoop(),s.params.observer&&s.support.observer||s.update(!0),s.slideTo(newActiveIndex,0,!1)},s.removeSlide=function(slidesIndexes){s.params.loop&&(s.destroyLoop(),s.slides=s.wrapper.children("."+s.params.slideClass));var indexToRemove,newActiveIndex=s.activeIndex;if("object"==typeof slidesIndexes&&slidesIndexes.length){for(var i=0;i<slidesIndexes.length;i++)indexToRemove=slidesIndexes[i],s.slides[indexToRemove]&&s.slides.eq(indexToRemove).remove(),indexToRemove<newActiveIndex&&newActiveIndex--;newActiveIndex=Math.max(newActiveIndex,0)}else indexToRemove=slidesIndexes,s.slides[indexToRemove]&&s.slides.eq(indexToRemove).remove(),indexToRemove<newActiveIndex&&newActiveIndex--,newActiveIndex=Math.max(newActiveIndex,0);s.params.loop&&s.createLoop(),s.params.observer&&s.support.observer||s.update(!0),s.params.loop?s.slideTo(newActiveIndex+s.loopedSlides,0,!1):s.slideTo(newActiveIndex,0,!1)},s.removeAllSlides=function(){for(var slidesIndexes=[],i=0;i<s.slides.length;i++)slidesIndexes.push(i);s.removeSlide(slidesIndexes)},s.effects={fade:{setTranslate:function(){for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i),offset=slide[0].swiperSlideOffset,tx=-offset;s.params.virtualTranslate||(tx-=s.translate);var ty=0;isH()||(ty=tx,tx=0);var slideOpacity=s.params.fade.crossFade?Math.max(1-Math.abs(slide[0].progress),0):1+Math.min(Math.max(slide[0].progress,-1),0);slide.css({opacity:slideOpacity}).transform("translate3d("+tx+"px, "+ty+"px, 0px)")}},setTransition:function(duration){if(s.slides.transition(duration),s.params.virtualTranslate&&0!==duration){var eventTriggered=!1;s.slides.transitionEnd(function(){if(!eventTriggered&&s){eventTriggered=!0,s.animating=!1;for(var triggerEvents=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<triggerEvents.length;i++)s.wrapper.trigger(triggerEvents[i])}})}}},cube:{setTranslate:function(){var cubeShadow,wrapperRotate=0;s.params.cube.shadow&&(isH()?(cubeShadow=s.wrapper.find(".swiper-cube-shadow"),0===cubeShadow.length&&(cubeShadow=$('<div class="swiper-cube-shadow"></div>'),s.wrapper.append(cubeShadow)),cubeShadow.css({height:s.width+"px"})):(cubeShadow=s.container.find(".swiper-cube-shadow"),0===cubeShadow.length&&(cubeShadow=$('<div class="swiper-cube-shadow"></div>'),s.container.append(cubeShadow))));for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i),slideAngle=90*i,round=Math.floor(slideAngle/360);s.rtl&&(slideAngle=-slideAngle,round=Math.floor(-slideAngle/360));var progress=Math.max(Math.min(slide[0].progress,1),-1),tx=0,ty=0,tz=0;i%4===0?(tx=4*-round*s.size,tz=0):(i-1)%4===0?(tx=0,tz=4*-round*s.size):(i-2)%4===0?(tx=s.size+4*round*s.size,tz=s.size):(i-3)%4===0&&(tx=-s.size,tz=3*s.size+4*s.size*round),s.rtl&&(tx=-tx),isH()||(ty=tx,tx=0);var transform="rotateX("+(isH()?0:-slideAngle)+"deg) rotateY("+(isH()?slideAngle:0)+"deg) translate3d("+tx+"px, "+ty+"px, "+tz+"px)";if(progress<=1&&progress>-1&&(wrapperRotate=90*i+90*progress,s.rtl&&(wrapperRotate=90*-i-90*progress)),slide.transform(transform),s.params.cube.slideShadows){var shadowBefore=isH()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top"),shadowAfter=isH()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");0===shadowBefore.length&&(shadowBefore=$('<div class="swiper-slide-shadow-'+(isH()?"left":"top")+'"></div>'),slide.append(shadowBefore)),0===shadowAfter.length&&(shadowAfter=$('<div class="swiper-slide-shadow-'+(isH()?"right":"bottom")+'"></div>'),slide.append(shadowAfter));slide[0].progress;shadowBefore.length&&(shadowBefore[0].style.opacity=-slide[0].progress),shadowAfter.length&&(shadowAfter[0].style.opacity=slide[0].progress)}}if(s.wrapper.css({"-webkit-transform-origin":"50% 50% -"+s.size/2+"px","-moz-transform-origin":"50% 50% -"+s.size/2+"px","-ms-transform-origin":"50% 50% -"+s.size/2+"px","transform-origin":"50% 50% -"+s.size/2+"px"}),s.params.cube.shadow)if(isH())cubeShadow.transform("translate3d(0px, "+(s.width/2+s.params.cube.shadowOffset)+"px, "+-s.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+s.params.cube.shadowScale+")");else{var shadowAngle=Math.abs(wrapperRotate)-90*Math.floor(Math.abs(wrapperRotate)/90),multiplier=1.5-(Math.sin(2*shadowAngle*Math.PI/360)/2+Math.cos(2*shadowAngle*Math.PI/360)/2),scale1=s.params.cube.shadowScale,scale2=s.params.cube.shadowScale/multiplier,offset=s.params.cube.shadowOffset;cubeShadow.transform("scale3d("+scale1+", 1, "+scale2+") translate3d(0px, "+(s.height/2+offset)+"px, "+-s.height/2/scale2+"px) rotateX(-90deg)")}var zFactor=s.isSafari||s.isUiWebView?-s.size/2:0;s.wrapper.transform("translate3d(0px,0,"+zFactor+"px) rotateX("+(isH()?0:wrapperRotate)+"deg) rotateY("+(isH()?-wrapperRotate:0)+"deg)")},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration),s.params.cube.shadow&&!isH()&&s.container.find(".swiper-cube-shadow").transition(duration)}},coverflow:{setTranslate:function(){for(var transform=s.translate,center=isH()?-transform+s.width/2:-transform+s.height/2,rotate=isH()?s.params.coverflow.rotate:-s.params.coverflow.rotate,translate=s.params.coverflow.depth,i=0,length=s.slides.length;i<length;i++){var slide=s.slides.eq(i),slideSize=s.slidesSizesGrid[i],slideOffset=slide[0].swiperSlideOffset,offsetMultiplier=(center-slideOffset-slideSize/2)/slideSize*s.params.coverflow.modifier,rotateY=isH()?rotate*offsetMultiplier:0,rotateX=isH()?0:rotate*offsetMultiplier,translateZ=-translate*Math.abs(offsetMultiplier),translateY=isH()?0:s.params.coverflow.stretch*offsetMultiplier,translateX=isH()?s.params.coverflow.stretch*offsetMultiplier:0;Math.abs(translateX)<.001&&(translateX=0),Math.abs(translateY)<.001&&(translateY=0),Math.abs(translateZ)<.001&&(translateZ=0),Math.abs(rotateY)<.001&&(rotateY=0),Math.abs(rotateX)<.001&&(rotateX=0);var slideTransform="translate3d("+translateX+"px,"+translateY+"px,"+translateZ+"px)  rotateX("+rotateX+"deg) rotateY("+rotateY+"deg)";if(slide.transform(slideTransform),slide[0].style.zIndex=-Math.abs(Math.round(offsetMultiplier))+1,s.params.coverflow.slideShadows){var shadowBefore=isH()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top"),shadowAfter=isH()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");0===shadowBefore.length&&(shadowBefore=$('<div class="swiper-slide-shadow-'+(isH()?"left":"top")+'"></div>'),slide.append(shadowBefore)),0===shadowAfter.length&&(shadowAfter=$('<div class="swiper-slide-shadow-'+(isH()?"right":"bottom")+'"></div>'),slide.append(shadowAfter)),shadowBefore.length&&(shadowBefore[0].style.opacity=offsetMultiplier>0?offsetMultiplier:0),shadowAfter.length&&(shadowAfter[0].style.opacity=-offsetMultiplier>0?-offsetMultiplier:0)}}if(s.browser.ie){var ws=s.wrapper[0].style;ws.perspectiveOrigin=center+"px 50%"}},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration)}}},s.lazy={initialImageLoaded:!1,loadImageInSlide:function(index,loadInDuplicate){if("undefined"!=typeof index&&("undefined"==typeof loadInDuplicate&&(loadInDuplicate=!0),0!==s.slides.length)){var slide=s.slides.eq(index),img=slide.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!slide.hasClass("swiper-lazy")||slide.hasClass("swiper-lazy-loaded")||slide.hasClass("swiper-lazy-loading")||img.add(slide[0]),0!==img.length&&img.each(function(){var _img=$(this);_img.addClass("swiper-lazy-loading");var background=_img.attr("data-background"),src=_img.attr("data-src");s.loadImage(_img[0],src||background,!1,function(){if(background?(_img.css("background-image","url("+background+")"),_img.removeAttr("data-background")):(_img.attr("src",src),_img.removeAttr("data-src")),_img.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),slide.find(".swiper-lazy-preloader, .preloader").remove(),s.params.loop&&loadInDuplicate){var slideOriginalIndex=slide.attr("data-swiper-slide-index");if(slide.hasClass(s.params.slideDuplicateClass)){var originalSlide=s.wrapper.children('[data-swiper-slide-index="'+slideOriginalIndex+'"]:not(.'+s.params.slideDuplicateClass+")");s.lazy.loadImageInSlide(originalSlide.index(),!1)}else{var duplicatedSlide=s.wrapper.children("."+s.params.slideDuplicateClass+'[data-swiper-slide-index="'+slideOriginalIndex+'"]');s.lazy.loadImageInSlide(duplicatedSlide.index(),!1)}}s.emit("onLazyImageReady",s,slide[0],_img[0])}),s.emit("onLazyImageLoad",s,slide[0],_img[0])})}},load:function(){var i;if(s.params.watchSlidesVisibility)s.wrapper.children("."+s.params.slideVisibleClass).each(function(){s.lazy.loadImageInSlide($(this).index())});else if(s.params.slidesPerView>1)for(i=s.activeIndex;i<s.activeIndex+s.params.slidesPerView;i++)s.slides[i]&&s.lazy.loadImageInSlide(i);else s.lazy.loadImageInSlide(s.activeIndex);if(s.params.lazyLoadingInPrevNext)if(s.params.slidesPerView>1){for(i=s.activeIndex+s.params.slidesPerView;i<s.activeIndex+s.params.slidesPerView+s.params.slidesPerView;i++)s.slides[i]&&s.lazy.loadImageInSlide(i);for(i=s.activeIndex-s.params.slidesPerView;i<s.activeIndex;i++)s.slides[i]&&s.lazy.loadImageInSlide(i)}else{var nextSlide=s.wrapper.children("."+s.params.slideNextClass);nextSlide.length>0&&s.lazy.loadImageInSlide(nextSlide.index());var prevSlide=s.wrapper.children("."+s.params.slidePrevClass);prevSlide.length>0&&s.lazy.loadImageInSlide(prevSlide.index())}},onTransitionStart:function(){s.params.lazyLoading&&(s.params.lazyLoadingOnTransitionStart||!s.params.lazyLoadingOnTransitionStart&&!s.lazy.initialImageLoaded)&&s.lazy.load()},onTransitionEnd:function(){s.params.lazyLoading&&!s.params.lazyLoadingOnTransitionStart&&s.lazy.load()}},s.scrollbar={set:function(){if(s.params.scrollbar){var sb=s.scrollbar;sb.track=$(s.params.scrollbar),sb.drag=sb.track.find(".swiper-scrollbar-drag"),0===sb.drag.length&&(sb.drag=$('<div class="swiper-scrollbar-drag"></div>'),sb.track.append(sb.drag)),sb.drag[0].style.width="",sb.drag[0].style.height="",sb.trackSize=isH()?sb.track[0].offsetWidth:sb.track[0].offsetHeight,sb.divider=s.size/s.virtualSize,sb.moveDivider=sb.divider*(sb.trackSize/s.size),sb.dragSize=sb.trackSize*sb.divider,isH()?sb.drag[0].style.width=sb.dragSize+"px":sb.drag[0].style.height=sb.dragSize+"px",sb.divider>=1?sb.track[0].style.display="none":sb.track[0].style.display="",
s.params.scrollbarHide&&(sb.track[0].style.opacity=0)}},setTranslate:function(){if(s.params.scrollbar){var newPos,sb=s.scrollbar,newSize=(s.translate||0,sb.dragSize);newPos=(sb.trackSize-sb.dragSize)*s.progress,s.rtl&&isH()?(newPos=-newPos,newPos>0?(newSize=sb.dragSize-newPos,newPos=0):-newPos+sb.dragSize>sb.trackSize&&(newSize=sb.trackSize+newPos)):newPos<0?(newSize=sb.dragSize+newPos,newPos=0):newPos+sb.dragSize>sb.trackSize&&(newSize=sb.trackSize-newPos),isH()?(s.support.transforms3d?sb.drag.transform("translate3d("+newPos+"px, 0, 0)"):sb.drag.transform("translateX("+newPos+"px)"),sb.drag[0].style.width=newSize+"px"):(s.support.transforms3d?sb.drag.transform("translate3d(0px, "+newPos+"px, 0)"):sb.drag.transform("translateY("+newPos+"px)"),sb.drag[0].style.height=newSize+"px"),s.params.scrollbarHide&&(clearTimeout(sb.timeout),sb.track[0].style.opacity=1,sb.timeout=setTimeout(function(){sb.track[0].style.opacity=0,sb.track.transition(400)},1e3))}},setTransition:function(duration){s.params.scrollbar&&s.scrollbar.drag.transition(duration)}},s.controller={LinearSpline:function(x,y){this.x=x,this.y=y,this.lastIndex=x.length-1;var i1,i3;this.x.length;this.interpolate=function(x2){return x2?(i3=binarySearch(this.x,x2),i1=i3-1,(x2-this.x[i1])*(this.y[i3]-this.y[i1])/(this.x[i3]-this.x[i1])+this.y[i1]):0};var binarySearch=function(){var maxIndex,minIndex,guess;return function(array,val){for(minIndex=-1,maxIndex=array.length;maxIndex-minIndex>1;)array[guess=maxIndex+minIndex>>1]<=val?minIndex=guess:maxIndex=guess;return maxIndex}}()},getInterpolateFunction:function(c){s.controller.spline||(s.controller.spline=s.params.loop?new s.controller.LinearSpline(s.slidesGrid,c.slidesGrid):new s.controller.LinearSpline(s.snapGrid,c.snapGrid))},setTranslate:function(translate,byController){function setControlledTranslate(c){translate=c.rtl&&"horizontal"===c.params.direction?-s.translate:s.translate,"slide"===s.params.controlBy&&(s.controller.getInterpolateFunction(c),controlledTranslate=-s.controller.spline.interpolate(-translate)),controlledTranslate&&"container"!==s.params.controlBy||(multiplier=(c.maxTranslate()-c.minTranslate())/(s.maxTranslate()-s.minTranslate()),controlledTranslate=(translate-s.minTranslate())*multiplier+c.minTranslate()),s.params.controlInverse&&(controlledTranslate=c.maxTranslate()-controlledTranslate),c.updateProgress(controlledTranslate),c.setWrapperTranslate(controlledTranslate,!1,s),c.updateActiveIndex()}var multiplier,controlledTranslate,controlled=s.params.control;if(s.isArray(controlled))for(var i=0;i<controlled.length;i++)controlled[i]!==byController&&controlled[i]instanceof Swiper&&setControlledTranslate(controlled[i]);else controlled instanceof Swiper&&byController!==controlled&&setControlledTranslate(controlled)},setTransition:function(duration,byController){function setControlledTransition(c){c.setWrapperTransition(duration,s),0!==duration&&(c.onTransitionStart(),c.wrapper.transitionEnd(function(){controlled&&(c.params.loop&&"slide"===s.params.controlBy&&c.fixLoop(),c.onTransitionEnd())}))}var i,controlled=s.params.control;if(s.isArray(controlled))for(i=0;i<controlled.length;i++)controlled[i]!==byController&&controlled[i]instanceof Swiper&&setControlledTransition(controlled[i]);else controlled instanceof Swiper&&byController!==controlled&&setControlledTransition(controlled)}},s.hashnav={init:function(){if(s.params.hashnav){s.hashnav.initialized=!0;var hash=document.location.hash.replace("#","");if(hash)for(var speed=0,i=0,length=s.slides.length;i<length;i++){var slide=s.slides.eq(i),slideHash=slide.attr("data-hash");if(slideHash===hash&&!slide.hasClass(s.params.slideDuplicateClass)){var index=slide.index();s.slideTo(index,speed,s.params.runCallbacksOnInit,!0)}}}},setHash:function(){s.hashnav.initialized&&s.params.hashnav&&(document.location.hash=s.slides.eq(s.activeIndex).attr("data-hash")||"")}},s.disableKeyboardControl=function(){$(document).off("keydown",handleKeyboard)},s.enableKeyboardControl=function(){$(document).on("keydown",handleKeyboard)},s.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},s.params.mousewheelControl){try{new window.WheelEvent("wheel"),s.mousewheel.event="wheel"}catch(e){}s.mousewheel.event||void 0===document.onmousewheel||(s.mousewheel.event="mousewheel"),s.mousewheel.event||(s.mousewheel.event="DOMMouseScroll")}s.disableMousewheelControl=function(){return!!s.mousewheel.event&&(s.container.off(s.mousewheel.event,handleMousewheel),!0)},s.enableMousewheelControl=function(){return!!s.mousewheel.event&&(s.container.on(s.mousewheel.event,handleMousewheel),!0)},s.parallax={setTranslate:function(){s.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){setParallaxTransform(this,s.progress)}),s.slides.each(function(){var slide=$(this);slide.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var progress=Math.min(Math.max(slide[0].progress,-1),1);setParallaxTransform(this,progress)})})},setTransition:function(duration){"undefined"==typeof duration&&(duration=s.params.speed),s.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var el=$(this),parallaxDuration=parseInt(el.attr("data-swiper-parallax-duration"),10)||duration;0===duration&&(parallaxDuration=0),el.transition(parallaxDuration)})}},s._plugins=[];for(var plugin in s.plugins){var p=s.plugins[plugin](s,s.params[plugin]);p&&s._plugins.push(p)}return s.callPlugins=function(eventName){for(var i=0;i<s._plugins.length;i++)eventName in s._plugins[i]&&s._plugins[i][eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},s.emitterEventListeners={},s.emit=function(eventName){s.params[eventName]&&s.params[eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var i;if(s.emitterEventListeners[eventName])for(i=0;i<s.emitterEventListeners[eventName].length;i++)s.emitterEventListeners[eventName][i](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);s.callPlugins&&s.callPlugins(eventName,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},s.on=function(eventName,handler){return eventName=normalizeEventName(eventName),s.emitterEventListeners[eventName]||(s.emitterEventListeners[eventName]=[]),s.emitterEventListeners[eventName].push(handler),s},s.off=function(eventName,handler){var i;if(eventName=normalizeEventName(eventName),"undefined"==typeof handler)return s.emitterEventListeners[eventName]=[],s;if(s.emitterEventListeners[eventName]&&0!==s.emitterEventListeners[eventName].length){for(i=0;i<s.emitterEventListeners[eventName].length;i++)s.emitterEventListeners[eventName][i]===handler&&s.emitterEventListeners[eventName].splice(i,1);return s}},s.once=function(eventName,handler){eventName=normalizeEventName(eventName);var _handler=function(){handler(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),s.off(eventName,_handler)};return s.on(eventName,_handler),s},s.a11y={makeFocusable:function($el){return $el.attr("tabIndex","0"),$el},addRole:function($el,role){return $el.attr("role",role),$el},addLabel:function($el,label){return $el.attr("aria-label",label),$el},disable:function($el){return $el.attr("aria-disabled",!0),$el},enable:function($el){return $el.attr("aria-disabled",!1),$el},onEnterKey:function(event){13===event.keyCode&&($(event.target).is(s.params.nextButton)?(s.onClickNext(event),s.isEnd?s.a11y.notify(s.params.lastSlideMessage):s.a11y.notify(s.params.nextSlideMessage)):$(event.target).is(s.params.prevButton)&&(s.onClickPrev(event),s.isBeginning?s.a11y.notify(s.params.firstSlideMessage):s.a11y.notify(s.params.prevSlideMessage)),$(event.target).is("."+s.params.bulletClass)&&$(event.target)[0].click())},liveRegion:$('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(message){var notification=s.a11y.liveRegion;0!==notification.length&&(notification.html(""),notification.html(message))},init:function(){if(s.params.nextButton){var nextButton=$(s.params.nextButton);s.a11y.makeFocusable(nextButton),s.a11y.addRole(nextButton,"button"),s.a11y.addLabel(nextButton,s.params.nextSlideMessage)}if(s.params.prevButton){var prevButton=$(s.params.prevButton);s.a11y.makeFocusable(prevButton),s.a11y.addRole(prevButton,"button"),s.a11y.addLabel(prevButton,s.params.prevSlideMessage)}$(s.container).append(s.a11y.liveRegion)},initPagination:function(){s.params.pagination&&s.params.paginationClickable&&s.bullets&&s.bullets.length&&s.bullets.each(function(){var bullet=$(this);s.a11y.makeFocusable(bullet),s.a11y.addRole(bullet,"button"),s.a11y.addLabel(bullet,s.params.paginationBulletMessage.replace(/{{index}}/,bullet.index()+1))})},destroy:function(){s.a11y.liveRegion&&s.a11y.liveRegion.length>0&&s.a11y.liveRegion.remove()}},s.init=function(){s.params.loop&&s.createLoop(),s.updateContainerSize(),s.updateSlidesSize(),s.updatePagination(),s.params.scrollbar&&s.scrollbar&&s.scrollbar.set(),"slide"!==s.params.effect&&s.effects[s.params.effect]&&(s.params.loop||s.updateProgress(),s.effects[s.params.effect].setTranslate()),s.params.loop?s.slideTo(s.params.initialSlide+s.loopedSlides,0,s.params.runCallbacksOnInit):(s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit),0===s.params.initialSlide&&(s.parallax&&s.params.parallax&&s.parallax.setTranslate(),s.lazy&&s.params.lazyLoading&&(s.lazy.load(),s.lazy.initialImageLoaded=!0))),s.attachEvents(),s.params.observer&&s.support.observer&&s.initObservers(),s.params.preloadImages&&!s.params.lazyLoading&&s.preloadImages(),s.params.autoplay&&s.startAutoplay(),s.params.keyboardControl&&s.enableKeyboardControl&&s.enableKeyboardControl(),s.params.mousewheelControl&&s.enableMousewheelControl&&s.enableMousewheelControl(),s.params.hashnav&&s.hashnav&&s.hashnav.init(),s.params.a11y&&s.a11y&&s.a11y.init(),s.emit("onInit",s)},s.cleanupStyles=function(){s.container.removeClass(s.classNames.join(" ")).removeAttr("style"),s.wrapper.removeAttr("style"),s.slides&&s.slides.length&&s.slides.removeClass([s.params.slideVisibleClass,s.params.slideActiveClass,s.params.slideNextClass,s.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),s.paginationContainer&&s.paginationContainer.length&&s.paginationContainer.removeClass(s.params.paginationHiddenClass),s.bullets&&s.bullets.length&&s.bullets.removeClass(s.params.bulletActiveClass),s.params.prevButton&&$(s.params.prevButton).removeClass(s.params.buttonDisabledClass),s.params.nextButton&&$(s.params.nextButton).removeClass(s.params.buttonDisabledClass),s.params.scrollbar&&s.scrollbar&&(s.scrollbar.track&&s.scrollbar.track.length&&s.scrollbar.track.removeAttr("style"),s.scrollbar.drag&&s.scrollbar.drag.length&&s.scrollbar.drag.removeAttr("style"))},s.destroy=function(deleteInstance,cleanupStyles){s.detachEvents(),s.stopAutoplay(),s.params.loop&&s.destroyLoop(),cleanupStyles&&s.cleanupStyles(),s.disconnectObservers(),s.params.keyboardControl&&s.disableKeyboardControl&&s.disableKeyboardControl(),s.params.mousewheelControl&&s.disableMousewheelControl&&s.disableMousewheelControl(),s.params.a11y&&s.a11y&&s.a11y.destroy(),s.emit("onDestroy"),deleteInstance!==!1&&(s=null)},s.init(),s}}function addLibraryPlugin(lib){lib.fn.swiper=function(params){var firstInstance;return lib(this).each(function(){var s=new Swiper(this,params);firstInstance||(firstInstance=s)}),firstInstance}}var $;module.exports.Swiper=Swiper,Swiper.prototype={isSafari:function(){var ua=navigator.userAgent.toLowerCase();return ua.indexOf("safari")>=0&&ua.indexOf("chrome")<0&&ua.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(arr){return"[object Array]"===Object.prototype.toString.apply(arr)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var ua=navigator.userAgent,android=ua.match(/(Android);?[\s\/]+([\d.]+)?/),ipad=ua.match(/(iPad).*OS\s([\d_]+)/),ipod=ua.match(/(iPod)(.*OS\s([\d_]+))?/),iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:ipad||iphone||ipod,android:android}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var div=document.createElement("div").style;return"webkitPerspective"in div||"MozPerspective"in div||"OPerspective"in div||"MsPerspective"in div||"perspective"in div}(),flexbox:function(){for(var div=document.createElement("div").style,styles="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<styles.length;i++)if(styles[i]in div)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var Dom7=(function(){var Dom7=function(arr){var _this=this,i=0;for(i=0;i<arr.length;i++)_this[i]=arr[i];return _this.length=arr.length,this},$=function(selector,context){var arr=[],i=0;if(selector&&!context&&selector instanceof Dom7)return selector;if(selector)if("string"==typeof selector){var els,tempParent,html=selector.trim();if(html.indexOf("<")>=0&&html.indexOf(">")>=0){var toCreate="div";for(0===html.indexOf("<li")&&(toCreate="ul"),0===html.indexOf("<tr")&&(toCreate="tbody"),0!==html.indexOf("<td")&&0!==html.indexOf("<th")||(toCreate="tr"),0===html.indexOf("<tbody")&&(toCreate="table"),0===html.indexOf("<option")&&(toCreate="select"),tempParent=document.createElement(toCreate),tempParent.innerHTML=selector,i=0;i<tempParent.childNodes.length;i++)arr.push(tempParent.childNodes[i])}else for(els=context||"#"!==selector[0]||selector.match(/[ .<>:~]/)?(context||document).querySelectorAll(selector):[document.getElementById(selector.split("#")[1])],i=0;i<els.length;i++)els[i]&&arr.push(els[i])}else if(selector.nodeType||selector===window||selector===document)arr.push(selector);else if(selector.length>0&&selector[0].nodeType)for(i=0;i<selector.length;i++)arr.push(selector[i]);return new Dom7(arr)};return Dom7.prototype={addClass:function(className){if("undefined"==typeof className)return this;for(var classes=className.split(" "),i=0;i<classes.length;i++)for(var j=0;j<this.length;j++)this[j].classList.add(classes[i]);return this},removeClass:function(className){for(var classes=className.split(" "),i=0;i<classes.length;i++)for(var j=0;j<this.length;j++)this[j].classList.remove(classes[i]);return this},hasClass:function(className){return!!this[0]&&this[0].classList.contains(className)},toggleClass:function(className){for(var classes=className.split(" "),i=0;i<classes.length;i++)for(var j=0;j<this.length;j++)this[j].classList.toggle(classes[i]);return this},attr:function(attrs,value){if(1===arguments.length&&"string"==typeof attrs)return this[0]?this[0].getAttribute(attrs):void 0;for(var i=0;i<this.length;i++)if(2===arguments.length)this[i].setAttribute(attrs,value);else for(var attrName in attrs)this[i][attrName]=attrs[attrName],this[i].setAttribute(attrName,attrs[attrName]);return this},removeAttr:function(attr){for(var i=0;i<this.length;i++)this[i].removeAttribute(attr);return this},data:function(key,value){if("undefined"!=typeof value){for(var i=0;i<this.length;i++){var el=this[i];el.dom7ElementDataStorage||(el.dom7ElementDataStorage={}),el.dom7ElementDataStorage[key]=value}return this}if(this[0]){var dataKey=this[0].getAttribute("data-"+key);return dataKey?dataKey:this[0].dom7ElementDataStorage&&key in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[key]:void 0}},transform:function(transform){for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransform=elStyle.MsTransform=elStyle.msTransform=elStyle.MozTransform=elStyle.OTransform=elStyle.transform=transform}return this},transition:function(duration){"string"!=typeof duration&&(duration+="ms");for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransitionDuration=elStyle.MsTransitionDuration=elStyle.msTransitionDuration=elStyle.MozTransitionDuration=elStyle.OTransitionDuration=elStyle.transitionDuration=duration}return this},on:function(eventName,targetSelector,listener,capture){function handleLiveEvent(e){var target=e.target;if($(target).is(targetSelector))listener.call(target,e);else for(var parents=$(target).parents(),k=0;k<parents.length;k++)$(parents[k]).is(targetSelector)&&listener.call(parents[k],e)}var i,j,events=eventName.split(" ");for(i=0;i<this.length;i++)if("function"==typeof targetSelector||targetSelector===!1)for("function"==typeof targetSelector&&(listener=arguments[1],capture=arguments[2]||!1),j=0;j<events.length;j++)this[i].addEventListener(events[j],listener,capture);else for(j=0;j<events.length;j++)this[i].dom7LiveListeners||(this[i].dom7LiveListeners=[]),this[i].dom7LiveListeners.push({listener:listener,liveListener:handleLiveEvent}),this[i].addEventListener(events[j],handleLiveEvent,capture);return this},off:function(eventName,targetSelector,listener,capture){for(var events=eventName.split(" "),i=0;i<events.length;i++)for(var j=0;j<this.length;j++)if("function"==typeof targetSelector||targetSelector===!1)"function"==typeof targetSelector&&(listener=arguments[1],capture=arguments[2]||!1),this[j].removeEventListener(events[i],listener,capture);else if(this[j].dom7LiveListeners)for(var k=0;k<this[j].dom7LiveListeners.length;k++)this[j].dom7LiveListeners[k].listener===listener&&this[j].removeEventListener(events[i],this[j].dom7LiveListeners[k].liveListener,capture);return this},once:function(eventName,targetSelector,listener,capture){function proxy(e){listener(e),dom.off(eventName,targetSelector,proxy,capture)}var dom=this;"function"==typeof targetSelector&&(targetSelector=!1,listener=arguments[1],capture=arguments[2]),dom.on(eventName,targetSelector,proxy,capture)},trigger:function(eventName,eventData){for(var i=0;i<this.length;i++){var evt;try{evt=new window.CustomEvent(eventName,{detail:eventData,bubbles:!0,cancelable:!0})}catch(e){evt=document.createEvent("Event"),evt.initEvent(eventName,!0,!0),evt.detail=eventData}this[i].dispatchEvent(evt)}return this},transitionEnd:function(callback){function fireCallBack(e){if(e.target===this)for(callback.call(this,e),i=0;i<events.length;i++)dom.off(events[i],fireCallBack)}var i,events=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],dom=this;if(callback)for(i=0;i<events.length;i++)dom.on(events[i],fireCallBack);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(includeMargins){return this.length>0?includeMargins?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(includeMargins){return this.length>0?includeMargins?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var el=this[0],box=el.getBoundingClientRect(),body=document.body,clientTop=el.clientTop||body.clientTop||0,clientLeft=el.clientLeft||body.clientLeft||0,scrollTop=window.pageYOffset||el.scrollTop,scrollLeft=window.pageXOffset||el.scrollLeft;return{top:box.top+scrollTop-clientTop,left:box.left+scrollLeft-clientLeft}}return null},css:function(props,value){var i;if(1===arguments.length){if("string"!=typeof props){for(i=0;i<this.length;i++)for(var prop in props)this[i].style[prop]=props[prop];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(props)}if(2===arguments.length&&"string"==typeof props){for(i=0;i<this.length;i++)this[i].style[props]=value;return this}return this},each:function(callback){for(var i=0;i<this.length;i++)callback.call(this[i],i,this[i]);return this},html:function(html){if("undefined"==typeof html)return this[0]?this[0].innerHTML:void 0;for(var i=0;i<this.length;i++)this[i].innerHTML=html;return this},is:function(selector){if(!this[0])return!1;var compareWith,i;if("string"==typeof selector){var el=this[0];if(el===document)return selector===document;if(el===window)return selector===window;if(el.matches)return el.matches(selector);if(el.webkitMatchesSelector)return el.webkitMatchesSelector(selector);if(el.mozMatchesSelector)return el.mozMatchesSelector(selector);if(el.msMatchesSelector)return el.msMatchesSelector(selector);for(compareWith=$(selector),i=0;i<compareWith.length;i++)if(compareWith[i]===this[0])return!0;return!1}if(selector===document)return this[0]===document;if(selector===window)return this[0]===window;if(selector.nodeType||selector instanceof Dom7){for(compareWith=selector.nodeType?[selector]:selector,i=0;i<compareWith.length;i++)if(compareWith[i]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var child=this[0],i=0;null!==(child=child.previousSibling);)1===child.nodeType&&i++;return i}},eq:function(index){if("undefined"==typeof index)return this;var returnIndex,length=this.length;return index>length-1?new Dom7([]):index<0?(returnIndex=length+index,new Dom7(returnIndex<0?[]:[this[returnIndex]])):new Dom7([this[index]])},append:function(newChild){var i,j;for(i=0;i<this.length;i++)if("string"==typeof newChild){var tempDiv=document.createElement("div");for(tempDiv.innerHTML=newChild;tempDiv.firstChild;)this[i].appendChild(tempDiv.firstChild)}else if(newChild instanceof Dom7)for(j=0;j<newChild.length;j++)this[i].appendChild(newChild[j]);else this[i].appendChild(newChild);return this},prepend:function(newChild){var i,j;for(i=0;i<this.length;i++)if("string"==typeof newChild){var tempDiv=document.createElement("div");for(tempDiv.innerHTML=newChild,j=tempDiv.childNodes.length-1;j>=0;j--)this[i].insertBefore(tempDiv.childNodes[j],this[i].childNodes[0])}else if(newChild instanceof Dom7)for(j=0;j<newChild.length;j++)this[i].insertBefore(newChild[j],this[i].childNodes[0]);else this[i].insertBefore(newChild,this[i].childNodes[0]);return this},insertBefore:function(selector){for(var before=$(selector),i=0;i<this.length;i++)if(1===before.length)before[0].parentNode.insertBefore(this[i],before[0]);else if(before.length>1)for(var j=0;j<before.length;j++)before[j].parentNode.insertBefore(this[i].cloneNode(!0),before[j])},insertAfter:function(selector){for(var after=$(selector),i=0;i<this.length;i++)if(1===after.length)after[0].parentNode.insertBefore(this[i],after[0].nextSibling);else if(after.length>1)for(var j=0;j<after.length;j++)after[j].parentNode.insertBefore(this[i].cloneNode(!0),after[j].nextSibling)},next:function(selector){return new Dom7(this.length>0?selector?this[0].nextElementSibling&&$(this[0].nextElementSibling).is(selector)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(selector){var nextEls=[],el=this[0];if(!el)return new Dom7([]);for(;el.nextElementSibling;){var next=el.nextElementSibling;selector?$(next).is(selector)&&nextEls.push(next):nextEls.push(next),el=next}return new Dom7(nextEls)},prev:function(selector){return new Dom7(this.length>0?selector?this[0].previousElementSibling&&$(this[0].previousElementSibling).is(selector)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(selector){var prevEls=[],el=this[0];if(!el)return new Dom7([]);for(;el.previousElementSibling;){var prev=el.previousElementSibling;selector?$(prev).is(selector)&&prevEls.push(prev):prevEls.push(prev),el=prev}return new Dom7(prevEls)},parent:function(selector){for(var parents=[],i=0;i<this.length;i++)selector?$(this[i].parentNode).is(selector)&&parents.push(this[i].parentNode):parents.push(this[i].parentNode);return $($.unique(parents))},parents:function(selector){for(var parents=[],i=0;i<this.length;i++)for(var parent=this[i].parentNode;parent;)selector?$(parent).is(selector)&&parents.push(parent):parents.push(parent),parent=parent.parentNode;return $($.unique(parents))},find:function(selector){for(var foundElements=[],i=0;i<this.length;i++)for(var found=this[i].querySelectorAll(selector),j=0;j<found.length;j++)foundElements.push(found[j]);return new Dom7(foundElements)},children:function(selector){for(var children=[],i=0;i<this.length;i++)for(var childNodes=this[i].childNodes,j=0;j<childNodes.length;j++)selector?1===childNodes[j].nodeType&&$(childNodes[j]).is(selector)&&children.push(childNodes[j]):1===childNodes[j].nodeType&&children.push(childNodes[j]);return new Dom7($.unique(children))},remove:function(){for(var i=0;i<this.length;i++)this[i].parentNode&&this[i].parentNode.removeChild(this[i]);return this},add:function(){var i,j,dom=this;for(i=0;i<arguments.length;i++){var toAdd=$(arguments[i]);for(j=0;j<toAdd.length;j++)dom[dom.length]=toAdd[j],dom.length++}return dom}},$.fn=Dom7.prototype,$.unique=function(arr){for(var unique=[],i=0;i<arr.length;i++)unique.indexOf(arr[i])===-1&&unique.push(arr[i]);return unique},$}()),swiperDomPlugins=["jQuery","Zepto","Dom7"],i=0;i<swiperDomPlugins.length;i++)window[swiperDomPlugins[i]]&&addLibraryPlugin(window[swiperDomPlugins[i]]);var domLib;domLib="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7,domLib&&("transitionEnd"in domLib.fn||(domLib.fn.transitionEnd=function(callback){function fireCallBack(e){if(e.target===this)for(callback.call(this,e),i=0;i<events.length;i++)dom.off(events[i],fireCallBack)}var i,events=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],dom=this;if(callback)for(i=0;i<events.length;i++)dom.on(events[i],fireCallBack);return this}),"transform"in domLib.fn||(domLib.fn.transform=function(transform){for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransform=elStyle.MsTransform=elStyle.msTransform=elStyle.MozTransform=elStyle.OTransform=elStyle.transform=transform}return this}),"transition"in domLib.fn||(domLib.fn.transition=function(duration){"string"!=typeof duration&&(duration+="ms");for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransitionDuration=elStyle.MsTransitionDuration=elStyle.msTransitionDuration=elStyle.MozTransitionDuration=elStyle.OTransitionDuration=elStyle.transitionDuration=duration}return this}))},{}],479:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),common_1=require("@angular/common"),config_1=require("../../config/config"),Spinner=function(){function Spinner(_config){this._config=_config,this._dur=null,this.paused=!1}return Object.defineProperty(Spinner.prototype,"name",{get:function(){return this._name},set:function(val){this._name=val,this.load()},enumerable:!0,configurable:!0}),Object.defineProperty(Spinner.prototype,"duration",{get:function(){return this._dur},set:function(val){this._dur=val,this.load()},enumerable:!0,configurable:!0}),Spinner.prototype.ngOnInit=function(){this._init=!0,this.load()},Spinner.prototype.load=function(){if(this._init){this._l=[],this._c=[];var name=this._name||this._config.get("spinner","ios"),spinner=SPINNERS[name];if(spinner)if(this._applied="spinner-"+name,spinner.lines)for(var i=0,l=spinner.lines;i<l;i++)this._l.push(this._loadEle(spinner,i,l));else if(spinner.circles)for(var i=0,l=spinner.circles;i<l;i++)this._c.push(this._loadEle(spinner,i,l))}},Spinner.prototype._loadEle=function(spinner,index,total){var duration=this._dur||spinner.dur,data=spinner.fn(duration,index,total);return data.style.animationDuration=duration+"ms",data},__decorate([core_1.Input(),__metadata("design:type",String)],Spinner.prototype,"name",null),__decorate([core_1.Input(),__metadata("design:type",Number)],Spinner.prototype,"duration",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Spinner.prototype,"paused",void 0),Spinner=__decorate([core_1.Component({selector:"ion-spinner",template:'\n    <svg viewBox="0 0 64 64" *ngFor="let i of _c" [ngStyle]="i.style">\n     <circle [attr.r]="i.r" transform="translate(32,32)"></circle>\n    </svg>\n    <svg viewBox="0 0 64 64" *ngFor="let i of _l" [ngStyle]="i.style">\n     <line [attr.y1]="i.y1" [attr.y2]="i.y2" transform="translate(32,32)"></line>\n    </svg>\n  ',directives:[common_1.NgFor,common_1.NgStyle],host:{"[class]":"_applied","[class.spinner-paused]":"paused"},changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[config_1.Config])],Spinner)}();exports.Spinner=Spinner;var SPINNERS={ios:{dur:1e3,lines:12,fn:function(dur,index,total){return{y1:17,y2:29,style:{transform:"rotate("+(30*index+(index<6?180:-180))+"deg)",animationDelay:-(dur-dur/total*index)+"ms"}}}},"ios-small":{dur:1e3,lines:12,fn:function(dur,index,total){return{y1:12,y2:20,style:{transform:"rotate("+(30*index+(index<6?180:-180))+"deg)",animationDelay:-(dur-dur/total*index)+"ms"}}}},bubbles:{dur:1e3,circles:9,fn:function(dur,index,total){return{r:5,style:{top:9*Math.sin(2*Math.PI*index/total),left:9*Math.cos(2*Math.PI*index/total),animationDelay:-(dur-dur/total*index)+"ms"}}}},circles:{dur:1e3,circles:8,fn:function(dur,index,total){return{r:5,style:{top:9*Math.sin(2*Math.PI*index/total),left:9*Math.cos(2*Math.PI*index/total),animationDelay:-(dur-dur/total*index)+"ms"}}}},crescent:{dur:750,circles:1,fn:function(dur){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(dur,index,total){return{r:6,style:{left:9-9*index,animationDelay:-(110*index)+"ms"}}}}}},{"../../config/config":497,"@angular/common":20,"@angular/core":167}],480:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),config_1=require("../../config/config"),ion_1=require("../ion"),tab_1=require("./tab"),TabButton=function(_super){function TabButton(config,elementRef){_super.call(this,elementRef),this.ionSelect=new core_1.EventEmitter,this.disHover=config.get("hoverCSS")===!1,this.layout=config.get("tabsLayout"),void 0!==config.get("tabbarLayout")&&(this.layout=config.get("tabbarLayout"))}return __extends(TabButton,_super),TabButton.prototype.ngOnInit=function(){this.tab.btn=this,this.layout=this.tab.parent.tabsLayout||this.layout,this.hasTitle=!!this.tab.tabTitle,this.hasIcon=!!this.tab.tabIcon&&"icon-hide"!==this.layout,
this.hasTitleOnly=this.hasTitle&&!this.hasIcon,this.hasIconOnly=this.hasIcon&&!this.hasTitle,this.hasBadge=!!this.tab.tabBadge},TabButton.prototype.onClick=function(ev){this.ionSelect.emit(this.tab),ev.preventDefault()},__decorate([core_1.Input(),__metadata("design:type",tab_1.Tab)],TabButton.prototype,"tab",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],TabButton.prototype,"ionSelect",void 0),__decorate([core_1.HostListener("click",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[UIEvent]),__metadata("design:returntype",void 0)],TabButton.prototype,"onClick",null),TabButton=__decorate([core_1.Directive({selector:".tab-button",host:{"[attr.id]":"tab._btnId","[attr.aria-controls]":"tab._tabId","[attr.aria-selected]":"tab.isSelected","[class.has-title]":"hasTitle","[class.has-icon]":"hasIcon","[class.has-title-only]":"hasTitleOnly","[class.icon-only]":"hasIconOnly","[class.has-badge]":"hasBadge","[class.disable-hover]":"disHover"}}),__metadata("design:paramtypes",[config_1.Config,core_1.ElementRef])],TabButton)}(ion_1.Ion);exports.TabButton=TabButton},{"../../config/config":497,"../ion":433,"./tab":482,"@angular/core":167}],481:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),dom_1=require("../../util/dom"),TabHighlight=function(){function TabHighlight(_elementRef){this._elementRef=_elementRef}return TabHighlight.prototype.select=function(tab){var _this=this;dom_1.rafFrames(3,function(){var d=tab.btn.getDimensions(),ele=_this._elementRef.nativeElement;ele.style.transform="translate3d("+d.left+"px,0,0) scaleX("+d.width+")",_this._init||(_this._init=!0,dom_1.rafFrames(6,function(){ele.classList.add("animate")}))})},TabHighlight=__decorate([core_1.Directive({selector:"tab-highlight"}),__metadata("design:paramtypes",[core_1.ElementRef])],TabHighlight)}();exports.TabHighlight=TabHighlight},{"../../util/dom":527,"@angular/core":167}],482:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),app_1=require("../app/app"),config_1=require("../../config/config"),gesture_controller_1=require("../../gestures/gesture-controller"),util_1=require("../../util/util"),keyboard_1=require("../../util/keyboard"),nav_controller_base_1=require("../nav/nav-controller-base"),tabs_1=require("./tabs"),Tab=function(_super){function Tab(parent,app,config,keyboard,elementRef,zone,renderer,compiler,_cd,gestureCtrl){_super.call(this,parent,app,config,keyboard,elementRef,zone,renderer,compiler,gestureCtrl),this.parent=parent,this._cd=_cd,this._isEnabled=!0,this._isShown=!0,this.ionSelect=new core_1.EventEmitter,parent.add(this),this._tabId="tabpanel-"+this.id,this._btnId="tab-"+this.id}return __extends(Tab,_super),Object.defineProperty(Tab.prototype,"enabled",{get:function(){return this._isEnabled},set:function(val){this._isEnabled=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Object.defineProperty(Tab.prototype,"show",{get:function(){return this._isShown},set:function(val){this._isShown=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Object.defineProperty(Tab.prototype,"swipeBackEnabled",{get:function(){return this._sbEnabled},set:function(val){this._sbEnabled=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Object.defineProperty(Tab.prototype,"_vp",{set:function(val){this.setViewport(val)},enumerable:!0,configurable:!0}),Tab.prototype.ngOnInit=function(){this.tabBadgeStyle=this.tabBadgeStyle?this.tabBadgeStyle:"default"},Tab.prototype.load=function(opts,done){!this._loaded&&this.root?(this.push(this.root,this.rootParams,opts,function(){done(!0)}),this._loaded=!0):done(!1)},Tab.prototype.preload=function(wait){var _this=this;this._loadTmr=setTimeout(function(){_this._loaded||_this.load({animate:!1,preload:!0},function(){})},wait)},Tab.prototype.loadPage=function(viewCtrl,viewport,opts,done){var _this=this,isTabSubPage=this.parent.subPages&&viewCtrl.index>0;isTabSubPage&&(viewport=this.parent.portal),_super.prototype.loadPage.call(this,viewCtrl,viewport,opts,function(){if(isTabSubPage){var pageEleRef=viewCtrl.pageRef();pageEleRef&&_this._renderer.setElementClass(pageEleRef.nativeElement,"tab-subpage",!0)}done()})},Tab.prototype.setSelected=function(isSelected){this.isSelected=isSelected,isSelected?this._cd.reattach():this._cd.detach()},Object.defineProperty(Tab.prototype,"index",{get:function(){return this.parent.getIndex(this)},enumerable:!0,configurable:!0}),Tab.prototype.ngOnDestroy=function(){clearTimeout(this._loadTmr),_super.prototype.ngOnDestroy.call(this)},__decorate([core_1.Input(),__metadata("design:type",Object)],Tab.prototype,"root",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Tab.prototype,"rootParams",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Tab.prototype,"tabTitle",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Tab.prototype,"tabIcon",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Tab.prototype,"tabBadge",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Tab.prototype,"tabBadgeStyle",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Tab.prototype,"enabled",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Tab.prototype,"show",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Tab.prototype,"swipeBackEnabled",null),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Tab.prototype,"ionSelect",void 0),__decorate([core_1.ViewChild("viewport",{read:core_1.ViewContainerRef}),__metadata("design:type",core_1.ViewContainerRef),__metadata("design:paramtypes",[core_1.ViewContainerRef])],Tab.prototype,"_vp",null),Tab=__decorate([core_1.Component({selector:"ion-tab",host:{"[class.show-tab]":"isSelected","[attr.id]":"_tabId","[attr.aria-labelledby]":"_btnId",role:"tabpanel"},template:'<div #viewport></div><div class="nav-decor"></div>',encapsulation:core_1.ViewEncapsulation.None}),__param(0,core_1.Inject(core_1.forwardRef(function(){return tabs_1.Tabs}))),__metadata("design:paramtypes",[tabs_1.Tabs,app_1.App,config_1.Config,keyboard_1.Keyboard,core_1.ElementRef,core_1.NgZone,core_1.Renderer,core_1.ComponentResolver,core_1.ChangeDetectorRef,gesture_controller_1.GestureController])],Tab)}(nav_controller_base_1.NavControllerBase);exports.Tab=Tab},{"../../config/config":497,"../../gestures/gesture-controller":503,"../../util/keyboard":532,"../../util/util":535,"../app/app":419,"../nav/nav-controller-base":451,"./tabs":483,"@angular/core":167}],483:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),common_1=require("@angular/common"),app_1=require("../app/app"),badge_1=require("../badge/badge"),config_1=require("../../config/config"),content_1=require("../content/content"),icon_1=require("../icon/icon"),ion_1=require("../ion"),util_1=require("../../util/util"),dom_1=require("../../util/dom"),nav_controller_1=require("../nav/nav-controller"),platform_1=require("../../platform/platform"),tab_button_1=require("./tab-button"),tab_highlight_1=require("./tab-highlight"),view_controller_1=require("../nav/view-controller"),Tabs=function(_super){function Tabs(parent,viewCtrl,_app,_config,_elementRef,_platform,_renderer){var _this=this;_super.call(this,_elementRef),this.viewCtrl=viewCtrl,this._app=_app,this._config=_config,this._elementRef=_elementRef,this._platform=_platform,this._renderer=_renderer,this._ids=-1,this._tabs=[],this._onReady=null,this.selectHistory=[],this.ionChange=new core_1.EventEmitter,this.parent=parent,this.id="t"+ ++tabIds,this._sbPadding=_config.getBoolean("statusbarPadding"),this.subPages=_config.getBoolean("tabsHideOnSubPages"),this.tabsHighlight=_config.getBoolean("tabsHighlight"),null!==_config.get("tabSubPages")&&(this.subPages=_config.getBoolean("tabSubPages")),null!==_config.get("tabbarHighlight")&&(this.tabsHighlight=_config.getBoolean("tabbarHighlight")),this.parent?this.parent.registerChildNav(this):viewCtrl&&viewCtrl.getNav()?(this.parent=viewCtrl.getNav(),this.parent.registerChildNav(this)):this._app&&this._app.setRootNav(this),viewCtrl&&(viewCtrl.setContent(this),viewCtrl.setContentRef(_elementRef),viewCtrl.loaded=function(done){_this._onReady=done})}return __extends(Tabs,_super),Tabs.prototype.ngAfterViewInit=function(){var _this=this;this._setConfig("tabsPlacement","bottom"),this._setConfig("tabsLayout","icon-top"),this._setConfig("tabsHighlight",this.tabsHighlight),this._setConfig("tabbarPlacement","bottom"),this._setConfig("tabbarLayout","icon-top"),void 0!==this.tabbarPlacement&&(this._renderer.setElementAttribute(this._elementRef.nativeElement,"tabsPlacement",this.tabbarPlacement),this.tabsPlacement=this.tabbarPlacement),null!==this._config.get("tabbarPlacement")&&this._renderer.setElementAttribute(this._elementRef.nativeElement,"tabsPlacement",this._config.get("tabbarPlacement")),void 0!==this.tabbarLayout&&(this._renderer.setElementAttribute(this._elementRef.nativeElement,"tabsLayout",this.tabbarLayout),this.tabsLayout=this.tabbarLayout),null!==this._config.get("tabbarLayout")&&this._renderer.setElementAttribute(this._elementRef.nativeElement,"tabsLayout",this._config.get("tabsLayout")),this.tabsHighlight&&this._platform.onResize(function(){_this._highlight.select(_this.getSelected())}),this.initTabs()},Tabs.prototype.initTabs=function(){var _this=this,selectedIndex=util_1.isBlank(this.selectedIndex)?0:parseInt(this.selectedIndex,10),selectedTab=this._tabs.find(function(t,i){return i===selectedIndex&&t.enabled&&t.show});selectedTab||(selectedTab=this._tabs.find(function(t){return t.enabled&&t.show})),selectedTab&&this.select(selectedTab);var shouldPreloadTabs=util_1.isBlank(this.preloadTabs)?this._config.getBoolean("preloadTabs"):util_1.isTrueProperty(this.preloadTabs);shouldPreloadTabs&&this._tabs.filter(function(t){return t!==selectedTab}).forEach(function(tab,index){tab.preload(_this._config.getNumber("tabsPreloadDelay",1e3)*index)})},Tabs.prototype._setConfig=function(attrKey,fallback){var val=this[attrKey];util_1.isBlank(val)&&(val=this._config.get(attrKey,fallback)),this._renderer.setElementAttribute(this._elementRef.nativeElement,attrKey,val)},Tabs.prototype.add=function(tab){tab.id=this.id+"-"+ ++this._ids,this._tabs.push(tab)},Tabs.prototype.select=function(tabOrIndex,opts,done){var _this=this;void 0===opts&&(opts={});var promise;done||(promise=new Promise(function(res){done=res}));var selectedTab="number"==typeof tabOrIndex?this.getByIndex(tabOrIndex):tabOrIndex;if(util_1.isBlank(selectedTab))return Promise.resolve();var deselectedTab=this.getSelected();if(selectedTab===deselectedTab)return this._touchActive(selectedTab),Promise.resolve();var deselectedPage;deselectedTab&&(deselectedPage=deselectedTab.getActive(),deselectedPage&&deselectedPage.fireWillLeave()),opts.animate=!1;var selectedPage=selectedTab.getActive();return selectedPage&&selectedPage.fireWillEnter(),selectedTab.load(opts,function(initialLoad){if(selectedTab.ionSelect.emit(selectedTab),_this.ionChange.emit(selectedTab),selectedTab.root&&(_this._tabs.forEach(function(tab){tab.setSelected(tab===selectedTab)}),_this.tabsHighlight&&_this._highlight.select(selectedTab)),selectedPage&&selectedPage.fireDidEnter(),deselectedPage&&deselectedPage.fireDidLeave(),_this._onReady&&(_this._onReady(),_this._onReady=null),_this.selectHistory[_this.selectHistory.length-1]!==selectedTab.id&&_this.selectHistory.push(selectedTab.id),!initialLoad&&selectedPage){var content=selectedPage.getContent();content&&content instanceof content_1.Content&&dom_1.nativeRaf(function(){content.readDimensions(),content.writeDimensions()})}done()}),promise},Tabs.prototype.previousTab=function(trimHistory){var _this=this;void 0===trimHistory&&(trimHistory=!0);for(var i=this.selectHistory.length-2;i>=0;i--){var tab=this._tabs.find(function(t){return t.id===_this.selectHistory[i]});if(tab&&tab.enabled&&tab.show)return trimHistory&&this.selectHistory.splice(i+1),tab}return null},Tabs.prototype.getByIndex=function(index){return index<this._tabs.length&&index>-1?this._tabs[index]:null},Tabs.prototype.getSelected=function(){for(var i=0;i<this._tabs.length;i++)if(this._tabs[i].isSelected)return this._tabs[i];return null},Tabs.prototype.getActiveChildNav=function(){return this.getSelected()},Tabs.prototype.getIndex=function(tab){return this._tabs.indexOf(tab)},Tabs.prototype.length=function(){return this._tabs.length},Tabs.prototype._touchActive=function(tab){var active=tab.getActive();if(!active)return Promise.resolve();var instance=active.instance;return instance.ionSelected?instance.ionSelected():tab.length()>1?tab.popToRoot():tab.root!==active.componentType?tab.setRoot(tab.root):Promise.resolve()},Tabs.prototype.setTabbarPosition=function(top,bottom){if(this._top!==top||this._bottom!==bottom){var tabbarEle=this._tabbar.nativeElement;tabbarEle.style.top=top>-1?top+"px":"",tabbarEle.style.bottom=bottom>-1?bottom+"px":"",tabbarEle.classList.add("show-tabbar"),this._top=top,this._bottom=bottom}},__decorate([core_1.Input(),__metadata("design:type",Object)],Tabs.prototype,"selectedIndex",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Tabs.prototype,"preloadTabs",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Tabs.prototype,"tabbarLayout",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Tabs.prototype,"tabsLayout",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Tabs.prototype,"tabbarPlacement",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Tabs.prototype,"tabsPlacement",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Tabs.prototype,"tabsHighlight",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Tabs.prototype,"ionChange",void 0),__decorate([core_1.ViewChild(tab_highlight_1.TabHighlight),__metadata("design:type",tab_highlight_1.TabHighlight)],Tabs.prototype,"_highlight",void 0),__decorate([core_1.ViewChild("tabbar"),__metadata("design:type",core_1.ElementRef)],Tabs.prototype,"_tabbar",void 0),__decorate([core_1.ViewChild("portal",{read:core_1.ViewContainerRef}),__metadata("design:type",core_1.ViewContainerRef)],Tabs.prototype,"portal",void 0),Tabs=__decorate([core_1.Component({selector:"ion-tabs",template:'\n    <ion-tabbar role="tablist" #tabbar>\n      <a *ngFor="let t of _tabs" [tab]="t" class="tab-button" [class.tab-disabled]="!t.enabled" [class.tab-hidden]="!t.show" role="tab" href="#" (ionSelect)="select($event)">\n        <ion-icon *ngIf="t.tabIcon" [name]="t.tabIcon" [isActive]="t.isSelected" class="tab-button-icon"></ion-icon>\n        <span *ngIf="t.tabTitle" class="tab-button-text">{{t.tabTitle}}</span>\n        <ion-badge *ngIf="t.tabBadge" class="tab-badge" [ngClass]="\'badge-\' + t.tabBadgeStyle">{{t.tabBadge}}</ion-badge>\n        <ion-button-effect></ion-button-effect>\n      </a>\n      <tab-highlight></tab-highlight>\n    </ion-tabbar>\n    <ng-content></ng-content>\n    <div #portal tab-portal></div>\n  ',directives:[badge_1.Badge,icon_1.Icon,common_1.NgClass,common_1.NgFor,common_1.NgIf,tab_button_1.TabButton,tab_highlight_1.TabHighlight],encapsulation:core_1.ViewEncapsulation.None}),__param(0,core_1.Optional()),__param(1,core_1.Optional()),__metadata("design:paramtypes",[nav_controller_1.NavController,view_controller_1.ViewController,app_1.App,config_1.Config,core_1.ElementRef,platform_1.Platform,core_1.Renderer])],Tabs)}(ion_1.Ion);exports.Tabs=Tabs;var tabIds=-1},{"../../config/config":497,"../../platform/platform":510,"../../util/dom":527,"../../util/util":535,"../app/app":419,"../badge/badge":421,"../content/content":424,"../icon/icon":426,"../ion":433,"../nav/nav-controller":452,"../nav/view-controller":460,"./tab-button":480,"./tab-highlight":481,"@angular/common":20,"@angular/core":167}],484:[function(require,module,exports){"use strict";var dom_1=require("../../util/dom"),Activator=function(){function Activator(app,config){this.app=app,this._queue=[],this._active=[],this._css=config.get("activatedClass")||"activated"}return Activator.prototype.downAction=function(ev,activatableEle,startCoord){var self=this;self.disableActivated(ev)||(self._queue.push(activatableEle),dom_1.rafFrames(2,function(){for(var activatableEle,i=0;i<self._queue.length;i++)activatableEle=self._queue[i],activatableEle&&activatableEle.parentNode&&(self._active.push(activatableEle),activatableEle.classList.add(self._css));self._queue=[]}))},Activator.prototype.upAction=function(ev,activatableEle,startCoord){var _this=this;dom_1.rafFrames(CLEAR_STATE_DEFERS,function(){_this.clearState()})},Activator.prototype.clearState=function(){var _this=this;this.app.isEnabled()?this.deactivate():dom_1.nativeTimeout(function(){_this.clearState()},600)},Activator.prototype.deactivate=function(){var self=this;self._queue=[],dom_1.rafFrames(2,function(){for(var i=0;i<self._active.length;i++)self._active[i].classList.remove(self._css);self._active=[]})},Activator.prototype.disableActivated=function(ev){if(ev.defaultPrevented)return!0;for(var targetEle=ev.target,x=0;x<4&&targetEle;x++){if(targetEle.hasAttribute("disable-activated"))return!0;targetEle=targetEle.parentElement}return!1},Activator}();exports.Activator=Activator;var CLEAR_STATE_DEFERS=5},{"../../util/dom":527}],485:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},activator_1=require("./activator"),dom_1=require("../../util/dom"),RippleActivator=function(_super){function RippleActivator(app,config){_super.call(this,app,config)}return __extends(RippleActivator,_super),RippleActivator.prototype.downAction=function(ev,activatableEle,startCoord){var self=this;self.disableActivated(ev)||(self._queue.push(activatableEle),dom_1.nativeRaf(function(){for(var i=0;i<self._queue.length;i++){var queuedEle=self._queue[i];if(queuedEle&&queuedEle.parentNode){self._active.push(queuedEle),queuedEle.classList.add(self._css);for(var j=queuedEle.childElementCount;j--;){var rippleEle=queuedEle.children[j];if("ION-BUTTON-EFFECT"===rippleEle.tagName){rippleEle.style.left="-9999px",rippleEle.style.opacity="",rippleEle.style[dom_1.CSS.transform]="scale(0.001) translateZ(0px)",rippleEle.style[dom_1.CSS.transition]="";var clientRect=activatableEle.getBoundingClientRect();rippleEle.$top=clientRect.top,rippleEle.$left=clientRect.left,rippleEle.$width=clientRect.width,rippleEle.$height=clientRect.height;break}}}}self._queue=[]}))},RippleActivator.prototype.upAction=function(ev,activatableEle,startCoord){if(!dom_1.hasPointerMoved(6,startCoord,dom_1.pointerCoord(ev)))for(var i=activatableEle.childElementCount;i--;){var rippleEle=activatableEle.children[i];if("ION-BUTTON-EFFECT"===rippleEle.tagName){var clientPointerX=startCoord.x-rippleEle.$left,clientPointerY=startCoord.y-rippleEle.$top,x=2*Math.max(Math.abs(rippleEle.$width-clientPointerX),clientPointerX),y=2*Math.max(Math.abs(rippleEle.$height-clientPointerY),clientPointerY),diameter=Math.min(Math.max(Math.sqrt(Math.pow(x,2)+Math.pow(y,2)),64),240);activatableEle.hasAttribute("ion-item")&&(diameter=Math.min(diameter,140));var radius=Math.sqrt(rippleEle.$width+rippleEle.$height),scaleTransitionDuration=Math.max(1600*Math.sqrt(radius/TOUCH_DOWN_ACCEL)+.5,260),opacityTransitionDuration=.7*scaleTransitionDuration,opacityTransitionDelay=scaleTransitionDuration-opacityTransitionDuration;rippleEle.style.width=rippleEle.style.height=diameter+"px",rippleEle.style.marginTop=rippleEle.style.marginLeft=-(diameter/2)+"px",rippleEle.style.left=clientPointerX+"px",rippleEle.style.top=clientPointerY+"px",rippleEle.style.opacity="0",rippleEle.style[dom_1.CSS.transform]="scale(1) translateZ(0px)",rippleEle.style[dom_1.CSS.transition]="transform "+scaleTransitionDuration+"ms,opacity "+opacityTransitionDuration+"ms "+opacityTransitionDelay+"ms"}}_super.prototype.upAction.call(this,ev,activatableEle,startCoord)},RippleActivator.prototype.deactivate=function(){var self=this;self._queue=[],dom_1.rafFrames(2,function(){for(var i=0;i<self._active.length;i++)self._active[i].classList.remove(self._css);self._active=[]})},RippleActivator}(activator_1.Activator);exports.RippleActivator=RippleActivator;var TOUCH_DOWN_ACCEL=300},{"../../util/dom":527,"./activator":484}],486:[function(require,module,exports){"use strict";function getActivatableTarget(ele){for(var targetEle=ele,x=0;x<4&&targetEle;x++){if(exports.isActivatable(targetEle))return targetEle;targetEle=targetEle.parentElement}return null}function addListener(type,listener,useCapture){document.addEventListener(type,listener,useCapture)}function removeListener(type,listener){document.removeEventListener(type,listener)}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),activator_1=require("./activator"),app_1=require("../app/app"),config_1=require("../../config/config"),dom_1=require("../../util/dom"),ripple_1=require("./ripple"),TapClick=function(){function TapClick(config,app,zone){this.app=app,this.lastTouch=0,this.disableClick=0,this.lastActivated=0;var self=this;"ripple"===config.get("activator")?self.activator=new ripple_1.RippleActivator(app,config):"highlight"===config.get("activator")&&(self.activator=new activator_1.Activator(app,config)),self.usePolyfill=config.get("tapPolyfill")===!0,zone.runOutsideAngular(function(){addListener("click",self.click.bind(self),!0),addListener("touchstart",self.touchStart.bind(self)),addListener("touchend",self.touchEnd.bind(self)),addListener("touchcancel",self.pointerCancel.bind(self)),addListener("mousedown",self.mouseDown.bind(self),!0),addListener("mouseup",self.mouseUp.bind(self),!0)}),self.pointerMove=function(ev){dom_1.hasPointerMoved(POINTER_MOVE_UNTIL_CANCEL,self.startCoord,dom_1.pointerCoord(ev))&&self.pointerCancel(ev)}}return TapClick.prototype.touchStart=function(ev){this.lastTouch=Date.now(),this.pointerStart(ev)},TapClick.prototype.touchEnd=function(ev){if(this.lastTouch=Date.now(),this.usePolyfill&&this.startCoord&&this.app.isEnabled()){var endCoord=dom_1.pointerCoord(ev);if(!dom_1.hasPointerMoved(POINTER_TOLERANCE,this.startCoord,endCoord))if(this.disableClick=this.lastTouch+DISABLE_NATIVE_CLICK_AMOUNT,this.app.isScrolling());else{var clickEvent=document.createEvent("MouseEvents");clickEvent.initMouseEvent("click",!0,!0,window,1,0,0,endCoord.x,endCoord.y,!1,!1,!1,!1,0,null),clickEvent.isIonicTap=!0,ev.target.dispatchEvent(clickEvent)}}this.pointerEnd(ev)},TapClick.prototype.mouseDown=function(ev){this.isDisabledNativeClick()?ev.stopPropagation():this.lastTouch+DISABLE_NATIVE_CLICK_AMOUNT<Date.now()&&this.pointerStart(ev)},TapClick.prototype.mouseUp=function(ev){this.isDisabledNativeClick()&&(ev.preventDefault(),ev.stopPropagation()),this.lastTouch+DISABLE_NATIVE_CLICK_AMOUNT<Date.now()&&this.pointerEnd(ev)},TapClick.prototype.pointerStart=function(ev){var activatableEle=getActivatableTarget(ev.target);if(activatableEle){this.startCoord=dom_1.pointerCoord(ev);var now=Date.now();this.lastActivated+150<now&&!this.app.isScrolling()&&(this.activator&&this.activator.downAction(ev,activatableEle,this.startCoord),this.lastActivated=now),this.moveListeners(!0)}else this.startCoord=null},TapClick.prototype.pointerEnd=function(ev){if(this.startCoord&&this.activator){var activatableEle=getActivatableTarget(ev.target);activatableEle&&this.activator.upAction(ev,activatableEle,this.startCoord)}this.moveListeners(!1)},TapClick.prototype.pointerCancel=function(ev){this.activator&&this.activator.clearState(),this.moveListeners(!1)},TapClick.prototype.moveListeners=function(shouldAdd){removeListener(this.usePolyfill?"touchmove":"mousemove",this.pointerMove),shouldAdd&&addListener(this.usePolyfill?"touchmove":"mousemove",this.pointerMove)},TapClick.prototype.click=function(ev){var preventReason=null;this.app.isEnabled()?!ev.isIonicTap&&this.isDisabledNativeClick()&&(preventReason="nativeClick"):preventReason="appDisabled",null!==preventReason&&(ev.preventDefault(),ev.stopPropagation())},TapClick.prototype.isDisabledNativeClick=function(){return this.disableClick>Date.now()},TapClick=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[config_1.Config,app_1.App,core_1.NgZone])],TapClick)}();exports.TapClick=TapClick,exports.isActivatable=function(ele){if(ACTIVATABLE_ELEMENTS.test(ele.tagName))return!0;for(var attributes=ele.attributes,i=0,l=attributes.length;i<l;i++)if(ACTIVATABLE_ATTRIBUTES.test(attributes[i].name))return!0;return!1};var ACTIVATABLE_ELEMENTS=/^(A|BUTTON)$/,ACTIVATABLE_ATTRIBUTES=/tappable|button/i,POINTER_TOLERANCE=4,POINTER_MOVE_UNTIL_CANCEL=10,DISABLE_NATIVE_CLICK_AMOUNT=2500},{"../../config/config":497,"../../util/dom":527,"../app/app":419,"./activator":484,"./ripple":485,"@angular/core":167}],487:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),common_1=require("@angular/common"),animation_1=require("../../animations/animation"),config_1=require("../../config/config"),nav_params_1=require("../nav/nav-params"),transition_1=require("../../transitions/transition"),view_controller_1=require("../nav/view-controller"),ToastCmp=function(){function ToastCmp(_viewCtrl,_config,_elementRef,params,renderer){this._viewCtrl=_viewCtrl,this._config=_config,this._elementRef=_elementRef,this.dismissTimeout=void 0,this.d=params.data,this.d.cssClass&&renderer.setElementClass(_elementRef.nativeElement,this.d.cssClass,!0),this.id=++toastIds,this.d.message&&(this.hdrId="toast-hdr-"+this.id)}return ToastCmp.prototype.ngAfterViewInit=function(){var _this=this;this.d.duration&&(this.dismissTimeout=setTimeout(function(){_this.dismiss("backdrop")},this.d.duration)),this.enabled=!0},ToastCmp.prototype.ionViewDidEnter=function(){var activeElement=document.activeElement;activeElement&&activeElement.blur();var focusableEle=this._elementRef.nativeElement.querySelector("button");focusableEle&&focusableEle.focus()},ToastCmp.prototype.cbClick=function(){this.enabled&&this.dismiss("close")},ToastCmp.prototype.dismiss=function(role){return clearTimeout(this.dismissTimeout),this.dismissTimeout=void 0,this._viewCtrl.dismiss(null,role)},ToastCmp=__decorate([core_1.Component({selector:"ion-toast",template:'\n    <div class="toast-wrapper"\n      [class.toast-bottom]="d.position === \'bottom\'"\n      [class.toast-middle]="d.position === \'middle\'"\n      [class.toast-top]="d.position === \'top\'">\n      <div class="toast-container">\n        <div class="toast-message" id="{{hdrId}}" *ngIf="d.message">{{d.message}}</div>\n        <button clear class="toast-button" *ngIf="d.showCloseButton" (click)="cbClick()">\n          {{ d.closeButtonText || \'Close\' }}\n         </button>\n      </div>\n    </div>\n  ',directives:[common_1.NgIf],host:{role:"dialog","[attr.aria-labelledby]":"hdrId","[attr.aria-describedby]":"descId"}}),__metadata("design:paramtypes",[view_controller_1.ViewController,config_1.Config,core_1.ElementRef,nav_params_1.NavParams,core_1.Renderer])],ToastCmp)}();exports.ToastCmp=ToastCmp;var ToastSlideIn=function(_super){function ToastSlideIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=enteringView.pageRef().nativeElement,wrapperEle=ele.querySelector(".toast-wrapper"),wrapper=new animation_1.Animation(wrapperEle);if(enteringView.data&&enteringView.data.position===TOAST_POSITION_TOP)wrapper.fromTo("translateY","-100%","10px");else if(enteringView.data&&enteringView.data.position===TOAST_POSITION_MIDDLE){var topPosition=Math.floor(ele.clientHeight/2-wrapperEle.clientHeight/2);wrapperEle.style.top=topPosition+"px",wrapper.fromTo("opacity",.01,1)}else wrapper.fromTo("translateY","100%","-10px");this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(wrapper)}return __extends(ToastSlideIn,_super),ToastSlideIn}(transition_1.Transition),ToastSlideOut=function(_super){function ToastSlideOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=leavingView.pageRef().nativeElement,wrapperEle=ele.querySelector(".toast-wrapper"),wrapper=new animation_1.Animation(wrapperEle);
leavingView.data&&leavingView.data.position===TOAST_POSITION_TOP?wrapper.fromTo("translateY","10px","-100%"):leavingView.data&&leavingView.data.position===TOAST_POSITION_MIDDLE?wrapper.fromTo("opacity",.99,0):wrapper.fromTo("translateY","-10px","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(300).add(wrapper)}return __extends(ToastSlideOut,_super),ToastSlideOut}(transition_1.Transition),ToastMdSlideIn=function(_super){function ToastMdSlideIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=enteringView.pageRef().nativeElement,wrapperEle=ele.querySelector(".toast-wrapper"),wrapper=new animation_1.Animation(wrapperEle);if(enteringView.data&&enteringView.data.position===TOAST_POSITION_TOP)wrapper.fromTo("translateY","-100%","0%");else if(enteringView.data&&enteringView.data.position===TOAST_POSITION_MIDDLE){var topPosition=Math.floor(ele.clientHeight/2-wrapperEle.clientHeight/2);wrapperEle.style.top=topPosition+"px",wrapper.fromTo("opacity",.01,1)}else wrapper.fromTo("translateY","100%","0%");this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(wrapper)}return __extends(ToastMdSlideIn,_super),ToastMdSlideIn}(transition_1.Transition),ToastMdSlideOut=function(_super){function ToastMdSlideOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=leavingView.pageRef().nativeElement,wrapperEle=ele.querySelector(".toast-wrapper"),wrapper=new animation_1.Animation(wrapperEle);leavingView.data&&leavingView.data.position===TOAST_POSITION_TOP?wrapper.fromTo("translateY","0%","-100%"):leavingView.data&&leavingView.data.position===TOAST_POSITION_MIDDLE?wrapper.fromTo("opacity",.99,0):wrapper.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(450).add(wrapper)}return __extends(ToastMdSlideOut,_super),ToastMdSlideOut}(transition_1.Transition),ToastWpPopIn=function(_super){function ToastWpPopIn(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=enteringView.pageRef().nativeElement,wrapperEle=ele.querySelector(".toast-wrapper"),wrapper=new animation_1.Animation(wrapperEle);if(enteringView.data&&enteringView.data.position===TOAST_POSITION_TOP)wrapper.fromTo("opacity",.01,1),wrapper.fromTo("scale",1.3,1);else if(enteringView.data&&enteringView.data.position===TOAST_POSITION_MIDDLE){var topPosition=Math.floor(ele.clientHeight/2-wrapperEle.clientHeight/2);wrapperEle.style.top=topPosition+"px",wrapper.fromTo("opacity",.01,1),wrapper.fromTo("scale",1.3,1)}else wrapper.fromTo("opacity",.01,1),wrapper.fromTo("scale",1.3,1);this.easing("cubic-bezier(0,0 0.05,1)").duration(200).add(wrapper)}return __extends(ToastWpPopIn,_super),ToastWpPopIn}(transition_1.Transition),ToastWpPopOut=function(_super){function ToastWpPopOut(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var ele=leavingView.pageRef().nativeElement,wrapperEle=ele.querySelector(".toast-wrapper"),wrapper=new animation_1.Animation(wrapperEle);leavingView.data&&leavingView.data.position===TOAST_POSITION_TOP?(wrapper.fromTo("opacity",.99,0),wrapper.fromTo("scale",1,1.3)):leavingView.data&&leavingView.data.position===TOAST_POSITION_MIDDLE?(wrapper.fromTo("opacity",.99,0),wrapper.fromTo("scale",1,1.3)):(wrapper.fromTo("opacity",.99,0),wrapper.fromTo("scale",1,1.3));var EASE="ease-out",DURATION=150;this.easing(EASE).duration(DURATION).add(wrapper)}return __extends(ToastWpPopOut,_super),ToastWpPopOut}(transition_1.Transition);transition_1.Transition.register("toast-slide-in",ToastSlideIn),transition_1.Transition.register("toast-slide-out",ToastSlideOut),transition_1.Transition.register("toast-md-slide-in",ToastMdSlideIn),transition_1.Transition.register("toast-md-slide-out",ToastMdSlideOut),transition_1.Transition.register("toast-wp-slide-out",ToastWpPopOut),transition_1.Transition.register("toast-wp-slide-in",ToastWpPopIn);var toastIds=-1,TOAST_POSITION_TOP="top",TOAST_POSITION_MIDDLE="middle"},{"../../animations/animation":412,"../../config/config":497,"../../transitions/transition":520,"../nav/nav-params":454,"../nav/view-controller":460,"@angular/common":20,"@angular/core":167}],488:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),app_1=require("../app/app"),util_1=require("../../util/util"),toast_component_1=require("./toast-component"),view_controller_1=require("../nav/view-controller"),Toast=function(_super){function Toast(app,opts){void 0===opts&&(opts={}),opts.dismissOnPageChange=!!util_1.isPresent(opts.dismissOnPageChange)&&!!opts.dismissOnPageChange,_super.call(this,toast_component_1.ToastCmp,opts),this._app=app,opts.position&&this.isValidPosition(opts.position)||(opts.position=TOAST_POSITION_BOTTOM),this.isOverlay=!0,this.fireOtherLifecycles=!1}return __extends(Toast,_super),Toast.prototype.getTransitionName=function(direction){var key="toast"+("back"===direction?"Leave":"Enter");return this._nav&&this._nav.config.get(key)},Toast.prototype.isValidPosition=function(position){return position===TOAST_POSITION_TOP||position===TOAST_POSITION_MIDDLE||position===TOAST_POSITION_BOTTOM},Toast.prototype.setMessage=function(message){this.data.message=message},Toast.prototype.present=function(navOptions){return void 0===navOptions&&(navOptions={}),this._app.present(this,navOptions)},Toast.create=function(opt){},Toast}(view_controller_1.ViewController);exports.Toast=Toast;var ToastController=function(){function ToastController(_app){this._app=_app}return ToastController.prototype.create=function(opts){return void 0===opts&&(opts={}),new Toast(this._app,opts)},ToastController=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[app_1.App])],ToastController)}();exports.ToastController=ToastController;var TOAST_POSITION_TOP="top",TOAST_POSITION_MIDDLE="middle",TOAST_POSITION_BOTTOM="bottom"},{"../../util/util":535,"../app/app":419,"../nav/view-controller":460,"./toast-component":487,"@angular/core":167}],489:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),forms_1=require("@angular/forms"),form_1=require("../../util/form"),util_1=require("../../util/util"),item_1=require("../item/item"),dom_1=require("../../util/dom"),ui_event_manager_1=require("../../util/ui-event-manager");exports.TOGGLE_VALUE_ACCESSOR=new core_1.Provider(forms_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return Toggle}),multi:!0});var Toggle=function(){function Toggle(_form,_elementRef,_renderer,_item){this._form=_form,this._elementRef=_elementRef,this._renderer=_renderer,this._item=_item,this._checked=!1,this._disabled=!1,this._activated=!1,this._msPrv=0,this._events=new ui_event_manager_1.UIEventManager,this.ionChange=new core_1.EventEmitter,this._form.register(this),_item&&(this.id="tgl-"+_item.registerInput("toggle"),this._labelId="lbl-"+_item.id,this._item.setCssClass("item-toggle",!0))}return Toggle.prototype.pointerDown=function(ev){return this._startX=dom_1.pointerCoord(ev).x,this._activated=!0,!0},Toggle.prototype.pointerMove=function(ev){if(this._startX){var currentX=dom_1.pointerCoord(ev).x;this._checked?currentX+15<this._startX&&(this.onChange(!1),this._startX=currentX,this._activated=!0):currentX-15>this._startX&&(this.onChange(!0),this._startX=currentX,this._activated=currentX<this._startX+5)}},Toggle.prototype.pointerUp=function(ev){if(this._startX){var endX=dom_1.pointerCoord(ev).x;this.checked?this._startX+4>endX&&this.onChange(!1):this._startX-4<endX&&this.onChange(!0),this._activated=!1,this._startX=null}},Object.defineProperty(Toggle.prototype,"checked",{get:function(){return this._checked},set:function(val){this._setChecked(util_1.isTrueProperty(val)),this.onChange(this._checked)},enumerable:!0,configurable:!0}),Toggle.prototype._setChecked=function(isChecked){isChecked!==this._checked&&(this._checked=isChecked,this._init&&this.ionChange.emit(this),this._item&&this._item.setCssClass("item-toggle-checked",isChecked))},Toggle.prototype.writeValue=function(val){this._setChecked(util_1.isTrueProperty(val))},Toggle.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn,this.onChange=function(isChecked){fn(isChecked),_this._setChecked(isChecked),_this.onTouched()}},Toggle.prototype.registerOnTouched=function(fn){this.onTouched=fn},Object.defineProperty(Toggle.prototype,"disabled",{get:function(){return this._disabled},set:function(val){this._disabled=util_1.isTrueProperty(val),this._item&&this._item.setCssClass("item-toggle-disabled",this._disabled)},enumerable:!0,configurable:!0}),Toggle.prototype.onChange=function(isChecked){this._setChecked(isChecked),this.onTouched()},Toggle.prototype.onTouched=function(){},Toggle.prototype.ngAfterContentInit=function(){this._init=!0,this._events.pointerEvents({elementRef:this._elementRef,pointerDown:this.pointerDown.bind(this),pointerMove:this.pointerMove.bind(this),pointerUp:this.pointerUp.bind(this)})},Toggle.prototype.ngOnDestroy=function(){this._form.deregister(this),this._events.unlistenAll()},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Toggle.prototype,"ionChange",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Toggle.prototype,"checked",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Toggle.prototype,"disabled",null),Toggle=__decorate([core_1.Component({selector:"ion-toggle",template:'\n    <div class="toggle-icon" [class.toggle-checked]="_checked" [class.toggle-activated]="_activated">\n      <div class="toggle-inner"></div>\n    </div>\n    <button role="checkbox"\n            type="button"\n            category="item-cover"\n            [id]="id"\n            [attr.aria-checked]="_checked"\n            [attr.aria-labelledby]="_labelId"\n            [attr.aria-disabled]="_disabled"\n            class="item-cover">\n    </button>\n  ',host:{"[class.toggle-disabled]":"_disabled"},providers:[exports.TOGGLE_VALUE_ACCESSOR],encapsulation:core_1.ViewEncapsulation.None}),__param(3,core_1.Optional()),__metadata("design:paramtypes",[form_1.Form,core_1.ElementRef,core_1.Renderer,item_1.Item])],Toggle)}();exports.Toggle=Toggle},{"../../util/dom":527,"../../util/form":530,"../../util/ui-event-manager":534,"../../util/util":535,"../item/item":438,"@angular/core":167,"@angular/forms":256}],490:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),button_1=require("../button/button"),navbar_1=require("../navbar/navbar"),toolbar_1=require("./toolbar"),ToolbarItem=function(){function ToolbarItem(elementRef,toolbar,navbar){toolbar&&toolbar.addItemRef(elementRef),navbar&&navbar.addItemRef(elementRef),this.inToolbar=!(!toolbar&&!navbar)}return Object.defineProperty(ToolbarItem.prototype,"_buttons",{set:function(buttons){this.inToolbar&&buttons.forEach(function(button){button.setRole("bar-button")})},enumerable:!0,configurable:!0}),__decorate([core_1.ContentChildren(button_1.Button),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],ToolbarItem.prototype,"_buttons",null),ToolbarItem=__decorate([core_1.Directive({selector:"ion-buttons,[menuToggle]"}),__param(1,core_1.Optional()),__param(2,core_1.Optional()),__param(2,core_1.Inject(core_1.forwardRef(function(){return navbar_1.Navbar}))),__metadata("design:paramtypes",[core_1.ElementRef,toolbar_1.Toolbar,navbar_1.Navbar])],ToolbarItem)}();exports.ToolbarItem=ToolbarItem},{"../button/button":422,"../navbar/navbar":461,"./toolbar":492,"@angular/core":167}],491:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),ion_1=require("../ion"),navbar_1=require("../navbar/navbar"),toolbar_1=require("./toolbar"),ToolbarTitle=function(_super){function ToolbarTitle(_elementRef,toolbar,navbar){_super.call(this,_elementRef),this._elementRef=_elementRef,toolbar&&toolbar.setTitleCmp(this),navbar&&navbar.setTitleCmp(this)}return __extends(ToolbarTitle,_super),ToolbarTitle.prototype.getTitleText=function(){return this._elementRef.nativeElement.textContent},ToolbarTitle=__decorate([core_1.Component({selector:"ion-title",template:'<div class="toolbar-title"><ng-content></ng-content></div>',changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__param(1,core_1.Optional()),__param(2,core_1.Optional()),__param(2,core_1.Inject(core_1.forwardRef(function(){return navbar_1.Navbar}))),__metadata("design:paramtypes",[core_1.ElementRef,toolbar_1.Toolbar,navbar_1.Navbar])],ToolbarTitle)}(ion_1.Ion);exports.ToolbarTitle=ToolbarTitle},{"../ion":433,"../navbar/navbar":461,"./toolbar":492,"@angular/core":167}],492:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),config_1=require("../../config/config"),ion_1=require("../ion"),view_controller_1=require("../nav/view-controller"),Header=function(){function Header(viewCtrl){viewCtrl&&viewCtrl.setHeader(this)}return Header=__decorate([core_1.Directive({selector:"ion-header"}),__param(0,core_1.Optional()),__metadata("design:paramtypes",[view_controller_1.ViewController])],Header)}();exports.Header=Header;var Footer=function(){function Footer(viewCtrl){viewCtrl&&viewCtrl.setFooter(this)}return Footer=__decorate([core_1.Directive({selector:"ion-footer"}),__param(0,core_1.Optional()),__metadata("design:paramtypes",[view_controller_1.ViewController])],Footer)}();exports.Footer=Footer;var ToolbarBase=function(_super){function ToolbarBase(elementRef){_super.call(this,elementRef),this.itemRefs=[],this.titleRef=null}return __extends(ToolbarBase,_super),ToolbarBase.prototype.setTitleCmp=function(titleCmp){this.titleCmp=titleCmp},ToolbarBase.prototype.getTitleText=function(){return this.titleCmp&&this.titleCmp.getTitleText()||""},ToolbarBase.prototype.getTitleRef=function(){return this.titleCmp&&this.titleCmp.elementRef},ToolbarBase.prototype.getItemRefs=function(){return this.itemRefs},ToolbarBase.prototype.addItemRef=function(itemElementRef){this.itemRefs.push(itemElementRef)},ToolbarBase}(ion_1.Ion);exports.ToolbarBase=ToolbarBase;var Toolbar=function(_super){function Toolbar(viewCtrl,header,footer,config,elementRef){_super.call(this,elementRef),viewCtrl&&(header||footer)&&viewCtrl.setToolbarRef(elementRef),this._sbPadding=config.getBoolean("statusbarPadding")}return __extends(Toolbar,_super),Toolbar=__decorate([core_1.Component({selector:"ion-toolbar",template:'\n    <div class="toolbar-background"></div>\n    <ng-content select="[menuToggle],ion-buttons[left]"></ng-content>\n    <ng-content select="ion-buttons[start]"></ng-content>\n    <ng-content select="ion-buttons[end],ion-buttons[right]"></ng-content>\n    <div class="toolbar-content">\n      <ng-content></ng-content>\n    </div>\n  ',host:{"class":"toolbar","[class.statusbar-padding]":"_sbPadding"},changeDetection:core_1.ChangeDetectionStrategy.OnPush}),__param(0,core_1.Optional()),__param(1,core_1.Optional()),__param(2,core_1.Optional()),__metadata("design:paramtypes",[view_controller_1.ViewController,Header,Footer,config_1.Config,core_1.ElementRef])],Toolbar)}(ToolbarBase);exports.Toolbar=Toolbar},{"../../config/config":497,"../ion":433,"../nav/view-controller":460,"@angular/core":167}],493:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),VirtualHeader=function(){function VirtualHeader(templateRef){this.templateRef=templateRef}return VirtualHeader=__decorate([core_1.Directive({selector:"[virtualHeader]"}),__metadata("design:paramtypes",[core_1.TemplateRef])],VirtualHeader)}();exports.VirtualHeader=VirtualHeader;var VirtualFooter=function(){function VirtualFooter(templateRef){this.templateRef=templateRef}return VirtualFooter=__decorate([core_1.Directive({selector:"[virtualFooter]"}),__metadata("design:paramtypes",[core_1.TemplateRef])],VirtualFooter)}();exports.VirtualFooter=VirtualFooter;var VirtualItem=function(){function VirtualItem(templateRef,viewContainer){this.templateRef=templateRef,this.viewContainer=viewContainer}return VirtualItem=__decorate([core_1.Directive({selector:"[virtualItem]"}),__metadata("design:paramtypes",[core_1.TemplateRef,core_1.ViewContainerRef])],VirtualItem)}();exports.VirtualItem=VirtualItem},{"@angular/core":167}],494:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),virtual_util_1=require("./virtual-util"),dom_1=require("../../util/dom"),config_1=require("../../config/config"),content_1=require("../content/content"),img_1=require("../img/img"),util_1=require("../../util/util"),platform_1=require("../../platform/platform"),view_controller_1=require("../nav/view-controller"),virtual_item_1=require("./virtual-item"),VirtualScroll=function(){function VirtualScroll(_iterableDiffers,_elementRef,_renderer,_zone,_cd,_content,_platform,_ctrl,config){this._iterableDiffers=_iterableDiffers,this._elementRef=_elementRef,this._renderer=_renderer,this._zone=_zone,this._cd=_cd,this._content=_content,this._platform=_platform,this._ctrl=_ctrl,this._records=[],this._cells=[],this._nodes=[],this._vHeight=0,this._lastCheck=0,this._data={scrollTop:0},this._queue=null,this.bufferRatio=2,this.approxItemWidth="100%",this.approxItemHeight="40px",this.approxHeaderWidth="100%",this.approxHeaderHeight="40px",this.approxFooterWidth="100%",this.approxFooterHeight="40px",this._eventAssist=config.getBoolean("virtualScrollEventAssist")}return Object.defineProperty(VirtualScroll.prototype,"virtualScroll",{set:function(val){this._records=val,util_1.isBlank(this._differ)&&util_1.isPresent(val)&&(this._differ=this._iterableDiffers.find(val).create(this._cd,this._trackBy))},enumerable:!0,configurable:!0}),Object.defineProperty(VirtualScroll.prototype,"headerFn",{set:function(val){util_1.isFunction(val)&&(this._hdrFn=val.bind(this._ctrl&&this._ctrl.instance||this))},enumerable:!0,configurable:!0}),Object.defineProperty(VirtualScroll.prototype,"footerFn",{set:function(val){util_1.isFunction(val)&&(this._ftrFn=val.bind(this._ctrl&&this._ctrl.instance||this))},enumerable:!0,configurable:!0}),Object.defineProperty(VirtualScroll.prototype,"virtualTrackBy",{set:function(val){this._trackBy=val},enumerable:!0,configurable:!0}),VirtualScroll.prototype.ngDoCheck=function(){this._init&&this.update(!0)},VirtualScroll.prototype.ngAfterContentInit=function(){var _this=this;if(!this._init){if(!this._itmTmp)throw"virtualItem required within virtualScroll";this._init=!0,this.update(!0),this._platform.onResize(function(){_this.update(!1)})}},VirtualScroll.prototype.update=function(checkChanges){function readDimensions(done){self._data.valid?done():(virtual_util_1.calcDimensions(self._data,self._elementRef.nativeElement.parentElement,self.approxItemWidth,self.approxItemHeight,self.approxHeaderWidth,self.approxHeaderHeight,self.approxFooterWidth,self.approxFooterHeight,self.bufferRatio),self._data.valid?done():attempts<30&&(attempts++,dom_1.nativeRaf(function(){readDimensions(done)})))}var self=this;if(self._records&&self._records.length){if(checkChanges&&util_1.isPresent(self._differ)){var changes=self._differ.diff(self._records);if(!util_1.isPresent(changes))return}self._cells.length=0,self._nodes.length=0,self._itmTmp.viewContainer.clear(),self._elementRef.nativeElement.parentElement.scrollTop=0;var attempts=0;readDimensions(function(){virtual_util_1.processRecords(self._data.renderHeight,self._records,self._cells,self._hdrFn,self._ftrFn,self._data),self.renderVirtual(),self.addScrollListener()})}},VirtualScroll.prototype.renderVirtual=function(){this._data.topCell=0,this._data.bottomCell=this._cells.length-1,virtual_util_1.populateNodeData(0,this._data.bottomCell,this._data.viewWidth,!0,this._cells,this._records,this._nodes,this._itmTmp.viewContainer,this._itmTmp.templateRef,this._hdrTmp&&this._hdrTmp.templateRef,this._ftrTmp&&this._ftrTmp.templateRef,!0),this._cd.detectChanges(),dom_1.nativeRaf(this.postRenderVirtual.bind(this))},VirtualScroll.prototype.postRenderVirtual=function(){virtual_util_1.initReadNodes(this._nodes,this._cells,this._data),this._renderer.setElementClass(this._elementRef.nativeElement,"virtual-scroll",!0),virtual_util_1.writeToNodes(this._nodes,this._cells,this._records.length),this.setVirtualHeight(virtual_util_1.estimateHeight(this._records.length,this._cells[this._cells.length-1],this._vHeight,.25))},VirtualScroll.prototype.scrollUpdate=function(){dom_1.clearNativeTimeout(this._tmId),this._tmId=dom_1.nativeTimeout(this.onScrollEnd.bind(this),SCROLL_END_TIMEOUT_MS);var data=this._data;if(this._queue===QUEUE_CHANGE_DETECTION)this._cd.detectChanges(),virtual_util_1.writeToNodes(this._nodes,this._cells,this._records.length),this.setVirtualHeight(virtual_util_1.estimateHeight(this._records.length,this._cells[this._cells.length-1],this._vHeight,.25)),this._queue=null;else if(data.scrollDiff=data.scrollTop-this._lastCheck,Math.abs(data.scrollDiff)>SCROLL_DIFFERENCE_MINIMUM){if(this._lastCheck=data.scrollTop,data.scrollDiff>0){var stopAtHeight=data.scrollTop+data.renderHeight;virtual_util_1.processRecords(stopAtHeight,this._records,this._cells,this._hdrFn,this._ftrFn,data)}virtual_util_1.updateDimensions(this._nodes,this._cells,data,!1),virtual_util_1.adjustRendered(this._cells,data);var madeChanges=virtual_util_1.populateNodeData(data.topCell,data.bottomCell,data.viewWidth,data.scrollDiff>0,this._cells,this._records,this._nodes,this._itmTmp.viewContainer,this._itmTmp.templateRef,this._hdrTmp&&this._hdrTmp.templateRef,this._ftrTmp&&this._ftrTmp.templateRef,!1);madeChanges?(this._imgs.forEach(function(img){img.enable(!1)}),this._queue=QUEUE_CHANGE_DETECTION):this._queue=null}},VirtualScroll.prototype.onScrollEnd=function(){this._imgs.forEach(function(img){img.enable(!0)}),virtual_util_1.updateDimensions(this._nodes,this._cells,this._data,!1),virtual_util_1.adjustRendered(this._cells,this._data),this._cd.detectChanges(),this.setVirtualHeight(virtual_util_1.estimateHeight(this._records.length,this._cells[this._cells.length-1],this._vHeight,.05))},VirtualScroll.prototype.setVirtualHeight=function(newVirtualHeight){newVirtualHeight!==this._vHeight&&(this._renderer.setElementStyle(this._elementRef.nativeElement,"height",newVirtualHeight>0?newVirtualHeight+"px":""),this._vHeight=newVirtualHeight)},VirtualScroll.prototype.addScrollListener=function(){var self=this;self._unreg||self._zone.runOutsideAngular(function(){function onScroll(){self._data.scrollTop=self._content.getScrollTop(),self.scrollUpdate()}self._eventAssist?self._unreg=self._content.jsScroll(onScroll):self._unreg=self._content.addScrollListener(onScroll)})},VirtualScroll.prototype.ngOnDestroy=function(){this._unreg&&this._unreg(),this._unreg=null},__decorate([core_1.ContentChild(virtual_item_1.VirtualItem),__metadata("design:type",virtual_item_1.VirtualItem)],VirtualScroll.prototype,"_itmTmp",void 0),__decorate([core_1.ContentChild(virtual_item_1.VirtualHeader),__metadata("design:type",virtual_item_1.VirtualHeader)],VirtualScroll.prototype,"_hdrTmp",void 0),__decorate([core_1.ContentChild(virtual_item_1.VirtualFooter),__metadata("design:type",virtual_item_1.VirtualFooter)],VirtualScroll.prototype,"_ftrTmp",void 0),__decorate([core_1.ContentChildren(img_1.Img),__metadata("design:type",core_1.QueryList)],VirtualScroll.prototype,"_imgs",void 0),__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],VirtualScroll.prototype,"virtualScroll",null),__decorate([core_1.Input(),__metadata("design:type",Number)],VirtualScroll.prototype,"bufferRatio",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],VirtualScroll.prototype,"approxItemWidth",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],VirtualScroll.prototype,"approxItemHeight",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],VirtualScroll.prototype,"approxHeaderWidth",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],VirtualScroll.prototype,"approxHeaderHeight",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],VirtualScroll.prototype,"approxFooterWidth",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],VirtualScroll.prototype,"approxFooterHeight",void 0),__decorate([core_1.Input(),__metadata("design:type",Function),__metadata("design:paramtypes",[Function])],VirtualScroll.prototype,"headerFn",null),__decorate([core_1.Input(),__metadata("design:type",Function),__metadata("design:paramtypes",[Function])],VirtualScroll.prototype,"footerFn",null),__decorate([core_1.Input(),__metadata("design:type",Function),__metadata("design:paramtypes",[Function])],VirtualScroll.prototype,"virtualTrackBy",null),VirtualScroll=__decorate([core_1.Directive({selector:"[virtualScroll]"}),__param(7,core_1.Optional()),__metadata("design:paramtypes",[core_1.IterableDiffers,core_1.ElementRef,core_1.Renderer,core_1.NgZone,core_1.ChangeDetectorRef,content_1.Content,platform_1.Platform,view_controller_1.ViewController,config_1.Config])],VirtualScroll)}();exports.VirtualScroll=VirtualScroll;var SCROLL_END_TIMEOUT_MS=140,SCROLL_DIFFERENCE_MINIMUM=20,QUEUE_CHANGE_DETECTION=0},{"../../config/config":497,"../../platform/platform":510,"../../util/dom":527,"../../util/util":535,"../content/content":424,"../img/img":427,"../nav/view-controller":460,"./virtual-item":493,"./virtual-util":495,"@angular/core":167}],495:[function(require,module,exports){"use strict";function processRecords(stopAtHeight,records,cells,headerFn,footerFn,data){var record,startRecordIndex,previousCell,tmpData,lastRecordIndex=records.length-1;if(cells.length){if(previousCell=cells[cells.length-1],previousCell.top+previousCell.height>stopAtHeight)return;startRecordIndex=previousCell.record+1}else previousCell={row:0,width:0,height:0,top:0,left:0,tmpl:-1},startRecordIndex=0;for(var processedTotal=0,recordIndex=startRecordIndex;recordIndex<=lastRecordIndex;recordIndex++)if(record=records[recordIndex],headerFn&&(tmpData=headerFn(record,recordIndex,records),null!==tmpData&&(previousCell=addCell(previousCell,recordIndex,TEMPLATE_HEADER,tmpData,data.hdrWidth,data.hdrHeight,data.viewWidth),cells.push(previousCell))),previousCell=addCell(previousCell,recordIndex,TEMPLATE_ITEM,null,data.itmWidth,data.itmHeight,data.viewWidth),cells.push(previousCell),footerFn&&(tmpData=footerFn(record,recordIndex,records),null!==tmpData&&(previousCell=addCell(previousCell,recordIndex,TEMPLATE_FOOTER,tmpData,data.ftrWidth,data.ftrHeight,data.viewWidth),cells.push(previousCell))),previousCell.record===lastRecordIndex&&(previousCell.isLast=!0),processedTotal++,previousCell.top+previousCell.height+data.itmHeight>stopAtHeight&&processedTotal>3)return}function addCell(previousCell,recordIndex,tmpl,tmplData,cellWidth,cellHeight,viewportWidth){
var newCell;return newCell=previousCell.left+previousCell.width+cellWidth>viewportWidth?{record:recordIndex,tmpl:tmpl,row:previousCell.row+1,width:cellWidth,height:cellHeight,top:previousCell.top+previousCell.height,left:0,reads:0}:{record:recordIndex,tmpl:tmpl,row:previousCell.row,width:cellWidth,height:cellHeight,top:previousCell.top,left:previousCell.left+previousCell.width,reads:0},tmplData&&(newCell.data=tmplData),newCell}function populateNodeData(startCellIndex,endCellIndex,viewportWidth,scrollingDown,cells,records,nodes,viewContainer,itmTmp,hdrTmp,ftrTmp,initialLoad){var node,availableNode,cell,isAlreadyRendered,templateRef,madeChanges=!1,lastRecordIndex=records.length-1,viewInsertIndex=null,totalNodes=nodes.length;startCellIndex=Math.max(startCellIndex,0),endCellIndex=Math.min(endCellIndex,cells.length-1);for(var cellIndex=startCellIndex;cellIndex<=endCellIndex;cellIndex++){if(cell=cells[cellIndex],availableNode=null,isAlreadyRendered=!1,!initialLoad){for(var i=0;i<totalNodes;i++)if(node=nodes[i],cell.tmpl===node.tmpl&&(0!==i||0===cellIndex))if(node.isLastRecord){if(cell.record===lastRecordIndex){availableNode=nodes[i],availableNode.hidden=!1;break}}else{if(node.cell===cellIndex){isAlreadyRendered=!0;break}(node.cell<startCellIndex||node.cell>endCellIndex)&&(availableNode?scrollingDown?node.cell<availableNode.cell&&(availableNode=nodes[i]):node.cell>availableNode.cell&&(availableNode=nodes[i]):availableNode=nodes[i])}if(isAlreadyRendered)continue}if(!availableNode){if(null===viewInsertIndex){viewInsertIndex=-1;for(var j=totalNodes-1;j>=0;j--)if(node=nodes[j],node&&!node.isLastRecord){viewInsertIndex=viewContainer.indexOf(node.view);break}}if(templateRef=cell.tmpl===TEMPLATE_HEADER?hdrTmp:cell.tmpl===TEMPLATE_FOOTER?ftrTmp:itmTmp,!templateRef)continue;availableNode={tmpl:cell.tmpl,view:viewContainer.createEmbeddedView(templateRef,new VirtualContext(null,null,null),viewInsertIndex)},totalNodes=nodes.push(availableNode)}availableNode.cell=cellIndex,availableNode.view.context.$implicit=cell.data||records[cell.record],availableNode.view.context.index=cellIndex,availableNode.hasChanges=!0,availableNode.lastTransform=null,madeChanges=!0}if(initialLoad){var lastNodeTempData=records[lastRecordIndex]||{};addLastNodes(nodes,viewContainer,TEMPLATE_HEADER,hdrTmp,lastNodeTempData),addLastNodes(nodes,viewContainer,TEMPLATE_ITEM,itmTmp,lastNodeTempData),addLastNodes(nodes,viewContainer,TEMPLATE_FOOTER,ftrTmp,lastNodeTempData)}return madeChanges}function addLastNodes(nodes,viewContainer,templateType,templateRef,temporaryData){if(templateRef){var node={tmpl:templateType,view:viewContainer.createEmbeddedView(templateRef),isLastRecord:!0,hidden:!0};node.view.context.$implicit=temporaryData,nodes.push(node)}}function initReadNodes(nodes,cells,data){if(nodes.length&&cells.length){var firstEle=getElement(nodes[0]);cells[0].top=firstEle.clientTop,cells[0].left=firstEle.clientLeft,cells[0].row=0,updateDimensions(nodes,cells,data,!0);for(var i=0;i<nodes.length;i++)nodes[i].hidden&&getElement(nodes[i]).classList.add("virtual-hidden")}}function updateDimensions(nodes,cells,data,initialUpdate){for(var node,element,cell,previousCell,totalCells=cells.length,i=0;i<nodes.length;i++)node=nodes[i],cell=cells[node.cell],cell&&cell.reads<REQUIRED_DOM_READS&&!node.hidden&&(element=getElement(node),readElements(cell,element),initialUpdate&&(cell.tmpl===TEMPLATE_HEADER?(data.hdrHeight=cell.height,0===cell.left&&(data.hdrWidth=cell.width)):cell.tmpl===TEMPLATE_FOOTER?(data.ftrHeight=cell.height,0===cell.left&&(data.ftrWidth=cell.width)):(data.itmHeight=cell.height,0===cell.left&&(data.itmWidth=cell.width))),cell.reads++);var viewableBottom=data.scrollTop+data.viewHeight;data.topViewCell=totalCells,data.bottomViewCell=0;for(var i=1;i<totalCells;i++)cell=cells[i],previousCell=cells[i-1],previousCell.left+previousCell.width+cell.width>data.viewWidth?(cell.row++,cell.top=previousCell.top+previousCell.height,cell.left=0):(cell.row=previousCell.row,cell.top=previousCell.top,cell.left=previousCell.left+previousCell.width),cell.top+cell.height>data.scrollTop&&i<data.topViewCell?data.topViewCell=i:cell.top<viewableBottom&&i>data.bottomViewCell&&(data.bottomViewCell=i)}function readElements(cell,element){var styles=window.getComputedStyle(element);cell.left=element.offsetLeft-parseFloat(styles.marginLeft),cell.width=element.offsetWidth+parseFloat(styles.marginLeft)+parseFloat(styles.marginRight),cell.height=element.offsetHeight+parseFloat(styles.marginTop)+parseFloat(styles.marginBottom)}function writeToNodes(nodes,cells,totalRecords){for(var node,element,cell,transform,totalCells=Math.max(totalRecords,cells.length).toString(),i=0,ilen=nodes.length;i<ilen;i++)node=nodes[i],node.hidden||(cell=cells[node.cell],transform="translate3d("+cell.left+"px,"+cell.top+"px,0px)",node.lastTransform!==transform&&(element=getElement(node),element&&(element.style[dom_1.CSS.transform]=node.lastTransform=transform,element.classList.add("virtual-position"),node.isLastRecord&&element.classList.remove("virtual-hidden"),element.setAttribute("aria-posinset",(node.cell+1).toString()),element.setAttribute("aria-setsize",totalCells))))}function adjustRendered(cells,data){var cell,lastRow=-1,cellsRenderHeight=0,maxRenderHeight=data.renderHeight-data.itmHeight,totalCells=cells.length,viewableRenderedPadding=data.itmHeight<90?VIEWABLE_RENDERED_PADDING:0;if(data.scrollDiff>0){data.topCell=Math.max(data.topViewCell-viewableRenderedPadding,0),data.bottomCell=Math.min(data.topCell+2,totalCells-1);for(var i=data.topCell;i<totalCells&&(cell=cells[i],cell.row!==lastRow&&(cellsRenderHeight+=cell.height,lastRow=cell.row),i>data.bottomCell&&(data.bottomCell=i),!(cellsRenderHeight>=maxRenderHeight));i++);}else{data.bottomCell=Math.min(data.bottomViewCell+viewableRenderedPadding,totalCells-1),data.topCell=Math.max(data.bottomCell-2,0);for(var i=data.bottomCell;i>=0&&(cell=cells[i],cell.row!==lastRow&&(cellsRenderHeight+=cell.height,lastRow=cell.row),i<data.topCell&&(data.topCell=i),!(cellsRenderHeight>=maxRenderHeight));i--);}}function getVirtualHeight(totalRecords,lastCell){if(lastCell.record>=totalRecords-1)return lastCell.top+lastCell.height;var unknownRecords=totalRecords-lastCell.record-1,knownHeight=lastCell.top+lastCell.height;return Math.ceil(knownHeight+knownHeight/(totalRecords-unknownRecords)*unknownRecords)}function estimateHeight(totalRecords,lastCell,existingHeight,difference){var newHeight=getVirtualHeight(totalRecords,lastCell),percentToBottom=lastCell.record/(totalRecords-1),diff=Math.abs(existingHeight-newHeight);return diff>newHeight*difference||percentToBottom>.995?newHeight:existingHeight}function calcDimensions(data,viewportElement,approxItemWidth,approxItemHeight,appoxHeaderWidth,approxHeaderHeight,approxFooterWidth,approxFooterHeight,bufferRatio){data.viewWidth=viewportElement.offsetWidth,data.viewHeight=viewportElement.offsetHeight,data.renderHeight=data.viewHeight*bufferRatio,data.viewWidth>0&&data.viewHeight>0&&(data.itmWidth=calcWidth(data.viewWidth,approxItemWidth),data.itmHeight=calcHeight(data.viewHeight,approxItemHeight),data.hdrWidth=calcWidth(data.viewWidth,appoxHeaderWidth),data.hdrHeight=calcHeight(data.viewHeight,approxHeaderHeight),data.ftrWidth=calcWidth(data.viewWidth,approxFooterWidth),data.ftrHeight=calcHeight(data.viewHeight,approxFooterHeight),data.valid=!0)}function calcWidth(viewportWidth,approxWidth){if(approxWidth.indexOf("%")>0)return viewportWidth*(parseFloat(approxWidth)/100);if(approxWidth.indexOf("px")>0)return parseFloat(approxWidth);throw'virtual scroll width can only use "%" or "px" units'}function calcHeight(viewportHeight,approxHeight){if(approxHeight.indexOf("px")>0)return parseFloat(approxHeight);throw'virtual scroll height must use "px" units'}function getElement(node){for(var rootNodes=node.view.rootNodes,i=0;i<rootNodes.length;i++)if(1===rootNodes[i].nodeType)return rootNodes[i];return null}var dom_1=require("../../util/dom");exports.processRecords=processRecords,exports.populateNodeData=populateNodeData,exports.initReadNodes=initReadNodes,exports.updateDimensions=updateDimensions,exports.writeToNodes=writeToNodes,exports.adjustRendered=adjustRendered,exports.getVirtualHeight=getVirtualHeight,exports.estimateHeight=estimateHeight,exports.calcDimensions=calcDimensions;var VirtualContext=function(){function VirtualContext($implicit,index,count){this.$implicit=$implicit,this.index=index,this.count=count}return Object.defineProperty(VirtualContext.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(VirtualContext.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(VirtualContext.prototype,"even",{get:function(){return this.index%2===0},enumerable:!0,configurable:!0}),Object.defineProperty(VirtualContext.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),VirtualContext}();exports.VirtualContext=VirtualContext;var TEMPLATE_ITEM=0,TEMPLATE_HEADER=1,TEMPLATE_FOOTER=2,VIEWABLE_RENDERED_PADDING=3,REQUIRED_DOM_READS=2},{"../../util/dom":527}],496:[function(require,module,exports){"use strict";function ionicBootstrap(appRootComponent,customProviders,config){var providers=providers_1.ionicProviders(customProviders,config);return providers.push({provide:app_1.UserComponent,useValue:appRootComponent}),new Promise(function(resolve){cssReady(function(){platform_browser_dynamic_1.bootstrap(app_1.AppRoot,providers).then(function(ngComponentRef){ionicPostBootstrap(ngComponentRef),resolve(ngComponentRef)})})})}function ionicPostBootstrap(ngComponentRef){var platform=ngComponentRef.injector.get(platform_1.Platform);return platform.setZone(ngComponentRef.injector.get(core_1.NgZone)),platform.prepareReady(),ngComponentRef.injector.get(tap_click_1.TapClick),ngComponentRef}function cssReady(done){var appEle=document.body.querySelector("ion-app");!appEle||appEle.clientHeight>0||cssLoadAttempt>300?done():dom_1.nativeRaf(function(){cssLoadAttempt++,cssReady(done)})}function addSelector(type,selector){if(type){var annotations=_reflect.getMetadata("annotations",type);annotations&&!annotations[0].selector&&(annotations[0].selector=selector,_reflect.defineMetadata("annotations",annotations,type))}}var platform_browser_dynamic_1=require("@angular/platform-browser-dynamic"),core_1=require("@angular/core"),app_1=require("../components/app/app"),dom_1=require("../util/dom"),providers_1=require("./providers"),platform_1=require("../platform/platform"),tap_click_1=require("../components/tap-click/tap-click"),_reflect=Reflect;exports.ionicBootstrap=ionicBootstrap,exports.ionicPostBootstrap=ionicPostBootstrap;var cssLoadAttempt=0;exports.addSelector=addSelector},{"../components/app/app":419,"../components/tap-click/tap-click":486,"../platform/platform":510,"../util/dom":527,"./providers":500,"@angular/core":167,"@angular/platform-browser-dynamic":315}],497:[function(require,module,exports){"use strict";var platform_1=require("../platform/platform"),util_1=require("../util/util"),Config=function(){function Config(config){this._c={},this._s={},this._s=config&&util_1.isObject(config)&&!util_1.isArray(config)?config:{}}return Config.prototype.get=function(key,fallbackValue){if(void 0===fallbackValue&&(fallbackValue=null),!util_1.isDefined(this._c[key])){if(!util_1.isDefined(key))throw"config key is not defined";var userPlatformValue=void 0,userDefaultValue=this._s[key],userPlatformModeValue=void 0,userDefaultModeValue=void 0,platformValue=void 0,platformModeValue=void 0,configObj=null;if(this.platform){var queryStringValue=this.platform.query("ionic"+key.toLowerCase());if(util_1.isDefined(queryStringValue))return this._c[key]="true"===queryStringValue||"false"!==queryStringValue&&queryStringValue;for(var activePlatformKeys=this.platform.platforms(),i=0,l=activePlatformKeys.length;i<l;i++)this._s.platforms&&(configObj=this._s.platforms[activePlatformKeys[i]],configObj&&(util_1.isDefined(configObj[key])&&(userPlatformValue=configObj[key]),configObj=Config.getModeConfig(configObj.mode),configObj&&util_1.isDefined(configObj[key])&&(userPlatformModeValue=configObj[key]))),configObj=platform_1.Platform.get(activePlatformKeys[i]),configObj&&configObj.settings&&(util_1.isDefined(configObj.settings[key])&&(platformValue=configObj.settings[key]),configObj=Config.getModeConfig(configObj.settings.mode),configObj&&util_1.isDefined(configObj[key])&&(platformModeValue=configObj[key]))}configObj=Config.getModeConfig(this._s.mode),configObj&&util_1.isDefined(configObj[key])&&(userDefaultModeValue=configObj[key]),this._c[key]=util_1.isDefined(userPlatformValue)?userPlatformValue:util_1.isDefined(userDefaultValue)?userDefaultValue:util_1.isDefined(userPlatformModeValue)?userPlatformModeValue:util_1.isDefined(userDefaultModeValue)?userDefaultModeValue:util_1.isDefined(platformValue)?platformValue:util_1.isDefined(platformModeValue)?platformModeValue:null}var rtnVal;return rtnVal=util_1.isFunction(this._c[key])?this._c[key](this.platform):this._c[key],null!==rtnVal?rtnVal:fallbackValue},Config.prototype.getBoolean=function(key,fallbackValue){void 0===fallbackValue&&(fallbackValue=!1);var val=this.get(key);return null===val?fallbackValue:"string"==typeof val?"true"===val:!!val},Config.prototype.getNumber=function(key,fallbackValue){void 0===fallbackValue&&(fallbackValue=NaN);var val=parseFloat(this.get(key));return isNaN(val)?fallbackValue:val},Config.prototype.set=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var arg0=args[0],arg1=args[1];switch(args.length){case 2:this._s[arg0]=arg1,delete this._c[arg0];break;case 3:this._s.platforms=this._s.platforms||{},this._s.platforms[arg0]=this._s.platforms[arg0]||{},this._s.platforms[arg0][arg1]=args[2],delete this._c[arg1]}return this},Config.prototype.settings=function(arg0,arg1){switch(arguments.length){case 0:return this._s;case 1:this._s=arg0,this._c={};break;case 2:this._s.platforms=this._s.platforms||{},this._s.platforms[arg0]=arg1,this._c={}}return this},Config.prototype.setPlatform=function(platform){this.platform=platform},Config.setModeConfig=function(mode,config){modeConfigs[mode]=config},Config.getModeConfig=function(mode){return modeConfigs[mode]||null},Config}();exports.Config=Config;var modeConfigs={}},{"../platform/platform":510,"../util/util":535}],498:[function(require,module,exports){"use strict";var common_1=require("@angular/common"),forms_1=require("@angular/forms"),menu_1=require("../components/menu/menu"),menu_toggle_1=require("../components/menu/menu-toggle"),menu_close_1=require("../components/menu/menu-close"),backdrop_1=require("../components/backdrop/backdrop"),badge_1=require("../components/badge/badge"),button_1=require("../components/button/button"),content_1=require("../components/content/content"),img_1=require("../components/img/img"),scroll_1=require("../components/scroll/scroll"),infinite_scroll_1=require("../components/infinite-scroll/infinite-scroll"),infinite_scroll_content_1=require("../components/infinite-scroll/infinite-scroll-content"),refresher_1=require("../components/refresher/refresher"),refresher_content_1=require("../components/refresher/refresher-content"),slides_1=require("../components/slides/slides"),tabs_1=require("../components/tabs/tabs"),tab_1=require("../components/tabs/tab"),list_1=require("../components/list/list"),item_1=require("../components/item/item"),item_reorder_1=require("../components/item/item-reorder"),item_sliding_1=require("../components/item/item-sliding"),virtual_scroll_1=require("../components/virtual-scroll/virtual-scroll"),virtual_item_1=require("../components/virtual-scroll/virtual-item"),toolbar_1=require("../components/toolbar/toolbar"),toolbar_item_1=require("../components/toolbar/toolbar-item"),toolbar_title_1=require("../components/toolbar/toolbar-title"),icon_1=require("../components/icon/icon"),spinner_1=require("../components/spinner/spinner"),checkbox_1=require("../components/checkbox/checkbox"),select_1=require("../components/select/select"),option_1=require("../components/option/option"),datetime_1=require("../components/datetime/datetime"),toggle_1=require("../components/toggle/toggle"),input_1=require("../components/input/input"),label_1=require("../components/label/label"),segment_1=require("../components/segment/segment"),radio_button_1=require("../components/radio/radio-button"),radio_group_1=require("../components/radio/radio-group"),range_1=require("../components/range/range"),searchbar_1=require("../components/searchbar/searchbar"),nav_1=require("../components/nav/nav"),nav_pop_1=require("../components/nav/nav-pop"),nav_push_1=require("../components/nav/nav-push"),navbar_1=require("../components/navbar/navbar"),show_hide_when_1=require("../components/show-hide-when/show-hide-when");exports.IONIC_DIRECTIVES=[common_1.CORE_DIRECTIVES,forms_1.REACTIVE_FORM_DIRECTIVES,menu_1.Menu,menu_toggle_1.MenuToggle,menu_close_1.MenuClose,backdrop_1.Backdrop,badge_1.Badge,button_1.Button,content_1.Content,scroll_1.Scroll,infinite_scroll_1.InfiniteScroll,infinite_scroll_content_1.InfiniteScrollContent,refresher_1.Refresher,refresher_content_1.RefresherContent,img_1.Img,list_1.List,list_1.ListHeader,item_1.Item,item_1.ItemContent,item_sliding_1.ItemSliding,item_sliding_1.ItemOptions,item_reorder_1.ItemReorder,virtual_scroll_1.VirtualScroll,virtual_item_1.VirtualItem,virtual_item_1.VirtualHeader,virtual_item_1.VirtualFooter,slides_1.Slides,slides_1.Slide,slides_1.SlideLazy,tabs_1.Tabs,tab_1.Tab,toolbar_1.Header,toolbar_1.Footer,toolbar_1.Toolbar,toolbar_title_1.ToolbarTitle,toolbar_item_1.ToolbarItem,icon_1.Icon,spinner_1.Spinner,searchbar_1.Searchbar,segment_1.Segment,segment_1.SegmentButton,checkbox_1.Checkbox,radio_group_1.RadioGroup,radio_button_1.RadioButton,range_1.Range,select_1.Select,option_1.Option,datetime_1.DateTime,toggle_1.Toggle,input_1.TextArea,input_1.TextInput,label_1.Label,nav_1.Nav,navbar_1.NavbarTemplate,navbar_1.Navbar,nav_push_1.NavPush,nav_pop_1.NavPop,show_hide_when_1.ShowWhen,show_hide_when_1.HideWhen]},{"../components/backdrop/backdrop":420,"../components/badge/badge":421,"../components/button/button":422,"../components/checkbox/checkbox":423,"../components/content/content":424,"../components/datetime/datetime":425,"../components/icon/icon":426,"../components/img/img":427,"../components/infinite-scroll/infinite-scroll":429,"../components/infinite-scroll/infinite-scroll-content":428,"../components/input/input":431,"../components/item/item":438,"../components/item/item-reorder":435,"../components/item/item-sliding":437,"../components/label/label":439,"../components/list/list":440,"../components/menu/menu":448,"../components/menu/menu-close":443,"../components/menu/menu-toggle":446,"../components/nav/nav":458,"../components/nav/nav-pop":455,"../components/nav/nav-push":457,"../components/navbar/navbar":461,"../components/option/option":462,"../components/radio/radio-button":467,"../components/radio/radio-group":468,"../components/range/range":469,"../components/refresher/refresher":471,"../components/refresher/refresher-content":470,"../components/scroll/scroll":472,"../components/searchbar/searchbar":473,"../components/segment/segment":474,"../components/select/select":475,"../components/show-hide-when/show-hide-when":476,"../components/slides/slides":477,"../components/spinner/spinner":479,"../components/tabs/tab":482,"../components/tabs/tabs":483,"../components/toggle/toggle":489,"../components/toolbar/toolbar":492,"../components/toolbar/toolbar-item":490,"../components/toolbar/toolbar-title":491,"../components/virtual-scroll/virtual-item":493,"../components/virtual-scroll/virtual-scroll":494,"@angular/common":20,"@angular/forms":256}],499:[function(require,module,exports){"use strict";var config_1=require("./config");config_1.Config.setModeConfig("ios",{activator:"highlight",actionSheetEnter:"action-sheet-slide-in",actionSheetLeave:"action-sheet-slide-out",alertEnter:"alert-pop-in",alertLeave:"alert-pop-out",backButtonText:"Back",backButtonIcon:"ios-arrow-back",iconMode:"ios",loadingEnter:"loading-pop-in",loadingLeave:"loading-pop-out",menuType:"reveal",modalEnter:"modal-slide-in",modalLeave:"modal-slide-out",pageTransition:"ios-transition",pageTransitionDelay:16,pickerEnter:"picker-slide-in",pickerLeave:"picker-slide-out",pickerRotateFactor:-.46,popoverEnter:"popover-pop-in",popoverLeave:"popover-pop-out",spinner:"ios",tabsHighlight:!1,tabsPlacement:"bottom",tabsHideOnSubPages:!1,toastEnter:"toast-slide-in",toastLeave:"toast-slide-out"}),config_1.Config.setModeConfig("md",{activator:"ripple",actionSheetEnter:"action-sheet-md-slide-in",actionSheetLeave:"action-sheet-md-slide-out",alertEnter:"alert-md-pop-in",alertLeave:"alert-md-pop-out",backButtonText:"",backButtonIcon:"md-arrow-back",iconMode:"md",loadingEnter:"loading-md-pop-in",loadingLeave:"loading-md-pop-out",menuType:"overlay",modalEnter:"modal-md-slide-in",modalLeave:"modal-md-slide-out",pageTransition:"md-transition",pageTransitionDelay:64,pickerEnter:"picker-slide-in",pickerLeave:"picker-slide-out",pickerRotateFactor:0,popoverEnter:"popover-md-pop-in",popoverLeave:"popover-md-pop-out",spinner:"crescent",tabsHighlight:!1,tabsPlacement:"bottom",tabsHideOnSubPages:!1,toastEnter:"toast-md-slide-in",toastLeave:"toast-md-slide-out"}),config_1.Config.setModeConfig("wp",{activator:"highlight",actionSheetEnter:"action-sheet-wp-slide-in",actionSheetLeave:"action-sheet-wp-slide-out",alertEnter:"alert-wp-pop-in",alertLeave:"alert-wp-pop-out",backButtonText:"",backButtonIcon:"ios-arrow-back",iconMode:"ios",loadingEnter:"loading-wp-pop-in",loadingLeave:"loading-wp-pop-out",menuType:"overlay",modalEnter:"modal-md-slide-in",modalLeave:"modal-md-slide-out",pageTransition:"wp-transition",pageTransitionDelay:96,pickerEnter:"picker-slide-in",pickerLeave:"picker-slide-out",pickerRotateFactor:0,popoverEnter:"popover-md-pop-in",popoverLeave:"popover-md-pop-out",spinner:"circles",tabsHighlight:!1,tabsPlacement:"top",tabsHideOnSubPages:!0,toastEnter:"toast-wp-slide-in",toastLeave:"toast-wp-slide-out"})},{"./config":497}],500:[function(require,module,exports){"use strict";function ionicProviders(customProviders,config){config instanceof config_1.Config||(config=new config_1.Config(config)),config.getBoolean("prodMode")&&core_1.enableProdMode();var platform=new platform_1.Platform;platform.setUrl(window.location.href),platform.setUserAgent(window.navigator.userAgent),platform.setNavigatorPlatform(window.navigator.platform),platform.load(),config.setPlatform(platform);var events=new events_1.Events,featureDetect=new feature_detect_1.FeatureDetect;setupDom(window,document,config,platform,featureDetect),bindEvents(window,document,platform,events);var providers=[action_sheet_1.ActionSheetController,alert_1.AlertController,app_1.App,core_1.provide(config_1.Config,{useValue:config}),forms_1.disableDeprecatedForms(),core_1.provide(events_1.Events,{useValue:events}),core_1.provide(feature_detect_1.FeatureDetect,{useValue:featureDetect}),form_1.Form,gesture_controller_1.GestureController,http_1.HTTP_PROVIDERS,keyboard_1.Keyboard,loading_1.LoadingController,menu_controller_1.MenuController,modal_1.ModalController,picker_1.PickerController,popover_1.PopoverController,core_1.provide(platform_1.Platform,{useValue:platform}),core_1.provide(core_1.PLATFORM_DIRECTIVES,{useValue:directives_1.IONIC_DIRECTIVES,multi:!0}),forms_1.provideForms(),tap_click_1.TapClick,toast_1.ToastController,translate_1.Translate];return util_1.isPresent(customProviders)&&providers.push(customProviders),providers}function setupDom(window,document,config,platform,featureDetect){var bodyEle=document.body,mode=config.get("mode"),modeLinkAttr=mode+"-href",linkEle=document.head.querySelector("link["+modeLinkAttr+"]");if(linkEle){var href=linkEle.getAttribute(modeLinkAttr);linkEle.removeAttribute(modeLinkAttr),linkEle.href=href}bodyEle.classList.add(mode),platform.setDir(document.documentElement.dir,!1),platform.setLang(document.documentElement.lang,!1);var versions=platform.versions();platform.platforms().forEach(function(platformName){var platformClass="platform-"+platformName;bodyEle.classList.add(platformClass);var platformVersion=versions[platformName];platformVersion&&(platformClass+=platformVersion.major,bodyEle.classList.add(platformClass),bodyEle.classList.add(platformClass+"_"+platformVersion.minor))}),config.getBoolean("hoverCSS",!0)&&bodyEle.classList.add("enable-hover"),featureDetect.run(window,document)}function bindEvents(window,document,platform,events){window.addEventListener("online",function(ev){events.publish("app:online",ev)},!1),window.addEventListener("offline",function(ev){events.publish("app:offline",ev)},!1),window.addEventListener("orientationchange",function(ev){events.publish("app:rotated",ev)}),window.addEventListener("statusTap",function(ev){var el=document.elementFromPoint(platform.width()/2,platform.height()/2);if(el){var content=dom_1.closest(el,"scroll-content");if(content){var scroll=new scroll_view_1.ScrollView(content);scroll.scrollTo(0,0,300)}}}),dom_1.nativeTimeout(function(){window.addEventListener("resize",function(){platform.windowResize()})},2e3)}var core_1=require("@angular/core"),forms_1=require("@angular/forms"),http_1=require("@angular/http"),action_sheet_1=require("../components/action-sheet/action-sheet"),alert_1=require("../components/alert/alert"),app_1=require("../components/app/app"),config_1=require("./config"),dom_1=require("../util/dom"),events_1=require("../util/events"),feature_detect_1=require("../util/feature-detect"),form_1=require("../util/form"),gesture_controller_1=require("../gestures/gesture-controller"),directives_1=require("./directives"),util_1=require("../util/util"),keyboard_1=require("../util/keyboard"),loading_1=require("../components/loading/loading"),menu_controller_1=require("../components/menu/menu-controller"),modal_1=require("../components/modal/modal"),picker_1=require("../components/picker/picker"),platform_1=require("../platform/platform"),popover_1=require("../components/popover/popover"),scroll_view_1=require("../util/scroll-view"),tap_click_1=require("../components/tap-click/tap-click"),toast_1=require("../components/toast/toast"),translate_1=require("../translation/translate");exports.ionicProviders=ionicProviders},{"../components/action-sheet/action-sheet":416,"../components/alert/alert":418,"../components/app/app":419,"../components/loading/loading":442,"../components/menu/menu-controller":444,"../components/modal/modal":450,"../components/picker/picker":464,"../components/popover/popover":466,"../components/tap-click/tap-click":486,"../components/toast/toast":488,"../gestures/gesture-controller":503,"../platform/platform":510,"../translation/translate":521,"../util/dom":527,"../util/events":528,"../util/feature-detect":529,"../util/form":530,"../util/keyboard":532,"../util/scroll-view":533,"../util/util":535,"./config":497,"./directives":498,"@angular/core":167,"@angular/forms":256,"@angular/http":294}],501:[function(require,module,exports){"use strict";function Page(config){return function(cls){config.selector="ion-page",config.host=config.host||{},config.host["[hidden]"]="_hidden",config.host["[class.tab-subpage]"]="_tabSubPage";var annotations=_reflect.getMetadata("annotations",cls)||[];return annotations.push(new core_1.Component(config)),_reflect.defineMetadata("annotations",annotations,cls),cls}}var core_1=require("@angular/core"),_reflect=Reflect;exports.Page=Page},{"@angular/core":167}],502:[function(require,module,exports){"use strict";var util_1=require("../util"),ui_event_manager_1=require("../util/ui-event-manager"),recognizers_1=require("./recognizers"),dom_1=require("../util/dom"),PanGesture=function(){function PanGesture(element,opts){void 0===opts&&(opts={}),this.element=element,this.events=new ui_event_manager_1.UIEventManager((!1)),this.started=!1,this.captured=!1,this.isListening=!1,util_1.defaults(opts,{threshold:20,maxAngle:40,direction:"x"}),this.gestute=opts.gesture,this.direction=opts.direction,this.detector=new recognizers_1.PanRecognizer(opts.direction,opts.threshold,opts.maxAngle)}return PanGesture.prototype.listen=function(){this.isListening||(this.pointerEvents=this.events.pointerEvents({element:this.element,pointerDown:this.pointerDown.bind(this),pointerMove:this.pointerMove.bind(this),pointerUp:this.pointerUp.bind(this)}),this.isListening=!0)},PanGesture.prototype.unlisten=function(){this.gestute&&this.gestute.release(),this.events.unlistenAll(),this.isListening=!1},PanGesture.prototype.destroy=function(){this.gestute&&this.gestute.destroy(),this.unlisten(),this.element=null},PanGesture.prototype.pointerDown=function(ev){if(!this.started){if(!this.canStart(ev))return!1;if(this.gestute&&(this.gestute.release(),!this.gestute.start()))return!1;var coord=dom_1.pointerCoord(ev);return this.detector.start(coord),this.started=!0,this.captured=!1,!0}},PanGesture.prototype.pointerMove=function(ev){if(this.started){if(this.captured)return void this.onDragMove(ev);var coord=dom_1.pointerCoord(ev);if(this.detector.detect(coord)){if(0!==this.detector.pan()&&this.canCapture(ev)&&(!this.gestute||this.gestute.capture()))return this.onDragStart(ev),void(this.captured=!0);this.started=!1,this.captured=!1,this.pointerEvents.stop(),this.notCaptured(ev)}}},PanGesture.prototype.pointerUp=function(ev){this.started&&(this.gestute&&this.gestute.release(),this.captured?this.onDragEnd(ev):this.notCaptured(ev),this.captured=!1,this.started=!1)},PanGesture.prototype.getNativeElement=function(){return this.element},PanGesture.prototype.canStart=function(ev){return!0},PanGesture.prototype.canCapture=function(ev){return!0},PanGesture.prototype.onDragStart=function(ev){},PanGesture.prototype.onDragMove=function(ev){},PanGesture.prototype.onDragEnd=function(ev){},PanGesture.prototype.notCaptured=function(ev){},PanGesture}();exports.PanGesture=PanGesture},{"../util":523,"../util/dom":527,"../util/ui-event-manager":534,"./recognizers":506}],503:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),app_1=require("../components/app/app"),GestureController=function(){function GestureController(_app){this._app=_app,this.id=1,this.requestedStart={},this.disabledGestures={},this.disabledScroll=new Set,this.capturedID=null}return GestureController.prototype.create=function(name,opts){return void 0===opts&&(opts={}),new GestureDelegate(name,this.newID(),this,opts)},GestureController.prototype.newID=function(){var id=this.id;return this.id++,id},GestureController.prototype.start=function(gestureName,id,priority){return this.canStart(gestureName)?(this.requestedStart[id]=priority,!0):(delete this.requestedStart[id],!1)},GestureController.prototype.capture=function(gestureName,id,priority){if(!this.start(gestureName,id,priority))return!1;var requestedStart=this.requestedStart,maxPriority=-1e4;for(var gestureID in requestedStart)maxPriority=Math.max(maxPriority,requestedStart[gestureID]);return maxPriority===priority?(this.capturedID=id,this.requestedStart={},!0):(delete requestedStart[id],!1)},GestureController.prototype.release=function(id){delete this.requestedStart[id],this.capturedID&&id===this.capturedID&&(this.capturedID=null);
},GestureController.prototype.disableGesture=function(gestureName,id){var set=this.disabledGestures[gestureName];set||(set=new Set,this.disabledGestures[gestureName]=set),set.add(id)},GestureController.prototype.enableGesture=function(gestureName,id){var set=this.disabledGestures[gestureName];set&&set["delete"](id)},GestureController.prototype.disableScroll=function(id){var isEnabled=!this.isScrollDisabled();this.disabledScroll.add(id),this._app&&isEnabled&&this.isScrollDisabled()&&this._app.setScrollDisabled(!0)},GestureController.prototype.enableScroll=function(id){var isDisabled=this.isScrollDisabled();this.disabledScroll["delete"](id),this._app&&isDisabled&&!this.isScrollDisabled()&&this._app.setScrollDisabled(!1)},GestureController.prototype.canStart=function(gestureName){return!this.capturedID&&!this.isDisabled(gestureName)},GestureController.prototype.isCaptured=function(){return!!this.capturedID},GestureController.prototype.isScrollDisabled=function(){return this.disabledScroll.size>0},GestureController.prototype.isDisabled=function(gestureName){var disabled=this.disabledGestures[gestureName];return!!(disabled&&disabled.size>0)},GestureController=__decorate([core_1.Injectable(),__param(0,core_1.Inject(core_1.forwardRef(function(){return app_1.App}))),__metadata("design:paramtypes",[app_1.App])],GestureController)}();exports.GestureController=GestureController;var GestureDelegate=function(){function GestureDelegate(name,id,controller,opts){this.name=name,this.id=id,this.controller=controller,this.priority=0,this.disable=opts.disable||[],this.disableScroll=opts.disableScroll||0,this.priority=opts.priority||0;for(var _i=0,_a=this.disable;_i<_a.length;_i++){var gestureName=_a[_i];controller.disableGesture(gestureName,id)}2===this.disableScroll&&controller.disableScroll(id)}return GestureDelegate.prototype.canStart=function(){return!!this.controller&&this.controller.canStart(this.name)},GestureDelegate.prototype.start=function(){return!!this.controller&&this.controller.start(this.name,this.id,this.priority)},GestureDelegate.prototype.capture=function(){if(!this.controller)return!1;var captured=this.controller.capture(this.name,this.id,this.priority);return captured&&1===this.disableScroll&&this.controller.disableScroll(this.id),captured},GestureDelegate.prototype.release=function(){this.controller&&(this.controller.release(this.id),1===this.disableScroll&&this.controller.enableScroll(this.id))},GestureDelegate.prototype.destroy=function(){if(this.controller){this.release();for(var _i=0,_a=this.disable;_i<_a.length;_i++){var disabled=_a[_i];this.controller.enableGesture(disabled,this.id)}2===this.disableScroll&&this.controller.enableScroll(this.id),this.controller=null}},GestureDelegate}();exports.GestureDelegate=GestureDelegate},{"../components/app/app":419,"@angular/core":167}],504:[function(require,module,exports){"use strict";var util_1=require("../util"),hammer_1=require("./hammer"),Gesture=function(){function Gesture(element,opts){void 0===opts&&(opts={}),this._callbacks={},this.isListening=!1,util_1.defaults(opts,{domEvents:!0}),this.element=element,this.direction=opts.direction||"x",opts.direction="x"===this.direction?hammer_1.DIRECTION_HORIZONTAL:hammer_1.DIRECTION_VERTICAL,this._options=opts}return Gesture.prototype.options=function(opts){util_1.assign(this._options,opts)},Gesture.prototype.on=function(type,cb){"pinch"!==type&&"rotate"!==type||this._hammer.get("pinch").set({enable:!0}),this._hammer.on(type,cb),(this._callbacks[type]||(this._callbacks[type]=[])).push(cb)},Gesture.prototype.off=function(type,cb){this._hammer.off(type,this._callbacks[type]?cb:null)},Gesture.prototype.listen=function(){this.isListening||(this._hammer=hammer_1.Hammer(this.element,this._options)),this.isListening=!0},Gesture.prototype.unlisten=function(){var eventType,i;if(this._hammer&&this.isListening){for(eventType in this._callbacks)for(i=0;i<this._callbacks[eventType].length;i++)this._hammer.off(eventType,this._callbacks[eventType]);this._hammer.destroy()}this._callbacks={},this._hammer=null,this.isListening=!1},Gesture.prototype.destroy=function(){this.unlisten(),this.element=this._options=null},Gesture}();exports.Gesture=Gesture},{"../util":523,"./hammer":505}],505:[function(require,module,exports){"use strict";function setTimeoutContext(fn,timeout,context){return setTimeout(bindFn(fn,context),timeout)}function invokeArrayArg(arg,fn,context){return!!Array.isArray(arg)&&(each(arg,context[fn],context),!0)}function each(obj,iterator,context){var i;if(obj)if(obj.forEach)obj.forEach(iterator,context);else if(void 0!==obj.length)for(i=0;i<obj.length;)iterator.call(context,obj[i],i,obj),i++;else for(i in obj)obj.hasOwnProperty(i)&&iterator.call(context,obj[i],i,obj)}function inherit(child,base,properties){var childP,baseP=base.prototype;childP=child.prototype=Object.create(baseP),childP.constructor=child,childP._super=baseP,properties&&util_1.assign(childP,properties)}function bindFn(fn,context){return function(){return fn.apply(context,arguments)}}function boolOrFn(val,args){return typeof val==TYPE_FUNCTION?val.apply(args?args[0]||void 0:void 0,args):val}function ifUndefined(val1,val2){return void 0===val1?val2:val1}function addEventListeners(target,types,handler){each(splitStr(types),function(type){target.addEventListener(type,handler,!1)})}function removeEventListeners(target,types,handler){each(splitStr(types),function(type){target.removeEventListener(type,handler,!1)})}function hasParent(node,parent){for(;node;){if(node==parent)return!0;node=node.parentNode}return!1}function inStr(str,find){return str.indexOf(find)>-1}function splitStr(str){return str.trim().split(/\s+/g)}function inArray(src,find,findByKey){if(src.indexOf&&!findByKey)return src.indexOf(find);for(var i=0;i<src.length;){if(findByKey&&src[i][findByKey]==find||!findByKey&&src[i]===find)return i;i++}return-1}function toArray(obj){return Array.prototype.slice.call(obj,0)}function uniqueArray(src,key,sort){for(var results=[],values=[],i=0;i<src.length;){var val=key?src[i][key]:src[i];inArray(values,val)<0&&results.push(src[i]),values[i]=val,i++}return sort&&(results=key?results.sort(function(a,b){return a[key]>b[key]?1:0}):results.sort()),results}function prefixed(obj,property){for(var prefix,prop,camelProp=property[0].toUpperCase()+property.slice(1),i=0;i<VENDOR_PREFIXES.length;){if(prefix=VENDOR_PREFIXES[i],prop=prefix?prefix+camelProp:property,prop in obj)return prop;i++}}function uniqueId(){return _uniqueId++}function getWindowForElement(element){var doc=element.ownerDocument||element;return doc.defaultView||doc.parentWindow||window}function Input(manager,callback){var self=this;this.manager=manager,this.callback=callback,this.element=manager.element,this.target=manager.options.inputTarget,this.domHandler=function(ev){boolOrFn(manager.options.enable,[manager])&&self.handler(ev)},this.init()}function createInputInstance(manager){var Type,inputClass=manager.options.inputClass;return new(Type=inputClass?inputClass:SUPPORT_POINTER_EVENTS?PointerEventInput:SUPPORT_ONLY_TOUCH?TouchInput:SUPPORT_TOUCH?TouchMouseInput:MouseInput)(manager,inputHandler)}function inputHandler(manager,eventType,input){var pointersLen=input.pointers.length,changedPointersLen=input.changedPointers.length,isFirst=eventType&INPUT_START&&pointersLen-changedPointersLen===0,isFinal=eventType&(INPUT_END|INPUT_CANCEL)&&pointersLen-changedPointersLen===0;input.isFirst=!!isFirst,input.isFinal=!!isFinal,isFirst&&(manager.session={}),input.eventType=eventType,computeInputData(manager,input),manager.emit("hammer.input",input),manager.recognize(input),manager.session.prevInput=input}function computeInputData(manager,input){var session=manager.session,pointers=input.pointers,pointersLength=pointers.length;session.firstInput||(session.firstInput=simpleCloneInputData(input)),pointersLength>1&&!session.firstMultiple?session.firstMultiple=simpleCloneInputData(input):1===pointersLength&&(session.firstMultiple=!1);var firstInput=session.firstInput,firstMultiple=session.firstMultiple,offsetCenter=firstMultiple?firstMultiple.center:firstInput.center,center=input.center=getCenter(pointers);input.timeStamp=now(),input.deltaTime=input.timeStamp-firstInput.timeStamp,input.angle=getAngle(offsetCenter,center),input.distance=getDistance(offsetCenter,center),computeDeltaXY(session,input),input.offsetDirection=getDirection(input.deltaX,input.deltaY);var overallVelocity=getVelocity(input.deltaTime,input.deltaX,input.deltaY);input.overallVelocityX=overallVelocity.x,input.overallVelocityY=overallVelocity.y,input.overallVelocity=abs(overallVelocity.x)>abs(overallVelocity.y)?overallVelocity.x:overallVelocity.y,input.scale=firstMultiple?getScale(firstMultiple.pointers,pointers):1,input.rotation=firstMultiple?getRotation(firstMultiple.pointers,pointers):0,input.maxPointers=session.prevInput?input.pointers.length>session.prevInput.maxPointers?input.pointers.length:session.prevInput.maxPointers:input.pointers.length,computeIntervalInputData(session,input);var target=manager.element;hasParent(input.srcEvent.target,target)&&(target=input.srcEvent.target),input.target=target}function computeDeltaXY(session,input){var center=input.center,offset=session.offsetDelta||{},prevDelta=session.prevDelta||{},prevInput=session.prevInput||{};input.eventType!==INPUT_START&&prevInput.eventType!==INPUT_END||(prevDelta=session.prevDelta={x:prevInput.deltaX||0,y:prevInput.deltaY||0},offset=session.offsetDelta={x:center.x,y:center.y}),input.deltaX=prevDelta.x+(center.x-offset.x),input.deltaY=prevDelta.y+(center.y-offset.y)}function computeIntervalInputData(session,input){var velocity,velocityX,velocityY,direction,last=session.lastInterval||input,deltaTime=input.timeStamp-last.timeStamp;if(input.eventType!=INPUT_CANCEL&&(deltaTime>COMPUTE_INTERVAL||void 0===last.velocity)){var deltaX=input.deltaX-last.deltaX,deltaY=input.deltaY-last.deltaY,v=getVelocity(deltaTime,deltaX,deltaY);velocityX=v.x,velocityY=v.y,velocity=abs(v.x)>abs(v.y)?v.x:v.y,direction=getDirection(deltaX,deltaY),session.lastInterval=input}else velocity=last.velocity,velocityX=last.velocityX,velocityY=last.velocityY,direction=last.direction;input.velocity=velocity,input.velocityX=velocityX,input.velocityY=velocityY,input.direction=direction}function simpleCloneInputData(input){for(var pointers=[],i=0;i<input.pointers.length;)pointers[i]={clientX:round(input.pointers[i].clientX),clientY:round(input.pointers[i].clientY)},i++;return{timeStamp:now(),pointers:pointers,center:getCenter(pointers),deltaX:input.deltaX,deltaY:input.deltaY}}function getCenter(pointers){var pointersLength=pointers.length;if(1===pointersLength)return{x:round(pointers[0].clientX),y:round(pointers[0].clientY)};for(var x=0,y=0,i=0;i<pointersLength;)x+=pointers[i].clientX,y+=pointers[i].clientY,i++;return{x:round(x/pointersLength),y:round(y/pointersLength)}}function getVelocity(deltaTime,x,y){return{x:x/deltaTime||0,y:y/deltaTime||0}}function getDirection(x,y){return x===y?DIRECTION_NONE:abs(x)>=abs(y)?x<0?exports.DIRECTION_LEFT:exports.DIRECTION_RIGHT:y<0?DIRECTION_UP:DIRECTION_DOWN}function getDistance(p1,p2,props){props||(props=PROPS_XY);var x=p2[props[0]]-p1[props[0]],y=p2[props[1]]-p1[props[1]];return Math.sqrt(x*x+y*y)}function getAngle(p1,p2,props){props||(props=PROPS_XY);var x=p2[props[0]]-p1[props[0]],y=p2[props[1]]-p1[props[1]];return 180*Math.atan2(y,x)/Math.PI}function getRotation(start,end){return getAngle(end[1],end[0],PROPS_CLIENT_XY)+getAngle(start[1],start[0],PROPS_CLIENT_XY)}function getScale(start,end){return getDistance(end[0],end[1],PROPS_CLIENT_XY)/getDistance(start[0],start[1],PROPS_CLIENT_XY)}function MouseInput(manager,handler){this.evEl=MOUSE_ELEMENT_EVENTS,this.evWin=MOUSE_WINDOW_EVENTS,this.allow=!0,this.pressed=!1,Input.apply(this,arguments)}function PointerEventInput(){this.evEl=POINTER_ELEMENT_EVENTS,this.evWin=POINTER_WINDOW_EVENTS,Input.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function SingleTouchInput(){this.evTarget=SINGLE_TOUCH_TARGET_EVENTS,this.evWin=SINGLE_TOUCH_WINDOW_EVENTS,this.started=!1,Input.apply(this,arguments)}function normalizeSingleTouches(ev,type){var all=toArray(ev.touches),changed=toArray(ev.changedTouches);return type&(INPUT_END|INPUT_CANCEL)&&(all=uniqueArray(all.concat(changed),"identifier",!0)),[all,changed]}function TouchInput(manager,handler){this.evTarget=TOUCH_TARGET_EVENTS,this.targetIds={},Input.apply(this,arguments)}function getTouches(ev,type){var allTouches=toArray(ev.touches),targetIds=this.targetIds;if(type&(INPUT_START|INPUT_MOVE)&&1===allTouches.length)return targetIds[allTouches[0].identifier]=!0,[allTouches,allTouches];var i,targetTouches,changedTouches=toArray(ev.changedTouches),changedTargetTouches=[],target=this.target;if(targetTouches=allTouches.filter(function(touch){return hasParent(touch.target,target)}),type===INPUT_START)for(i=0;i<targetTouches.length;)targetIds[targetTouches[i].identifier]=!0,i++;for(i=0;i<changedTouches.length;)targetIds[changedTouches[i].identifier]&&changedTargetTouches.push(changedTouches[i]),type&(INPUT_END|INPUT_CANCEL)&&delete targetIds[changedTouches[i].identifier],i++;return changedTargetTouches.length?[uniqueArray(targetTouches.concat(changedTargetTouches),"identifier",!0),changedTargetTouches]:void 0}function TouchMouseInput(){Input.apply(this,arguments);var handler=bindFn(this.handler,this);this.touch=new TouchInput(this.manager,handler),this.mouse=new MouseInput(this.manager,handler)}function TouchAction(manager,value){this.manager=manager,this.set(value)}function cleanTouchActions(actions){if(inStr(actions,TOUCH_ACTION_NONE))return TOUCH_ACTION_NONE;var hasPanX=inStr(actions,TOUCH_ACTION_PAN_X),hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y);return hasPanX&&hasPanY?TOUCH_ACTION_NONE:hasPanX||hasPanY?hasPanX?TOUCH_ACTION_PAN_X:TOUCH_ACTION_PAN_Y:inStr(actions,TOUCH_ACTION_MANIPULATION)?TOUCH_ACTION_MANIPULATION:TOUCH_ACTION_AUTO}function Recognizer(options){this.options=util_1.assign({},this.defaults,options||{}),this.id=uniqueId(),this.manager=null,this.options.enable=ifUndefined(this.options.enable,!0),this.state=STATE_POSSIBLE,this.simultaneous={},this.requireFail=[]}function stateStr(state){return state&STATE_CANCELLED?"cancel":state&STATE_ENDED?"end":state&STATE_CHANGED?"move":state&STATE_BEGAN?"start":""}function directionStr(direction){return direction==DIRECTION_DOWN?"down":direction==DIRECTION_UP?"up":direction==exports.DIRECTION_LEFT?"left":direction==exports.DIRECTION_RIGHT?"right":""}function getRecognizerByNameIfManager(otherRecognizer,recognizer){var manager=recognizer.manager;return manager?manager.get(otherRecognizer):otherRecognizer}function AttrRecognizer(){Recognizer.apply(this,arguments)}function PanRecognizer(){AttrRecognizer.apply(this,arguments),this.pX=null,this.pY=null}function PinchRecognizer(){AttrRecognizer.apply(this,arguments)}function PressRecognizer(){Recognizer.apply(this,arguments),this._timer=null,this._input=null}function RotateRecognizer(){AttrRecognizer.apply(this,arguments)}function SwipeRecognizer(){AttrRecognizer.apply(this,arguments)}function TapRecognizer(){Recognizer.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Hammer(element,options){return options=options||{},options.recognizers=ifUndefined(options.recognizers,_defaults.preset),new Manager(element,options)}function Manager(element,options){this.options=util_1.assign({},_defaults,options||{}),this.options.inputTarget=this.options.inputTarget||element,this.handlers={},this.session={},this.recognizers=[],this.element=element,this.input=createInputInstance(this),this.touchAction=new TouchAction(this,this.options.touchAction),toggleCssProps(this,!0),each(this.options.recognizers,function(item){var recognizer=this.add(new item[0](item[1]));item[2]&&recognizer.recognizeWith(item[2]),item[3]&&recognizer.requireFailure(item[3])},this)}function toggleCssProps(manager,add){var element=manager.element;element.style&&each(manager.options.cssProps,function(value,name){element.style[prefixed(element.style,name)]=add?value:""})}function triggerDomEvent(event,data){var gestureEvent=doc.createEvent("Event");gestureEvent.initEvent(event,!0,!0),gestureEvent.gesture=data,data.target.dispatchEvent(gestureEvent)}var util_1=require("../util/util"),win=window,doc=document,VENDOR_PREFIXES=["","webkit","Moz","MS","ms","o"],TEST_ELEMENT=doc.createElement("div"),TYPE_FUNCTION="function",round=Math.round,abs=Math.abs,now=Date.now,_uniqueId=1,MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,SUPPORT_TOUCH="ontouchstart"in window,SUPPORT_POINTER_EVENTS=void 0!==prefixed(window,"PointerEvent"),SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&MOBILE_REGEX.test(navigator.userAgent),INPUT_TYPE_TOUCH="touch",INPUT_TYPE_PEN="pen",INPUT_TYPE_MOUSE="mouse",INPUT_TYPE_KINECT="kinect",COMPUTE_INTERVAL=25,INPUT_START=1,INPUT_MOVE=2,INPUT_END=4,INPUT_CANCEL=8,DIRECTION_NONE=1;exports.DIRECTION_LEFT=2,exports.DIRECTION_RIGHT=4;var DIRECTION_UP=8,DIRECTION_DOWN=16;exports.DIRECTION_HORIZONTAL=exports.DIRECTION_LEFT|exports.DIRECTION_RIGHT,exports.DIRECTION_VERTICAL=DIRECTION_UP|DIRECTION_DOWN;var DIRECTION_ALL=exports.DIRECTION_HORIZONTAL|exports.DIRECTION_VERTICAL,PROPS_XY=["x","y"],PROPS_CLIENT_XY=["clientX","clientY"];Input.prototype={handler:function(){},init:function(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)}};var MOUSE_INPUT_MAP={mousedown:INPUT_START,mousemove:INPUT_MOVE,mouseup:INPUT_END},MOUSE_ELEMENT_EVENTS="mousedown",MOUSE_WINDOW_EVENTS="mousemove mouseup";inherit(MouseInput,Input,{handler:function(ev){var eventType=MOUSE_INPUT_MAP[ev.type];eventType&INPUT_START&&0===ev.button&&(this.pressed=!0),eventType&INPUT_MOVE&&1!==ev.which&&(eventType=INPUT_END),this.pressed&&this.allow&&(eventType&INPUT_END&&(this.pressed=!1),this.callback(this.manager,eventType,{pointers:[ev],changedPointers:[ev],pointerType:INPUT_TYPE_MOUSE,srcEvent:ev}))}});var POINTER_INPUT_MAP={pointerdown:INPUT_START,pointermove:INPUT_MOVE,pointerup:INPUT_END,pointercancel:INPUT_CANCEL,pointerout:INPUT_CANCEL},IE10_POINTER_TYPE_ENUM={2:INPUT_TYPE_TOUCH,3:INPUT_TYPE_PEN,4:INPUT_TYPE_MOUSE,5:INPUT_TYPE_KINECT},POINTER_ELEMENT_EVENTS="pointerdown",POINTER_WINDOW_EVENTS="pointermove pointerup pointercancel";win.MSPointerEvent&&!win.PointerEvent&&(POINTER_ELEMENT_EVENTS="MSPointerDown",POINTER_WINDOW_EVENTS="MSPointerMove MSPointerUp MSPointerCancel"),inherit(PointerEventInput,Input,{handler:function(ev){var store=this.store,removePointer=!1,eventTypeNormalized=ev.type.toLowerCase().replace("ms",""),eventType=POINTER_INPUT_MAP[eventTypeNormalized],pointerType=IE10_POINTER_TYPE_ENUM[ev.pointerType]||ev.pointerType,isTouch=pointerType==INPUT_TYPE_TOUCH,storeIndex=inArray(store,ev.pointerId,"pointerId");eventType&INPUT_START&&(0===ev.button||isTouch)?storeIndex<0&&(store.push(ev),storeIndex=store.length-1):eventType&(INPUT_END|INPUT_CANCEL)&&(removePointer=!0),storeIndex<0||(store[storeIndex]=ev,this.callback(this.manager,eventType,{pointers:store,changedPointers:[ev],pointerType:pointerType,srcEvent:ev}),removePointer&&store.splice(storeIndex,1))}});var SINGLE_TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},SINGLE_TOUCH_TARGET_EVENTS="touchstart",SINGLE_TOUCH_WINDOW_EVENTS="touchstart touchmove touchend touchcancel";inherit(SingleTouchInput,Input,{handler:function(ev){var type=SINGLE_TOUCH_INPUT_MAP[ev.type];if(type===INPUT_START&&(this.started=!0),this.started){var touches=normalizeSingleTouches.call(this,ev,type);type&(INPUT_END|INPUT_CANCEL)&&touches[0].length-touches[1].length===0&&(this.started=!1),this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:ev})}}});var TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},TOUCH_TARGET_EVENTS="touchstart touchmove touchend touchcancel";inherit(TouchInput,Input,{handler:function(ev){var type=TOUCH_INPUT_MAP[ev.type],touches=getTouches.call(this,ev,type);touches&&this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:ev})}}),inherit(TouchMouseInput,Input,{handler:function(manager,inputEvent,inputData){var isTouch=inputData.pointerType==INPUT_TYPE_TOUCH,isMouse=inputData.pointerType==INPUT_TYPE_MOUSE;if(isTouch)this.mouse.allow=!1;else if(isMouse&&!this.mouse.allow)return;inputEvent&(INPUT_END|INPUT_CANCEL)&&(this.mouse.allow=!0),this.callback(manager,inputEvent,inputData)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var PREFIXED_TOUCH_ACTION=prefixed(TEST_ELEMENT.style,"touchAction"),NATIVE_TOUCH_ACTION=void 0!==PREFIXED_TOUCH_ACTION,TOUCH_ACTION_COMPUTE="compute",TOUCH_ACTION_AUTO="auto",TOUCH_ACTION_MANIPULATION="manipulation",TOUCH_ACTION_NONE="none",TOUCH_ACTION_PAN_X="pan-x",TOUCH_ACTION_PAN_Y="pan-y";TouchAction.prototype={set:function(value){value==TOUCH_ACTION_COMPUTE&&(value=this.compute()),NATIVE_TOUCH_ACTION&&this.manager.element.style&&(this.manager.element.style[PREFIXED_TOUCH_ACTION]=value),this.actions=value.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var actions=[];return each(this.manager.recognizers,function(recognizer){boolOrFn(recognizer.options.enable,[recognizer])&&(actions=actions.concat(recognizer.getTouchAction()))}),cleanTouchActions(actions.join(" "))},preventDefaults:function(input){if(!NATIVE_TOUCH_ACTION){var srcEvent=input.srcEvent,direction=input.offsetDirection;if(this.manager.session.prevented)return void srcEvent.preventDefault();var actions=this.actions,hasNone=inStr(actions,TOUCH_ACTION_NONE),hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y),hasPanX=inStr(actions,TOUCH_ACTION_PAN_X);if(hasNone){var isTapPointer=1===input.pointers.length,isTapMovement=input.distance<2,isTapTouchTime=input.deltaTime<250;if(isTapPointer&&isTapMovement&&isTapTouchTime)return}if(!hasPanX||!hasPanY)return hasNone||hasPanY&&direction&exports.DIRECTION_HORIZONTAL||hasPanX&&direction&exports.DIRECTION_VERTICAL?this.preventSrc(srcEvent):void 0}},preventSrc:function(srcEvent){this.manager.session.prevented=!0,srcEvent.preventDefault()}};var STATE_POSSIBLE=1,STATE_BEGAN=2,STATE_CHANGED=4,STATE_ENDED=8,STATE_RECOGNIZED=STATE_ENDED,STATE_CANCELLED=16,STATE_FAILED=32;Recognizer.prototype={defaults:{},set:function(options){return util_1.assign(this.options,options),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"recognizeWith",this))return this;var simultaneous=this.simultaneous;return otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this),simultaneous[otherRecognizer.id]||(simultaneous[otherRecognizer.id]=otherRecognizer,otherRecognizer.recognizeWith(this)),this},dropRecognizeWith:function(otherRecognizer){return invokeArrayArg(otherRecognizer,"dropRecognizeWith",this)?this:(otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this),delete this.simultaneous[otherRecognizer.id],this)},requireFailure:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"requireFailure",this))return this;var requireFail=this.requireFail;return otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this),inArray(requireFail,otherRecognizer)===-1&&(requireFail.push(otherRecognizer),otherRecognizer.requireFailure(this)),this},dropRequireFailure:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"dropRequireFailure",this))return this;otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);var index=inArray(this.requireFail,otherRecognizer);return index>-1&&this.requireFail.splice(index,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(otherRecognizer){return!!this.simultaneous[otherRecognizer.id]},emit:function(input){function emit(event){self.manager.emit(event,input)}var self=this,state=this.state;state<STATE_ENDED&&emit(self.options.event+stateStr(state)),emit(self.options.event),input.additionalEvent&&emit(input.additionalEvent),state>=STATE_ENDED&&emit(self.options.event+stateStr(state))},tryEmit:function(input){return this.canEmit()?this.emit(input):void(this.state=STATE_FAILED)},canEmit:function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(STATE_FAILED|STATE_POSSIBLE)))return!1;i++}return!0},recognize:function(inputData){var inputDataClone=util_1.assign({},inputData);return boolOrFn(this.options.enable,[this,inputDataClone])?(this.state&(STATE_RECOGNIZED|STATE_CANCELLED|STATE_FAILED)&&(this.state=STATE_POSSIBLE),this.state=this.process(inputDataClone),void(this.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED|STATE_CANCELLED)&&this.tryEmit(inputDataClone))):(this.reset(),void(this.state=STATE_FAILED))},process:function(inputData){},getTouchAction:function(){},reset:function(){}},inherit(AttrRecognizer,Recognizer,{defaults:{pointers:1},attrTest:function(input){var optionPointers=this.options.pointers;return 0===optionPointers||input.pointers.length===optionPointers},process:function(input){var state=this.state,eventType=input.eventType,isRecognized=state&(STATE_BEGAN|STATE_CHANGED),isValid=this.attrTest(input);return isRecognized&&(eventType&INPUT_CANCEL||!isValid)?state|STATE_CANCELLED:isRecognized||isValid?eventType&INPUT_END?state|STATE_ENDED:state&STATE_BEGAN?state|STATE_CHANGED:STATE_BEGAN:STATE_FAILED}}),inherit(PanRecognizer,AttrRecognizer,{defaults:{event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL},getTouchAction:function(){var direction=this.options.direction,actions=[];return direction&exports.DIRECTION_HORIZONTAL&&actions.push(TOUCH_ACTION_PAN_Y),direction&exports.DIRECTION_VERTICAL&&actions.push(TOUCH_ACTION_PAN_X),actions},directionTest:function(input){var options=this.options,hasMoved=!0,distance=input.distance,direction=input.direction,x=input.deltaX,y=input.deltaY;return direction&options.direction||(options.direction&exports.DIRECTION_HORIZONTAL?(direction=0===x?DIRECTION_NONE:x<0?exports.DIRECTION_LEFT:exports.DIRECTION_RIGHT,hasMoved=x!=this.pX,distance=Math.abs(input.deltaX)):(direction=0===y?DIRECTION_NONE:y<0?DIRECTION_UP:DIRECTION_DOWN,hasMoved=y!=this.pY,distance=Math.abs(input.deltaY))),input.direction=direction,hasMoved&&distance>options.threshold&&direction&options.direction},attrTest:function(input){return AttrRecognizer.prototype.attrTest.call(this,input)&&(this.state&STATE_BEGAN||!(this.state&STATE_BEGAN)&&this.directionTest(input))},emit:function(input){this.pX=input.deltaX,this.pY=input.deltaY;var direction=directionStr(input.direction);direction&&(input.additionalEvent=this.options.event+direction),this._super.emit.call(this,input)}}),inherit(PinchRecognizer,AttrRecognizer,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[TOUCH_ACTION_NONE]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.scale-1)>this.options.threshold||this.state&STATE_BEGAN)},emit:function(input){if(1!==input.scale){var inOut=input.scale<1?"in":"out";input.additionalEvent=this.options.event+inOut}this._super.emit.call(this,input)}}),inherit(PressRecognizer,Recognizer,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[TOUCH_ACTION_AUTO]},process:function(input){var options=this.options,validPointers=input.pointers.length===options.pointers,validMovement=input.distance<options.threshold,validTime=input.deltaTime>options.time;if(this._input=input,!validMovement||!validPointers||input.eventType&(INPUT_END|INPUT_CANCEL)&&!validTime)this.reset();else if(input.eventType&INPUT_START)this.reset(),this._timer=setTimeoutContext(function(){this.state=STATE_RECOGNIZED,this.tryEmit()},options.time,this);else if(input.eventType&INPUT_END)return STATE_RECOGNIZED;return STATE_FAILED},reset:function(){clearTimeout(this._timer)},emit:function(input){this.state===STATE_RECOGNIZED&&(input&&input.eventType&INPUT_END?this.manager.emit(this.options.event+"up",input):(this._input.timeStamp=now(),this.manager.emit(this.options.event,this._input)))}}),inherit(RotateRecognizer,AttrRecognizer,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[TOUCH_ACTION_NONE]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.rotation)>this.options.threshold||this.state&STATE_BEGAN)}}),inherit(SwipeRecognizer,AttrRecognizer,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:exports.DIRECTION_HORIZONTAL|exports.DIRECTION_VERTICAL,pointers:1},getTouchAction:function(){return PanRecognizer.prototype.getTouchAction.call(this)},attrTest:function(input){var velocity,direction=this.options.direction;return direction&(exports.DIRECTION_HORIZONTAL|exports.DIRECTION_VERTICAL)?velocity=input.overallVelocity:direction&exports.DIRECTION_HORIZONTAL?velocity=input.overallVelocityX:direction&exports.DIRECTION_VERTICAL&&(velocity=input.overallVelocityY),this._super.attrTest.call(this,input)&&direction&input.offsetDirection&&input.distance>this.options.threshold&&input.maxPointers==this.options.pointers&&abs(velocity)>this.options.velocity&&input.eventType&INPUT_END},emit:function(input){var direction=directionStr(input.offsetDirection);direction&&this.manager.emit(this.options.event+direction,input),this.manager.emit(this.options.event,input)}}),inherit(TapRecognizer,Recognizer,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[TOUCH_ACTION_MANIPULATION]},process:function(input){var options=this.options,validPointers=input.pointers.length===options.pointers,validMovement=input.distance<options.threshold,validTouchTime=input.deltaTime<options.time;if(this.reset(),input.eventType&INPUT_START&&0===this.count)return this.failTimeout();if(validMovement&&validTouchTime&&validPointers){if(input.eventType!=INPUT_END)return this.failTimeout();var validInterval=!this.pTime||input.timeStamp-this.pTime<options.interval,validMultiTap=!this.pCenter||getDistance(this.pCenter,input.center)<options.posThreshold;this.pTime=input.timeStamp,this.pCenter=input.center,validMultiTap&&validInterval?this.count+=1:this.count=1,this._input=input;var tapCount=this.count%options.taps;if(0===tapCount)return this.hasRequireFailures()?(this._timer=setTimeoutContext(function(){this.state=STATE_RECOGNIZED,this.tryEmit()},options.interval,this),STATE_BEGAN):STATE_RECOGNIZED}return STATE_FAILED},failTimeout:function(){return this._timer=setTimeoutContext(function(){this.state=STATE_FAILED},this.options.interval,this),STATE_FAILED},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==STATE_RECOGNIZED&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),exports.Hammer=Hammer;var _defaults={domEvents:!1,touchAction:TOUCH_ACTION_COMPUTE,enable:!0,inputTarget:null,inputClass:null,preset:[[RotateRecognizer,{enable:!1}],[PinchRecognizer,{enable:!1},["rotate"]],[SwipeRecognizer,{direction:exports.DIRECTION_HORIZONTAL}],[PanRecognizer,{direction:exports.DIRECTION_HORIZONTAL},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},STOP=1,FORCED_STOP=2;Manager.prototype={set:function(options){return util_1.assign(this.options,options),options.touchAction&&this.touchAction.update(),options.inputTarget&&(this.input.destroy(),
this.input.target=options.inputTarget,this.input.init()),this},stop:function(force){this.session.stopped=force?FORCED_STOP:STOP},recognize:function(inputData){var session=this.session;if(!session.stopped){this.touchAction.preventDefaults(inputData);var recognizer,recognizers=this.recognizers,curRecognizer=session.curRecognizer;(!curRecognizer||curRecognizer&&curRecognizer.state&STATE_RECOGNIZED)&&(curRecognizer=session.curRecognizer=null);for(var i=0;i<recognizers.length;)recognizer=recognizers[i],session.stopped===FORCED_STOP||curRecognizer&&recognizer!=curRecognizer&&!recognizer.canRecognizeWith(curRecognizer)?recognizer.reset():recognizer.recognize(inputData),!curRecognizer&&recognizer.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED)&&(curRecognizer=session.curRecognizer=recognizer),i++}},get:function(recognizer){if(recognizer instanceof Recognizer)return recognizer;for(var recognizers=this.recognizers,i=0;i<recognizers.length;i++)if(recognizers[i].options.event==recognizer)return recognizers[i];return null},add:function(recognizer){if(invokeArrayArg(recognizer,"add",this))return this;var existing=this.get(recognizer.options.event);return existing&&this.remove(existing),this.recognizers.push(recognizer),recognizer.manager=this,this.touchAction.update(),recognizer},remove:function(recognizer){if(invokeArrayArg(recognizer,"remove",this))return this;if(recognizer=this.get(recognizer)){var recognizers=this.recognizers,index=inArray(recognizers,recognizer);index!==-1&&(recognizers.splice(index,1),this.touchAction.update())}return this},on:function(events,handler){var handlers=this.handlers;return each(splitStr(events),function(event){handlers[event]=handlers[event]||[],handlers[event].push(handler)}),this},off:function(events,handler){var handlers=this.handlers;return each(splitStr(events),function(event){handler?handlers[event]&&handlers[event].splice(inArray(handlers[event],handler),1):delete handlers[event]}),this},emit:function(event,data){this.options.domEvents&&triggerDomEvent(event,data);var handlers=this.handlers[event]&&this.handlers[event].slice();if(handlers&&handlers.length){data.type=event,data.preventDefault=function(){data.srcEvent.preventDefault()};for(var i=0;i<handlers.length;)handlers[i](data),i++}},destroy:function(){this.element&&toggleCssProps(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},util_1.assign(Hammer,{INPUT_START:INPUT_START,INPUT_MOVE:INPUT_MOVE,INPUT_END:INPUT_END,INPUT_CANCEL:INPUT_CANCEL,STATE_POSSIBLE:STATE_POSSIBLE,STATE_BEGAN:STATE_BEGAN,STATE_CHANGED:STATE_CHANGED,STATE_ENDED:STATE_ENDED,STATE_RECOGNIZED:STATE_RECOGNIZED,STATE_CANCELLED:STATE_CANCELLED,STATE_FAILED:STATE_FAILED,DIRECTION_NONE:DIRECTION_NONE,DIRECTION_LEFT:exports.DIRECTION_LEFT,DIRECTION_RIGHT:exports.DIRECTION_RIGHT,DIRECTION_UP:DIRECTION_UP,DIRECTION_DOWN:DIRECTION_DOWN,DIRECTION_HORIZONTAL:exports.DIRECTION_HORIZONTAL,DIRECTION_VERTICAL:exports.DIRECTION_VERTICAL,DIRECTION_ALL:DIRECTION_ALL,Manager:Manager,Input:Input,TouchAction:TouchAction,TouchInput:TouchInput,MouseInput:MouseInput,PointerEventInput:PointerEventInput,TouchMouseInput:TouchMouseInput,SingleTouchInput:SingleTouchInput,Recognizer:Recognizer,AttrRecognizer:AttrRecognizer,Tap:TapRecognizer,Pan:PanRecognizer,Swipe:SwipeRecognizer,Pinch:PinchRecognizer,Rotate:RotateRecognizer,Press:PressRecognizer,on:addEventListeners,off:removeEventListeners,each:each,inherit:inherit,bindFn:bindFn,prefixed:prefixed}),win.Hammer=Hammer},{"../util/util":535}],506:[function(require,module,exports){"use strict";var PanRecognizer=function(){function PanRecognizer(direction,threshold,maxAngle){this.direction=direction,this.dirty=!1,this._angle=0,this._isPan=0;var radians=maxAngle*(Math.PI/180);this.maxCosine=Math.cos(radians),this.threshold=threshold*threshold}return PanRecognizer.prototype.start=function(coord){this.startCoord=coord,this._angle=0,this._isPan=0,this.dirty=!0},PanRecognizer.prototype.detect=function(coord){if(!this.dirty)return!1;var deltaX=coord.x-this.startCoord.x,deltaY=coord.y-this.startCoord.y,distance=deltaX*deltaX+deltaY*deltaY;if(distance>=this.threshold){var angle=Math.atan2(deltaY,deltaX),cosine="y"===this.direction?Math.sin(angle):Math.cos(angle);return this._angle=angle,cosine>this.maxCosine?this._isPan=1:cosine<-this.maxCosine?this._isPan=-1:this._isPan=0,this.dirty=!1,!0}return!1},PanRecognizer.prototype.angle=function(){return this._angle},PanRecognizer.prototype.pan=function(){return this._isPan},PanRecognizer}();exports.PanRecognizer=PanRecognizer},{}],507:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},slide_gesture_1=require("./slide-gesture"),util_1=require("../util/util"),dom_1=require("../util/dom"),SlideEdgeGesture=function(_super){function SlideEdgeGesture(element,opts){void 0===opts&&(opts={}),util_1.defaults(opts,{edge:"left",maxEdgeStart:50}),_super.call(this,element,opts),this.edges=opts.edge.split(" "),this.maxEdgeStart=opts.maxEdgeStart}return __extends(SlideEdgeGesture,_super),SlideEdgeGesture.prototype.canStart=function(ev){var _this=this,coord=dom_1.pointerCoord(ev);return this._d=this.getContainerDimensions(),this.edges.every(function(edge){return _this._checkEdge(edge,coord)})},SlideEdgeGesture.prototype.getContainerDimensions=function(){return{left:0,top:0,width:dom_1.windowDimensions().width,height:dom_1.windowDimensions().height}},SlideEdgeGesture.prototype._checkEdge=function(edge,pos){switch(edge){case"left":return pos.x<=this._d.left+this.maxEdgeStart;case"right":return pos.x>=this._d.width-this.maxEdgeStart;case"top":return pos.y<=this._d.top+this.maxEdgeStart;case"bottom":return pos.y>=this._d.height-this.maxEdgeStart}},SlideEdgeGesture}(slide_gesture_1.SlideGesture);exports.SlideEdgeGesture=SlideEdgeGesture},{"../util/dom":527,"../util/util":535,"./slide-gesture":508}],508:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},drag_gesture_1=require("./drag-gesture"),util_1=require("../util"),dom_1=require("../util/dom"),SlideGesture=function(_super){function SlideGesture(element,opts){void 0===opts&&(opts={}),_super.call(this,element,opts),this.slide=null}return __extends(SlideGesture,_super),SlideGesture.prototype.getSlideBoundaries=function(slide,ev){return{min:0,max:this.getNativeElement().offsetWidth}},SlideGesture.prototype.getElementStartPos=function(slide,ev){return 0},SlideGesture.prototype.onDragStart=function(ev){this.slide={},this.onSlideBeforeStart(this.slide,ev);var _a=this.getSlideBoundaries(this.slide,ev),min=_a.min,max=_a.max,coord=dom_1.pointerCoord(ev);this.slide.min=min,this.slide.max=max,this.slide.elementStartPos=this.getElementStartPos(this.slide,ev),this.slide.pos=this.slide.pointerStartPos=coord[this.direction],this.slide.timestamp=Date.now(),this.slide.started=!0,this.slide.velocity=0,this.onSlideStart(this.slide,ev)},SlideGesture.prototype.onDragMove=function(ev){var slide=this.slide,coord=dom_1.pointerCoord(ev),newPos=coord[this.direction],newTimestamp=Date.now(),velocity=(newPos-slide.pos)/(newTimestamp-slide.timestamp);return slide.pos=newPos,slide.timestamp=newTimestamp,slide.distance=util_1.clamp(slide.min,newPos-slide.pointerStartPos+slide.elementStartPos,slide.max),slide.velocity=velocity,slide.delta=newPos-slide.pointerStartPos,this.onSlide(slide,ev),!0},SlideGesture.prototype.onDragEnd=function(ev){this.onSlideEnd(this.slide,ev),this.slide=null},SlideGesture.prototype.onSlideBeforeStart=function(slide,ev){},SlideGesture.prototype.onSlideStart=function(slide,ev){},SlideGesture.prototype.onSlide=function(slide,ev){},SlideGesture.prototype.onSlideEnd=function(slide,ev){},SlideGesture}(drag_gesture_1.PanGesture);exports.SlideGesture=SlideGesture},{"../util":523,"../util/dom":527,"./drag-gesture":502}],509:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var bootstrap_1=require("./config/bootstrap");exports.ionicBootstrap=bootstrap_1.ionicBootstrap,exports.ionicPostBootstrap=bootstrap_1.ionicPostBootstrap;var config_1=require("./config/config");exports.Config=config_1.Config;var directives_1=require("./config/directives");exports.IONIC_DIRECTIVES=directives_1.IONIC_DIRECTIVES;var providers_1=require("./config/providers");exports.ionicProviders=providers_1.ionicProviders,__export(require("./decorators/page")),__export(require("./components")),__export(require("./gestures/drag-gesture")),__export(require("./gestures/gesture")),__export(require("./gestures/slide-edge-gesture")),__export(require("./gestures/slide-gesture")),__export(require("./gestures/gesture-controller")),__export(require("./platform/platform")),__export(require("./platform/storage")),__export(require("./util/click-block")),__export(require("./util/events")),__export(require("./util/keyboard")),__export(require("./util/form"));var util_1=require("./util/util");exports.reorderArray=util_1.reorderArray,__export(require("./animations/animation")),__export(require("./transitions/page-transition")),__export(require("./transitions/transition")),__export(require("./translation/translate")),__export(require("./translation/translate_pipe")),require("./config/modes"),require("./platform/registry"),require("./animations/builtins"),require("./transitions/transition-ios"),require("./transitions/transition-md"),require("./transitions/transition-wp")},{"./animations/animation":412,"./animations/builtins":413,"./components":414,"./config/bootstrap":496,"./config/config":497,"./config/directives":498,"./config/modes":499,"./config/providers":500,"./decorators/page":501,"./gestures/drag-gesture":502,"./gestures/gesture":504,"./gestures/gesture-controller":503,"./gestures/slide-edge-gesture":507,"./gestures/slide-gesture":508,"./platform/platform":510,"./platform/registry":511,"./platform/storage":512,"./transitions/page-transition":516,"./transitions/transition":520,"./transitions/transition-ios":517,"./transitions/transition-md":518,"./transitions/transition-wp":519,"./translation/translate":521,"./translation/translate_pipe":522,"./util/click-block":524,"./util/events":528,"./util/form":530,"./util/keyboard":532,"./util/util":535}],510:[function(require,module,exports){"use strict";function insertSuperset(platformNode){var supersetPlaformName=platformNode.superset();if(supersetPlaformName){var supersetPlatform=new PlatformNode(supersetPlaformName);supersetPlatform.parent=platformNode.parent,supersetPlatform.child=platformNode,supersetPlatform.parent&&(supersetPlatform.parent.child=supersetPlatform),platformNode.parent=supersetPlatform}}var core_1=require("@angular/core"),util_1=require("../util/util"),dom_1=require("../util/dom"),Platform=function(){function Platform(platforms){var _this=this;void 0===platforms&&(platforms=[]),this._versions={},this._onResizes=[],this._bbActions=[],this.backButton=new core_1.EventEmitter,this.pause=new core_1.EventEmitter,this.resume=new core_1.EventEmitter,this._platforms=platforms,this._readyPromise=new Promise(function(res){_this._readyResolve=res}),this.backButton.subscribe(function(){_this.runBackButtonAction()})}return Platform.prototype.setZone=function(zone){this.zone=zone},Platform.prototype.is=function(platformName){return this._platforms.indexOf(platformName)>-1},Platform.prototype.platforms=function(){return this._platforms},Platform.prototype.versions=function(){return this._versions},Platform.prototype.version=function(){for(var platformName in this._versions)if(this._versions[platformName])return this._versions[platformName];return{}},Platform.prototype.ready=function(){return this._readyPromise},Platform.prototype.triggerReady=function(readySource){var _this=this;this.zone.run(function(){_this._readyResolve(readySource)})},Platform.prototype.prepareReady=function(){var _this=this;dom_1.ready(function(){_this.triggerReady("dom")})},Platform.prototype.setDir=function(dir,updateDocument){this._dir=(dir||"").toLowerCase(),updateDocument!==!1&&document.documentElement.setAttribute("dir",dir)},Platform.prototype.dir=function(){return this._dir},Platform.prototype.isRTL=function(){return"rtl"===this._dir},Platform.prototype.setLang=function(language,updateDocument){this._lang=language,updateDocument!==!1&&document.documentElement.setAttribute("lang",language)},Platform.prototype.lang=function(){return this._lang},Platform.prototype.exitApp=function(){},Platform.prototype.registerBackButtonAction=function(fn,priority){var _this=this;void 0===priority&&(priority=0);var action={fn:fn,priority:priority};return this._bbActions.push(action),function(){var index=_this._bbActions.indexOf(action);index>-1&&_this._bbActions.splice(index,1)}},Platform.prototype.runBackButtonAction=function(){var winner=null;this._bbActions.forEach(function(action){(!winner||action.priority>=winner.priority)&&(winner=action)}),winner&&winner.fn&&winner.fn()},Platform.prototype.setUrl=function(url){this._url=url,this._qs=util_1.getQuerystring(url)},Platform.prototype.url=function(){return this._url},Platform.prototype.query=function(key){return(this._qs||{})[key]},Platform.prototype.setUserAgent=function(userAgent){this._ua=userAgent},Platform.prototype.userAgent=function(){return this._ua||""},Platform.prototype.setNavigatorPlatform=function(navigatorPlatform){this._bPlt=navigatorPlatform},Platform.prototype.navigatorPlatform=function(){return this._bPlt||""},Platform.prototype.width=function(){return dom_1.windowDimensions().width},Platform.prototype.height=function(){return dom_1.windowDimensions().height},Platform.prototype.isPortrait=function(){return this.width()<this.height()},Platform.prototype.isLandscape=function(){return!this.isPortrait()},Platform.prototype.windowResize=function(){var self=this;clearTimeout(self._resizeTm),self._resizeTm=setTimeout(function(){dom_1.flushDimensionCache();for(var i=0;i<self._onResizes.length;i++)try{self._onResizes[i]()}catch(e){}},200)},Platform.prototype.onResize=function(cb){var self=this;return self._onResizes.push(cb),function(){var index=self._onResizes.indexOf(cb);index>-1&&self._onResizes.splice(index,1)}},Platform.register=function(platformConfig){platformRegistry[platformConfig.name]=platformConfig},Platform.registry=function(){return platformRegistry},Platform.get=function(platformName){return platformRegistry[platformName]||{}},Platform.setDefault=function(platformName){platformDefault=platformName},Platform.prototype.testQuery=function(queryValue,queryTestValue){var valueSplit=queryValue.toLowerCase().split(";");return valueSplit.indexOf(queryTestValue)>-1},Platform.prototype.testNavigatorPlatform=function(navigatorPlatformExpression){var rgx=new RegExp(navigatorPlatformExpression,"i");return rgx.test(this._bPlt)},Platform.prototype.matchUserAgentVersion=function(userAgentExpression){if(this._ua&&userAgentExpression){var val=this._ua.match(userAgentExpression);if(val)return{major:val[1],minor:val[2]}}},Platform.prototype.isPlatformMatch=function(queryStringName,userAgentAtLeastHas,userAgentMustNotHave){void 0===userAgentMustNotHave&&(userAgentMustNotHave=[]);var queryValue=this.query("ionicplatform");if(queryValue)return this.testQuery(queryValue,queryStringName);userAgentAtLeastHas=userAgentAtLeastHas||[queryStringName];for(var userAgent=this._ua.toLowerCase(),i=0;i<userAgentAtLeastHas.length;i++)if(userAgent.indexOf(userAgentAtLeastHas[i])>-1){for(var j=0;j<userAgentMustNotHave.length;j++)if(userAgent.indexOf(userAgentMustNotHave[j])>-1)return!1;return!0}return!1},Platform.prototype.load=function(){var rootPlatformNode,enginePlatformNode,tmpPlatform;for(var platformName in platformRegistry)tmpPlatform=this.matchPlatform(platformName),tmpPlatform&&(tmpPlatform.isEngine?enginePlatformNode=tmpPlatform:(!rootPlatformNode||tmpPlatform.depth>rootPlatformNode.depth)&&(rootPlatformNode=tmpPlatform));if(rootPlatformNode||(rootPlatformNode=new PlatformNode(platformDefault)),rootPlatformNode){enginePlatformNode&&(enginePlatformNode.child=rootPlatformNode,rootPlatformNode.parent=enginePlatformNode,rootPlatformNode=enginePlatformNode);for(var platformNode=rootPlatformNode;platformNode;)insertSuperset(platformNode),platformNode=platformNode.child;for(platformNode=rootPlatformNode.parent;platformNode;)rootPlatformNode=platformNode,platformNode=platformNode.parent;for(platformNode=rootPlatformNode;platformNode;)platformNode.initialize(this),this._platforms.push(platformNode.name),this._versions[platformNode.name]=platformNode.version(this),platformNode=platformNode.child}this._platforms.indexOf("mobile")>-1&&this._platforms.indexOf("cordova")===-1&&this._platforms.push("mobileweb")},Platform.prototype.matchPlatform=function(platformName){var platformNode=new PlatformNode(platformName),rootNode=platformNode.getRoot(this);if(rootNode){rootNode.depth=0;for(var childPlatform=rootNode.child;childPlatform;)rootNode.depth++,childPlatform=childPlatform.child}return rootNode},Platform}();exports.Platform=Platform;var PlatformNode=function(){function PlatformNode(platformName){this.c=Platform.get(platformName),this.name=platformName,this.isEngine=this.c.isEngine}return PlatformNode.prototype.settings=function(){return this.c.settings||{}},PlatformNode.prototype.superset=function(){return this.c.superset},PlatformNode.prototype.isMatch=function(p){return this.c.isMatch&&this.c.isMatch(p)||!1},PlatformNode.prototype.initialize=function(platform){this.c.initialize&&this.c.initialize(platform)},PlatformNode.prototype.version=function(p){if(this.c.versionParser){var v=this.c.versionParser(p);if(v){var str=v.major+"."+v.minor;return{str:str,num:parseFloat(str),major:parseInt(v.major,10),minor:parseInt(v.minor,10)}}}},PlatformNode.prototype.getRoot=function(p){if(this.isMatch(p)){var parents=this.getSubsetParents(this.name);if(!parents.length)return this;for(var platform=null,rootPlatform=null,i=0;i<parents.length;i++)if(platform=new PlatformNode(parents[i]),platform.child=this,rootPlatform=platform.getRoot(p))return this.parent=platform,rootPlatform}return null},PlatformNode.prototype.getSubsetParents=function(subsetPlatformName){var platformRegistry=Platform.registry(),parentPlatformNames=[],platform=null;for(var platformName in platformRegistry)platform=platformRegistry[platformName],platform.subsets&&platform.subsets.indexOf(subsetPlatformName)>-1&&parentPlatformNames.push(platformName);return parentPlatformNames},PlatformNode}(),platformRegistry={},platformDefault=null},{"../util/dom":527,"../util/util":535,"@angular/core":167}],511:[function(require,module,exports){"use strict";function isIOSDevice(p){return p.testNavigatorPlatform("iphone|ipad|ipod")}var platform_1=require("./platform"),dom_1=require("../util/dom"),win=window,doc=document;platform_1.Platform.register({name:"core",settings:{mode:"md",keyboardHeight:290}}),platform_1.Platform.setDefault("core"),platform_1.Platform.register({name:"mobile"}),platform_1.Platform.register({name:"phablet",isMatch:function(p){var smallest=Math.min(p.width(),p.height()),largest=Math.max(p.width(),p.height());return smallest>390&&smallest<520&&largest>620&&largest<800}}),platform_1.Platform.register({name:"tablet",isMatch:function(p){var smallest=Math.min(p.width(),p.height()),largest=Math.max(p.width(),p.height());return smallest>460&&smallest<820&&largest>780&&largest<1400}}),platform_1.Platform.register({name:"android",superset:"mobile",subsets:["phablet","tablet"],settings:{activator:function(p){if(p.testNavigatorPlatform("linux")){var chromeVersion=p.matchUserAgentVersion(/Chrome\/(\d+).(\d+)?/);if(chromeVersion)return parseInt(chromeVersion.major,10)<36?"none":"ripple";if(p.version().major<5)return"none"}return"ripple"},autoFocusAssist:"immediate",hoverCSS:!1,keyboardHeight:300,mode:"md"},isMatch:function(p){return p.isPlatformMatch("android",["android","silk"],["windows phone"])},versionParser:function(p){return p.matchUserAgentVersion(/Android (\d+).(\d+)?/)}}),platform_1.Platform.register({name:"ios",superset:"mobile",subsets:["ipad","iphone"],settings:{autoFocusAssist:"delay",hoverCSS:!1,inputBlurring:isIOSDevice,inputCloning:isIOSDevice,keyboardHeight:300,mode:"ios",scrollAssist:isIOSDevice,statusbarPadding:!!win.cordova,swipeBackEnabled:isIOSDevice,swipeBackThreshold:40,tapPolyfill:isIOSDevice,virtualScrollEventAssist:!win.indexedDB,canDisableScroll:!!win.indexedDB},isMatch:function(p){return p.isPlatformMatch("ios",["iphone","ipad","ipod"],["windows phone"])},versionParser:function(p){return p.matchUserAgentVersion(/OS (\d+)_(\d+)?/)}}),platform_1.Platform.register({name:"ipad",superset:"tablet",settings:{keyboardHeight:500},isMatch:function(p){return p.isPlatformMatch("ipad")}}),platform_1.Platform.register({name:"iphone",subsets:["phablet"],isMatch:function(p){return p.isPlatformMatch("iphone")}}),platform_1.Platform.register({name:"windows",superset:"mobile",subsets:["phablet","tablet"],settings:{mode:"wp",autoFocusAssist:"immediate",hoverCSS:!1},isMatch:function(p){return p.isPlatformMatch("windows",["windows phone"])},versionParser:function(p){return p.matchUserAgentVersion(/Windows Phone (\d+).(\d+)?/)}}),platform_1.Platform.register({name:"cordova",isEngine:!0,initialize:function(p){p.prepareReady=function(){dom_1.windowLoad(function(){doc.addEventListener("deviceready",function(){doc.addEventListener("backbutton",function(ev){p.zone.run(function(){p.backButton.emit(ev)})}),doc.addEventListener("pause",function(ev){p.zone.run(function(){p.pause.emit(ev)})}),doc.addEventListener("resume",function(ev){p.zone.run(function(){p.resume.emit(ev)})}),p.exitApp=function(){win.navigator.app.exitApp()},p.triggerReady("cordova")})})}},isMatch:function(){return!!(win.cordova||win.PhoneGap||win.phonegap)}})},{"../util/dom":527,"./platform":510}],512:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./storage/storage")),__export(require("./storage/local-storage")),__export(require("./storage/sql"))},{"./storage/local-storage":513,"./storage/sql":514,"./storage/storage":515}],513:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},storage_1=require("./storage"),LocalStorage=function(_super){function LocalStorage(options){void 0===options&&(options={}),_super.call(this)}return __extends(LocalStorage,_super),LocalStorage.prototype.get=function(key){return new Promise(function(resolve,reject){try{var value=window.localStorage.getItem(key);resolve(value)}catch(e){reject(e)}})},LocalStorage.prototype.set=function(key,value){return new Promise(function(resolve,reject){try{window.localStorage.setItem(key,value),resolve()}catch(e){reject(e)}})},LocalStorage.prototype.remove=function(key){return new Promise(function(resolve,reject){try{window.localStorage.removeItem(key),resolve()}catch(e){reject(e)}})},LocalStorage.prototype.clear=function(){return new Promise(function(resolve,reject){try{window.localStorage.clear(),resolve()}catch(e){reject(e)}})},LocalStorage}(storage_1.StorageEngine);exports.LocalStorage=LocalStorage},{"./storage":515}],514:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},storage_1=require("./storage"),util_1=require("../../util/util"),DB_NAME="__ionicstorage",win=window,SqlStorage=function(_super){function SqlStorage(options){void 0===options&&(options={}),_super.call(this);var dbOptions=util_1.defaults(options,{name:DB_NAME,backupFlag:SqlStorage.BACKUP_LOCAL,existingDatabase:!1});if(win.sqlitePlugin){var location_1=this._getBackupLocation(dbOptions.backupFlag);this._db=win.sqlitePlugin.openDatabase(util_1.assign({name:dbOptions.name,location:location_1,createFromLocation:dbOptions.existingDatabase?1:0},dbOptions))}else this._db=win.openDatabase(dbOptions.name,"1.0","database",5242880);this._tryInit()}return __extends(SqlStorage,_super),SqlStorage.prototype._getBackupLocation=function(dbFlag){switch(dbFlag){case SqlStorage.BACKUP_LOCAL:return 2;case SqlStorage.BACKUP_LIBRARY:return 1;case SqlStorage.BACKUP_DOCUMENTS:return 0;default:throw Error("Invalid backup flag: "+dbFlag)}},SqlStorage.prototype._tryInit=function(){this.query("CREATE TABLE IF NOT EXISTS kv (key text primary key, value text)")["catch"](function(err){})},SqlStorage.prototype.query=function(query,params){var _this=this;return void 0===params&&(params=[]),new Promise(function(resolve,reject){try{_this._db.transaction(function(tx){tx.executeSql(query,params,function(tx,res){return resolve({tx:tx,res:res})},function(tx,err){return reject({tx:tx,err:err})})},function(err){return reject({err:err})})}catch(err){reject({err:err})}})},SqlStorage.prototype.get=function(key){return this.query("select key, value from kv where key = ? limit 1",[key]).then(function(data){if(data.res.rows.length>0)return data.res.rows.item(0).value})},SqlStorage.prototype.set=function(key,value){return this.query("insert or replace into kv(key, value) values (?, ?)",[key,value])},SqlStorage.prototype.remove=function(key){return this.query("delete from kv where key = ?",[key])},SqlStorage.prototype.clear=function(){return this.query("delete from kv")},SqlStorage.BACKUP_LOCAL=2,SqlStorage.BACKUP_LIBRARY=1,SqlStorage.BACKUP_DOCUMENTS=0,SqlStorage}(storage_1.StorageEngine);exports.SqlStorage=SqlStorage},{"../../util/util":535,"./storage":515}],515:[function(require,module,exports){"use strict";var Storage=function(){function Storage(strategyCls,options){this._strategy=new strategyCls(options)}return Storage.prototype.get=function(key){return this._strategy.get(key)},Storage.prototype.getJson=function(key){return this.get(key).then(function(value){try{return JSON.parse(value)}catch(e){throw e}})},Storage.prototype.setJson=function(key,value){try{return this.set(key,JSON.stringify(value))}catch(e){return Promise.reject(e)}},Storage.prototype.set=function(key,value){return this._strategy.set(key,value)},Storage.prototype.remove=function(key){return this._strategy.remove(key)},Storage.prototype.query=function(query,params){return this._strategy.query(query,params)},Storage.prototype.clear=function(){return this._strategy.clear()},Storage}();exports.Storage=Storage;var StorageEngine=function(){function StorageEngine(options){void 0===options&&(options={})}return StorageEngine.prototype.get=function(key){throw Error("get() not implemented for this storage engine")},StorageEngine.prototype.set=function(key,value){throw Error("set() not implemented for this storage engine")},StorageEngine.prototype.remove=function(key){throw Error("remove() not implemented for this storage engine")},StorageEngine.prototype.query=function(query,params){throw Error("query() not implemented for this storage engine")},StorageEngine.prototype.clear=function(){throw Error("clear() not implemented for this storage engine")},StorageEngine}();exports.StorageEngine=StorageEngine},{}],516:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},animation_1=require("../animations/animation"),content_1=require("../components/content/content"),transition_1=require("./transition"),PageTransition=function(_super){function PageTransition(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts),this.enteringPage=new animation_1.Animation(this.enteringView.pageRef()),this.enteringPage.before.addClass("show-page"),this.add(this.enteringPage),this.before.addDomReadFn(this.readDimensions.bind(this)),this.before.addDomWriteFn(this.writeDimensions.bind(this))}return __extends(PageTransition,_super),PageTransition.prototype.readDimensions=function(){var content=this.enteringView.getContent();content&&content instanceof content_1.Content&&content.readDimensions()},PageTransition.prototype.writeDimensions=function(){var content=this.enteringView.getContent();content&&content instanceof content_1.Content&&content.writeDimensions()},PageTransition.prototype.destroy=function(){_super.prototype.destroy.call(this),this.enteringView=this.enteringPage=null},PageTransition}(transition_1.Transition);exports.PageTransition=PageTransition},{"../animations/animation":412,"../components/content/content":424,"./transition":520}],517:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},animation_1=require("../animations/animation"),page_transition_1=require("./page-transition"),DURATION=500,EASING="cubic-bezier(0.36,0.66,0.04,1)",OPACITY="opacity",TRANSLATEX="translateX",OFF_RIGHT="99.5%",OFF_LEFT="-33%",CENTER="0%",OFF_OPACITY=.8,SHOW_BACK_BTN_CSS="show-back-button",IOSTransition=function(_super){function IOSTransition(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts),this.duration(opts.duration||DURATION),this.easing(opts.easing||EASING);var backDirection="back"===opts.direction,enteringHasNavbar=enteringView.hasNavbar(),leavingHasNavbar=leavingView&&leavingView.hasNavbar(),enteringContent=new animation_1.Animation(enteringView.contentRef());if(enteringContent.element(enteringView.toolbarRefs()),this.add(enteringContent),backDirection?enteringContent.fromTo(TRANSLATEX,OFF_LEFT,CENTER,!0).fromTo(OPACITY,OFF_OPACITY,1,!0):enteringContent.before.clearStyles([OPACITY]).fromTo(TRANSLATEX,OFF_RIGHT,CENTER,!0),enteringHasNavbar){var enteringNavBar=new animation_1.Animation(enteringView.navbarRef());enteringNavBar.before.addClass("show-navbar"),this.add(enteringNavBar);var enteringTitle=new animation_1.Animation(enteringView.titleRef()),enteringNavbarItems=new animation_1.Animation(enteringView.navbarItemRefs()),enteringNavbarBg=new animation_1.Animation(enteringView.navbarBgRef()),enteringBackButton=new animation_1.Animation(enteringView.backBtnRef());if(enteringNavBar.add(enteringTitle).add(enteringNavbarItems).add(enteringNavbarBg).add(enteringBackButton),enteringTitle.fromTo(OPACITY,.01,1,!0),enteringNavbarItems.fromTo(OPACITY,.01,1,!0),backDirection)enteringTitle.fromTo(TRANSLATEX,OFF_LEFT,CENTER,!0),enteringView.enableBack()&&enteringBackButton.before.addClass(SHOW_BACK_BTN_CSS).fromTo(OPACITY,.01,1,!0);else if(enteringTitle.fromTo(TRANSLATEX,OFF_RIGHT,CENTER,!0),leavingHasNavbar?enteringNavbarBg.before.clearStyles([TRANSLATEX]).fromTo(OPACITY,.01,1,!0):enteringNavbarBg.before.clearStyles([OPACITY]).fromTo(TRANSLATEX,OFF_RIGHT,CENTER,!0),enteringView.enableBack()){enteringBackButton.before.addClass(SHOW_BACK_BTN_CSS).fromTo(OPACITY,.01,1,!0);var enteringBackBtnText=new animation_1.Animation(enteringView.backBtnTextRef());enteringBackBtnText.fromTo(TRANSLATEX,"100px","0px"),enteringNavBar.add(enteringBackBtnText)}else enteringBackButton.before.removeClass(SHOW_BACK_BTN_CSS)}if(leavingView){var leavingContent=new animation_1.Animation(leavingView.contentRef());if(leavingContent.element(leavingView.toolbarRefs()),this.add(leavingContent),backDirection?leavingContent.before.clearStyles([OPACITY]).fromTo(TRANSLATEX,CENTER,"100%"):leavingContent.fromTo(TRANSLATEX,CENTER,OFF_LEFT).fromTo(OPACITY,1,OFF_OPACITY),leavingHasNavbar){var leavingNavBar=new animation_1.Animation(leavingView.navbarRef()),leavingBackButton=new animation_1.Animation(leavingView.backBtnRef()),leavingTitle=new animation_1.Animation(leavingView.titleRef()),leavingNavbarItems=new animation_1.Animation(leavingView.navbarItemRefs()),leavingNavbarBg=new animation_1.Animation(leavingView.navbarBgRef());
if(leavingNavBar.add(leavingBackButton).add(leavingTitle).add(leavingNavbarItems).add(leavingNavbarBg),this.add(leavingNavBar),leavingBackButton.fromTo(OPACITY,.99,0),leavingTitle.fromTo(OPACITY,.99,0),leavingNavbarItems.fromTo(OPACITY,.99,0),backDirection){leavingTitle.fromTo(TRANSLATEX,CENTER,"100%"),enteringHasNavbar?leavingNavbarBg.before.clearStyles([TRANSLATEX]).fromTo("opacity",.99,0):leavingNavbarBg.before.clearStyles([OPACITY]).fromTo(TRANSLATEX,CENTER,"100%");var leavingBackBtnText=new animation_1.Animation(leavingView.backBtnTextRef());leavingBackBtnText.fromTo(TRANSLATEX,CENTER,"300px"),leavingNavBar.add(leavingBackBtnText)}else leavingTitle.fromTo(TRANSLATEX,CENTER,OFF_LEFT)}}}return __extends(IOSTransition,_super),IOSTransition}(page_transition_1.PageTransition);page_transition_1.PageTransition.register("ios-transition",IOSTransition)},{"../animations/animation":412,"./page-transition":516}],518:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},animation_1=require("../animations/animation"),page_transition_1=require("./page-transition"),TRANSLATEY="translateY",OFF_BOTTOM="40px",CENTER="0px",SHOW_BACK_BTN_CSS="show-back-button",MDTransition=function(_super){function MDTransition(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var backDirection="back"===opts.direction,enteringHasNavbar=enteringView.hasNavbar();leavingView&&leavingView.hasNavbar();if(backDirection?(this.duration(opts.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"),this.enteringPage.before.clearStyles([TRANSLATEY])):(this.duration(opts.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)"),this.enteringPage.fromTo(TRANSLATEY,OFF_BOTTOM,CENTER,!0).fromTo("opacity",.01,1,!0)),enteringHasNavbar){var enteringNavBar=new animation_1.Animation(enteringView.navbarRef());enteringNavBar.before.addClass("show-navbar"),this.add(enteringNavBar);var enteringBackButton=new animation_1.Animation(enteringView.backBtnRef());this.add(enteringBackButton),enteringView.enableBack()?enteringBackButton.before.addClass(SHOW_BACK_BTN_CSS):enteringBackButton.before.removeClass(SHOW_BACK_BTN_CSS)}if(leavingView&&backDirection){this.duration(opts.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");var leavingPage=new animation_1.Animation(leavingView.pageRef());this.add(leavingPage.fromTo(TRANSLATEY,CENTER,OFF_BOTTOM).fromTo("opacity",.99,0))}}return __extends(MDTransition,_super),MDTransition}(page_transition_1.PageTransition);page_transition_1.PageTransition.register("md-transition",MDTransition)},{"../animations/animation":412,"./page-transition":516}],519:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},animation_1=require("../animations/animation"),page_transition_1=require("./page-transition"),SHOW_BACK_BTN_CSS="show-back-button",SCALE_SMALL=.95,WPTransition=function(_super){function WPTransition(enteringView,leavingView,opts){_super.call(this,enteringView,leavingView,opts);var backDirection="back"===opts.direction,enteringHasNavbar=enteringView.hasNavbar();leavingView&&leavingView.hasNavbar();if(backDirection?(this.duration(opts.duration||120).easing("cubic-bezier(0.47,0,0.745,0.715)"),this.enteringPage.before.clearStyles(["scale"])):(this.duration(opts.duration||280).easing("cubic-bezier(0,0 0.05,1)"),this.enteringPage.fromTo("scale",SCALE_SMALL,1,!0).fromTo("opacity",.01,1,!0)),enteringHasNavbar){var enteringNavBar=new animation_1.Animation(enteringView.navbarRef());enteringNavBar.before.addClass("show-navbar"),this.add(enteringNavBar);var enteringBackButton=new animation_1.Animation(enteringView.backBtnRef());this.add(enteringBackButton),enteringView.enableBack()?enteringBackButton.before.addClass(SHOW_BACK_BTN_CSS):enteringBackButton.before.removeClass(SHOW_BACK_BTN_CSS)}if(leavingView&&backDirection){this.duration(opts.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");var leavingPage=new animation_1.Animation(leavingView.pageRef());this.add(leavingPage.fromTo("scale",1,SCALE_SMALL).fromTo("opacity",.99,0))}}return __extends(WPTransition,_super),WPTransition}(page_transition_1.PageTransition);page_transition_1.PageTransition.register("wp-transition",WPTransition)},{"../animations/animation":412,"./page-transition":516}],520:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},animation_1=require("../animations/animation"),Transition=function(_super){function Transition(enteringView,leavingView,opts){_super.call(this,null,{renderDelay:opts.renderDelay}),this.enteringView=enteringView}return __extends(Transition,_super),Transition.createTransition=function(enteringView,leavingView,opts){var TransitionClass=TransitionRegistry[opts.animation];return TransitionClass||(TransitionClass=TransitionRegistry["ios-transition"]),new TransitionClass(enteringView,leavingView,opts)},Transition.register=function(name,TransitionClass){TransitionRegistry[name]=TransitionClass},Transition}(animation_1.Animation);exports.Transition=Transition;var TransitionRegistry={}},{"../animations/animation":412}],521:[function(require,module,exports){"use strict";var Translate=function(){function Translate(){this._transMap={},this._language={}}return Translate.prototype.translations=function(lang,map){this._transMap[lang]=map},Translate.prototype.setLanguage=function(lang){this._language=lang},Translate.prototype.getTranslations=function(lang){return this._transMap[lang]},Translate.prototype.translate=function(key,lang){if(!lang&&!this._language)return key;var setLanguage=lang||this._language,map=this.getTranslations(setLanguage);return map?this._getTranslation(map,key):""},Translate.prototype._getTranslation=function(map,key){return map&&map[key]||""},Translate}();exports.Translate=Translate},{}],522:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),translate_1=require("./translate"),TranslatePipe=function(){function TranslatePipe(translate){this.translate={},this.translate=translate}return TranslatePipe.prototype.transform=function(value,args){var lang;return args.length>0&&(lang=args[0]),this.translate.translate(value,lang)},TranslatePipe.prototype.supports=function(obj){return!0},TranslatePipe=__decorate([core_1.Pipe({name:"translate"}),core_1.Injectable(),__metadata("design:paramtypes",[translate_1.Translate])],TranslatePipe)}();exports.TranslatePipe=TranslatePipe},{"./translate":521,"@angular/core":167}],523:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var domUtil=require("./util/dom");exports.dom=domUtil,__export(require("./util/util")),__export(require("./util/datetime-util"))},{"./util/datetime-util":525,"./util/dom":527,"./util/util":535}],524:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("@angular/core"),app_1=require("../components/app/app"),dom_1=require("./dom"),config_1=require("../config/config"),DEFAULT_EXPIRE=330,ClickBlock=function(){function ClickBlock(app,config,elementRef,renderer){this.elementRef=elementRef,this.renderer=renderer,this._showing=!1,app.clickBlock=this,this.isEnabled=config.getBoolean("clickBlock",!0)}return ClickBlock.prototype.activate=function(shouldShow,expire){this.isEnabled&&(dom_1.clearNativeTimeout(this._tmrId),shouldShow&&(this._tmrId=dom_1.nativeTimeout(this.activate.bind(this,!1),expire||DEFAULT_EXPIRE)),this._showing!==shouldShow&&(this.renderer.setElementClass(this.elementRef.nativeElement,"click-block-active",shouldShow),this._showing=shouldShow))},ClickBlock=__decorate([core_1.Directive({selector:"click-block"}),__param(0,core_1.Inject(core_1.forwardRef(function(){return app_1.App}))),__metadata("design:paramtypes",[app_1.App,config_1.Config,core_1.ElementRef,core_1.Renderer])],ClickBlock)}();exports.ClickBlock=ClickBlock},{"../components/app/app":419,"../config/config":497,"./dom":527,"@angular/core":167}],525:[function(require,module,exports){"use strict";function renderDateTime(template,value,locale){if(util_1.isBlank(value))return"";var tokens=[],hasText=!1;if(FORMAT_KEYS.forEach(function(format,index){if(template.indexOf(format.f)>-1){var token="{"+index+"}",text=renderTextFormat(format.f,value[format.k],value,locale);!hasText&&text&&util_1.isPresent(value[format.k])&&(hasText=!0),tokens.push(token,text),template=template.replace(format.f,token)}}),!hasText)return"";for(var i=0;i<tokens.length;i+=2)template=template.replace(tokens[i],tokens[i+1]);return template}function renderTextFormat(format,value,date,locale){if(format===FORMAT_DDDD||format===FORMAT_DDD){try{return value=new Date(date.year,date.month-1,date.day).getDay(),format===FORMAT_DDDD?(util_1.isPresent(locale.dayNames)?locale.dayNames:DAY_NAMES)[value]:(util_1.isPresent(locale.dayShortNames)?locale.dayShortNames:DAY_SHORT_NAMES)[value]}catch(e){}return""}if(format===FORMAT_A)return date?date.hour<12?"AM":"PM":util_1.isPresent(value)?value.toUpperCase():"";if(format===FORMAT_a)return date?date.hour<12?"am":"pm":util_1.isPresent(value)?value:"";if(util_1.isBlank(value))return"";if(format===FORMAT_YY||format===FORMAT_MM||format===FORMAT_DD||format===FORMAT_HH||format===FORMAT_mm||format===FORMAT_ss)return twoDigit(value);if(format===FORMAT_YYYY)return fourDigit(value);if(format===FORMAT_MMMM)return(util_1.isPresent(locale.monthNames)?locale.monthNames:MONTH_NAMES)[value-1];if(format===FORMAT_MMM)return(util_1.isPresent(locale.monthShortNames)?locale.monthShortNames:MONTH_SHORT_NAMES)[value-1];if(format===FORMAT_hh||format===FORMAT_h){if(0===value)return"12";if(value>12&&(value-=12),format===FORMAT_hh&&value<10)return"0"+value}return value.toString()}function dateValueRange(format,min,max){var i,opts=[];if(format===FORMAT_YYYY||format===FORMAT_YY)for(i=max.year;i>=min.year;)opts.push(i--);else if(format===FORMAT_MMMM||format===FORMAT_MMM||format===FORMAT_MM||format===FORMAT_M||format===FORMAT_hh||format===FORMAT_h)for(i=1;i<13;i++)opts.push(i);else if(format===FORMAT_DDDD||format===FORMAT_DDD||format===FORMAT_DD||format===FORMAT_D)for(i=1;i<32;i++)opts.push(i);else if(format===FORMAT_HH||format===FORMAT_H)for(i=0;i<24;i++)opts.push(i);else if(format===FORMAT_mm||format===FORMAT_m)for(i=0;i<60;i++)opts.push(i);else if(format===FORMAT_ss||format===FORMAT_s)for(i=0;i<60;i++)opts.push(i);else format!==FORMAT_A&&format!==FORMAT_a||opts.push("am","pm");return opts}function dateSortValue(year,month,day){return parseInt("1"+fourDigit(year)+twoDigit(month)+twoDigit(day),10)}function dateDataSortValue(data){return data?dateSortValue(data.year,data.month,data.day):-1}function daysInMonth(month,year){return 4===month||6===month||9===month||11===month?30:2===month?isLeapYear(year)?29:28:31}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function parseDate(val){var parse;if(util_1.isPresent(val)&&""!==val&&(parse=TIME_REGEXP.exec(val),util_1.isPresent(parse)?(parse.unshift(void 0,void 0),parse[2]=parse[3]=void 0):parse=ISO_8601_REGEXP.exec(val)),util_1.isBlank(parse))return null;for(var i=1;i<8;i++)parse[i]=void 0!==parse[i]?parseInt(parse[i],10):null;var tzOffset=0;return util_1.isPresent(parse[9])&&util_1.isPresent(parse[10])&&(tzOffset=60*parseInt(parse[10],10),util_1.isPresent(parse[11])&&(tzOffset+=parseInt(parse[11],10)),"-"===parse[9]&&(tzOffset*=-1)),{year:parse[1],month:parse[2],day:parse[3],hour:parse[4],minute:parse[5],second:parse[6],millisecond:parse[7],tzOffset:tzOffset}}function updateDate(existingData,newData){if(util_1.isPresent(newData)&&""!==newData){if(util_1.isString(newData)){if(newData=parseDate(newData))return void util_1.assign(existingData,newData)}else if(util_1.isPresent(newData.year)||util_1.isPresent(newData.hour)){util_1.isPresent(newData.ampm)&&util_1.isPresent(newData.hour)&&("pm"===newData.ampm.value?newData.hour.value=12===newData.hour.value?12:newData.hour.value+12:newData.hour.value=12===newData.hour.value?0:newData.hour.value);for(var k in newData)existingData[k]=newData[k].value;return}}else for(var k in existingData)delete existingData[k]}function parseTemplate(template){var formats=[];template=template.replace(/[^\w\s]/gi," "),FORMAT_KEYS.forEach(function(format){format.f.length>1&&template.indexOf(format.f)>-1&&template.indexOf(format.f+format.f.charAt(0))<0&&(template=template.replace(format.f," "+format.f+" "))});var words=template.split(" ").filter(function(w){return w.length>0});return words.forEach(function(word,i){FORMAT_KEYS.forEach(function(format){if(word===format.f){if((word===FORMAT_A||word===FORMAT_a)&&(formats.indexOf(FORMAT_h)<0&&formats.indexOf(FORMAT_hh)<0||words[i-1]!==FORMAT_m&&words[i-1]!==FORMAT_mm))return;formats.push(word)}})}),formats}function getValueFromFormat(date,format){return format===FORMAT_A||format===FORMAT_a?date.hour<12?"am":"pm":format===FORMAT_hh||format===FORMAT_h?date.hour>12?date.hour-12:date.hour:date[convertFormatToKey(format)]}function convertFormatToKey(format){for(var k in FORMAT_KEYS)if(FORMAT_KEYS[k].f===format)return FORMAT_KEYS[k].k;return null}function convertDataToISO(data){var rtn="";return util_1.isPresent(data)&&(util_1.isPresent(data.year)?(rtn=fourDigit(data.year),util_1.isPresent(data.month)&&(rtn+="-"+twoDigit(data.month),util_1.isPresent(data.day)&&(rtn+="-"+twoDigit(data.day),util_1.isPresent(data.hour)&&(rtn+="T"+twoDigit(data.hour)+":"+twoDigit(data.minute)+":"+twoDigit(data.second),data.millisecond>0&&(rtn+="."+threeDigit(data.millisecond)),rtn+=util_1.isBlank(data.tzOffset)||0===data.tzOffset?"Z":(data.tzOffset>0?"+":"-")+twoDigit(Math.floor(data.tzOffset/60))+":"+twoDigit(data.tzOffset%60))))):util_1.isPresent(data.hour)&&(rtn=twoDigit(data.hour)+":"+twoDigit(data.minute),util_1.isPresent(data.second)&&(rtn+=":"+twoDigit(data.second),util_1.isPresent(data.millisecond)&&(rtn+="."+threeDigit(data.millisecond))))),rtn}function twoDigit(val){return("0"+(util_1.isPresent(val)?Math.abs(val):"0")).slice(-2)}function threeDigit(val){return("00"+(util_1.isPresent(val)?Math.abs(val):"0")).slice(-3)}function fourDigit(val){return("000"+(util_1.isPresent(val)?Math.abs(val):"0")).slice(-4)}var util_1=require("./util");exports.renderDateTime=renderDateTime,exports.renderTextFormat=renderTextFormat,exports.dateValueRange=dateValueRange,exports.dateSortValue=dateSortValue,exports.dateDataSortValue=dateDataSortValue,exports.daysInMonth=daysInMonth,exports.isLeapYear=isLeapYear;var ISO_8601_REGEXP=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,TIME_REGEXP=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/;exports.parseDate=parseDate,exports.updateDate=updateDate,exports.parseTemplate=parseTemplate,exports.getValueFromFormat=getValueFromFormat,exports.convertFormatToKey=convertFormatToKey,exports.convertDataToISO=convertDataToISO;var FORMAT_YYYY="YYYY",FORMAT_YY="YY",FORMAT_MMMM="MMMM",FORMAT_MMM="MMM",FORMAT_MM="MM",FORMAT_M="M",FORMAT_DDDD="DDDD",FORMAT_DDD="DDD",FORMAT_DD="DD",FORMAT_D="D",FORMAT_HH="HH",FORMAT_H="H",FORMAT_hh="hh",FORMAT_h="h",FORMAT_mm="mm",FORMAT_m="m",FORMAT_ss="ss",FORMAT_s="s",FORMAT_A="A",FORMAT_a="a",FORMAT_KEYS=[{f:FORMAT_YYYY,k:"year"},{f:FORMAT_MMMM,k:"month"},{f:FORMAT_DDDD,k:"day"},{f:FORMAT_MMM,k:"month"},{f:FORMAT_DDD,k:"day"},{f:FORMAT_YY,k:"year"},{f:FORMAT_MM,k:"month"},{f:FORMAT_DD,k:"day"},{f:FORMAT_HH,k:"hour"},{f:FORMAT_hh,k:"hour"},{f:FORMAT_mm,k:"minute"},{f:FORMAT_ss,k:"second"},{f:FORMAT_M,k:"month"},{f:FORMAT_D,k:"day"},{f:FORMAT_H,k:"hour"},{f:FORMAT_h,k:"hour"},{f:FORMAT_m,k:"minute"},{f:FORMAT_s,k:"second"},{f:FORMAT_A,k:"ampm"},{f:FORMAT_a,k:"ampm"}],DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],DAY_SHORT_NAMES=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"],MONTH_SHORT_NAMES=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},{"./util":535}],526:[function(require,module,exports){"use strict";var Debouncer=function(){function Debouncer(wait){this.wait=wait,this.timer=null}return Debouncer.prototype.debounce=function(callback){this.callback=callback,this.schedule()},Debouncer.prototype.schedule=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.wait<=0?this.callback():this.timer=setTimeout(this.callback,this.wait)},Debouncer}();exports.Debouncer=Debouncer},{}],527:[function(require,module,exports){"use strict";function rafFrames(framesToWait,callback){framesToWait=Math.ceil(framesToWait),framesToWait<2?exports.nativeRaf(callback):exports.nativeTimeout(function(){exports.nativeRaf(callback)},16.6667*(framesToWait-1))}function transitionEnd(el,callback){function unregister(){exports.CSS.transitionEnd.split(" ").forEach(function(eventName){el.removeEventListener(eventName,onEvent)})}function onEvent(ev){el===ev.target&&(unregister(),callback(ev))}if(el)return exports.CSS.transitionEnd.split(" ").forEach(function(eventName){el.addEventListener(eventName,onEvent)}),unregister}function ready(callback){function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),callback()}var promise=null;return callback||(promise=new Promise(function(resolve){callback=resolve})),"complete"===document.readyState||"interactive"===document.readyState?callback():(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1)),promise}function windowLoad(callback){function completed(){window.removeEventListener("load",completed,!1),callback()}var promise=null;return callback||(promise=new Promise(function(resolve){callback=resolve})),"complete"===document.readyState?callback():window.addEventListener("load",completed,!1),promise}function pointerCoord(ev){var c={x:0,y:0};if(ev){var touches=ev.touches&&ev.touches.length?ev.touches:[ev],e=ev.changedTouches&&ev.changedTouches[0]||touches[0];e&&(c.x=e.clientX||e.pageX||0,c.y=e.clientY||e.pageY||0)}return c}function hasPointerMoved(threshold,startCoord,endCoord){var deltaX=startCoord.x-endCoord.x,deltaY=startCoord.y-endCoord.y,distance=deltaX*deltaX+deltaY*deltaY;return distance>threshold*threshold}function isActive(ele){return!(!ele||document.activeElement!==ele)}function hasFocus(ele){return isActive(ele)&&ele.parentElement.querySelector(":focus")===ele}function isTextInput(ele){return!!ele&&("TEXTAREA"===ele.tagName||"true"===ele.contentEditable||"INPUT"===ele.tagName&&!/^(radio|checkbox|range|file|submit|reset|color|image|button)$/i.test(ele.type))}function hasFocusedTextInput(){var ele=document.activeElement;return!!isTextInput(ele)&&ele.parentElement.querySelector(":focus")===ele}function copyInputAttributes(srcElement,destElement){for(var attrs=srcElement.attributes,i=0;i<attrs.length;i++){var attr=attrs[i];skipInputAttrsReg.test(attr.name)||destElement.setAttribute(attr.name,attr.value)}}function closest(ele,selector,checkSelf){if(ele&&matchesFn)for(ele=checkSelf?ele:ele.parentElement;null!==ele;){if(ele[matchesFn](selector))return ele;ele=ele.parentElement}return null}function getDimensions(ele,id){var dimensions=dimensionCache[id];if(!dimensions){if(!ele.offsetWidth||!ele.offsetHeight)return{width:0,height:0,left:0,top:0};dimensions=dimensionCache[id]={width:ele.offsetWidth,height:ele.offsetHeight,left:ele.offsetLeft,top:ele.offsetTop}}return dimensions}function clearDimensions(id){delete dimensionCache[id]}function windowDimensions(){if(!dimensionCache.win){if(!window.innerWidth||!window.innerHeight)return{width:0,height:0};dimensionCache.win={width:window.innerWidth,height:window.innerHeight}}return dimensionCache.win}function flushDimensionCache(){dimensionCache={}}!function(){var rafLastTime=0,win=window;win.requestAnimationFrame||(win.requestAnimationFrame=function(callback){var currTime=Date.now(),timeToCall=Math.max(0,16-(currTime-rafLastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return rafLastTime=currTime+timeToCall,id}),win.cancelAnimationFrame||(win.cancelAnimationFrame=function(id){clearTimeout(id)})}();var originalRaf=window[window.Zone.__symbol__("requestAnimationFrame")]||window[window.Zone.__symbol__("webkitRequestAnimationFrame")];exports.nativeRaf=void 0!==originalRaf?originalRaf.bind(window):window.requestAnimationFrame.bind(window),exports.raf=window.requestAnimationFrame.bind(window),exports.cancelRaf=window.cancelAnimationFrame.bind(window),exports.nativeTimeout=window[window.Zone.__symbol__("setTimeout")].bind(window),exports.clearNativeTimeout=window[window.Zone.__symbol__("clearTimeout")].bind(window),exports.rafFrames=rafFrames,exports.CSS={},function(){var i,keys=["webkitTransform","transform","-webkit-transform","webkit-transform","-moz-transform","moz-transform","MozTransform","mozTransform","msTransform"];for(i=0;i<keys.length;i++)if(void 0!==document.documentElement.style[keys[i]]){exports.CSS.transform=keys[i];break}for(keys=["webkitTransition","mozTransition","msTransition","transition"],i=0;i<keys.length;i++)if(void 0!==document.documentElement.style[keys[i]]){exports.CSS.transition=keys[i];break}var isWebkit=exports.CSS.transition.indexOf("webkit")>-1;exports.CSS.transitionDuration=(isWebkit?"-webkit-":"")+"transition-duration",exports.CSS.transitionTimingFn=(isWebkit?"-webkit-":"")+"transition-timing-function",exports.CSS.transitionDelay=(isWebkit?"-webkit-":"")+"transition-delay",exports.CSS.transitionEnd=(isWebkit?"webkitTransitionEnd ":"")+"transitionend",exports.CSS.transformOrigin=(isWebkit?"-webkit-":"")+"transform-origin"}(),exports.transitionEnd=transitionEnd,exports.ready=ready,exports.windowLoad=windowLoad,exports.pointerCoord=pointerCoord,exports.hasPointerMoved=hasPointerMoved,exports.isActive=isActive,exports.hasFocus=hasFocus,exports.isTextInput=isTextInput,exports.hasFocusedTextInput=hasFocusedTextInput;var skipInputAttrsReg=/^(value|checked|disabled|type|class|style|id|autofocus|autocomplete|autocorrect)$/i;exports.copyInputAttributes=copyInputAttributes;var matchesFn,matchesMethods=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"];matchesMethods.some(function(fn){if("function"==typeof document.documentElement[fn])return matchesFn=fn,!0}),exports.closest=closest,exports.getDimensions=getDimensions,exports.clearDimensions=clearDimensions,exports.windowDimensions=windowDimensions,exports.flushDimensionCache=flushDimensionCache;var dimensionCache={}},{}],528:[function(require,module,exports){"use strict";var Events=function(){function Events(){this._channels=[]}return Events.prototype.subscribe=function(topic){for(var _this=this,handlers=[],_i=1;_i<arguments.length;_i++)handlers[_i-1]=arguments[_i];this._channels[topic]||(this._channels[topic]=[]),handlers.forEach(function(handler){_this._channels[topic].push(handler)})},Events.prototype.unsubscribe=function(topic,handler){var t=this._channels[topic];if(!t)return!1;if(!handler)return delete this._channels[topic],!0;var i=t.indexOf(handler);return!(i<0)&&(t.splice(i,1),t.length||delete this._channels[topic],!0)},Events.prototype.publish=function(topic){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var t=this._channels[topic];if(!t)return null;var responses=[];return t.forEach(function(handler){responses.push(handler(args))}),responses},Events}();exports.Events=Events},{}],529:[function(require,module,exports){"use strict";var FeatureDetect=function(){function FeatureDetect(){this._results={}}return FeatureDetect.prototype.run=function(window,document){for(var name_1 in featureDetects)this._results[name_1]=featureDetects[name_1](window,document,document.body)},FeatureDetect.prototype.has=function(featureName){return!!this._results[featureName]},FeatureDetect.add=function(name,fn){featureDetects[name]=fn},FeatureDetect}();exports.FeatureDetect=FeatureDetect;var featureDetects={};FeatureDetect.add("hairlines",function(window,document,body){var canDo=!1;if(window.devicePixelRatio>=2){var hairlineEle=document.createElement("div");hairlineEle.style.border=".5px solid transparent",body.appendChild(hairlineEle),1===hairlineEle.offsetHeight&&(body.classList.add("hairlines"),canDo=!0),body.removeChild(hairlineEle)}return canDo}),FeatureDetect.add("backdrop-filter",function(window,document,body){var styles=body.style,backdrop=void 0!==styles["backdrop-filter"]||void 0!==styles["-webkit-backdrop-filter"];return backdrop&&body.classList.add("backdrop-filter"),backdrop})},{}],530:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),Form=function(){function Form(){this._focused=null,this._ids=-1,this._inputs=[]}return Form.prototype.register=function(input){this._inputs.push(input)},Form.prototype.deregister=function(input){var index=this._inputs.indexOf(input);index>-1&&this._inputs.splice(index,1),input===this._focused&&(this._focused=null)},Form.prototype.focusOut=function(){var activeElement=document.activeElement;activeElement&&activeElement.blur&&activeElement.blur()},Form.prototype.setAsFocused=function(input){this._focused=input},Form.prototype.tabFocus=function(currentInput){var index=this._inputs.indexOf(currentInput);if(index>-1&&index+1<this._inputs.length){var nextInput=this._inputs[index+1];if(nextInput!==this._focused)return nextInput.initFocus()}if(index=this._inputs.indexOf(this._focused),index>0){var previousInput=this._inputs[index-1];previousInput&&previousInput.initFocus()}},Form.prototype.nextId=function(){return++this._ids},Form=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],Form)}();exports.Form=Form},{"@angular/core":167}],531:[function(require,module,exports){"use strict";!function(Key){Key[Key.ENTER=13]="ENTER",Key[Key.ESCAPE=27]="ESCAPE",Key[Key.TAB=9]="TAB"}(exports.Key||(exports.Key={}));exports.Key},{}],532:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=require("@angular/core"),config_1=require("../config/config"),form_1=require("./form"),dom_1=require("./dom"),key_1=require("./key"),Keyboard=function(){function Keyboard(config,_form,_zone){var _this=this;this._form=_form,this._zone=_zone,_zone.runOutsideAngular(function(){_this.focusOutline(config.get("focusOutline"),document)})}return Keyboard.prototype.isOpen=function(){return dom_1.hasFocusedTextInput()},Keyboard.prototype.onClose=function(callback,pollingInternval,pollingChecksMax){function checkKeyboard(){!self.isOpen()||checks>pollingChecksMax?dom_1.rafFrames(30,function(){self._zone.run(function(){callback()})}):dom_1.nativeTimeout(checkKeyboard,pollingInternval),checks++}void 0===pollingInternval&&(pollingInternval=KEYBOARD_CLOSE_POLLING),void 0===pollingChecksMax&&(pollingChecksMax=KEYBOARD_POLLING_CHECKS_MAX);var self=this,checks=0,promise=null;return callback||(promise=new Promise(function(resolve){callback=resolve})),dom_1.nativeTimeout(checkKeyboard,pollingInternval),promise},Keyboard.prototype.close=function(){var _this=this;dom_1.nativeRaf(function(){dom_1.hasFocusedTextInput()&&_this._form.focusOut()})},Keyboard.prototype.focusOutline=function(setting,document){function cssClass(){dom_1.nativeRaf(function(){document.body.classList[isKeyInputEnabled?"add":"remove"]("focus-outline")})}function keyDown(ev){isKeyInputEnabled||ev.keyCode!==key_1.Key.TAB||(isKeyInputEnabled=!0,enableKeyInput())}function pointerDown(){isKeyInputEnabled=!1,enableKeyInput()}function enableKeyInput(){cssClass(),self._zone.runOutsideAngular(function(){document.removeEventListener("mousedown",pointerDown),document.removeEventListener("touchstart",pointerDown),isKeyInputEnabled&&(document.addEventListener("mousedown",pointerDown),document.addEventListener("touchstart",pointerDown))})}var self=this,isKeyInputEnabled=!1;return setting===!0?(isKeyInputEnabled=!0,cssClass()):void(setting!==!1&&document.addEventListener("keydown",keyDown))},Keyboard=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[config_1.Config,form_1.Form,core_1.NgZone])],Keyboard)}();exports.Keyboard=Keyboard;var KEYBOARD_CLOSE_POLLING=150,KEYBOARD_POLLING_CHECKS_MAX=100},{"../config/config":497,"./dom":527,"./form":530,"./key":531,"@angular/core":167}],533:[function(require,module,exports){"use strict";var dom_1=require("../util/dom"),ScrollView=function(){function ScrollView(ele){this._js=!1,this._top=0,this._el=ele}return ScrollView.prototype.getTop=function(){return this._js?this._top:this._top=this._el.scrollTop},ScrollView.prototype.setTop=function(top){this._top=top,this._js?this._el.style[dom_1.CSS.transform]="translate3d(0px,"+top*-1+"px,0px)":this._el.scrollTop=top},ScrollView.prototype.scrollTo=function(x,y,duration){var self=this;if(!self._el)return Promise.resolve();x=x||0,y=y||0;var fromY=self._el.scrollTop,fromX=self._el.scrollLeft,maxAttempts=(Math.abs(x-fromX),Math.abs(y-fromY),duration/16+100);return new Promise(function(resolve){function step(){if(attempts++,!self._el||!self.isPlaying||attempts>maxAttempts)return self.isPlaying=!1,
void resolve();var time=Math.min(1,(Date.now()-startTime)/duration),easedT=--time*time*time+1;fromY!==y&&self.setTop(easedT*(y-fromY)+fromY),fromX!==x&&(self._el.scrollLeft=Math.floor(easedT*(x-fromX)+fromX)),easedT<1?dom_1.nativeRaf(step):resolve()}var startTime,attempts=0;self.isPlaying=!0,dom_1.nativeRaf(function(){startTime=Date.now(),dom_1.nativeRaf(step)})})},ScrollView.prototype.scrollToTop=function(duration){return this.scrollTo(0,0,duration)},ScrollView.prototype.scrollToBottom=function(duration){var y=0;return this._el&&(y=this._el.scrollHeight-this._el.clientHeight),this.scrollTo(0,y,duration)},ScrollView.prototype.stop=function(){this.isPlaying=!1},ScrollView.prototype.jsScroll=function(onScrollCallback){var _this=this;return this._js=!0,this._cb=onScrollCallback,this._pos=[],this._el&&(this._el.addEventListener("touchstart",this._start.bind(this)),this._el.addEventListener("touchmove",this._move.bind(this)),this._el.addEventListener("touchend",this._end.bind(this)),this._el.parentElement.classList.add("js-scroll")),function(){_this._el&&(_this._el.removeEventListener("touchstart",_this._start.bind(_this)),_this._el.removeEventListener("touchmove",_this._move.bind(_this)),_this._el.removeEventListener("touchend",_this._end.bind(_this)),_this._el.parentElement.classList.remove("js-scroll"))}},ScrollView.prototype._start=function(ev){this._velocity=0,this._pos.length=0,this._max=null,this._pos.push(dom_1.pointerCoord(ev).y,Date.now())},ScrollView.prototype._move=function(ev){if(this._pos.length){var y=dom_1.pointerCoord(ev).y;this._setMax(),this._top-=y-this._pos[this._pos.length-2],this._top=Math.min(Math.max(this._top,0),this._max),this._pos.push(y,Date.now()),this._cb(this._top),this.setTop(this._top)}},ScrollView.prototype._setMax=function(){this._max||(this._max=this._el.offsetHeight-this._el.parentElement.offsetHeight+this._el.parentElement.offsetTop)},ScrollView.prototype._end=function(ev){var positions=this._pos;if(this._velocity=0,dom_1.cancelRaf(this._rafId),positions.length){var y=dom_1.pointerCoord(ev).y;positions.push(y,Date.now());for(var endPos=positions.length-1,startPos=endPos,timeRange=Date.now()-100,i=endPos;i>0&&positions[i]>timeRange;i-=2)startPos=i;if(startPos!==endPos){var timeOffset=positions[endPos]-positions[startPos],movedTop=positions[startPos-1]-positions[endPos-1];this._velocity=movedTop/timeOffset*FRAME_MS,Math.abs(this._velocity)>MIN_VELOCITY_START_DECELERATION&&(this._setMax(),this._rafId=dom_1.nativeRaf(this._decelerate.bind(this)))}positions.length=0}},ScrollView.prototype._decelerate=function(){var self=this;self._velocity&&(self._velocity*=DECELERATION_FRICTION,self._top=Math.min(Math.max(self._top+self._velocity,0),self._max),self._cb(self._top),self.setTop(self._top),self._top>0&&self._top<self._max&&Math.abs(self._velocity)>MIN_VELOCITY_CONTINUE_DECELERATION&&(self._rafId=dom_1.nativeRaf(self._decelerate.bind(self))))},ScrollView.prototype.destroy=function(){this._velocity=0,this.stop(),this._el=null},ScrollView}();exports.ScrollView=ScrollView;var MIN_VELOCITY_START_DECELERATION=4,MIN_VELOCITY_CONTINUE_DECELERATION=.12,DECELERATION_FRICTION=.97,FRAME_MS=1e3/60},{"../util/dom":527}],534:[function(require,module,exports){"use strict";function listenEvent(ele,eventName,zoneWrapped,option,callback){var rawEvent="__zone_symbol__addEventListener"in ele&&!zoneWrapped;return rawEvent?(ele.__zone_symbol__addEventListener(eventName,callback,option),function(){return ele.__zone_symbol__removeEventListener(eventName,callback)}):(ele.addEventListener(eventName,callback,option),function(){return ele.removeEventListener(eventName,callback)})}var PointerEvents=function(){function PointerEvents(ele,pointerDown,pointerMove,pointerUp,zone,option){this.ele=ele,this.pointerDown=pointerDown,this.pointerMove=pointerMove,this.pointerUp=pointerUp,this.zone=zone,this.option=option,this.rmTouchStart=null,this.rmTouchMove=null,this.rmTouchEnd=null,this.rmTouchCancel=null,this.rmMouseStart=null,this.rmMouseMove=null,this.rmMouseUp=null,this.lastTouchEvent=0,this.mouseWait=2e3,this.bindTouchEnd=this.handleTouchEnd.bind(this),this.bindMouseUp=this.handleMouseUp.bind(this),this.rmTouchStart=listenEvent(ele,"touchstart",zone,option,this.handleTouchStart.bind(this)),this.rmMouseStart=listenEvent(ele,"mousedown",zone,option,this.handleMouseDown.bind(this))}return PointerEvents.prototype.handleTouchStart=function(ev){this.lastTouchEvent=Date.now()+this.mouseWait,this.pointerDown(ev)&&(this.rmTouchMove||(this.rmTouchMove=listenEvent(this.ele,"touchmove",this.zone,this.option,this.pointerMove)),this.rmTouchEnd||(this.rmTouchEnd=listenEvent(this.ele,"touchend",this.zone,this.option,this.bindTouchEnd)),this.rmTouchCancel||(this.rmTouchCancel=listenEvent(this.ele,"touchcancel",this.zone,this.option,this.bindTouchEnd)))},PointerEvents.prototype.handleMouseDown=function(ev){this.lastTouchEvent>Date.now()||this.pointerDown(ev)&&(this.rmMouseMove||(this.rmMouseMove=listenEvent(document,"mousemove",this.zone,this.option,this.pointerMove)),this.rmMouseUp||(this.rmMouseUp=listenEvent(document,"mouseup",this.zone,this.option,this.bindMouseUp)))},PointerEvents.prototype.handleTouchEnd=function(ev){this.stopTouch(),this.pointerUp(ev)},PointerEvents.prototype.handleMouseUp=function(ev){this.stopMouse(),this.pointerUp(ev)},PointerEvents.prototype.stopTouch=function(){this.rmTouchMove&&this.rmTouchMove(),this.rmTouchEnd&&this.rmTouchEnd(),this.rmTouchCancel&&this.rmTouchCancel(),this.rmTouchMove=null,this.rmTouchEnd=null,this.rmTouchCancel=null},PointerEvents.prototype.stopMouse=function(){this.rmMouseMove&&this.rmMouseMove(),this.rmMouseUp&&this.rmMouseUp(),this.rmMouseMove=null,this.rmMouseUp=null},PointerEvents.prototype.stop=function(){this.stopTouch(),this.stopMouse()},PointerEvents.prototype.destroy=function(){this.rmTouchStart&&this.rmTouchStart(),this.rmTouchStart=null,this.rmMouseStart&&this.rmMouseStart(),this.rmMouseStart=null,this.stop(),this.pointerDown=null,this.pointerMove=null,this.pointerUp=null,this.ele=null},PointerEvents}();exports.PointerEvents=PointerEvents;var UIEventManager=function(){function UIEventManager(zoneWrapped){void 0===zoneWrapped&&(zoneWrapped=!0),this.zoneWrapped=zoneWrapped,this.events=[]}return UIEventManager.prototype.listenRef=function(ref,eventName,callback,option){return this.listen(ref.nativeElement,eventName,callback,option)},UIEventManager.prototype.pointerEvents=function(config){var element=config.element;if(element||(element=config.elementRef.nativeElement),element&&config.pointerDown&&config.pointerMove&&config.pointerUp){var zone=config.zone||this.zoneWrapped,options=config.nativeOptions||!1,submanager=new PointerEvents(element,config.pointerDown,config.pointerMove,config.pointerUp,zone,options),removeFunc=function(){return submanager.destroy()};return this.events.push(removeFunc),submanager}},UIEventManager.prototype.listen=function(element,eventName,callback,option){if(void 0===option&&(option=!1),element){var removeFunc=listenEvent(element,eventName,this.zoneWrapped,option,callback);return this.events.push(removeFunc),removeFunc}},UIEventManager.prototype.unlistenAll=function(){for(var _i=0,_a=this.events;_i<_a.length;_i++){var event_1=_a[_i];event_1()}this.events.length=0},UIEventManager}();exports.UIEventManager=UIEventManager},{}],535:[function(require,module,exports){"use strict";function noop(){}function clamp(min,n,max){return Math.max(min,Math.min(n,max))}function assign(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return"function"!=typeof Object.assign?_baseExtend(args[0],[].slice.call(args,1),!1):Object.assign.apply(null,args)}function merge(dst){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return _baseExtend(dst,[].slice.call(arguments,1),!0)}function _baseExtend(dst,objs,deep){for(var i=0,ii=objs.length;i<ii;++i){var obj=objs[i];if(obj&&(exports.isObject(obj)||exports.isFunction(obj)))for(var keys=Object.keys(obj),j=0,jj=keys.length;j<jj;j++){var key=keys[j],src=obj[key];deep&&exports.isObject(src)?(exports.isObject(dst[key])||(dst[key]=exports.isArray(src)?[]:{}),_baseExtend(dst[key],[src],!0)):dst[key]=src}}return dst}function debounce(fn,wait,immediate){void 0===immediate&&(immediate=!1);var timeout,args,context,timestamp,result;return function(){context=this,args=arguments,timestamp=Date.now();var later=function(){var last=Date.now()-timestamp;last<wait?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=fn.apply(context,args)))},callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=fn.apply(context,args)),result}}function defaults(dest){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];for(var i=arguments.length-1;i>=1;i--){var source=arguments[i]||{};for(var key in source)source.hasOwnProperty(key)&&!dest.hasOwnProperty(key)&&(dest[key]=source[key])}return dest}function pascalCaseToDashCase(val){return void 0===val&&(val=""),val.charAt(0).toLowerCase()+val.substring(1).replace(/[A-Z]/g,function(match){return"-"+match.toLowerCase()})}function nextUid(){return++uid}function getQuerystring(url){var queryParams={};if(url){var startIndex=url.indexOf("?");if(startIndex!==-1)for(var queries=url.slice(startIndex+1).split("&"),i=0;i<queries.length;i++)if(queries[i].indexOf("=")>0){var split=queries[i].split("=");split.length>1&&(queryParams[split[0].toLowerCase()]=split[1].split("#")[0])}}return queryParams}function reorderArray(array,indexes){var element=array[indexes.from];return array.splice(indexes.from,1),array.splice(indexes.to,0,element),array}exports.noop=noop,exports.clamp=clamp,exports.assign=assign,exports.merge=merge,exports.debounce=debounce,exports.defaults=defaults,exports.isBoolean=function(val){return"boolean"==typeof val},exports.isString=function(val){return"string"==typeof val},exports.isNumber=function(val){return"number"==typeof val},exports.isFunction=function(val){return"function"==typeof val},exports.isDefined=function(val){return"undefined"!=typeof val},exports.isUndefined=function(val){return"undefined"==typeof val},exports.isPresent=function(val){return void 0!==val&&null!==val},exports.isBlank=function(val){return void 0===val||null===val},exports.isObject=function(val){return"object"==typeof val},exports.isArray=Array.isArray,exports.isPrimitive=function(val){return exports.isString(val)||exports.isBoolean(val)||exports.isNumber(val)&&!isNaN(val)},exports.isTrueProperty=function(val){return"string"==typeof val?(val=val.toLowerCase().trim(),"true"===val||"on"===val||""===val):!!val},exports.isCheckedProperty=function(a,b){return void 0===a||null===a||""===a?void 0===b||null===b||""===b:a===!0||"true"===a?b===!0||"true"===b:a===!1||"false"===a?b===!1||"false"===b:0===a||"0"===a?0===b||"0"===b:a==b},exports.pascalCaseToDashCase=pascalCaseToDashCase;var uid=0;exports.nextUid=nextUid,exports.getQuerystring=getQuerystring,exports.reorderArray=reorderArray},{}],536:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var ng1_1=require("./ng1"),DEVICE_READY_TIMEOUT=2e3,actionsheet_1=require("./plugins/actionsheet");exports.ActionSheet=actionsheet_1.ActionSheet;var admob_1=require("./plugins/admob");exports.AdMob=admob_1.AdMob;var android_fingerprint_auth_1=require("./plugins/android-fingerprint-auth");exports.AndroidFingerprintAuth=android_fingerprint_auth_1.AndroidFingerprintAuth;var appavailability_1=require("./plugins/appavailability");exports.AppAvailability=appavailability_1.AppAvailability;var apprate_1=require("./plugins/apprate");exports.AppRate=apprate_1.AppRate;var appversion_1=require("./plugins/appversion");exports.AppVersion=appversion_1.AppVersion;var badge_1=require("./plugins/badge");exports.Badge=badge_1.Badge;var background_geolocation_1=require("./plugins/background-geolocation"),backgroundmode_1=require("./plugins/backgroundmode"),barcodescanner_1=require("./plugins/barcodescanner");exports.BarcodeScanner=barcodescanner_1.BarcodeScanner;var base64togallery_1=require("./plugins/base64togallery");exports.Base64ToGallery=base64togallery_1.Base64ToGallery;var batterystatus_1=require("./plugins/batterystatus");exports.BatteryStatus=batterystatus_1.BatteryStatus;var brightness_1=require("./plugins/brightness");exports.Brightness=brightness_1.Brightness;var ble_1=require("./plugins/ble");exports.BLE=ble_1.BLE;var bluetoothserial_1=require("./plugins/bluetoothserial");exports.BluetoothSerial=bluetoothserial_1.BluetoothSerial;var calendar_1=require("./plugins/calendar"),camera_1=require("./plugins/camera"),camera_preview_1=require("./plugins/camera-preview");exports.CameraPreview=camera_preview_1.CameraPreview;var card_io_1=require("./plugins/card-io"),clipboard_1=require("./plugins/clipboard");exports.Clipboard=clipboard_1.Clipboard;var contacts_1=require("./plugins/contacts"),crop_1=require("./plugins/crop");exports.Crop=crop_1.Crop;var datepicker_1=require("./plugins/datepicker"),dbmeter_1=require("./plugins/dbmeter");exports.DBMeter=dbmeter_1.DBMeter;var deeplinks_1=require("./plugins/deeplinks");exports.Deeplinks=deeplinks_1.Deeplinks;var device_1=require("./plugins/device"),deviceaccounts_1=require("./plugins/deviceaccounts");exports.DeviceAccounts=deviceaccounts_1.DeviceAccounts;var devicemotion_1=require("./plugins/devicemotion"),deviceorientation_1=require("./plugins/deviceorientation"),diagnostic_1=require("./plugins/diagnostic");exports.Diagnostic=diagnostic_1.Diagnostic;var dialogs_1=require("./plugins/dialogs");exports.Dialogs=dialogs_1.Dialogs;var emailcomposer_1=require("./plugins/emailcomposer");exports.EmailComposer=emailcomposer_1.EmailComposer;var facebook_1=require("./plugins/facebook");exports.Facebook=facebook_1.Facebook;var file_1=require("./plugins/file"),filetransfer_1=require("./plugins/filetransfer");exports.Transfer=filetransfer_1.Transfer;var flashlight_1=require("./plugins/flashlight");exports.Flashlight=flashlight_1.Flashlight;var geolocation_1=require("./plugins/geolocation"),globalization_1=require("./plugins/globalization");exports.Globalization=globalization_1.Globalization;var google_plus_1=require("./plugins/google-plus");exports.GooglePlus=google_plus_1.GooglePlus;var googlemaps_1=require("./plugins/googlemaps"),googleanalytics_1=require("./plugins/googleanalytics");exports.GoogleAnalytics=googleanalytics_1.GoogleAnalytics;var hotspot_1=require("./plugins/hotspot");exports.Hotspot=hotspot_1.Hotspot;var httpd_1=require("./plugins/httpd"),ibeacon_1=require("./plugins/ibeacon"),imagepicker_1=require("./plugins/imagepicker"),imageresizer_1=require("./plugins/imageresizer"),inappbrowser_1=require("./plugins/inappbrowser"),insomnia_1=require("./plugins/insomnia");exports.Insomnia=insomnia_1.Insomnia;var keyboard_1=require("./plugins/keyboard");exports.Keyboard=keyboard_1.Keyboard;var launchnavigator_1=require("./plugins/launchnavigator"),localnotifications_1=require("./plugins/localnotifications"),media_capture_1=require("./plugins/media-capture"),native_audio_1=require("./plugins/native-audio");exports.NativeAudio=native_audio_1.NativeAudio;var nativestorage_1=require("./plugins/nativestorage");exports.NativeStorage=nativestorage_1.NativeStorage;var media_1=require("./plugins/media"),network_1=require("./plugins/network");exports.Network=network_1.Network;var onesignal_1=require("./plugins/onesignal");exports.OneSignal=onesignal_1.OneSignal;var photo_viewer_1=require("./plugins/photo-viewer");exports.PhotoViewer=photo_viewer_1.PhotoViewer;var screen_orientation_1=require("./plugins/screen-orientation");exports.ScreenOrientation=screen_orientation_1.ScreenOrientation;var pin_dialog_1=require("./plugins/pin-dialog");exports.PinDialog=pin_dialog_1.PinDialog;var printer_1=require("./plugins/printer"),push_1=require("./plugins/push"),safari_view_controller_1=require("./plugins/safari-view-controller"),screenshot_1=require("./plugins/screenshot");exports.Screenshot=screenshot_1.Screenshot;var securestorage_1=require("./plugins/securestorage");exports.SecureStorage=securestorage_1.SecureStorage;var shake_1=require("./plugins/shake");exports.Shake=shake_1.Shake;var sim_1=require("./plugins/sim");exports.Sim=sim_1.Sim;var sms_1=require("./plugins/sms"),socialsharing_1=require("./plugins/socialsharing");exports.SocialSharing=socialsharing_1.SocialSharing;var spinnerdialog_1=require("./plugins/spinnerdialog"),splashscreen_1=require("./plugins/splashscreen");exports.Splashscreen=splashscreen_1.Splashscreen;var sqlite_1=require("./plugins/sqlite");exports.SQLite=sqlite_1.SQLite;var statusbar_1=require("./plugins/statusbar");exports.StatusBar=statusbar_1.StatusBar;var _3dtouch_1=require("./plugins/3dtouch"),toast_1=require("./plugins/toast"),touchid_1=require("./plugins/touchid");exports.TouchID=touchid_1.TouchID;var text_to_speech_1=require("./plugins/text-to-speech");exports.TextToSpeech=text_to_speech_1.TextToSpeech;var twitter_connect_1=require("./plugins/twitter-connect"),vibration_1=require("./plugins/vibration");exports.Vibration=vibration_1.Vibration;var video_player_1=require("./plugins/video-player"),webintent_1=require("./plugins/webintent");exports.WebIntent=webintent_1.WebIntent;var zip_1=require("./plugins/zip");exports.Zip=zip_1.Zip,__export(require("./plugins/3dtouch")),__export(require("./plugins/background-geolocation")),__export(require("./plugins/backgroundmode")),__export(require("./plugins/batterystatus")),__export(require("./plugins/calendar")),__export(require("./plugins/camera")),__export(require("./plugins/card-io")),__export(require("./plugins/contacts")),__export(require("./plugins/datepicker")),__export(require("./plugins/device")),__export(require("./plugins/devicemotion")),__export(require("./plugins/deviceorientation")),__export(require("./plugins/file")),__export(require("./plugins/filetransfer")),__export(require("./plugins/geolocation")),__export(require("./plugins/googlemaps")),__export(require("./plugins/httpd")),__export(require("./plugins/ibeacon")),__export(require("./plugins/imagepicker")),__export(require("./plugins/imageresizer")),__export(require("./plugins/inappbrowser")),__export(require("./plugins/launchnavigator")),__export(require("./plugins/localnotifications")),__export(require("./plugins/media")),__export(require("./plugins/media-capture")),__export(require("./plugins/printer")),__export(require("./plugins/push")),__export(require("./plugins/safari-view-controller")),__export(require("./plugins/sms")),__export(require("./plugins/spinnerdialog")),__export(require("./plugins/toast")),__export(require("./plugins/twitter-connect")),__export(require("./plugins/video-player")),__export(require("./plugins/plugin")),window.IonicNative={ActionSheet:actionsheet_1.ActionSheet,AdMob:admob_1.AdMob,AndroidFingerprintAuth:android_fingerprint_auth_1.AndroidFingerprintAuth,AppAvailability:appavailability_1.AppAvailability,AppRate:apprate_1.AppRate,AppVersion:appversion_1.AppVersion,Badge:badge_1.Badge,BackgroundGeolocation:background_geolocation_1.BackgroundGeolocation,BackgroundMode:backgroundmode_1.BackgroundMode,BarcodeScanner:barcodescanner_1.BarcodeScanner,Base64ToGallery:base64togallery_1.Base64ToGallery,BatteryStatus:batterystatus_1.BatteryStatus,Brightness:brightness_1.Brightness,BLE:ble_1.BLE,BluetoothSerial:bluetoothserial_1.BluetoothSerial,Calendar:calendar_1.Calendar,Camera:camera_1.Camera,CameraPreview:camera_preview_1.CameraPreview,CardIO:card_io_1.CardIO,Clipboard:clipboard_1.Clipboard,Contacts:contacts_1.Contacts,Crop:crop_1.Crop,DatePicker:datepicker_1.DatePicker,DBMeter:dbmeter_1.DBMeter,Deeplinks:deeplinks_1.Deeplinks,Device:device_1.Device,DeviceAccounts:deviceaccounts_1.DeviceAccounts,DeviceMotion:devicemotion_1.DeviceMotion,DeviceOrientation:deviceorientation_1.DeviceOrientation,Dialogs:dialogs_1.Dialogs,Diagnostic:diagnostic_1.Diagnostic,EmailComposer:emailcomposer_1.EmailComposer,Facebook:facebook_1.Facebook,File:file_1.File,Flashlight:flashlight_1.Flashlight,Geolocation:geolocation_1.Geolocation,Globalization:globalization_1.Globalization,GooglePlus:google_plus_1.GooglePlus,GoogleMap:googlemaps_1.GoogleMap,GoogleAnalytics:googleanalytics_1.GoogleAnalytics,Hotspot:hotspot_1.Hotspot,Httpd:httpd_1.Httpd,IBeacon:ibeacon_1.IBeacon,ImagePicker:imagepicker_1.ImagePicker,ImageResizer:imageresizer_1.ImageResizer,InAppBrowser:inappbrowser_1.InAppBrowser,Keyboard:keyboard_1.Keyboard,LaunchNavigator:launchnavigator_1.LaunchNavigator,LocalNotifications:localnotifications_1.LocalNotifications,MediaCapture:media_capture_1.MediaCapture,MediaPlugin:media_1.MediaPlugin,NativeAudio:native_audio_1.NativeAudio,NativeStorage:nativestorage_1.NativeStorage,Network:network_1.Network,Printer:printer_1.Printer,Push:push_1.Push,OneSignal:onesignal_1.OneSignal,PhotoViewer:photo_viewer_1.PhotoViewer,ScreenOrientation:screen_orientation_1.ScreenOrientation,PinDialog:pin_dialog_1.PinDialog,SafariViewController:safari_view_controller_1.SafariViewController,Screenshot:screenshot_1.Screenshot,SecureStorage:securestorage_1.SecureStorage,Shake:shake_1.Shake,Sim:sim_1.Sim,SMS:sms_1.SMS,SocialSharing:socialsharing_1.SocialSharing,SpinnerDialog:spinnerdialog_1.SpinnerDialog,Splashscreen:splashscreen_1.Splashscreen,SQLite:sqlite_1.SQLite,StatusBar:statusbar_1.StatusBar,ThreeDeeTouch:_3dtouch_1.ThreeDeeTouch,Toast:toast_1.Toast,TouchID:touchid_1.TouchID,Transfer:filetransfer_1.Transfer,TextToSpeech:text_to_speech_1.TextToSpeech,TwitterConnect:twitter_connect_1.TwitterConnect,VideoPlayer:video_player_1.VideoPlayer,Vibration:vibration_1.Vibration,WebIntent:webintent_1.WebIntent,Zip:zip_1.Zip},ng1_1.initAngular1(window.IonicNative);var before=+new Date,didFireReady=!1;document.addEventListener("deviceready",function(){console.log("DEVICE READY FIRED AFTER",+new Date-before,"ms"),didFireReady=!0}),setTimeout(function(){!didFireReady&&window.cordova&&console.warn("Native: deviceready did not fire within "+DEVICE_READY_TIMEOUT+"ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},DEVICE_READY_TIMEOUT)},{"./ng1":537,"./plugins/3dtouch":538,"./plugins/actionsheet":539,"./plugins/admob":540,"./plugins/android-fingerprint-auth":541,"./plugins/appavailability":542,"./plugins/apprate":543,"./plugins/appversion":544,"./plugins/background-geolocation":545,"./plugins/backgroundmode":546,"./plugins/badge":547,"./plugins/barcodescanner":548,"./plugins/base64togallery":549,"./plugins/batterystatus":550,"./plugins/ble":551,"./plugins/bluetoothserial":552,"./plugins/brightness":553,"./plugins/calendar":554,"./plugins/camera":556,"./plugins/camera-preview":555,"./plugins/card-io":557,"./plugins/clipboard":558,"./plugins/contacts":559,"./plugins/crop":560,"./plugins/datepicker":561,"./plugins/dbmeter":562,"./plugins/deeplinks":563,"./plugins/device":564,"./plugins/deviceaccounts":565,"./plugins/devicemotion":566,"./plugins/deviceorientation":567,"./plugins/diagnostic":568,"./plugins/dialogs":569,"./plugins/emailcomposer":570,"./plugins/facebook":571,"./plugins/file":572,"./plugins/filetransfer":573,"./plugins/flashlight":574,"./plugins/geolocation":575,"./plugins/globalization":576,"./plugins/google-plus":577,"./plugins/googleanalytics":578,"./plugins/googlemaps":579,"./plugins/hotspot":580,"./plugins/httpd":581,"./plugins/ibeacon":582,"./plugins/imagepicker":583,"./plugins/imageresizer":584,"./plugins/inappbrowser":585,"./plugins/insomnia":586,"./plugins/keyboard":587,"./plugins/launchnavigator":588,"./plugins/localnotifications":589,"./plugins/media":591,"./plugins/media-capture":590,"./plugins/native-audio":592,"./plugins/nativestorage":593,"./plugins/network":594,"./plugins/onesignal":595,"./plugins/photo-viewer":596,"./plugins/pin-dialog":597,"./plugins/plugin":598,"./plugins/printer":599,"./plugins/push":600,"./plugins/safari-view-controller":601,"./plugins/screen-orientation":602,"./plugins/screenshot":603,"./plugins/securestorage":604,"./plugins/shake":605,"./plugins/sim":606,"./plugins/sms":607,"./plugins/socialsharing":608,"./plugins/spinnerdialog":609,"./plugins/splashscreen":610,"./plugins/sqlite":611,"./plugins/statusbar":612,"./plugins/text-to-speech":613,"./plugins/toast":614,"./plugins/touchid":615,"./plugins/twitter-connect":616,"./plugins/vibration":617,"./plugins/video-player":618,"./plugins/webintent":619,"./plugins/zip":620}],537:[function(require,module,exports){"use strict";function initAngular1(plugins){if(window.angular){window.angular.module("ionic.native",[]);for(var name in plugins){var serviceName="$cordova"+name,cls=plugins[name];!function(serviceName,cls,name){window.angular.module("ionic.native").service(serviceName,[function(){var funcs=window.angular.copy(cls);return funcs.prototype.name=name,funcs}])}(serviceName,cls,name)}}}exports.initAngular1=initAngular1},{}],538:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Observable_1=require("rxjs/Observable"),ThreeDeeTouch=function(){function ThreeDeeTouch(){}return ThreeDeeTouch.isAvailable=function(){},ThreeDeeTouch.watchForceTouches=function(){},ThreeDeeTouch.configureQuickActions=function(quickActions){},ThreeDeeTouch.onHomeIconPressed=function(){return new Observable_1.Observable(function(observer){window.ThreeDeeTouch&&window.ThreeDeeTouch.onHomeIconPressed?window.ThreeDeeTouch.onHomeIconPressed=observer.next.bind(observer):(observer.error("3dTouch plugin is not available."),observer.complete())})},ThreeDeeTouch.enableLinkPreview=function(){},ThreeDeeTouch.disableLinkPreview=function(){},__decorate([plugin_1.Cordova()],ThreeDeeTouch,"isAvailable",null),__decorate([plugin_1.Cordova({observable:!0})],ThreeDeeTouch,"watchForceTouches",null),__decorate([plugin_1.Cordova({sync:!0})],ThreeDeeTouch,"configureQuickActions",null),__decorate([plugin_1.Cordova({sync:!0})],ThreeDeeTouch,"enableLinkPreview",null),__decorate([plugin_1.Cordova({sync:!0})],ThreeDeeTouch,"disableLinkPreview",null),ThreeDeeTouch=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-3dtouch",pluginRef:"ThreeDeeTouch",repo:"https://github.com/EddyVerbruggen/cordova-plugin-3dtouch",platforms:["iOS"]})],ThreeDeeTouch)}();exports.ThreeDeeTouch=ThreeDeeTouch},{"./plugin":598,"rxjs/Observable":629}],539:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),ActionSheet=function(){function ActionSheet(){}return ActionSheet.show=function(options){},ActionSheet.hide=function(options){},__decorate([plugin_1.Cordova()],ActionSheet,"show",null),__decorate([plugin_1.Cordova()],ActionSheet,"hide",null),ActionSheet=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-actionsheet",pluginRef:"plugins.actionsheet",repo:"https://github.com/EddyVerbruggen/cordova-plugin-actionsheet",platforms:["Android","iOS","Windows Phone 8"]})],ActionSheet)}();exports.ActionSheet=ActionSheet},{"./plugin":598}],540:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),AdMob=function(){function AdMob(){}return AdMob.createBanner=function(adIdOrOptions){},AdMob.removeBanner=function(){},AdMob.showBanner=function(position){},AdMob.showBannerAtXY=function(x,y){},AdMob.hideBanner=function(){},AdMob.prepareInterstitial=function(adIdOrOptions){},AdMob.showInterstitial=function(){},AdMob.isInterstitialReady=function(){},AdMob.prepareRewardVideoAd=function(adIdOrOptions){},AdMob.showRewardVideoAd=function(){},AdMob.setOptions=function(options){},AdMob.getAdSettings=function(){},AdMob.onBannerFailedToReceive=function(){},AdMob.onBannerReceive=function(){},AdMob.onBannerPresent=function(){},AdMob.onBannerLeaveApp=function(){},AdMob.onBannerDismiss=function(){},AdMob.onInterstitialFailedToReceive=function(){},AdMob.onInterstitialReceive=function(){},AdMob.onInterstitialPresent=function(){},AdMob.onInterstitialLeaveApp=function(){},AdMob.onInterstitialDismiss=function(){},__decorate([plugin_1.Cordova()],AdMob,"createBanner",null),__decorate([plugin_1.Cordova({sync:!0})],AdMob,"removeBanner",null),__decorate([plugin_1.Cordova({sync:!0})],AdMob,"showBanner",null),__decorate([plugin_1.Cordova({sync:!0})],AdMob,"showBannerAtXY",null),__decorate([plugin_1.Cordova({sync:!0})],AdMob,"hideBanner",null),__decorate([plugin_1.Cordova()],AdMob,"prepareInterstitial",null),__decorate([plugin_1.Cordova({sync:!0})],AdMob,"showInterstitial",null),__decorate([plugin_1.Cordova()],AdMob,"isInterstitialReady",null),__decorate([plugin_1.Cordova()],AdMob,"prepareRewardVideoAd",null),__decorate([plugin_1.Cordova({sync:!0})],AdMob,"showRewardVideoAd",null),__decorate([plugin_1.Cordova()],AdMob,"setOptions",null),__decorate([plugin_1.Cordova()],AdMob,"getAdSettings",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onBannerFailedToReceive"})],AdMob,"onBannerFailedToReceive",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onBannerReceive"})],AdMob,"onBannerReceive",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onBannerPresent"})],AdMob,"onBannerPresent",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onBannerLeaveApp"})],AdMob,"onBannerLeaveApp",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onBannerDismiss"})],AdMob,"onBannerDismiss",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onInterstitialFailedToReceive"})],AdMob,"onInterstitialFailedToReceive",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onInterstitialReceive"})],AdMob,"onInterstitialReceive",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onInterstitialPresent"})],AdMob,"onInterstitialPresent",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onInterstitialLeaveApp"})],AdMob,"onInterstitialLeaveApp",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onInterstitialDismiss"})],AdMob,"onInterstitialDismiss",null),AdMob=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-admobpro",pluginRef:"AdMob",repo:"https://github.com/floatinghotpot/cordova-admob-pro",platforms:["Android","iOS","Windows Phone 8"]})],AdMob)}();exports.AdMob=AdMob},{"./plugin":598}],541:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),AndroidFingerprintAuth=function(){
function AndroidFingerprintAuth(){}return AndroidFingerprintAuth.show=function(params){},AndroidFingerprintAuth.isAvailable=function(){},__decorate([plugin_1.Cordova()],AndroidFingerprintAuth,"show",null),__decorate([plugin_1.Cordova()],AndroidFingerprintAuth,"isAvailable",null),AndroidFingerprintAuth=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-android-fingerprint-auth",pluginRef:"FingerprintAuth",repo:"https://github.com/mjwheatley/cordova-plugin-android-fingerprint-auth"})],AndroidFingerprintAuth)}();exports.AndroidFingerprintAuth=AndroidFingerprintAuth},{"./plugin":598}],542:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),AppAvailability=function(){function AppAvailability(){}return AppAvailability.check=function(app){},__decorate([plugin_1.Cordova()],AppAvailability,"check",null),AppAvailability=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-appavailability",pluginRef:"appAvailability",repo:"https://github.com/ohh2ahh/AppAvailability",platforms:["Android","iOS"]})],AppAvailability)}();exports.AppAvailability=AppAvailability},{"./plugin":598}],543:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),AppRate=function(){function AppRate(){}return Object.defineProperty(AppRate,"preferences",{get:function(){return window.AppRate.preferences},enumerable:!0,configurable:!0}),AppRate.promptForRating=function(immediately){},__decorate([plugin_1.CordovaProperty],AppRate,"preferences",null),__decorate([plugin_1.Cordova()],AppRate,"promptForRating",null),AppRate=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-apprate",pluginRef:"AppRate",repo:"https://github.com/pushandplay/cordova-plugin-apprate",platforms:["Android","iOS"]})],AppRate)}();exports.AppRate=AppRate},{"./plugin":598}],544:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),AppVersion=function(){function AppVersion(){}return AppVersion.getAppName=function(){},AppVersion.getPackageName=function(){},AppVersion.getVersionCode=function(){},AppVersion.getVersionNumber=function(){},__decorate([plugin_1.Cordova()],AppVersion,"getAppName",null),__decorate([plugin_1.Cordova()],AppVersion,"getPackageName",null),__decorate([plugin_1.Cordova()],AppVersion,"getVersionCode",null),__decorate([plugin_1.Cordova()],AppVersion,"getVersionNumber",null),AppVersion=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-app-version",pluginRef:"cordova.getAppVersion",repo:"https://github.com/whiteoctober/cordova-plugin-app-version",platforms:["Android","iOS"]})],AppVersion)}();exports.AppVersion=AppVersion},{"./plugin":598}],545:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),BackgroundGeolocation=function(){function BackgroundGeolocation(){}return BackgroundGeolocation.configure=function(callback,errorCallback,options){},BackgroundGeolocation.start=function(){},BackgroundGeolocation.stop=function(){},BackgroundGeolocation.finish=function(){},BackgroundGeolocation.changePace=function(isMoving){},BackgroundGeolocation.setConfig=function(options){},BackgroundGeolocation.getStationaryLocation=function(){},BackgroundGeolocation.onStationary=function(){},BackgroundGeolocation.isLocationEnabled=function(){},BackgroundGeolocation.showLocationSettings=function(){},BackgroundGeolocation.watchLocationMode=function(){},BackgroundGeolocation.stopWatchingLocationMode=function(){},BackgroundGeolocation.getLocations=function(){},BackgroundGeolocation.deleteLocation=function(locationId){},BackgroundGeolocation.deleteAllLocations=function(){},__decorate([plugin_1.Cordova({sync:!0})],BackgroundGeolocation,"configure",null),__decorate([plugin_1.Cordova()],BackgroundGeolocation,"start",null),__decorate([plugin_1.Cordova()],BackgroundGeolocation,"stop",null),__decorate([plugin_1.Cordova()],BackgroundGeolocation,"finish",null),__decorate([plugin_1.Cordova()],BackgroundGeolocation,"changePace",null),__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],BackgroundGeolocation,"setConfig",null),__decorate([plugin_1.Cordova()],BackgroundGeolocation,"getStationaryLocation",null),__decorate([plugin_1.Cordova()],BackgroundGeolocation,"onStationary",null),__decorate([plugin_1.Cordova()],BackgroundGeolocation,"isLocationEnabled",null),__decorate([plugin_1.Cordova()],BackgroundGeolocation,"showLocationSettings",null),__decorate([plugin_1.Cordova()],BackgroundGeolocation,"watchLocationMode",null),__decorate([plugin_1.Cordova()],BackgroundGeolocation,"stopWatchingLocationMode",null),__decorate([plugin_1.Cordova()],BackgroundGeolocation,"getLocations",null),__decorate([plugin_1.Cordova()],BackgroundGeolocation,"deleteLocation",null),__decorate([plugin_1.Cordova()],BackgroundGeolocation,"deleteAllLocations",null),BackgroundGeolocation=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-mauron85-background-geolocation",pluginRef:"backgroundGeolocation",repo:"https://github.com/mauron85/cordova-plugin-background-geolocation",platforms:["iOS","Android","Windows Phone 8"]})],BackgroundGeolocation)}();exports.BackgroundGeolocation=BackgroundGeolocation},{"./plugin":598}],546:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),BackgroundMode=function(){function BackgroundMode(){}return BackgroundMode.enable=function(){},BackgroundMode.disable=function(){},BackgroundMode.isEnabled=function(){},BackgroundMode.isActive=function(){},BackgroundMode.setDefaults=function(options){},BackgroundMode.update=function(options){},BackgroundMode.on=function(eventName,callback){},__decorate([plugin_1.Cordova({sync:!0})],BackgroundMode,"enable",null),__decorate([plugin_1.Cordova()],BackgroundMode,"disable",null),__decorate([plugin_1.Cordova()],BackgroundMode,"isEnabled",null),__decorate([plugin_1.Cordova()],BackgroundMode,"isActive",null),__decorate([plugin_1.Cordova({platforms:["Android"]})],BackgroundMode,"setDefaults",null),__decorate([plugin_1.Cordova({platforms:["Android"]})],BackgroundMode,"update",null),__decorate([plugin_1.Cordova({sync:!0})],BackgroundMode,"on",null),BackgroundMode=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-background-mode",pluginRef:"cordova.plugins.backgroundMode",repo:"https://github.com/katzer/cordova-plugin-background-mode",platforms:["Android","iOS","Windows Phone 8"]})],BackgroundMode)}();exports.BackgroundMode=BackgroundMode},{"./plugin":598}],547:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Badge=function(){function Badge(){}return Badge.clear=function(){},Badge.set=function(badgeNumber){},Badge.get=function(){},Badge.increase=function(increaseBy){},Badge.decrease=function(decreaseBy){},Badge.hasPermission=function(){},Badge.registerPermission=function(){},__decorate([plugin_1.Cordova()],Badge,"clear",null),__decorate([plugin_1.Cordova()],Badge,"set",null),__decorate([plugin_1.Cordova()],Badge,"get",null),__decorate([plugin_1.Cordova()],Badge,"increase",null),__decorate([plugin_1.Cordova()],Badge,"decrease",null),__decorate([plugin_1.Cordova()],Badge,"hasPermission",null),__decorate([plugin_1.Cordova()],Badge,"registerPermission",null),Badge=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-badge",pluginRef:"cordova.plugins.notification.badge",repo:"https://github.com/katzer/cordova-plugin-badge",platforms:["Android","iOS","Browser","Windows","Amazon FireOS","Windows Phone 8"]})],Badge)}();exports.Badge=Badge},{"./plugin":598}],548:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),BarcodeScanner=function(){function BarcodeScanner(){}return BarcodeScanner.scan=function(options){},BarcodeScanner.encode=function(type,data){},BarcodeScanner.Encode={TEXT_TYPE:"TEXT_TYPE",EMAIL_TYPE:"EMAIL_TYPE",PHONE_TYPE:"PHONE_TYPE",SMS_TYPE:"SMS_TYPE"},__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],BarcodeScanner,"scan",null),__decorate([plugin_1.Cordova()],BarcodeScanner,"encode",null),BarcodeScanner=__decorate([plugin_1.Plugin({plugin:"phonegap-plugin-barcodescanner",pluginRef:"cordova.plugins.barcodeScanner",repo:"https://github.com/phonegap/phonegap-plugin-barcodescanner",platforms:["Android","iOS","Windows Phone 8","Windows 10","Windows 8","BlackBerry 10","Browser"]})],BarcodeScanner)}();exports.BarcodeScanner=BarcodeScanner},{"./plugin":598}],549:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Base64ToGallery=function(){function Base64ToGallery(){}return Base64ToGallery.base64ToGallery=function(data,options){},__decorate([plugin_1.Cordova()],Base64ToGallery,"base64ToGallery",null),Base64ToGallery=__decorate([plugin_1.Plugin({plugin:"cordova-base64-to-gallery",pluginRef:"cordova",repo:"https://github.com/Nexxa/cordova-base64-to-gallery",platforms:["Android","iOS","Windows Phone 8"]})],Base64ToGallery)}();exports.Base64ToGallery=Base64ToGallery},{"./plugin":598}],550:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),BatteryStatus=function(){function BatteryStatus(){}return BatteryStatus.onChange=function(){},BatteryStatus.onLow=function(){},BatteryStatus.onCritical=function(){},__decorate([plugin_1.Cordova({eventObservable:!0,event:"batterystatus"})],BatteryStatus,"onChange",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"batterylow"})],BatteryStatus,"onLow",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"batterycritical"})],BatteryStatus,"onCritical",null),BatteryStatus=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-battery-status",repo:"https://github.com/apache/cordova-plugin-battery-status",platforms:["Amazon Fire OS","iOS","Android","BlackBerry 10","Windows Phone 7","Windows Phone 8","Windows","Firefox OS","Browser"]})],BatteryStatus)}();exports.BatteryStatus=BatteryStatus},{"./plugin":598}],551:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),BLE=function(){function BLE(){}return BLE.scan=function(services,seconds){},BLE.startScan=function(services){},BLE.stopScan=function(){},BLE.connect=function(deviceId){},BLE.disconnect=function(deviceId){},BLE.read=function(deviceId,serviceUUID,characteristicUUID){},BLE.write=function(deviceId,serviceUUID,characteristicUUID,value){},BLE.writeWithoutResponse=function(deviceId,serviceUUID,characteristicUUID,value){},BLE.startNotification=function(deviceId,serviceUUID,characteristicUUID){},BLE.stopNotification=function(deviceId,serviceUUID,characteristicUUID){},BLE.isConnected=function(deviceId){},BLE.isEnabled=function(){},BLE.showBluetoothSettings=function(){},BLE.enable=function(){},__decorate([plugin_1.Cordova({observable:!0})],BLE,"scan",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"stopScan",clearWithArgs:!0})],BLE,"startScan",null),__decorate([plugin_1.Cordova()],BLE,"stopScan",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"disconnect",clearWithArgs:!0})],BLE,"connect",null),__decorate([plugin_1.Cordova()],BLE,"disconnect",null),__decorate([plugin_1.Cordova()],BLE,"read",null),__decorate([plugin_1.Cordova()],BLE,"write",null),__decorate([plugin_1.Cordova()],BLE,"writeWithoutResponse",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"stopNotification",clearWithArgs:!0})],BLE,"startNotification",null),__decorate([plugin_1.Cordova()],BLE,"stopNotification",null),__decorate([plugin_1.Cordova()],BLE,"isConnected",null),__decorate([plugin_1.Cordova()],BLE,"isEnabled",null),__decorate([plugin_1.Cordova()],BLE,"showBluetoothSettings",null),__decorate([plugin_1.Cordova()],BLE,"enable",null),BLE=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-ble-central",pluginRef:"ble",repo:"https://github.com/don/cordova-plugin-ble-central",platforms:["iOS","Android"]})],BLE)}();exports.BLE=BLE},{"./plugin":598}],552:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),BluetoothSerial=function(){function BluetoothSerial(){}return BluetoothSerial.connect=function(macAddress_or_uuid){},BluetoothSerial.connectInsecure=function(macAddress){},BluetoothSerial.write=function(data){},BluetoothSerial.available=function(){},BluetoothSerial.read=function(){},BluetoothSerial.readUntil=function(delimiter){},BluetoothSerial.subscribe=function(delimiter){},BluetoothSerial.subscribeRawData=function(){},BluetoothSerial.clear=function(){},BluetoothSerial.list=function(){},BluetoothSerial.isEnabled=function(){},BluetoothSerial.isConnected=function(){},BluetoothSerial.readRSSI=function(){},BluetoothSerial.showBluetoothSettings=function(){},BluetoothSerial.enable=function(){},BluetoothSerial.discoverUnpaired=function(){},BluetoothSerial.setDeviceDiscoveredListener=function(){},BluetoothSerial.setName=function(newName){},BluetoothSerial.setDiscoverable=function(discoverableDuration){},__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"],observable:!0,clearFunction:"disconnect"})],BluetoothSerial,"connect",null),__decorate([plugin_1.Cordova({platforms:["Android"],observable:!0,clearFunction:"disconnect"})],BluetoothSerial,"connectInsecure",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"write",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"available",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"read",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"readUntil",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"],observable:!0,clearFunction:"unsubscribe"})],BluetoothSerial,"subscribe",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"],observable:!0,clearFunction:"unsubscribeRawData"})],BluetoothSerial,"subscribeRawData",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"clear",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"list",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"isEnabled",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"isConnected",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"readRSSI",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"showBluetoothSettings",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"enable",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"discoverUnpaired",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"],observable:!0,clearFunction:"clearDeviceDiscoveredListener"})],BluetoothSerial,"setDeviceDiscoveredListener",null),__decorate([plugin_1.Cordova({platforms:["Android"],sync:!0})],BluetoothSerial,"setName",null),__decorate([plugin_1.Cordova({platforms:["Android"],sync:!0})],BluetoothSerial,"setDiscoverable",null),BluetoothSerial=__decorate([plugin_1.Plugin({repo:"https://github.com/don/BluetoothSerial",plugin:"cordova-plugin-bluetooth-serial",pluginRef:"bluetoothSerial",platforms:["Android","iOS","Windows Phone","Browser"]})],BluetoothSerial)}();exports.BluetoothSerial=BluetoothSerial},{"./plugin":598}],553:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Brightness=function(){function Brightness(){}return Brightness.setBrightness=function(value){},Brightness.getBrightness=function(){},Brightness.setKeepScreenOn=function(value){},__decorate([plugin_1.Cordova()],Brightness,"setBrightness",null),__decorate([plugin_1.Cordova()],Brightness,"getBrightness",null),__decorate([plugin_1.Cordova()],Brightness,"setKeepScreenOn",null),Brightness=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-brightness",pluginRef:"cordova.plugins.brightness",repo:"https://github.com/mgcrea/cordova-plugin-brightness",platforms:["Android","iOS"]})],Brightness)}();exports.Brightness=Brightness},{"./plugin":598}],554:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Calendar=function(){function Calendar(){}return Calendar.hasReadWritePermission=function(){},Calendar.hasReadPermission=function(){},Calendar.hasWritePermission=function(){},Calendar.requestWritePermission=function(){},Calendar.requestReadPermission=function(){},Calendar.requestReadWritePermission=function(){},Calendar.createCalendar=function(nameOrOptions){},Calendar.deleteCalendar=function(name){},Calendar.getCalendarOptions=function(){return{firstReminderMinutes:60,secondReminderMinutes:null,recurrence:null,recurrenceInterval:1,recurrenceEndDate:null,calendarName:null,calendarId:null,url:null}},Calendar.createEvent=function(title,location,notes,startDate,endDate){},Calendar.createEventWithOptions=function(title,location,notes,startDate,endDate,options){},Calendar.createEventInteractively=function(title,location,notes,startDate,endDate){},Calendar.createEventInteractivelyWithOptions=function(title,location,notes,startDate,endDate,options){},Calendar.findEvent=function(title,location,notes,startDate,endDate){},Calendar.findEventWithOptions=function(title,location,notes,startDate,endDate,options){},Calendar.listEventsInRange=function(startDate,endDate){},Calendar.listCalendars=function(){},Calendar.findAllEventsInNamedCalendar=function(calendarName){},Calendar.modifyEvent=function(title,location,notes,startDate,endDate,newTitle,newLocation,newNotes,newStartDate,newEndDate){},Calendar.modifyEventWithOptions=function(title,location,notes,startDate,endDate,newTitle,newLocation,newNotes,newStartDate,newEndDate,options){},Calendar.deleteEvent=function(title,location,notes,startDate,endDate){},Calendar.deleteEventFromNamedCalendar=function(title,location,notes,startDate,endDate,calendarName){},Calendar.openCalendar=function(date){},__decorate([plugin_1.Cordova()],Calendar,"hasReadWritePermission",null),__decorate([plugin_1.Cordova()],Calendar,"hasReadPermission",null),__decorate([plugin_1.Cordova()],Calendar,"hasWritePermission",null),__decorate([plugin_1.Cordova()],Calendar,"requestWritePermission",null),__decorate([plugin_1.Cordova()],Calendar,"requestReadPermission",null),__decorate([plugin_1.Cordova()],Calendar,"requestReadWritePermission",null),__decorate([plugin_1.Cordova()],Calendar,"createCalendar",null),__decorate([plugin_1.Cordova()],Calendar,"deleteCalendar",null),__decorate([plugin_1.Cordova({sync:!0})],Calendar,"getCalendarOptions",null),__decorate([plugin_1.Cordova()],Calendar,"createEvent",null),__decorate([plugin_1.Cordova()],Calendar,"createEventWithOptions",null),__decorate([plugin_1.Cordova()],Calendar,"createEventInteractively",null),__decorate([plugin_1.Cordova()],Calendar,"createEventInteractivelyWithOptions",null),__decorate([plugin_1.Cordova()],Calendar,"findEvent",null),__decorate([plugin_1.Cordova()],Calendar,"findEventWithOptions",null),__decorate([plugin_1.Cordova()],Calendar,"listEventsInRange",null),__decorate([plugin_1.Cordova()],Calendar,"listCalendars",null),__decorate([plugin_1.Cordova()],Calendar,"findAllEventsInNamedCalendar",null),__decorate([plugin_1.Cordova()],Calendar,"modifyEvent",null),__decorate([plugin_1.Cordova()],Calendar,"modifyEventWithOptions",null),__decorate([plugin_1.Cordova()],Calendar,"deleteEvent",null),__decorate([plugin_1.Cordova()],Calendar,"deleteEventFromNamedCalendar",null),__decorate([plugin_1.Cordova()],Calendar,"openCalendar",null),Calendar=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-calendar",pluginRef:"plugins.calendar",repo:"https://github.com/EddyVerbruggen/Calendar-PhoneGap-Plugin",platforms:["Android","iOS"]})],Calendar)}();exports.Calendar=Calendar},{"./plugin":598}],555:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),CameraPreview=function(){function CameraPreview(){}return CameraPreview.startCamera=function(options){},CameraPreview.stopCamera=function(){},CameraPreview.takePicture=function(size){},CameraPreview.setOnPictureTakenHandler=function(){},CameraPreview.switchCamera=function(){},CameraPreview.show=function(){},CameraPreview.hide=function(){},CameraPreview.setColorEffect=function(effect){},CameraPreview.FlashMode={OFF:0,ON:1,AUTO:2},__decorate([plugin_1.Cordova({sync:!0})],CameraPreview,"startCamera",null),__decorate([plugin_1.Cordova({sync:!0})],CameraPreview,"stopCamera",null),__decorate([plugin_1.Cordova({sync:!0})],CameraPreview,"takePicture",null),__decorate([plugin_1.Cordova({observable:!0})],CameraPreview,"setOnPictureTakenHandler",null),__decorate([plugin_1.Cordova({sync:!0})],CameraPreview,"switchCamera",null),__decorate([plugin_1.Cordova({sync:!0})],CameraPreview,"show",null),__decorate([plugin_1.Cordova({sync:!0})],CameraPreview,"hide",null),__decorate([plugin_1.Cordova({sync:!0})],CameraPreview,"setColorEffect",null),CameraPreview=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-camera-preview",pluginRef:"cordova.plugins.camerapreview",repo:"https://github.com/cordova-plugin-camera-preview/cordova-plugin-camera-preview",platforms:["Android","iOS"]})],CameraPreview)}();exports.CameraPreview=CameraPreview},{"./plugin":598}],556:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Camera=function(){function Camera(){}return Camera.getPicture=function(options){},Camera.cleanup=function(){},Camera.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},Camera.EncodingType={JPEG:0,PNG:1},Camera.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},Camera.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},Camera.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},Camera.Direction={BACK:0,FRONT:1},__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],Camera,"getPicture",null),__decorate([plugin_1.Cordova({platforms:["iOS"]})],Camera,"cleanup",null),Camera=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-camera",pluginRef:"navigator.camera",repo:"https://github.com/apache/cordova-plugin-camera",platforms:["Android","BlackBerry","Browser","Firefox","FireOS","iOS","Windows","Windows Phone 8","Ubuntu"]})],Camera)}();exports.Camera=Camera},{"./plugin":598}],557:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),CardIO=function(){function CardIO(){}return CardIO.canScan=function(){},CardIO.scan=function(options){},CardIO.version=function(){},__decorate([plugin_1.Cordova()],CardIO,"canScan",null),__decorate([plugin_1.Cordova()],CardIO,"scan",null),__decorate([plugin_1.Cordova()],CardIO,"version",null),CardIO=__decorate([plugin_1.Plugin({plugin:"https://github.com/card-io/card.io-Cordova-Plugin",pluginRef:"CardIO",repo:"https://github.com/card-io/card.io-Cordova-Plugin",platforms:["iOS","Android"]})],CardIO)}();exports.CardIO=CardIO},{"./plugin":598}],558:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Clipboard=function(){function Clipboard(){}return Clipboard.copy=function(text){},Clipboard.paste=function(){},__decorate([plugin_1.Cordova()],Clipboard,"copy",null),__decorate([plugin_1.Cordova()],Clipboard,"paste",null),Clipboard=__decorate([plugin_1.Plugin({plugin:"https://github.com/VersoSolutions/CordovaClipboard.git",pluginRef:"cordova.plugins.clipboard",repo:"https://github.com/VersoSolutions/CordovaClipboard",platforms:["Amazon Fire OS","iOS","Android","BlackBerry 10","Windows Phone 7","Windows Phone 8","Windows","Firefox OS","Browser"]})],Clipboard)}();exports.Clipboard=Clipboard},{"./plugin":598}],559:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Contact=function(){function Contact(){this._objectInstance=navigator.contacts.create()}return Object.defineProperty(Contact.prototype,"id",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(Contact.prototype,"displayName",{
get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(Contact.prototype,"name",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(Contact.prototype,"nickname",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(Contact.prototype,"phoneNumbers",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(Contact.prototype,"emails",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(Contact.prototype,"addresses",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(Contact.prototype,"ims",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(Contact.prototype,"organizations",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(Contact.prototype,"birthday",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(Contact.prototype,"note",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(Contact.prototype,"photos",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(Contact.prototype,"categories",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(Contact.prototype,"urls",{get:function(){},enumerable:!0,configurable:!0}),Contact.prototype.clone=function(){var newContact=new Contact;for(var prop in this){if("id"===prop)return;newContact[prop]=this[prop]}return newContact},Contact.prototype.remove=function(){},Contact.prototype.save=function(){},__decorate([plugin_1.InstanceProperty],Contact.prototype,"id",null),__decorate([plugin_1.InstanceProperty],Contact.prototype,"displayName",null),__decorate([plugin_1.InstanceProperty],Contact.prototype,"name",null),__decorate([plugin_1.InstanceProperty],Contact.prototype,"nickname",null),__decorate([plugin_1.InstanceProperty],Contact.prototype,"phoneNumbers",null),__decorate([plugin_1.InstanceProperty],Contact.prototype,"emails",null),__decorate([plugin_1.InstanceProperty],Contact.prototype,"addresses",null),__decorate([plugin_1.InstanceProperty],Contact.prototype,"ims",null),__decorate([plugin_1.InstanceProperty],Contact.prototype,"organizations",null),__decorate([plugin_1.InstanceProperty],Contact.prototype,"birthday",null),__decorate([plugin_1.InstanceProperty],Contact.prototype,"note",null),__decorate([plugin_1.InstanceProperty],Contact.prototype,"photos",null),__decorate([plugin_1.InstanceProperty],Contact.prototype,"categories",null),__decorate([plugin_1.InstanceProperty],Contact.prototype,"urls",null),__decorate([plugin_1.CordovaInstance()],Contact.prototype,"remove",null),__decorate([plugin_1.CordovaInstance()],Contact.prototype,"save",null),Contact}();exports.Contact=Contact;var ContactName=function(){function ContactName(formatted,familyName,givenName,middleName,honorificPrefix,honorificSuffix){this._objectInstance=new window.ContactName(formatted,familyName,givenName,middleName,honorificPrefix,honorificSuffix)}return Object.defineProperty(ContactName.prototype,"formatted",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactName.prototype,"familyName",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactName.prototype,"givenName",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactName.prototype,"middleName",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactName.prototype,"honorificPrefix",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactName.prototype,"honorificSuffix",{get:function(){},enumerable:!0,configurable:!0}),__decorate([plugin_1.InstanceProperty],ContactName.prototype,"formatted",null),__decorate([plugin_1.InstanceProperty],ContactName.prototype,"familyName",null),__decorate([plugin_1.InstanceProperty],ContactName.prototype,"givenName",null),__decorate([plugin_1.InstanceProperty],ContactName.prototype,"middleName",null),__decorate([plugin_1.InstanceProperty],ContactName.prototype,"honorificPrefix",null),__decorate([plugin_1.InstanceProperty],ContactName.prototype,"honorificSuffix",null),ContactName}();exports.ContactName=ContactName;var ContactField=function(){function ContactField(type,value,pref){this._objectInstance=new window.ContactField(type,value,pref)}return Object.defineProperty(ContactField.prototype,"type",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactField.prototype,"value",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactField.prototype,"pref",{get:function(){},enumerable:!0,configurable:!0}),__decorate([plugin_1.InstanceProperty],ContactField.prototype,"type",null),__decorate([plugin_1.InstanceProperty],ContactField.prototype,"value",null),__decorate([plugin_1.InstanceProperty],ContactField.prototype,"pref",null),ContactField}();exports.ContactField=ContactField;var ContactAddress=function(){function ContactAddress(pref,type,formatted,streetAddress,locality,region,postalCode,country){this._objectInstance=new window.ContactAddress(pref,type,formatted,streetAddress,locality,region,postalCode,country)}return Object.defineProperty(ContactAddress.prototype,"pref",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactAddress.prototype,"type",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactAddress.prototype,"formatted",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactAddress.prototype,"streetAddress",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactAddress.prototype,"locality",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactAddress.prototype,"region",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactAddress.prototype,"postalCode",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactAddress.prototype,"country",{get:function(){},enumerable:!0,configurable:!0}),__decorate([plugin_1.InstanceProperty],ContactAddress.prototype,"pref",null),__decorate([plugin_1.InstanceProperty],ContactAddress.prototype,"type",null),__decorate([plugin_1.InstanceProperty],ContactAddress.prototype,"formatted",null),__decorate([plugin_1.InstanceProperty],ContactAddress.prototype,"streetAddress",null),__decorate([plugin_1.InstanceProperty],ContactAddress.prototype,"locality",null),__decorate([plugin_1.InstanceProperty],ContactAddress.prototype,"region",null),__decorate([plugin_1.InstanceProperty],ContactAddress.prototype,"postalCode",null),__decorate([plugin_1.InstanceProperty],ContactAddress.prototype,"country",null),ContactAddress}();exports.ContactAddress=ContactAddress;var ContactOrganization=function(){function ContactOrganization(){this._objectInstance=new window.ContactOrganization}return Object.defineProperty(ContactOrganization.prototype,"pref",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactOrganization.prototype,"type",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactOrganization.prototype,"name",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactOrganization.prototype,"department",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactOrganization.prototype,"title",{get:function(){},enumerable:!0,configurable:!0}),__decorate([plugin_1.InstanceProperty],ContactOrganization.prototype,"pref",null),__decorate([plugin_1.InstanceProperty],ContactOrganization.prototype,"type",null),__decorate([plugin_1.InstanceProperty],ContactOrganization.prototype,"name",null),__decorate([plugin_1.InstanceProperty],ContactOrganization.prototype,"department",null),__decorate([plugin_1.InstanceProperty],ContactOrganization.prototype,"title",null),ContactOrganization}();exports.ContactOrganization=ContactOrganization;var ContactFindOptions=function(){function ContactFindOptions(){this._objectInstance=new window.ContactFindOptions}return Object.defineProperty(ContactFindOptions.prototype,"filter",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactFindOptions.prototype,"multiple",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactFindOptions.prototype,"desiredFields",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(ContactFindOptions.prototype,"hasPhoneNumber",{get:function(){},enumerable:!0,configurable:!0}),__decorate([plugin_1.InstanceProperty],ContactFindOptions.prototype,"filter",null),__decorate([plugin_1.InstanceProperty],ContactFindOptions.prototype,"multiple",null),__decorate([plugin_1.InstanceProperty],ContactFindOptions.prototype,"desiredFields",null),__decorate([plugin_1.InstanceProperty],ContactFindOptions.prototype,"hasPhoneNumber",null),ContactFindOptions}();exports.ContactFindOptions=ContactFindOptions;var Contacts=function(){function Contacts(){}return Contacts.create=function(){return new Contact},Contacts.find=function(fields,options){},Contacts.pickContact=function(){},__decorate([plugin_1.Cordova({successIndex:1,errorIndex:2})],Contacts,"find",null),__decorate([plugin_1.Cordova()],Contacts,"pickContact",null),Contacts=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-contacts",pluginRef:"navigator.contacts",repo:"https://github.com/apache/cordova-plugin-contacts"})],Contacts)}();exports.Contacts=Contacts},{"./plugin":598}],560:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Crop=function(){function Crop(){}return Crop.crop=function(pathToImage,options){},__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],Crop,"crop",null),Crop=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-crop",pluginRef:"plugins",repo:"https://github.com/jeduan/cordova-plugin-crop"})],Crop)}();exports.Crop=Crop},{"./plugin":598}],561:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),DatePicker=function(){function DatePicker(){}return DatePicker.show=function(options){},__decorate([plugin_1.Cordova()],DatePicker,"show",null),DatePicker=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-datepicker",pluginRef:"datePicker",repo:"https://github.com/VitaliiBlagodir/cordova-plugin-datepicker"})],DatePicker)}();exports.DatePicker=DatePicker},{"./plugin":598}],562:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),DBMeter=function(){function DBMeter(){}return DBMeter.start=function(){},DBMeter.stop=function(){},DBMeter.isListening=function(){},DBMeter["delete"]=function(){},__decorate([plugin_1.Cordova({observable:!0,clearFunction:"stop"})],DBMeter,"start",null),__decorate([plugin_1.Cordova()],DBMeter,"stop",null),__decorate([plugin_1.Cordova()],DBMeter,"isListening",null),__decorate([plugin_1.Cordova()],DBMeter,"delete",null),DBMeter=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-dbmeter",pluginRef:"DBMeter",repo:"https://github.com/akofman/cordova-plugin-dbmeter",platforms:["iOS","Android"]})],DBMeter)}();exports.DBMeter=DBMeter},{"./plugin":598}],563:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Deeplinks=function(){function Deeplinks(){}return Deeplinks.route=function(paths){},Deeplinks.routeWithNavController=function(navController,paths){},__decorate([plugin_1.Cordova({observable:!0})],Deeplinks,"route",null),__decorate([plugin_1.Cordova({observable:!0})],Deeplinks,"routeWithNavController",null),Deeplinks=__decorate([plugin_1.Plugin({plugin:"ionic-plugin-deeplinks",pluginRef:"IonicDeeplink",repo:"https://github.com/driftyco/ionic-plugin-deeplinks",platforms:["iOS","Android"]})],Deeplinks)}();exports.Deeplinks=Deeplinks},{"./plugin":598}],564:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Device=function(){function Device(){}return Object.defineProperty(Device,"device",{get:function(){return window.device},enumerable:!0,configurable:!0}),__decorate([plugin_1.CordovaProperty],Device,"device",null),Device=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-device",pluginRef:"device",repo:"https://github.com/apache/cordova-plugin-device"})],Device)}();exports.Device=Device},{"./plugin":598}],565:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),DeviceAccounts=function(){function DeviceAccounts(){}return DeviceAccounts.get=function(){},DeviceAccounts.getByType=function(type){},DeviceAccounts.getEmails=function(){},DeviceAccounts.getEmail=function(){},__decorate([plugin_1.Cordova()],DeviceAccounts,"get",null),__decorate([plugin_1.Cordova()],DeviceAccounts,"getByType",null),__decorate([plugin_1.Cordova()],DeviceAccounts,"getEmails",null),__decorate([plugin_1.Cordova()],DeviceAccounts,"getEmail",null),DeviceAccounts=__decorate([plugin_1.Plugin({plugin:"https://github.com/loicknuchel/cordova-device-accounts.git",pluginRef:"plugins.DeviceAccounts",repo:"https://github.com/loicknuchel/cordova-device-accounts",platforms:["Android"]})],DeviceAccounts)}();exports.DeviceAccounts=DeviceAccounts},{"./plugin":598}],566:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),DeviceMotion=function(){function DeviceMotion(){}return DeviceMotion.getCurrentAcceleration=function(){},DeviceMotion.watchAcceleration=function(options){},__decorate([plugin_1.Cordova()],DeviceMotion,"getCurrentAcceleration",null),__decorate([plugin_1.Cordova({callbackOrder:"reverse",observable:!0,clearFunction:"clearWatch"})],DeviceMotion,"watchAcceleration",null),DeviceMotion=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-device-motion",pluginRef:"navigator.accelerometer",repo:"https://github.com/apache/cordova-plugin-device-motion"})],DeviceMotion)}();exports.DeviceMotion=DeviceMotion},{"./plugin":598}],567:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),DeviceOrientation=function(){function DeviceOrientation(){}return DeviceOrientation.getCurrentHeading=function(){},DeviceOrientation.watchHeading=function(options){},__decorate([plugin_1.Cordova()],DeviceOrientation,"getCurrentHeading",null),__decorate([plugin_1.Cordova({callbackOrder:"reverse",observable:!0,clearFunction:"clearWatch"})],DeviceOrientation,"watchHeading",null),DeviceOrientation=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-device-orientation",pluginRef:"navigator.compass",repo:"https://github.com/apache/cordova-plugin-device-orientation"})],DeviceOrientation)}();exports.DeviceOrientation=DeviceOrientation},{"./plugin":598}],568:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Diagnostic=function(){function Diagnostic(){}return Diagnostic.isLocationAvailable=function(){},Diagnostic.isWifiAvailable=function(){},Diagnostic.isCameraAvailable=function(){},Diagnostic.isBluetoothAvailable=function(){},Diagnostic.requestLocationAuthorization=function(mode){},Diagnostic.isLocationAuthorized=function(){},Diagnostic.isCameraPresent=function(){},Diagnostic.isCameraAuthorized=function(){},Diagnostic.isGpsLocationEnabled=function(){},Diagnostic.isNetworkLocationEnabled=function(){},Diagnostic.isRemoteNotificationsEnabled=function(){},Diagnostic.isRegisteredForRemoteNotifications=function(){},__decorate([plugin_1.Cordova()],Diagnostic,"isLocationAvailable",null),__decorate([plugin_1.Cordova()],Diagnostic,"isWifiAvailable",null),__decorate([plugin_1.Cordova()],Diagnostic,"isCameraAvailable",null),__decorate([plugin_1.Cordova()],Diagnostic,"isBluetoothAvailable",null),__decorate([plugin_1.Cordova()],Diagnostic,"requestLocationAuthorization",null),__decorate([plugin_1.Cordova()],Diagnostic,"isLocationAuthorized",null),__decorate([plugin_1.Cordova()],Diagnostic,"isCameraPresent",null),__decorate([plugin_1.Cordova()],Diagnostic,"isCameraAuthorized",null),__decorate([plugin_1.Cordova()],Diagnostic,"isGpsLocationEnabled",null),__decorate([plugin_1.Cordova()],Diagnostic,"isNetworkLocationEnabled",null),__decorate([plugin_1.Cordova()],Diagnostic,"isRemoteNotificationsEnabled",null),__decorate([plugin_1.Cordova()],Diagnostic,"isRegisteredForRemoteNotifications",null),Diagnostic=__decorate([plugin_1.Plugin({plugin:"cordova.plugins.diagnostic",pluginRef:"cordova.plugins.diagnostic",repo:"https://github.com/dpa99c/cordova-diagnostic-plugin"})],Diagnostic)}();exports.Diagnostic=Diagnostic},{"./plugin":598}],569:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Dialogs=function(){function Dialogs(){}return Dialogs.alert=function(message,title,buttonName){void 0===title&&(title="Alert"),void 0===buttonName&&(buttonName="OK")},Dialogs.confirm=function(message,title,buttonLabels){void 0===title&&(title="Confirm"),void 0===buttonLabels&&(buttonLabels=["OK","Cancel"])},Dialogs.prompt=function(message,title,buttonLabels,defaultText){void 0===title&&(title="Prompt"),void 0===buttonLabels&&(buttonLabels=["OK","Cancel"]),void 0===defaultText&&(defaultText="")},Dialogs.beep=function(times){},__decorate([plugin_1.Cordova({successIndex:1,errorIndex:4})],Dialogs,"alert",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:4})],Dialogs,"confirm",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:5})],Dialogs,"prompt",null),__decorate([plugin_1.Cordova({sync:!0})],Dialogs,"beep",null),Dialogs=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-dialogs",pluginRef:"navigator.notification",repo:"https://github.com/apache/cordova-plugin-dialogs.git"})],Dialogs)}();exports.Dialogs=Dialogs},{"./plugin":598}],570:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),EmailComposer=function(){function EmailComposer(){}return EmailComposer.isAvailable=function(app){return new Promise(function(resolve,reject){app?cordova.plugins.email.isAvailable(app,function(isAvailable){isAvailable?resolve():reject()}):cordova.plugins.email.isAvailable(function(isAvailable){isAvailable?resolve():reject()})})},EmailComposer.addAlias=function(alias,packageName){},EmailComposer.open=function(email,scope){},__decorate([plugin_1.Cordova()],EmailComposer,"addAlias",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:3})],EmailComposer,"open",null),EmailComposer=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-email-composer",pluginRef:"cordova.plugins.email",repo:"https://github.com/katzer/cordova-plugin-email-composer.git",platforms:["Android","iOS","Windows Phone 8"]})],EmailComposer)}();exports.EmailComposer=EmailComposer},{"./plugin":598}],571:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Facebook=function(){function Facebook(){}return Facebook.browserInit=function(appId,version){},Facebook.login=function(permissions){},Facebook.logout=function(){},Facebook.getLoginStatus=function(){},Facebook.getAccessToken=function(){},Facebook.showDialog=function(options){},Facebook.api=function(requestPath,permissions){},Facebook.logEvent=function(name,params,valueToSum){},Facebook.logPurchase=function(value,currency){},Facebook.appInvite=function(options){},__decorate([plugin_1.Cordova()],Facebook,"browserInit",null),__decorate([plugin_1.Cordova()],Facebook,"login",null),__decorate([plugin_1.Cordova()],Facebook,"logout",null),__decorate([plugin_1.Cordova()],Facebook,"getLoginStatus",null),__decorate([plugin_1.Cordova()],Facebook,"getAccessToken",null),__decorate([plugin_1.Cordova()],Facebook,"showDialog",null),__decorate([plugin_1.Cordova()],Facebook,"api",null),__decorate([plugin_1.Cordova()],Facebook,"logEvent",null),__decorate([plugin_1.Cordova()],Facebook,"logPurchase",null),__decorate([plugin_1.Cordova()],Facebook,"appInvite",null),Facebook=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-facebook4",pluginRef:"facebookConnectPlugin",repo:"https://github.com/jeduan/cordova-plugin-facebook4",install:'cordova plugin add cordova-plugin-facebook4 --variable APP_ID="123456789" --variable APP_NAME="myApplication"'})],Facebook)}();exports.Facebook=Facebook},{"./plugin":598}],572:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),File=function(){function File(){}return File.getFreeDiskSpace=function(){},File.checkDir=function(path,dir){if(/^\//.test(dir)){var err=new FileError(5);return err.message="directory cannot start with /",Promise.reject(err)}var fullpath=path+dir;return File.resolveDirectoryUrl(fullpath).then(function(){return!0})},File.createDir=function(path,dirName,replace){if(/^\//.test(dirName)){var err=new FileError(5);return err.message="directory cannot start with /",Promise.reject(err)}var options={create:!0};return replace&&(options.exclusive=!0),File.resolveDirectoryUrl(path).then(function(fse){return File.getDirectory(fse,dirName,options)})},File.removeDir=function(path,dirName){if(/^\//.test(dirName)){var err=new FileError(5);return err.message="directory cannot start with /",Promise.reject(err)}return File.resolveDirectoryUrl(path).then(function(fse){return File.getDirectory(fse,dirName,{create:!1})}).then(function(de){return File.remove(de)})},File.moveDir=function(path,dirName,newPath,newDirName){var _this=this;if(newDirName=newDirName||dirName,/^\//.test(newDirName)){var err=new FileError(5);return err.message="directory cannot start with /",Promise.reject(err)}return this.resolveDirectoryUrl(path).then(function(fse){return _this.getDirectory(fse,dirName,{create:!1})}).then(function(srcde){return _this.resolveDirectoryUrl(newPath).then(function(deste){return File.move(srcde,deste,newDirName)})})},File.copyDir=function(path,dirName,newPath,newDirName){var _this=this;if(/^\//.test(newDirName)){var err=new FileError(5);return err.message="directory cannot start with /",Promise.reject(err)}return this.resolveDirectoryUrl(path).then(function(fse){return _this.getDirectory(fse,dirName,{create:!1})}).then(function(srcde){return _this.resolveDirectoryUrl(newPath).then(function(deste){return File.copy(srcde,deste,newDirName)})})},File.listDir=function(path,dirName){if(/^\//.test(dirName)){var err=new FileError(5);return err.message="directory cannot start with /",Promise.reject(err)}return File.resolveDirectoryUrl(path).then(function(fse){return File.getDirectory(fse,dirName,{create:!1,exclusive:!1})}).then(function(de){var reader=de.createReader();return File.readEntries(reader)})},File.removeRecursively=function(path,dirName){if(/^\//.test(dirName)){var err=new FileError(5);return err.message="directory cannot start with /",Promise.reject(err)}return File.resolveDirectoryUrl(path).then(function(fse){return File.getDirectory(fse,dirName,{create:!1})}).then(function(de){return File.rimraf(de)})},File.checkFile=function(path,file){if(/^\//.test(file)){var err=new FileError(5);return err.message="file cannot start with /",Promise.reject(err)}return File.resolveLocalFilesystemUrl(path+file).then(function(fse){if(fse.isFile)return!0;var err=new FileError(13);return err.message="input is not a file",Promise.reject(err)})},File.createFile=function(path,fileName,replace){if(/^\//.test(fileName)){var err=new FileError(5);return err.message="file-name cannot start with /",Promise.reject(err)}var options={create:!0};return replace&&(options.exclusive=!0),File.resolveDirectoryUrl(path).then(function(fse){return File.getFile(fse,fileName,options)})},File.removeFile=function(path,fileName){if(/^\//.test(fileName)){var err=new FileError(5);return err.message="file-name cannot start with /",Promise.reject(err)}return File.resolveDirectoryUrl(path).then(function(fse){return File.getFile(fse,fileName,{create:!1})}).then(function(fe){return File.remove(fe)})},File.writeFile=function(path,fileName,text,replaceOrOptions){if(/^\//.test(fileName)){var err=new FileError(5);return err.message="file-name cannot start with /",Promise.reject(err)}var opts;replaceOrOptions&&"boolean"==typeof replaceOrOptions&&(opts.replace=replaceOrOptions);return File.resolveDirectoryUrl(path).then(function(fse){return File.getFile(fse,fileName,opts)}).then(function(fe){return File.createWriter(fe)}).then(function(writer){return opts.append&&writer.seek(writer.length),opts.hasOwnProperty("truncate")&&writer.truncate(opts.truncate),File.write(writer,text)})},File.writeExistingFile=function(path,fileName,text){if(/^\//.test(fileName)){var err=new FileError(5);return err.message="file-name cannot start with /",Promise.reject(err)}return File.resolveDirectoryUrl(path).then(function(fse){return File.getFile(fse,fileName,{create:!1})}).then(function(fe){return File.createWriter(fe)}).then(function(writer){return File.write(writer,text)})},File.readAsText=function(path,file){if(/^\//.test(file)){var err=new FileError(5);return err.message="file-name cannot start with /",Promise.reject(err)}return File.resolveDirectoryUrl(path).then(function(fse){return File.getFile(fse,file,{create:!1})}).then(function(fe){var reader=new FileReader;return new Promise(function(resolve,reject){reader.onloadend=function(){void 0!==reader.result||null!==reader.result?resolve(reader.result):reject(void 0!==reader.error||null!==reader.error?reader.error:{code:null,message:"READER_ONLOADEND_ERR"})},reader.readAsText(fe)})})},File.readAsDataURL=function(path,file){if(/^\//.test(file)){var err=new FileError(5);return err.message="file-name cannot start with /",Promise.reject(err)}return File.resolveDirectoryUrl(path).then(function(fse){return File.getFile(fse,file,{create:!1})}).then(function(fe){var reader=new FileReader;return new Promise(function(resolve,reject){reader.onloadend=function(){void 0!==reader.result||null!==reader.result?resolve(reader.result):reject(void 0!==reader.error||null!==reader.error?reader.error:{code:null,message:"READER_ONLOADEND_ERR"})},reader.readAsDataURL(fe)})})},File.readAsBinaryString=function(path,file){if(/^\//.test(file)){var err=new FileError(5);return err.message="file-name cannot start with /",Promise.reject(err)}return File.resolveDirectoryUrl(path).then(function(fse){return File.getFile(fse,file,{create:!1})}).then(function(fe){var reader=new FileReader;return new Promise(function(resolve,reject){reader.onloadend=function(){void 0!==reader.result||null!==reader.result?resolve(reader.result):reject(void 0!==reader.error||null!==reader.error?reader.error:{code:null,message:"READER_ONLOADEND_ERR"});
},reader.readAsBinaryString(fe)})})},File.readAsArrayBuffer=function(path,file){if(/^\//.test(file)){var err=new FileError(5);return err.message="file-name cannot start with /",Promise.reject(err)}return File.resolveDirectoryUrl(path).then(function(fse){return File.getFile(fse,file,{create:!1})}).then(function(fe){var reader=new FileReader;return new Promise(function(resolve,reject){reader.onloadend=function(){void 0!==reader.result||null!==reader.result?resolve(reader.result):reject(void 0!==reader.error||null!==reader.error?reader.error:{code:null,message:"READER_ONLOADEND_ERR"})},reader.readAsArrayBuffer(fe)})})},File.moveFile=function(path,fileName,newPath,newFileName){var _this=this;if(newFileName=newFileName||fileName,/^\//.test(newFileName)){var err=new FileError(5);return err.message="file name cannot start with /",Promise.reject(err)}return this.resolveDirectoryUrl(path).then(function(fse){return _this.getFile(fse,fileName,{create:!1})}).then(function(srcfe){return _this.resolveDirectoryUrl(newPath).then(function(deste){return File.move(srcfe,deste,newFileName)})})},File.copyFile=function(path,fileName,newPath,newFileName){var _this=this;if(newFileName=newFileName||fileName,/^\//.test(newFileName)){var err=new FileError(5);return err.message="file name cannot start with /",Promise.reject(err)}return this.resolveDirectoryUrl(path).then(function(fse){return _this.getFile(fse,fileName,{create:!1})}).then(function(srcfe){return _this.resolveDirectoryUrl(newPath).then(function(deste){return File.copy(srcfe,deste,newFileName)})})},File.fillErrorMessage=function(err){err.message=File.cordovaFileError[err.code]},File.resolveLocalFilesystemUrl=function(furl){return new Promise(function(resolve,reject){try{window.resolveLocalFileSystemURL(furl,function(entry){resolve(entry)},function(err){File.fillErrorMessage(err),reject(err)})}catch(xc){File.fillErrorMessage(xc),reject(xc)}})},File.resolveDirectoryUrl=function(durl){return File.resolveLocalFilesystemUrl(durl).then(function(de){if(de.isDirectory)return de;var err=new FileError(13);return err.message="input is not a directory",Promise.reject(err)})},File.getDirectory=function(fse,dn,flags){return new Promise(function(resolve,reject){try{fse.getDirectory(dn,flags,function(de){resolve(de)},function(err){File.fillErrorMessage(err),reject(err)})}catch(xc){File.fillErrorMessage(xc),reject(xc)}})},File.getFile=function(fse,fn,flags){return new Promise(function(resolve,reject){try{fse.getFile(fn,flags,function(fe){resolve(fe)},function(err){File.fillErrorMessage(err),reject(err)})}catch(xc){File.fillErrorMessage(xc),reject(xc)}})},File.remove=function(fe){return new Promise(function(resolve,reject){fe.remove(function(){resolve({success:!0,fileRemoved:fe})},function(err){File.fillErrorMessage(err),reject(err)})})},File.move=function(srce,destdir,newName){return new Promise(function(resolve,reject){srce.moveTo(destdir,newName,function(deste){resolve(deste)},function(err){File.fillErrorMessage(err),reject(err)})})},File.copy=function(srce,destdir,newName){return new Promise(function(resolve,reject){srce.copyTo(destdir,newName,function(deste){resolve(deste)},function(err){File.fillErrorMessage(err),reject(err)})})},File.readEntries=function(dr){return new Promise(function(resolve,reject){dr.readEntries(function(entries){resolve(entries)},function(err){File.fillErrorMessage(err),reject(err)})})},File.rimraf=function(de){return new Promise(function(resolve,reject){de.removeRecursively(function(){resolve({success:!0,fileRemoved:de})},function(err){File.fillErrorMessage(err),reject(err)})})},File.createWriter=function(fe){return new Promise(function(resolve,reject){fe.createWriter(function(writer){resolve(writer)},function(err){File.fillErrorMessage(err),reject(err)})})},File.write=function(writer,gu){return new Promise(function(resolve,reject){writer.onwriteend=function(evt){writer.error?reject(writer.error):resolve()},writer.write(gu)})},File.cordovaFileError={1:"NOT_FOUND_ERR",2:"SECURITY_ERR",3:"ABORT_ERR",4:"NOT_READABLE_ERR",5:"ENCODING_ERR",6:"NO_MODIFICATION_ALLOWED_ERR",7:"INVALID_STATE_ERR",8:"SYNTAX_ERR",9:"INVALID_MODIFICATION_ERR",10:"QUOTA_EXCEEDED_ERR",11:"TYPE_MISMATCH_ERR",12:"PATH_EXISTS_ERR",13:"WRONG_ENTRY_TYPE",14:"DIR_READ_ERR"},__decorate([plugin_1.Cordova()],File,"getFreeDiskSpace",null),File=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-file",pluginRef:"cordova.file",repo:"https://github.com/apache/cordova-plugin-file"})],File)}();exports.File=File},{"./plugin":598}],573:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Transfer=function(){function Transfer(){this._objectInstance=new FileTransfer}return Transfer.prototype.upload=function(fileUrl,url,options,trustAllHosts){},Transfer.prototype.download=function(source,target,trustAllHosts,options){},Transfer.prototype.onProgress=function(listener){this._objectInstance.onprogress=listener},Transfer.prototype.abort=function(){},Transfer.FileTransferErrorCode={FILE_NOT_FOUND_ERR:1,INVALID_URL_ERR:2,CONNECTION_ERR:3,ABORT_ERR:4,NOT_MODIFIED_ERR:5},__decorate([plugin_1.CordovaInstance({successIndex:2,errorIndex:3})],Transfer.prototype,"upload",null),__decorate([plugin_1.CordovaInstance({successIndex:2,errorIndex:3})],Transfer.prototype,"download",null),__decorate([plugin_1.CordovaInstance({sync:!0})],Transfer.prototype,"abort",null),Transfer=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-file-transfer",pluginRef:"FileTransfer",repo:"https://github.com/apache/cordova-plugin-file-transfer"})],Transfer)}();exports.Transfer=Transfer},{"./plugin":598}],574:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Flashlight=function(){function Flashlight(){}return Flashlight.available=function(){},Flashlight.switchOn=function(){},Flashlight.switchOff=function(){},Flashlight.toggle=function(){},Flashlight.isSwitchedOn=function(){},__decorate([plugin_1.Cordova()],Flashlight,"available",null),__decorate([plugin_1.Cordova()],Flashlight,"switchOn",null),__decorate([plugin_1.Cordova()],Flashlight,"switchOff",null),__decorate([plugin_1.Cordova()],Flashlight,"toggle",null),__decorate([plugin_1.Cordova({sync:!0})],Flashlight,"isSwitchedOn",null),Flashlight=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-flashlight",pluginRef:"window.plugins.flashlight",repo:"https://github.com/EddyVerbruggen/Flashlight-PhoneGap-Plugin.git"})],Flashlight)}();exports.Flashlight=Flashlight},{"./plugin":598}],575:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Observable_1=require("rxjs/Observable"),Geolocation=function(){function Geolocation(){}return Geolocation.getCurrentPosition=function(options){},Geolocation.watchPosition=function(options){return new Observable_1.Observable(function(observer){var watchId=navigator.geolocation.watchPosition(observer.next.bind(observer),observer.error.bind(observer),options);return function(){return navigator.geolocation.clearWatch(watchId)}})},__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],Geolocation,"getCurrentPosition",null),Geolocation=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-geolocation",pluginRef:"navigator.geolocation",repo:"https://github.com/apache/cordova-plugin-geolocation"})],Geolocation)}();exports.Geolocation=Geolocation},{"./plugin":598,"rxjs/Observable":629}],576:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Globalization=function(){function Globalization(){}return Globalization.getPreferredLanguage=function(){},Globalization.getLocaleName=function(){},Globalization.dateToString=function(date,options){},Globalization.stringToDate=function(dateString,options){},Globalization.getDatePattern=function(options){},Globalization.getDateNames=function(options){},Globalization.isDayLightSavingsTime=function(date){},Globalization.getFirstDayOfWeek=function(){},Globalization.numberToString=function(options){},Globalization.stringToNumber=function(stringToConvert,options){},Globalization.getNumberPattern=function(options){},Globalization.getCurrencyPattern=function(currencyCode){},__decorate([plugin_1.Cordova()],Globalization,"getPreferredLanguage",null),__decorate([plugin_1.Cordova()],Globalization,"getLocaleName",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:2})],Globalization,"dateToString",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:2})],Globalization,"stringToDate",null),__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],Globalization,"getDatePattern",null),__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],Globalization,"getDateNames",null),__decorate([plugin_1.Cordova()],Globalization,"isDayLightSavingsTime",null),__decorate([plugin_1.Cordova()],Globalization,"getFirstDayOfWeek",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:2})],Globalization,"numberToString",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:2})],Globalization,"stringToNumber",null),__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],Globalization,"getNumberPattern",null),__decorate([plugin_1.Cordova()],Globalization,"getCurrencyPattern",null),Globalization=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-globalization",pluginRef:"navigator.globalization",repo:"https://github.com/apache/cordova-plugin-globalization"})],Globalization)}();exports.Globalization=Globalization},{"./plugin":598}],577:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),GooglePlus=function(){function GooglePlus(){}return GooglePlus.login=function(options){},GooglePlus.trySilentLogin=function(options){},GooglePlus.logout=function(){},GooglePlus.disconnect=function(){},__decorate([plugin_1.Cordova()],GooglePlus,"login",null),__decorate([plugin_1.Cordova()],GooglePlus,"trySilentLogin",null),__decorate([plugin_1.Cordova()],GooglePlus,"logout",null),__decorate([plugin_1.Cordova()],GooglePlus,"disconnect",null),GooglePlus=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-googleplus",pluginRef:"window.plugins.googleplus",repo:"https://github.com/EddyVerbruggen/cordova-plugin-googleplus",platforms:["Web","Android","iOS"],install:"ionic plugin add cordova-plugin-googleplus --variable REVERSED_CLIENT_ID=myreversedclientid"})],GooglePlus)}();exports.GooglePlus=GooglePlus},{"./plugin":598}],578:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),GoogleAnalytics=function(){function GoogleAnalytics(){}return GoogleAnalytics.startTrackerWithId=function(id){},GoogleAnalytics.trackView=function(title,campaignUrl){},GoogleAnalytics.trackEvent=function(category,action,label,value){},GoogleAnalytics.trackException=function(description,fatal){},GoogleAnalytics.trackTiming=function(category,intervalInMilliseconds,variable,label){},GoogleAnalytics.addTransaction=function(id,affiliation,revenue,tax,shipping,currencyCode){},GoogleAnalytics.addTransactionItem=function(id,name,sku,category,price,quantity,currencyCode){},GoogleAnalytics.addCustomDimension=function(key,value){},GoogleAnalytics.setUserId=function(id){},GoogleAnalytics.setAppVersion=function(appVersion){},GoogleAnalytics.setAnonymizeIp=function(anonymize){},GoogleAnalytics.setAllowIDFACollection=function(allow){},GoogleAnalytics.debugMode=function(){},GoogleAnalytics.enableUncaughtExceptionReporting=function(shouldEnable){},__decorate([plugin_1.Cordova()],GoogleAnalytics,"startTrackerWithId",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"trackView",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"trackEvent",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"trackException",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"trackTiming",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"addTransaction",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"addTransactionItem",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"addCustomDimension",null),__decorate([plugin_1.Cordova({sync:!0})],GoogleAnalytics,"setUserId",null),__decorate([plugin_1.Cordova({sync:!0})],GoogleAnalytics,"setAppVersion",null),__decorate([plugin_1.Cordova({sync:!0})],GoogleAnalytics,"setAnonymizeIp",null),__decorate([plugin_1.Cordova({sync:!0})],GoogleAnalytics,"setAllowIDFACollection",null),__decorate([plugin_1.Cordova({sync:!0})],GoogleAnalytics,"debugMode",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"enableUncaughtExceptionReporting",null),GoogleAnalytics=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-google-analytics",pluginRef:"analytics",repo:"https://github.com/danwilson/google-analytics-plugin",platforms:["Android","iOS"]})],GoogleAnalytics)}();exports.GoogleAnalytics=GoogleAnalytics},{"./plugin":598}],579:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Observable_1=require("rxjs/Observable");exports.GoogleMapsEvent={MAP_CLICK:"click",MAP_LONG_CLICK:"long_click",MY_LOCATION_CHANGE:"my_location_change",MY_LOCATION_BUTTON_CLICK:"my_location_button_click",INDOOR_BUILDING_FOCUSED:"indoor_building_focused",INDOOR_LEVEL_ACTIVATED:"indoor_level_activated",CAMERA_CHANGE:"camera_change",CAMERA_IDLE:"camera_idle",MAP_READY:"map_ready",MAP_LOADED:"map_loaded",MAP_WILL_MOVE:"will_move",MAP_CLOSE:"map_close",MARKER_CLICK:"click",OVERLAY_CLICK:"overlay_click",INFO_CLICK:"info_click",MARKER_DRAG:"drag",MARKER_DRAG_START:"drag_start",MARKER_DRAG_END:"drag_end"},exports.GoogleMapsAnimation={BOUNCE:"BOUNCE",DROP:"DROP"};var GoogleMap=function(){function GoogleMap(elementId,options){this._objectInstance=plugin.google.maps.Map.getMap(document.getElementById(elementId),options)}return GoogleMap.isAvailable=function(){},GoogleMap.prototype.on=function(event){var _this=this;return new Observable_1.Observable(function(observer){return _this._objectInstance.on(event,observer.next.bind(observer)),function(){return _this._objectInstance.off(event)}})},GoogleMap.prototype.one=function(event){var _this=this;return new Promise(function(resolve){return _this._objectInstance.one(event,resolve)})},GoogleMap.prototype.setDebuggable=function(isDebuggable){},GoogleMap.prototype.setClickable=function(isClickable){},GoogleMap.prototype.getCameraPosition=function(){},GoogleMap.prototype.getMyLocation=function(options){},GoogleMap.prototype.getVisibleRegion=function(){},GoogleMap.prototype.showDialog=function(){},GoogleMap.prototype.closeDialog=function(){},GoogleMap.prototype.getLicenseInfo=function(){},GoogleMap.prototype.setCenter=function(latLng){},GoogleMap.prototype.setZoom=function(zoomLevel){},GoogleMap.prototype.setMapTypeId=function(typeId){},GoogleMap.prototype.setTilt=function(tiltLevel){},GoogleMap.prototype.animateCamera=function(animateCameraOptions){},GoogleMap.prototype.moveCamera=function(cameraPosition){},GoogleMap.prototype.setMyLocationEnabled=function(enabled){},GoogleMap.prototype.setIndoorEnabled=function(enabled){},GoogleMap.prototype.setTrafficEnabled=function(enabled){},GoogleMap.prototype.setCompassEnabled=function(enabled){},GoogleMap.prototype.setAllGesturesEnabled=function(enabled){},GoogleMap.prototype.addMarker=function(options){var _this=this;return new Promise(function(resolve,reject){_this._objectInstance.addMarker(options,function(marker){marker?resolve(new GoogleMapsMarker(marker)):reject()})})},GoogleMap.prototype.addCircle=function(options){var _this=this;return new Promise(function(resolve,reject){_this._objectInstance.addCircle(options,function(circle){circle?resolve(new GoogleMapsCircle(circle)):reject()})})},GoogleMap.prototype.addPolygon=function(options){var _this=this;return new Promise(function(resolve,reject){_this._objectInstance.addPolygon(options,function(polygon){polygon?resolve(new GoogleMapsPolygon(polygon)):reject()})})},GoogleMap.prototype.addPolyline=function(options){var _this=this;return new Promise(function(resolve,reject){_this._objectInstance.addPolyline(options,function(polyline){polyline?resolve(new GoogleMapsPolyline(polyline)):reject()})})},GoogleMap.prototype.addTileOverlay=function(options){var _this=this;return new Promise(function(resolve,reject){_this._objectInstance.addTileOverlay(options,function(tileOverlay){tileOverlay?resolve(new GoogleMapsTileOverlay(tileOverlay)):reject()})})},GoogleMap.prototype.addGroundOverlay=function(options){var _this=this;return new Promise(function(resolve,reject){_this._objectInstance.addGroundOverlay(options,function(groundOverlay){groundOverlay?resolve(new GoogleMapsGroundOverlay(groundOverlay)):reject()})})},GoogleMap.prototype.addKmlOverlay=function(options){var _this=this;return new Promise(function(resolve,reject){_this._objectInstance.addKmlOverlay(options,function(kmlOverlay){kmlOverlay?resolve(new GoogleMapsKmlOverlay(kmlOverlay)):reject()})})},GoogleMap.prototype.setDiv=function(domNode){},GoogleMap.prototype.setVisible=function(visible){},GoogleMap.prototype.setOptions=function(options){},GoogleMap.prototype.setBackgroundColor=function(backgroundColor){},GoogleMap.prototype.setPadding=function(top,right,bottom,left){},GoogleMap.prototype.clear=function(){},GoogleMap.prototype.refreshLayout=function(){},GoogleMap.prototype.fromLatLngToPoint=function(latLng,point){},GoogleMap.prototype.fromPointToLatLng=function(point,latLng){},GoogleMap.prototype.toDataURL=function(){},GoogleMap.prototype.remove=function(){},GoogleMap.prototype.panBy=function(){},__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setDebuggable",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setClickable",null),__decorate([plugin_1.CordovaInstance()],GoogleMap.prototype,"getCameraPosition",null),__decorate([plugin_1.CordovaInstance()],GoogleMap.prototype,"getMyLocation",null),__decorate([plugin_1.CordovaInstance()],GoogleMap.prototype,"getVisibleRegion",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"showDialog",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"closeDialog",null),__decorate([plugin_1.CordovaInstance()],GoogleMap.prototype,"getLicenseInfo",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setCenter",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setZoom",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setMapTypeId",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setTilt",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"animateCamera",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"moveCamera",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setMyLocationEnabled",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setIndoorEnabled",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setTrafficEnabled",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setCompassEnabled",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setAllGesturesEnabled",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setDiv",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setVisible",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setOptions",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setBackgroundColor",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"setPadding",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"clear",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"refreshLayout",null),__decorate([plugin_1.CordovaInstance()],GoogleMap.prototype,"fromLatLngToPoint",null),__decorate([plugin_1.CordovaInstance()],GoogleMap.prototype,"fromPointToLatLng",null),__decorate([plugin_1.CordovaInstance()],GoogleMap.prototype,"toDataURL",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"remove",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMap.prototype,"panBy",null),__decorate([plugin_1.Cordova()],GoogleMap,"isAvailable",null),GoogleMap=__decorate([plugin_1.Plugin({pluginRef:"plugin.google.maps.Map",plugin:"cordova-plugin-googlemaps",repo:"https://github.com/mapsplugin/cordova-plugin-googlemaps"})],GoogleMap)}();exports.GoogleMap=GoogleMap;var GoogleMapsMarker=function(){function GoogleMapsMarker(_objectInstance){this._objectInstance=_objectInstance}return GoogleMapsMarker.prototype.addEventListener=function(event){var _this=this;return new Observable_1.Observable(function(observer){return _this._objectInstance.addEventListener(event,observer.next.bind(observer)),function(){return _this._objectInstance.removeEventListener(event,observer.next.bind(observer))}})},GoogleMapsMarker.prototype.isVisible=function(){},GoogleMapsMarker.prototype.setVisible=function(visible){},GoogleMapsMarker.prototype.getHashCode=function(){},GoogleMapsMarker.prototype.remove=function(){},GoogleMapsMarker.prototype.setOpacity=function(alpha){},GoogleMapsMarker.prototype.getOpacity=function(){},GoogleMapsMarker.prototype.setZIndex=function(){},GoogleMapsMarker.prototype.setIconAnchor=function(x,y){},GoogleMapsMarker.prototype.setInfoWindowAnchor=function(x,y){},GoogleMapsMarker.prototype.setDraggable=function(draggable){},GoogleMapsMarker.prototype.isDraggable=function(){},GoogleMapsMarker.prototype.setFlat=function(flat){},GoogleMapsMarker.prototype.setIcon=function(icon){},GoogleMapsMarker.prototype.setTitle=function(title){},GoogleMapsMarker.prototype.getTitle=function(){},GoogleMapsMarker.prototype.setSnippet=function(snippet){},GoogleMapsMarker.prototype.getSnippet=function(){},GoogleMapsMarker.prototype.setRotation=function(rotation){},GoogleMapsMarker.prototype.getRotation=function(){},GoogleMapsMarker.prototype.showInfoWindow=function(){},GoogleMapsMarker.prototype.hideInfoWindow=function(){},GoogleMapsMarker.prototype.setPosition=function(latLng){},GoogleMapsMarker.prototype.getPosition=function(){},GoogleMapsMarker.prototype.getMap=function(){},GoogleMapsMarker.prototype.setAnimation=function(animation){},__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"isVisible",null),__decorate([plugin_1.CordovaInstance()],GoogleMapsMarker.prototype,"setVisible",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"getHashCode",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"remove",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"setOpacity",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"getOpacity",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"setZIndex",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"setIconAnchor",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"setInfoWindowAnchor",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"setDraggable",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"isDraggable",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"setFlat",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"setIcon",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"setTitle",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"getTitle",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"setSnippet",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"getSnippet",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"setRotation",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"getRotation",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"showInfoWindow",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"hideInfoWindow",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"setPosition",null),__decorate([plugin_1.CordovaInstance()],GoogleMapsMarker.prototype,"getPosition",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"getMap",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsMarker.prototype,"setAnimation",null),GoogleMapsMarker}();exports.GoogleMapsMarker=GoogleMapsMarker;var GoogleMapsCircle=function(){function GoogleMapsCircle(_objectInstance){this._objectInstance=_objectInstance}return GoogleMapsCircle.prototype.addEventListener=function(event){var _this=this;return new Observable_1.Observable(function(observer){return _this._objectInstance.addEventListener(event,observer.next.bind(observer)),function(){return _this._objectInstance.removeEventListener(event,observer.next.bind(observer))}})},GoogleMapsCircle.prototype.getCenter=function(){},GoogleMapsCircle.prototype.getRadius=function(){},GoogleMapsCircle.prototype.getStrokeColor=function(){},GoogleMapsCircle.prototype.getVisible=function(){},GoogleMapsCircle.prototype.getZIndex=function(){},GoogleMapsCircle.prototype.remove=function(){},GoogleMapsCircle.prototype.setCenter=function(latLng){},GoogleMapsCircle.prototype.setFillColor=function(fillColor){},GoogleMapsCircle.prototype.setStrokeColor=function(strokeColor){},GoogleMapsCircle.prototype.setStrokeWidth=function(strokeWidth){},GoogleMapsCircle.prototype.setVisible=function(visible){},GoogleMapsCircle.prototype.setZIndex=function(zIndex){},GoogleMapsCircle.prototype.setRadius=function(radius){},GoogleMapsCircle.prototype.getMap=function(){},__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsCircle.prototype,"getCenter",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsCircle.prototype,"getRadius",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsCircle.prototype,"getStrokeColor",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsCircle.prototype,"getVisible",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsCircle.prototype,"getZIndex",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsCircle.prototype,"remove",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsCircle.prototype,"setCenter",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsCircle.prototype,"setFillColor",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsCircle.prototype,"setStrokeColor",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsCircle.prototype,"setStrokeWidth",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsCircle.prototype,"setVisible",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsCircle.prototype,"setZIndex",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsCircle.prototype,"setRadius",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsCircle.prototype,"getMap",null),GoogleMapsCircle}();exports.GoogleMapsCircle=GoogleMapsCircle;var GoogleMapsPolyline=function(){function GoogleMapsPolyline(_objectInstance){this._objectInstance=_objectInstance}return GoogleMapsPolyline.prototype.addEventListener=function(event){var _this=this;return new Observable_1.Observable(function(observer){return _this._objectInstance.addEventListener(event,observer.next.bind(observer)),function(){return _this._objectInstance.removeEventListener(event,observer.next.bind(observer))}})},GoogleMapsPolyline.prototype.getPoints=function(){},GoogleMapsPolyline.prototype.getCOlor=function(){},GoogleMapsPolyline.prototype.getWidth=function(){},GoogleMapsPolyline.prototype.getGeodesic=function(){},GoogleMapsPolyline.prototype.getZIndex=function(){},GoogleMapsPolyline.prototype.remove=function(){},GoogleMapsPolyline.prototype.setPoints=function(points){},GoogleMapsPolyline.prototype.setColor=function(color){},GoogleMapsPolyline.prototype.setWidth=function(width){},GoogleMapsPolyline.prototype.setVisible=function(visible){},GoogleMapsPolyline.prototype.setZIndex=function(zIndex){},GoogleMapsPolyline.prototype.setGeoDesic=function(geoDesic){},GoogleMapsPolyline.prototype.getMap=function(){},__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolyline.prototype,"getPoints",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolyline.prototype,"getCOlor",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolyline.prototype,"getWidth",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolyline.prototype,"getGeodesic",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolyline.prototype,"getZIndex",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolyline.prototype,"remove",null),
__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolyline.prototype,"setPoints",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolyline.prototype,"setColor",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolyline.prototype,"setWidth",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolyline.prototype,"setVisible",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolyline.prototype,"setZIndex",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolyline.prototype,"setGeoDesic",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolyline.prototype,"getMap",null),GoogleMapsPolyline}();exports.GoogleMapsPolyline=GoogleMapsPolyline;var GoogleMapsPolygon=function(){function GoogleMapsPolygon(_objectInstance){this._objectInstance=_objectInstance}return GoogleMapsPolygon.prototype.addEventListener=function(event){var _this=this;return new Observable_1.Observable(function(observer){return _this._objectInstance.addEventListener(event,observer.next.bind(observer)),function(){return _this._objectInstance.removeEventListener(event,observer.next.bind(observer))}})},GoogleMapsPolygon.prototype.getPoints=function(){},GoogleMapsPolygon.prototype.getStrokeColor=function(){},GoogleMapsPolygon.prototype.getFillColor=function(){},GoogleMapsPolygon.prototype.getStrokeWidth=function(){},GoogleMapsPolygon.prototype.getGeodesic=function(){},GoogleMapsPolygon.prototype.getVisible=function(){},GoogleMapsPolygon.prototype.getZIndex=function(){},GoogleMapsPolygon.prototype.remove=function(){},GoogleMapsPolygon.prototype.setPoints=function(points){},GoogleMapsPolygon.prototype.setStrokeColor=function(strokeColor){},GoogleMapsPolygon.prototype.setFillColor=function(fillColor){},GoogleMapsPolygon.prototype.setStrokeWidth=function(strokeWidth){},GoogleMapsPolygon.prototype.setVisible=function(visible){},GoogleMapsPolygon.prototype.setZIndex=function(zIndex){},GoogleMapsPolygon.prototype.setGeodesic=function(geodesic){},__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolygon.prototype,"getPoints",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolygon.prototype,"getStrokeColor",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolygon.prototype,"getFillColor",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolygon.prototype,"getStrokeWidth",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolygon.prototype,"getGeodesic",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolygon.prototype,"getVisible",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolygon.prototype,"getZIndex",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolygon.prototype,"remove",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolygon.prototype,"setPoints",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolygon.prototype,"setStrokeColor",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolygon.prototype,"setFillColor",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolygon.prototype,"setStrokeWidth",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolygon.prototype,"setVisible",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolygon.prototype,"setZIndex",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsPolygon.prototype,"setGeodesic",null),GoogleMapsPolygon}();exports.GoogleMapsPolygon=GoogleMapsPolygon;var GoogleMapsTileOverlay=function(){function GoogleMapsTileOverlay(_objectInstance){this._objectInstance=_objectInstance}return GoogleMapsTileOverlay.prototype.getVisible=function(){},GoogleMapsTileOverlay.prototype.setVisible=function(visible){},GoogleMapsTileOverlay.prototype.getFadeIn=function(){},GoogleMapsTileOverlay.prototype.setFadeIn=function(fadeIn){},GoogleMapsTileOverlay.prototype.getZIndex=function(){},GoogleMapsTileOverlay.prototype.setZIndex=function(zIndex){},GoogleMapsTileOverlay.prototype.getOpacity=function(){},GoogleMapsTileOverlay.prototype.setOpacity=function(opacity){},GoogleMapsTileOverlay.prototype.clearTileCache=function(){},GoogleMapsTileOverlay.prototype.remove=function(){},__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsTileOverlay.prototype,"getVisible",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsTileOverlay.prototype,"setVisible",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsTileOverlay.prototype,"getFadeIn",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsTileOverlay.prototype,"setFadeIn",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsTileOverlay.prototype,"getZIndex",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsTileOverlay.prototype,"setZIndex",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsTileOverlay.prototype,"getOpacity",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsTileOverlay.prototype,"setOpacity",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsTileOverlay.prototype,"clearTileCache",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsTileOverlay.prototype,"remove",null),GoogleMapsTileOverlay}();exports.GoogleMapsTileOverlay=GoogleMapsTileOverlay;var GoogleMapsGroundOverlay=function(){function GoogleMapsGroundOverlay(_objectInstance){this._objectInstance=_objectInstance}return GoogleMapsGroundOverlay.prototype.setBearing=function(bearing){},GoogleMapsGroundOverlay.prototype.getBearing=function(){},GoogleMapsGroundOverlay.prototype.setOpacity=function(opacity){},GoogleMapsGroundOverlay.prototype.getOpacity=function(){},GoogleMapsGroundOverlay.prototype.setVisible=function(visible){},GoogleMapsGroundOverlay.prototype.getVisible=function(){},GoogleMapsGroundOverlay.prototype.setImage=function(image){},GoogleMapsGroundOverlay.prototype.remove=function(){},__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsGroundOverlay.prototype,"setBearing",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsGroundOverlay.prototype,"getBearing",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsGroundOverlay.prototype,"setOpacity",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsGroundOverlay.prototype,"getOpacity",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsGroundOverlay.prototype,"setVisible",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsGroundOverlay.prototype,"getVisible",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsGroundOverlay.prototype,"setImage",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsGroundOverlay.prototype,"remove",null),GoogleMapsGroundOverlay}();exports.GoogleMapsGroundOverlay=GoogleMapsGroundOverlay;var GoogleMapsKmlOverlay=function(){function GoogleMapsKmlOverlay(_objectInstance){this._objectInstance=_objectInstance}return GoogleMapsKmlOverlay.prototype.remove=function(){},GoogleMapsKmlOverlay.prototype.getOverlays=function(){},__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsKmlOverlay.prototype,"remove",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsKmlOverlay.prototype,"getOverlays",null),GoogleMapsKmlOverlay}();exports.GoogleMapsKmlOverlay=GoogleMapsKmlOverlay;var GoogleMapsLatLngBounds=function(){function GoogleMapsLatLngBounds(southwestOrArrayOfLatLng,northeast){this.southwestOrArrayOfLatLng=southwestOrArrayOfLatLng,this.northeast=northeast;var args=northeast?[southwestOrArrayOfLatLng,northeast]:southwestOrArrayOfLatLng;this._objectInstance=new plugin.google.maps.LatLngBounds(args)}return GoogleMapsLatLngBounds.prototype.toString=function(){},GoogleMapsLatLngBounds.prototype.toUrlValue=function(precision){},GoogleMapsLatLngBounds.prototype.extend=function(LatLng){},GoogleMapsLatLngBounds.prototype.contains=function(LatLng){},GoogleMapsLatLngBounds.prototype.getCenter=function(){},__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsLatLngBounds.prototype,"toString",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsLatLngBounds.prototype,"toUrlValue",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsLatLngBounds.prototype,"extend",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsLatLngBounds.prototype,"contains",null),__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsLatLngBounds.prototype,"getCenter",null),GoogleMapsLatLngBounds}();exports.GoogleMapsLatLngBounds=GoogleMapsLatLngBounds;var GoogleMapsLatLng=function(){function GoogleMapsLatLng(lat,lng){this.lat=lat,this.lng=lng,this._objectInstance=new plugin.google.maps.LatLng(lat,lng)}return GoogleMapsLatLng.prototype.equals=function(other){return this.lat===other.lat&&this.lng===other.lng},GoogleMapsLatLng.prototype.toString=function(){},GoogleMapsLatLng.prototype.toUrlValue=function(precision){return precision=precision||6,this.lat.toFixed(precision)+","+this.lng.toFixed(precision)},__decorate([plugin_1.CordovaInstance({sync:!0})],GoogleMapsLatLng.prototype,"toString",null),GoogleMapsLatLng}();exports.GoogleMapsLatLng=GoogleMapsLatLng;var Geocoder=function(){function Geocoder(){}return Geocoder.geocode=function(request){return new Promise(function(resolve,reject){plugin&&plugin.google&&plugin.google.maps&&plugin.google.maps.Geocoder?plugin.google.maps.Geocoder.geocode(request,resolve):reject({error:"plugin_not_installed"})})},Geocoder}();exports.Geocoder=Geocoder},{"./plugin":598,"rxjs/Observable":629}],580:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Hotspot=function(){function Hotspot(){}return Hotspot.isAvailable=function(){},Hotspot.toggleWifi=function(){},Hotspot.createHotspot=function(ssid,mode,password){},Hotspot.startHotspot=function(){},Hotspot.configureHotspot=function(ssid,mode,password){},Hotspot.stopHotspot=function(){},Hotspot.isHotspotEnabled=function(){},Hotspot.getAllHotspotDevices=function(){},Hotspot.connectToWifi=function(ssid,password){},Hotspot.connectToWifiAuthEncrypt=function(ssid,password,authentication,encryption){},Hotspot.addWifiNetwork=function(ssid,mode,password){},Hotspot.removeWifiNetwork=function(ssid){},Hotspot.isConnectedToInternet=function(){},Hotspot.isConnectedToInternetViaWifi=function(){},Hotspot.isWifiOn=function(){},Hotspot.isWifiSupported=function(){},Hotspot.isWifiDirectSupported=function(){},Hotspot.scanWifi=function(){},Hotspot.scanWifiByLevel=function(){},Hotspot.startWifiPeriodicallyScan=function(interval,duration){},Hotspot.stopWifiPeriodicallyScan=function(){},Hotspot.getNetConfig=function(){},Hotspot.getConnectionInfo=function(){},Hotspot.pingHost=function(ip){},Hotspot.getMacAddressOfHost=function(ip){},Hotspot.isDnsLive=function(ip){},Hotspot.isPortLive=function(ip){},Hotspot.isRooted=function(){},__decorate([plugin_1.Cordova()],Hotspot,"isAvailable",null),__decorate([plugin_1.Cordova()],Hotspot,"toggleWifi",null),__decorate([plugin_1.Cordova()],Hotspot,"createHotspot",null),__decorate([plugin_1.Cordova()],Hotspot,"startHotspot",null),__decorate([plugin_1.Cordova()],Hotspot,"configureHotspot",null),__decorate([plugin_1.Cordova()],Hotspot,"stopHotspot",null),__decorate([plugin_1.Cordova()],Hotspot,"isHotspotEnabled",null),__decorate([plugin_1.Cordova()],Hotspot,"getAllHotspotDevices",null),__decorate([plugin_1.Cordova()],Hotspot,"connectToWifi",null),__decorate([plugin_1.Cordova()],Hotspot,"connectToWifiAuthEncrypt",null),__decorate([plugin_1.Cordova()],Hotspot,"addWifiNetwork",null),__decorate([plugin_1.Cordova()],Hotspot,"removeWifiNetwork",null),__decorate([plugin_1.Cordova()],Hotspot,"isConnectedToInternet",null),__decorate([plugin_1.Cordova()],Hotspot,"isConnectedToInternetViaWifi",null),__decorate([plugin_1.Cordova()],Hotspot,"isWifiOn",null),__decorate([plugin_1.Cordova()],Hotspot,"isWifiSupported",null),__decorate([plugin_1.Cordova()],Hotspot,"isWifiDirectSupported",null),__decorate([plugin_1.Cordova()],Hotspot,"scanWifi",null),__decorate([plugin_1.Cordova()],Hotspot,"scanWifiByLevel",null),__decorate([plugin_1.Cordova()],Hotspot,"startWifiPeriodicallyScan",null),__decorate([plugin_1.Cordova()],Hotspot,"stopWifiPeriodicallyScan",null),__decorate([plugin_1.Cordova()],Hotspot,"getNetConfig",null),__decorate([plugin_1.Cordova()],Hotspot,"getConnectionInfo",null),__decorate([plugin_1.Cordova()],Hotspot,"pingHost",null),__decorate([plugin_1.Cordova()],Hotspot,"getMacAddressOfHost",null),__decorate([plugin_1.Cordova()],Hotspot,"isDnsLive",null),__decorate([plugin_1.Cordova()],Hotspot,"isPortLive",null),__decorate([plugin_1.Cordova()],Hotspot,"isRooted",null),Hotspot=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-hotspot",pluginRef:"cordova.plugins.hotspot",repo:"https://github.com/hypery2k/cordova-hotspot-plugin",platforms:["Android"]})],Hotspot)}();exports.Hotspot=Hotspot},{"./plugin":598}],581:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Httpd=function(){function Httpd(){}return Httpd.startServer=function(options){},Httpd.getUrl=function(){},Httpd.getLocalPath=function(){},__decorate([plugin_1.Cordova({observable:!0,clearFunction:"stopServer"})],Httpd,"startServer",null),__decorate([plugin_1.Cordova()],Httpd,"getUrl",null),__decorate([plugin_1.Cordova()],Httpd,"getLocalPath",null),Httpd=__decorate([plugin_1.Plugin({plugin:"https://github.com/floatinghotpot/cordova-httpd.git",pluginRef:"cordova.plugins.CorHttpd",repo:"https://github.com/floatinghotpot/cordova-httpd",platforms:["iOS","Android"]})],Httpd)}();exports.Httpd=Httpd},{"./plugin":598}],582:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Observable_1=require("rxjs/Observable"),IBeacon=function(){function IBeacon(){}return IBeacon.Delegate=function(){var delegate=new cordova.plugins.locationManager.Delegate;return delegate.didChangeAuthorizationStatus=function(pluginResult){return new Observable_1.Observable(function(observer){var cb=function(data){return observer.next(data)};return delegate.didChangeAuthorizationStatus=cb})},delegate.didDetermineStateForRegion=function(pluginResult){return new Observable_1.Observable(function(observer){var cb=function(data){return observer.next(data)};return delegate.didDetermineStateForRegion=cb})},delegate.didEnterRegion=function(pluginResult){return new Observable_1.Observable(function(observer){var cb=function(data){return observer.next(data)};return delegate.didEnterRegion=cb})},delegate.didExitRegion=function(pluginResult){return new Observable_1.Observable(function(observer){var cb=function(data){return observer.next(data)};return delegate.didExitRegion=cb})},delegate.didRangeBeaconsInRegion=function(pluginResult){return new Observable_1.Observable(function(observer){var cb=function(data){return observer.next(data)};return delegate.didRangeBeaconsInRegion=cb})},delegate.didStartMonitoringForRegion=function(pluginResult){return new Observable_1.Observable(function(observer){var cb=function(data){return observer.next(data)};return delegate.didStartMonitoringForRegion=cb})},delegate.monitoringDidFailForRegionWithError=function(pluginResult){return new Observable_1.Observable(function(observer){var cb=function(data){return observer.next(data)};return delegate.monitoringDidFailForRegionWithError=cb})},delegate.peripheralManagerDidStartAdvertising=function(pluginResult){return new Observable_1.Observable(function(observer){var cb=function(data){return observer.next(data)};return delegate.peripheralManagerDidStartAdvertising=cb})},delegate.peripheralManagerDidUpdateState=function(pluginResult){return new Observable_1.Observable(function(observer){var cb=function(data){return observer.next(data)};return delegate.peripheralManagerDidUpdateState=cb})},cordova.plugins.locationManager.setDelegate(delegate),delegate},IBeacon.BeaconRegion=function(identifer,uuid,major,minor,notifyEntryStateOnDisplay){return new cordova.plugins.locationManager.BeaconRegion(identifer,uuid,major,minor,notifyEntryStateOnDisplay)},IBeacon.getDelegate=function(){},IBeacon.setDelegate=function(delegate){},IBeacon.onDomDelegateReady=function(){},IBeacon.isBluetoothEnabled=function(){},IBeacon.enableBluetooth=function(){},IBeacon.disableBluetooth=function(){},IBeacon.startMonitoringForRegion=function(region){},IBeacon.stopMonitoringForRegion=function(region){},IBeacon.requestStateForRegion=function(region){},IBeacon.startRangingBeaconsInRegion=function(region){},IBeacon.stopRangingBeaconsInRegion=function(region){},IBeacon.getAuthorizationStatus=function(){},IBeacon.requestWhenInUseAuthorization=function(){},IBeacon.requestAlwaysAuthorization=function(){},IBeacon.getMonitoredRegions=function(){},IBeacon.getRangedRegions=function(){},IBeacon.isRangingAvailable=function(){},IBeacon.isMonitoringAvailableForClass=function(region){},IBeacon.startAdvertising=function(region,measuredPower){},IBeacon.stopAdvertising=function(region){},IBeacon.isAdvertisingAvailable=function(){},IBeacon.isAdvertising=function(){},IBeacon.disableDebugLogs=function(){},IBeacon.enableDebugNotifications=function(){},IBeacon.disableDebugNotifications=function(){},IBeacon.enableDebugLogs=function(){},IBeacon.appendToDeviceLog=function(message){},__decorate([plugin_1.Cordova()],IBeacon,"getDelegate",null),__decorate([plugin_1.Cordova()],IBeacon,"setDelegate",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"onDomDelegateReady",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"isBluetoothEnabled",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"enableBluetooth",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"disableBluetooth",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"startMonitoringForRegion",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"stopMonitoringForRegion",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"requestStateForRegion",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"startRangingBeaconsInRegion",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"stopRangingBeaconsInRegion",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"getAuthorizationStatus",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"requestWhenInUseAuthorization",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"requestAlwaysAuthorization",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"getMonitoredRegions",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"getRangedRegions",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"isRangingAvailable",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"isMonitoringAvailableForClass",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"startAdvertising",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"stopAdvertising",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"isAdvertisingAvailable",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"isAdvertising",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"disableDebugLogs",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"enableDebugNotifications",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"disableDebugNotifications",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"enableDebugLogs",null),__decorate([plugin_1.Cordova({otherPromise:!0})],IBeacon,"appendToDeviceLog",null),IBeacon=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-ibeacon",pluginRef:"cordova.plugins.locationManager",repo:"https://github.com/petermetz/cordova-plugin-ibeacon",platforms:["Android","iOS"]})],IBeacon)}();exports.IBeacon=IBeacon},{"./plugin":598,"rxjs/Observable":629}],583:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),ImagePicker=function(){function ImagePicker(){}return ImagePicker.getPictures=function(options){},__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],ImagePicker,"getPictures",null),ImagePicker=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-image-picker",pluginRef:"window.imagePicker",repo:"https://github.com/wymsee/cordova-imagePicker"})],ImagePicker)}();exports.ImagePicker=ImagePicker},{"./plugin":598}],584:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),ImageResizer=function(){function ImageResizer(){}return ImageResizer.resize=function(options){},__decorate([plugin_1.Cordova()],ImageResizer,"resize",null),ImageResizer=__decorate([plugin_1.Plugin({plugin:"https://github.com/protonet/cordova-plugin-image-resizer.git",pluginRef:"ImageResizer",repo:"https://github.com/protonet/cordova-plugin-image-resizer"})],ImageResizer)}();exports.ImageResizer=ImageResizer},{"./plugin":598}],585:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Observable_1=require("rxjs/Observable"),InAppBrowser=function(){function InAppBrowser(url,target,options){try{this._objectInstance=cordova.InAppBrowser.open(url,target,options)}catch(e){window.open(url),console.warn("Native: InAppBrowser is not installed or you are running on a browser. Falling back to window.open, all instance methods will NOT work.")}}return InAppBrowser.open=function(url,target,options){console.warn("Native: Your current usage of the InAppBrowser plugin is depreciated as of ionic-native@1.3.8. Please check the Ionic Native docs for the latest usage details.")},InAppBrowser.prototype.show=function(){},InAppBrowser.prototype.close=function(){},InAppBrowser.prototype.executeScript=function(script){},InAppBrowser.prototype.insertCss=function(css){},InAppBrowser.prototype.on=function(event){var _this=this;return new Observable_1.Observable(function(observer){return _this._objectInstance.addEventListener(event,observer.next.bind(observer)),function(){return _this._objectInstance.removeEventListener(event,observer.next.bind(observer))}})},__decorate([plugin_1.CordovaInstance({sync:!0})],InAppBrowser.prototype,"show",null),__decorate([plugin_1.CordovaInstance({sync:!0})],InAppBrowser.prototype,"close",null),__decorate([plugin_1.CordovaInstance()],InAppBrowser.prototype,"executeScript",null),__decorate([plugin_1.CordovaInstance()],InAppBrowser.prototype,"insertCss",null),InAppBrowser=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-inappbrowser",pluginRef:"cordova.InAppBrowser",repo:"https://github.com/apache/cordova-plugin-inappbrowser"})],InAppBrowser)}();exports.InAppBrowser=InAppBrowser},{"./plugin":598,"rxjs/Observable":629}],586:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Insomnia=function(){function Insomnia(){}return Insomnia.keepAwake=function(){},Insomnia.allowSleepAgain=function(){},__decorate([plugin_1.Cordova()],Insomnia,"keepAwake",null),__decorate([plugin_1.Cordova()],Insomnia,"allowSleepAgain",null),Insomnia=__decorate([plugin_1.Plugin({plugin:"https://github.com/EddyVerbruggen/Insomnia-PhoneGap-Plugin.git",pluginRef:"plugins.insomnia",repo:"https://github.com/EddyVerbruggen/Insomnia-PhoneGap-Plugin",platforms:["Android","iOS","Windows Phone 8"]})],Insomnia)}();exports.Insomnia=Insomnia},{"./plugin":598}],587:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Keyboard=function(){function Keyboard(){}return Keyboard.hideKeyboardAccessoryBar=function(hide){},Keyboard.show=function(){},Keyboard.close=function(){},Keyboard.disableScroll=function(disable){},Keyboard.onKeyboardShow=function(){},Keyboard.onKeyboardHide=function(){},__decorate([plugin_1.Cordova({sync:!0})],Keyboard,"hideKeyboardAccessoryBar",null),__decorate([plugin_1.Cordova({sync:!0,platforms:["Android","BlackBerry 10","Windows"]})],Keyboard,"show",null),__decorate([plugin_1.Cordova({sync:!0,platforms:["iOS","Android","BlackBerry 10","Windows"]})],Keyboard,"close",null),__decorate([plugin_1.Cordova({sync:!0,platforms:["iOS","Windows"]})],Keyboard,"disableScroll",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"native.keyboardshow",platforms:["iOS","Android","BlackBerry 10","Windows"]})],Keyboard,"onKeyboardShow",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"native.keyboardhide",platforms:["iOS","Android","BlackBerry 10","Windows"]})],Keyboard,"onKeyboardHide",null),Keyboard=__decorate([plugin_1.Plugin({plugin:"ionic-plugin-keyboard",pluginRef:"cordova.plugins.Keyboard",repo:"https://github.com/driftyco/ionic-plugin-keyboard"})],Keyboard)}();exports.Keyboard=Keyboard},{"./plugin":598}],588:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),LaunchNavigator=function(){function LaunchNavigator(){}return LaunchNavigator.navigate=function(destination,options){},LaunchNavigator.isAppAvailable=function(app){},LaunchNavigator.availableApps=function(){},LaunchNavigator.getAppDisplayName=function(app){},LaunchNavigator.getAppsForPlatform=function(platform){},LaunchNavigator.supportsTransportMode=function(app,platform){},LaunchNavigator.getTransportModes=function(app,platform){},LaunchNavigator.supportsLaunchMode=function(app,platform){},LaunchNavigator.supportsStart=function(app,platform){},LaunchNavigator.supportsStartName=function(app,platform){},LaunchNavigator.supportsDestName=function(app,platform){},LaunchNavigator.userSelect=function(destination,options){},LaunchNavigator.APP={USER_SELECT:"user_select",APPLE_MAPS:"apple_maps",GOOGLE_MAPS:"google_maps",WAZE:"waze",CITYMAPPER:"citymapper",NAVIGON:"navigon",TRANSIT_APP:"transit_app",YANDEX:"yandex",UBER:"uber",TOMTOM:"tomtom",BING_MAPS:"bing_maps",SYGIC:"sygic",HERE_MAPS:"here_maps",MOOVIT:"moovit"},LaunchNavigator.TRANSPORT_MODE={DRIVING:"driving",WALKING:"walking",BICYCLING:"bicycling",TRANSIT:"transit"},__decorate([plugin_1.Cordova({successIndex:1,errorIndex:2})],LaunchNavigator,"navigate",null),__decorate([plugin_1.Cordova()],LaunchNavigator,"isAppAvailable",null),__decorate([plugin_1.Cordova()],LaunchNavigator,"availableApps",null),__decorate([plugin_1.Cordova({sync:!0})],LaunchNavigator,"getAppDisplayName",null),__decorate([plugin_1.Cordova({sync:!0})],LaunchNavigator,"getAppsForPlatform",null),__decorate([plugin_1.Cordova({sync:!0})],LaunchNavigator,"supportsTransportMode",null),__decorate([plugin_1.Cordova({sync:!0})],LaunchNavigator,"getTransportModes",null),__decorate([plugin_1.Cordova({sync:!0})],LaunchNavigator,"supportsLaunchMode",null),__decorate([plugin_1.Cordova({sync:!0})],LaunchNavigator,"supportsStart",null),__decorate([plugin_1.Cordova({sync:!0})],LaunchNavigator,"supportsStartName",null),__decorate([plugin_1.Cordova({sync:!0})],LaunchNavigator,"supportsDestName",null),__decorate([plugin_1.Cordova({sync:!0})],LaunchNavigator,"userSelect",null),LaunchNavigator=__decorate([plugin_1.Plugin({plugin:"uk.co.workingedge.phonegap.plugin.launchnavigator",pluginRef:"launchnavigator",repo:"https://github.com/dpa99c/phonegap-launch-navigator.git"})],LaunchNavigator)}();exports.LaunchNavigator=LaunchNavigator},{"./plugin":598}],589:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),LocalNotifications=function(){function LocalNotifications(){}return LocalNotifications.schedule=function(options){},LocalNotifications.update=function(options){},LocalNotifications.clear=function(notificationId){},LocalNotifications.clearAll=function(){},LocalNotifications.cancel=function(notificationId){},LocalNotifications.cancelAll=function(){},LocalNotifications.isPresent=function(notificationId){},
LocalNotifications.isScheduled=function(notificationId){},LocalNotifications.isTriggered=function(notificationId){},LocalNotifications.getAllIds=function(){},LocalNotifications.getTriggeredIds=function(){},LocalNotifications.getScheduledIds=function(){},LocalNotifications.get=function(notificationId){},LocalNotifications.getScheduled=function(notificationId){},LocalNotifications.getTriggered=function(notificationId){},LocalNotifications.getAll=function(){},LocalNotifications.getAllScheduled=function(){},LocalNotifications.getAllTriggered=function(){},LocalNotifications.on=function(eventName,callback){},__decorate([plugin_1.Cordova({sync:!0})],LocalNotifications,"schedule",null),__decorate([plugin_1.Cordova({sync:!0})],LocalNotifications,"update",null),__decorate([plugin_1.Cordova()],LocalNotifications,"clear",null),__decorate([plugin_1.Cordova({successIndex:0,errorIndex:2})],LocalNotifications,"clearAll",null),__decorate([plugin_1.Cordova()],LocalNotifications,"cancel",null),__decorate([plugin_1.Cordova({successIndex:0,errorIndex:2})],LocalNotifications,"cancelAll",null),__decorate([plugin_1.Cordova()],LocalNotifications,"isPresent",null),__decorate([plugin_1.Cordova()],LocalNotifications,"isScheduled",null),__decorate([plugin_1.Cordova()],LocalNotifications,"isTriggered",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getAllIds",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getTriggeredIds",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getScheduledIds",null),__decorate([plugin_1.Cordova()],LocalNotifications,"get",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getScheduled",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getTriggered",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getAll",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getAllScheduled",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getAllTriggered",null),__decorate([plugin_1.Cordova({sync:!0})],LocalNotifications,"on",null),LocalNotifications=__decorate([plugin_1.Plugin({plugin:"de.appplant.cordova.plugin.local-notification",pluginRef:"cordova.plugins.notification.local",repo:"https://github.com/katzer/cordova-plugin-local-notifications"})],LocalNotifications)}();exports.LocalNotifications=LocalNotifications},{"./plugin":598}],590:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),MediaCapture=function(){function MediaCapture(){}return Object.defineProperty(MediaCapture,"supportedImageModes",{get:function(){return navigator.device.capture.supportedImageModes},enumerable:!0,configurable:!0}),Object.defineProperty(MediaCapture,"supportedAudioModes",{get:function(){return navigator.device.capture.supportedAudioModes},enumerable:!0,configurable:!0}),Object.defineProperty(MediaCapture,"supportedVideoModes",{get:function(){return navigator.device.capture.supportedVideoModes},enumerable:!0,configurable:!0}),MediaCapture.captureAudio=function(options){},MediaCapture.captureImage=function(options){},MediaCapture.captureVideo=function(options){},MediaCapture.onPendingCaptureResult=function(){},MediaCapture.onPendingCaptureError=function(){},__decorate([plugin_1.CordovaProperty],MediaCapture,"supportedImageModes",null),__decorate([plugin_1.CordovaProperty],MediaCapture,"supportedAudioModes",null),__decorate([plugin_1.CordovaProperty],MediaCapture,"supportedVideoModes",null),__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],MediaCapture,"captureAudio",null),__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],MediaCapture,"captureImage",null),__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],MediaCapture,"captureVideo",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"pendingcaptureresult"})],MediaCapture,"onPendingCaptureResult",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"pendingcaptureerror"})],MediaCapture,"onPendingCaptureError",null),MediaCapture=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-media-capture",pluginRef:"navigator.device.capture",repo:"https://github.com/apache/cordova-plugin-media-capture"})],MediaCapture)}();exports.MediaCapture=MediaCapture},{"./plugin":598}],591:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Observable_1=require("rxjs/Observable"),MediaPlugin=function(){function MediaPlugin(src){var res,rej,next;this.init=new Promise(function(resolve,reject){res=resolve,rej=reject}),this.status=new Observable_1.Observable(function(observer){next=function(data){return observer.next(data)}}),this._objectInstance=new Media(src,res,rej,next)}return MediaPlugin.prototype.getCurrentAmplitude=function(){},MediaPlugin.prototype.getCurrentPosition=function(){},MediaPlugin.prototype.getDuration=function(){},MediaPlugin.prototype.play=function(iosOptions){},MediaPlugin.prototype.pause=function(){},MediaPlugin.prototype.release=function(){},MediaPlugin.prototype.seekTo=function(milliseconds){},MediaPlugin.prototype.setVolume=function(volume){},MediaPlugin.prototype.startRecord=function(){},MediaPlugin.prototype.stopRecord=function(){},MediaPlugin.prototype.stop=function(){},MediaPlugin.MEDIA_NONE=0,MediaPlugin.MEDIA_STARTING=1,MediaPlugin.MEDIA_RUNNING=2,MediaPlugin.MEDIA_PAUSED=3,MediaPlugin.MEDIA_STOPPED=4,__decorate([plugin_1.CordovaInstance()],MediaPlugin.prototype,"getCurrentAmplitude",null),__decorate([plugin_1.CordovaInstance()],MediaPlugin.prototype,"getCurrentPosition",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"getDuration",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"play",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"pause",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"release",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"seekTo",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"setVolume",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"startRecord",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"stopRecord",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"stop",null),MediaPlugin=__decorate([plugin_1.Plugin({repo:"https://github.com/apache/cordova-plugin-media",plugin:"cordova-plugin-media",pluginRef:"Media"})],MediaPlugin)}();exports.MediaPlugin=MediaPlugin;var MediaError=function(){function MediaError(){}return Object.defineProperty(MediaError,"MEDIA_ERR_ABORTED",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(MediaError,"MEDIA_ERR_NETWORK",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(MediaError,"MEDIA_ERR_DECODE",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(MediaError,"MEDIA_ERR_NONE_SUPPORTED",{get:function(){return 4},enumerable:!0,configurable:!0}),MediaError}();exports.MediaError=MediaError},{"./plugin":598,"rxjs/Observable":629}],592:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),NativeAudio=function(){function NativeAudio(){}return NativeAudio.preloadSimple=function(id,assetPath){},NativeAudio.preloadComplex=function(id,assetPath,volume,voices,delay){},NativeAudio.play=function(id,completeCallback){},NativeAudio.stop=function(id){},NativeAudio.loop=function(id){},NativeAudio.unload=function(id){},NativeAudio.setVolumeForComplexAsset=function(id,volume){},__decorate([plugin_1.Cordova()],NativeAudio,"preloadSimple",null),__decorate([plugin_1.Cordova()],NativeAudio,"preloadComplex",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:2})],NativeAudio,"play",null),__decorate([plugin_1.Cordova()],NativeAudio,"stop",null),__decorate([plugin_1.Cordova()],NativeAudio,"loop",null),__decorate([plugin_1.Cordova()],NativeAudio,"unload",null),__decorate([plugin_1.Cordova()],NativeAudio,"setVolumeForComplexAsset",null),NativeAudio=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-nativeaudio",pluginRef:"NativeAudio",repo:"https://github.com/floatinghotpot/cordova-plugin-nativeaudio"})],NativeAudio)}();exports.NativeAudio=NativeAudio},{"./plugin":598}],593:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),NativeStorage=function(){function NativeStorage(){}return NativeStorage.setItem=function(reference,value){},NativeStorage.getItem=function(reference){},NativeStorage.remove=function(reference){},NativeStorage.clear=function(){},__decorate([plugin_1.Cordova()],NativeStorage,"setItem",null),__decorate([plugin_1.Cordova()],NativeStorage,"getItem",null),__decorate([plugin_1.Cordova()],NativeStorage,"remove",null),__decorate([plugin_1.Cordova()],NativeStorage,"clear",null),NativeStorage=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-nativestorage",pluginRef:"NativeStorage",repo:"https://github.com/TheCocoaProject/cordova-plugin-nativestorage"})],NativeStorage)}();exports.NativeStorage=NativeStorage},{"./plugin":598}],594:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Network=function(){function Network(){}return Object.defineProperty(Network,"connection",{get:function(){return navigator.connection.type},enumerable:!0,configurable:!0}),Network.onDisconnect=function(){},Network.onConnect=function(){},__decorate([plugin_1.CordovaProperty],Network,"connection",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"offline"})],Network,"onDisconnect",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"online"})],Network,"onConnect",null),Network=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-network-information",repo:"https://github.com/apache/cordova-plugin-network-information",platforms:["Amazon Fire OS","iOS","Android","BlackBerry 10","Windows Phone 7","Windows Phone 8","Windows","Firefox OS","Browser"],pluginRef:"navigator.connection"})],Network)}();exports.Network=Network},{"./plugin":598}],595:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),OneSignal=function(){function OneSignal(){}return OneSignal.init=function(appId,options){},OneSignal.registerForPushNotifications=function(){},OneSignal.sendTag=function(key,value){},OneSignal.sendTags=function(json){},OneSignal.getTags=function(){},OneSignal.deleteTag=function(key){},OneSignal.deleteTags=function(keys){},OneSignal.getIds=function(){},OneSignal.enableVibrate=function(enable){},OneSignal.enableSound=function(enable){},OneSignal.enableNotificationsWhenActive=function(enable){},OneSignal.enableInAppAlertNotification=function(enable){},OneSignal.setSubscription=function(enable){},OneSignal.postNotification=function(notificationObj){},OneSignal.promptLocation=function(){},OneSignal.setLogLevel=function(logLevel){},__decorate([plugin_1.Cordova({observable:!0})],OneSignal,"init",null),__decorate([plugin_1.Cordova({sync:!0})],OneSignal,"registerForPushNotifications",null),__decorate([plugin_1.Cordova({sync:!0})],OneSignal,"sendTag",null),__decorate([plugin_1.Cordova({sync:!0})],OneSignal,"sendTags",null),__decorate([plugin_1.Cordova()],OneSignal,"getTags",null),__decorate([plugin_1.Cordova({sync:!0})],OneSignal,"deleteTag",null),__decorate([plugin_1.Cordova({sync:!0})],OneSignal,"deleteTags",null),__decorate([plugin_1.Cordova()],OneSignal,"getIds",null),__decorate([plugin_1.Cordova({sync:!0})],OneSignal,"enableVibrate",null),__decorate([plugin_1.Cordova({sync:!0})],OneSignal,"enableSound",null),__decorate([plugin_1.Cordova({sync:!0})],OneSignal,"enableNotificationsWhenActive",null),__decorate([plugin_1.Cordova({sync:!0})],OneSignal,"enableInAppAlertNotification",null),__decorate([plugin_1.Cordova({sync:!0})],OneSignal,"setSubscription",null),__decorate([plugin_1.Cordova()],OneSignal,"postNotification",null),__decorate([plugin_1.Cordova({sync:!0})],OneSignal,"promptLocation",null),__decorate([plugin_1.Cordova({sync:!0})],OneSignal,"setLogLevel",null),OneSignal=__decorate([plugin_1.Plugin({plugin:"onesignal-cordova-plugin",pluginRef:"plugins.OneSignal",repo:"https://github.com/OneSignal/OneSignal-Cordova-SDK"})],OneSignal)}();exports.OneSignal=OneSignal},{"./plugin":598}],596:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),PhotoViewer=function(){function PhotoViewer(){}return PhotoViewer.show=function(url,title,options){},__decorate([plugin_1.Cordova({sync:!0})],PhotoViewer,"show",null),PhotoViewer=__decorate([plugin_1.Plugin({plugin:"com-sarriaroman-photoviewer",pluginRef:"PhotoViewer",repo:"https://github.com/sarriaroman/photoviewer"})],PhotoViewer)}();exports.PhotoViewer=PhotoViewer},{"./plugin":598}],597:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),PinDialog=function(){function PinDialog(){}return PinDialog.prompt=function(message,title,buttons){},__decorate([plugin_1.Cordova({successIndex:1})],PinDialog,"prompt",null),PinDialog=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-pin-dialog",pluginRef:"plugins.pinDialog",repo:"https://github.com/Paldom/PinDialog"})],PinDialog)}();exports.PinDialog=PinDialog},{"./plugin":598}],598:[function(require,module,exports){"use strict";function setIndex(args,opts,resolve,reject){return void 0===opts&&(opts={}),"reverse"===opts.callbackOrder?(args.unshift(reject),args.unshift(resolve)):"undefined"!=typeof opts.successIndex||"undefined"!=typeof opts.errorIndex?(args.splice(opts.successIndex,0,resolve),args.splice(opts.errorIndex,0,reject)):(args.push(resolve),args.push(reject)),args}function callCordovaPlugin(pluginObj,methodName,args,opts,resolve,reject){void 0===opts&&(opts={}),args=setIndex(args,opts,resolve,reject);var pluginInstance=exports.getPlugin(pluginObj.pluginRef);return pluginInstance?util_1.get(window,pluginObj.pluginRef)[methodName].apply(pluginInstance,args):window.cordova?(exports.pluginWarn(pluginObj,methodName),{error:"plugin_not_installed"}):(exports.cordovaWarn(pluginObj.name,methodName),{error:"cordova_not_available"})}function getPromise(cb){if(window.angular){var $q_1=window.angular.injector(["ng"]).get("$q");return $q_1(function(resolve,reject){cb(resolve,reject)})}return window.Promise?new Promise(function(resolve,reject){cb(resolve,reject)}):void console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular 1/2 or on a recent browser.")}function wrapPromise(pluginObj,methodName,args,opts){void 0===opts&&(opts={});var pluginResult,rej,p=getPromise(function(resolve,reject){pluginResult=callCordovaPlugin(pluginObj,methodName,args,opts,resolve,reject),rej=reject});return pluginResult&&pluginResult.error&&(p["catch"](function(){}),rej(pluginResult.error)),p}function wrapOtherPromise(pluginObj,methodName,args,opts){return void 0===opts&&(opts={}),getPromise(function(resolve,reject){var pluginResult=callCordovaPlugin(pluginObj,methodName,args,opts);pluginResult&&pluginResult.error&&reject(pluginResult.error),pluginResult.then(resolve)["catch"](reject)})}function wrapObservable(pluginObj,methodName,args,opts){return void 0===opts&&(opts={}),new Observable_1.Observable(function(observer){var pluginResult=callCordovaPlugin(pluginObj,methodName,args,opts,observer.next.bind(observer),observer.error.bind(observer));return pluginResult&&pluginResult.error&&observer.error(pluginResult.error),function(){try{if(opts.clearFunction)return opts.clearWithArgs?util_1.get(window,pluginObj.pluginRef)[opts.clearFunction].apply(pluginObj,args):util_1.get(window,pluginObj.pluginRef)[opts.clearFunction].call(pluginObj,pluginResult)}catch(e){console.warn("Unable to clear the previous observable watch for",pluginObj.name,methodName),console.error(e)}}})}function callInstance(pluginObj,methodName,args,opts,resolve,reject){return void 0===opts&&(opts={}),args=setIndex(args,opts,resolve,reject),pluginObj._objectInstance[methodName].apply(pluginObj._objectInstance,args)}function wrapInstance(pluginObj,methodName,opts){return void 0===opts&&(opts={}),function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return opts.sync?callInstance(pluginObj,methodName,args,opts):opts.observable?new Observable_1.Observable(function(observer){var pluginResult=callInstance(pluginObj,methodName,args,opts,observer.next.bind(observer),observer.error.bind(observer));return function(){try{return opts.clearWithArgs?pluginObj._objectInstance[opts.clearFunction].apply(pluginObj._objectInstance,args):pluginObj._objectInstance[opts.clearFunction].call(pluginObj,pluginResult)}catch(e){console.warn("Unable to clear the previous observable watch for",pluginObj.name,methodName),console.error(e)}}}):getPromise(opts.otherPromise?function(resolve,reject){var result=callInstance(pluginObj,methodName,args,opts,resolve,reject);result.then(resolve,reject)}:function(resolve,reject){callInstance(pluginObj,methodName,args,opts,resolve,reject)})}}function wrapEventObservable(event){return new Observable_1.Observable(function(observer){return window.addEventListener(event,observer.next.bind(observer),!1),function(){return window.removeEventListener(event,observer.next.bind(observer),!1)}})}function Plugin(config){return function(cls){for(var k in config)cls[k]=config[k];return cls.installed=function(){return!!exports.getPlugin(config.pluginRef)},cls}}function Cordova(opts){return void 0===opts&&(opts={}),function(target,methodName,descriptor){return{value:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return exports.wrap(this,methodName,opts).apply(this,args)}}}}function CordovaInstance(opts){return void 0===opts&&(opts={}),function(target,methodName){return{value:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return wrapInstance(this,methodName,opts).apply(this,args)}}}}function CordovaProperty(target,key,descriptor){var originalMethod=descriptor.get;return descriptor.get=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];if(!window.cordova)return exports.cordovaWarn(this.name,null),{};var pluginObj=this,pluginInstance=exports.getPlugin(pluginObj.pluginRef);return pluginInstance?originalMethod.apply(this,args):(exports.pluginWarn(this,key),{})},descriptor}function InstanceProperty(target,key,descriptor){return descriptor.get=function(){return this._objectInstance[key]},descriptor.set=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];this._objectInstance[key]=args[0]},descriptor}var util_1=require("../util"),Observable_1=require("rxjs/Observable");exports.getPlugin=function(pluginRef){return util_1.get(window,pluginRef)},exports.pluginWarn=function(pluginObj,method){var pluginName=pluginObj.name,plugin=pluginObj.plugin;method?console.warn("Native: tried calling "+pluginName+"."+method+", but the "+pluginName+" plugin is not installed."):console.warn("Native: tried accessing the "+pluginName+" plugin but it's not installed."),console.warn("Install the "+pluginName+" plugin: 'ionic plugin add "+plugin+"'")},exports.cordovaWarn=function(pluginName,method){method?console.warn("Native: tried calling "+pluginName+"."+method+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+pluginName+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")},exports.wrap=function(pluginObj,methodName,opts){return void 0===opts&&(opts={}),function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return opts.sync?callCordovaPlugin(pluginObj,methodName,args,opts):opts.observable?wrapObservable(pluginObj,methodName,args,opts):opts.eventObservable&&opts.event?wrapEventObservable(opts.event):opts.otherPromise?wrapOtherPromise(pluginObj,methodName,args,opts):wrapPromise(pluginObj,methodName,args,opts)}},exports.Plugin=Plugin,exports.Cordova=Cordova,exports.CordovaInstance=CordovaInstance,exports.CordovaProperty=CordovaProperty,exports.InstanceProperty=InstanceProperty},{"../util":621,"rxjs/Observable":629}],599:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Printer=function(){function Printer(){}return Printer.isAvailable=function(){},Printer.print=function(content,options){},__decorate([plugin_1.Cordova()],Printer,"isAvailable",null),__decorate([plugin_1.Cordova()],Printer,"print",null),Printer=__decorate([plugin_1.Plugin({plugin:"de.appplant.cordova.plugin.printer",pluginRef:"cordova.plugins.printer",repo:"https://github.com/katzer/cordova-plugin-printer.git",platforms:["Android","iOS"]})],Printer)}();exports.Printer=Printer},{"./plugin":598}],600:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Push=function(){function Push(){}return Push.init=function(options){},Push.hasPermission=function(){},__decorate([plugin_1.Cordova({sync:!0})],Push,"init",null),__decorate([plugin_1.Cordova()],Push,"hasPermission",null),Push=__decorate([plugin_1.Plugin({plugin:"phonegap-plugin-push",pluginRef:"PushNotification",repo:"https://github.com/phonegap/phonegap-plugin-push"})],Push)}();exports.Push=Push},{"./plugin":598}],601:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),SafariViewController=function(){function SafariViewController(){}return SafariViewController.isAvailable=function(){},SafariViewController.show=function(options){},SafariViewController.hide=function(){},SafariViewController.connectToService=function(){},SafariViewController.warmUp=function(){},SafariViewController.mayLaunchUrl=function(url){},__decorate([plugin_1.Cordova()],SafariViewController,"isAvailable",null),__decorate([plugin_1.Cordova()],SafariViewController,"show",null),__decorate([plugin_1.Cordova()],SafariViewController,"hide",null),__decorate([plugin_1.Cordova()],SafariViewController,"connectToService",null),__decorate([plugin_1.Cordova()],SafariViewController,"warmUp",null),__decorate([plugin_1.Cordova()],SafariViewController,"mayLaunchUrl",null),SafariViewController=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-safariviewcontroller",pluginRef:"SafariViewController",platforms:["iOS","Android"],repo:"https://github.com/EddyVerbruggen/cordova-plugin-safariviewcontroller"})],SafariViewController)}();exports.SafariViewController=SafariViewController},{"./plugin":598}],602:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),ScreenOrientation=function(){function ScreenOrientation(){}return ScreenOrientation.lockOrientation=function(orientation){},ScreenOrientation.unlockOrientation=function(){},Object.defineProperty(ScreenOrientation,"orientation",{get:function(){return window.screen.orientation},enumerable:!0,configurable:!0}),__decorate([plugin_1.Cordova({sync:!0})],ScreenOrientation,"lockOrientation",null),__decorate([plugin_1.Cordova({sync:!0})],ScreenOrientation,"unlockOrientation",null),__decorate([plugin_1.CordovaProperty],ScreenOrientation,"orientation",null),ScreenOrientation=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-screen-orientation",pluginRef:"window.screen",repo:"https://github.com/apache/cordova-plugin-screen-orientation",platforms:["Android","iOS","Windows Phone 8"]})],ScreenOrientation)}();exports.ScreenOrientation=ScreenOrientation},{"./plugin":598}],603:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Screenshot=function(){function Screenshot(){}return Screenshot.save=function(format,quality,filename){return new Promise(function(resolve,reject){navigator.screenshot.save(function(error,result){error?reject(error):resolve(result)},format,quality,filename)})},Screenshot.URI=function(quality){return new Promise(function(resolve,reject){navigator.screenshot.URI(function(error,result){error?reject(error):resolve(result)},quality)})},Screenshot=__decorate([plugin_1.Plugin({plugin:"https://github.com/gitawego/cordova-screenshot.git",pluginRef:"navigator.screenshot",repo:"https://github.com/gitawego/cordova-screenshot.git"})],Screenshot)}();exports.Screenshot=Screenshot},{"./plugin":598}],604:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),SecureStorage=function(){function SecureStorage(){}return SecureStorage.prototype.create=function(store){var _this=this;return new Promise(function(res,rej){_this._objectInstance=new cordova.plugins.SecureStorage(res,rej,store)})},SecureStorage.prototype.get=function(reference){},SecureStorage.prototype.set=function(reference,value){},SecureStorage.prototype.remove=function(reference){},__decorate([plugin_1.CordovaInstance({callbackOrder:"reverse"})],SecureStorage.prototype,"get",null),__decorate([plugin_1.CordovaInstance({callbackOrder:"reverse"})],SecureStorage.prototype,"set",null),__decorate([plugin_1.CordovaInstance({callbackOrder:"reverse"})],SecureStorage.prototype,"remove",null),SecureStorage=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-secure-storage",pluginRef:"plugins.securestorage",repo:"https://github.com/Crypho/cordova-plugin-secure-storage",platforms:["Android","iOS","Windows Phone","Browser"]})],SecureStorage)}();exports.SecureStorage=SecureStorage},{"./plugin":598}],605:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);
return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Shake=function(){function Shake(){}return Shake.startWatch=function(sensitivity){},__decorate([plugin_1.Cordova({observable:!0,clearFunction:"stopWatch",successIndex:0,errorIndex:2})],Shake,"startWatch",null),Shake=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-shake",pluginRef:"shake",repo:"https://github.com/leecrossley/cordova-plugin-shake"})],Shake)}();exports.Shake=Shake},{"./plugin":598}],606:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Sim=function(){function Sim(){}return Sim.getSimInfo=function(){},__decorate([plugin_1.Cordova()],Sim,"getSimInfo",null),Sim=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-sim",pluginRef:"plugins.sim",repo:"https://github.com/pbakondy/cordova-plugin-sim",platforms:["Android","iOS","Windows Phone"]})],Sim)}();exports.Sim=Sim},{"./plugin":598}],607:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),SMS=function(){function SMS(){}return SMS.send=function(phoneNumber,message,options){},__decorate([plugin_1.Cordova()],SMS,"send",null),SMS=__decorate([plugin_1.Plugin({plugin:"cordova-sms-plugin",pluginRef:"sms",repo:"https://github.com/cordova-sms/cordova-sms-plugin",platforms:["Android","iOS","Windows Phone 8"]})],SMS)}();exports.SMS=SMS},{"./plugin":598}],608:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),SocialSharing=function(){function SocialSharing(){}return SocialSharing.share=function(message,subject,file,url){},SocialSharing.shareWithOptions=function(options){},SocialSharing.canShareVia=function(appName){},SocialSharing.shareViaTwitter=function(message,image,url){},SocialSharing.shareViaFacebook=function(message,image,url){},SocialSharing.shareViaFacebookWithPasteMessageHint=function(message,image,url,pasteMessageHint){},SocialSharing.shareViaInstagram=function(message,image){},SocialSharing.shareViaWhatsApp=function(message,image,url){},SocialSharing.shareViaWhatsAppToReceiver=function(receiver,message,image,url){},SocialSharing.shareViaSMS=function(messge,phoneNumber){},SocialSharing.canShareViaEmail=function(){},SocialSharing.shareViaEmail=function(message,subject,to,cc,bcc,files){void 0===cc&&(cc=[]),void 0===bcc&&(bcc=[]),void 0===files&&(files=[])},__decorate([plugin_1.Cordova()],SocialSharing,"share",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareWithOptions",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"canShareVia",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareViaTwitter",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareViaFacebook",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareViaFacebookWithPasteMessageHint",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareViaInstagram",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareViaWhatsApp",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareViaWhatsAppToReceiver",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareViaSMS",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"canShareViaEmail",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareViaEmail",null),SocialSharing=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-x-socialsharing",pluginRef:"plugins.socialsharing",repo:"https://github.com/EddyVerbruggen/SocialSharing-PhoneGap-Plugin",platforms:["iOS","Android","Windows Phone"]})],SocialSharing)}();exports.SocialSharing=SocialSharing},{"./plugin":598}],609:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),SpinnerDialog=function(){function SpinnerDialog(){}return SpinnerDialog.show=function(title,message,cancelCallback,iOSOptions){},SpinnerDialog.hide=function(){},__decorate([plugin_1.Cordova({sync:!0})],SpinnerDialog,"show",null),__decorate([plugin_1.Cordova({sync:!0})],SpinnerDialog,"hide",null),SpinnerDialog=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-spinner-dialog",pluginRef:"window.plugins.spinnerDialog",repo:"https://github.com/Paldom/SpinnerDialog",platforms:["Android","iOS","Windows Phone 8"]})],SpinnerDialog)}();exports.SpinnerDialog=SpinnerDialog},{"./plugin":598}],610:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Splashscreen=function(){function Splashscreen(){}return Splashscreen.show=function(){},Splashscreen.hide=function(){},__decorate([plugin_1.Cordova({sync:!0})],Splashscreen,"show",null),__decorate([plugin_1.Cordova({sync:!0})],Splashscreen,"hide",null),Splashscreen=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-splashscreen",pluginRef:"navigator.splashscreen",repo:"https://github.com/apache/cordova-plugin-splashscreen"})],Splashscreen)}();exports.Splashscreen=Splashscreen},{"./plugin":598}],611:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),SQLite=function(){function SQLite(){}return Object.defineProperty(SQLite.prototype,"databaseFeatures",{get:function(){return this._objectInstance.databaseFeatures},enumerable:!0,configurable:!0}),SQLite.prototype.openDatabase=function(config){var _this=this;return new Promise(function(resolve,reject){sqlitePlugin.openDatabase(config,function(db){_this._objectInstance=db,resolve(db)},function(error){console.warn(error),reject(error)})})},SQLite.prototype.addTransaction=function(transaction){},SQLite.prototype.transaction=function(fn){},SQLite.prototype.readTransaction=function(fn){},SQLite.prototype.startNextTransaction=function(){},SQLite.prototype.close=function(){},SQLite.prototype.start=function(){},SQLite.prototype.executeSql=function(statement,params){},SQLite.prototype.addStatement=function(sql,values){},SQLite.prototype.sqlBatch=function(sqlStatements){},SQLite.prototype.abortallPendingTransactions=function(){},SQLite.prototype.handleStatementSuccess=function(handler,response){},SQLite.prototype.handleStatementFailure=function(handler,response){},SQLite.prototype.run=function(){},SQLite.prototype.abort=function(txFailure){},SQLite.prototype.finish=function(){},SQLite.prototype.abortFromQ=function(sqlerror){},SQLite.echoTest=function(){},SQLite.deleteDatabase=function(first){},__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"addTransaction",null),__decorate([plugin_1.CordovaInstance()],SQLite.prototype,"transaction",null),__decorate([plugin_1.CordovaInstance()],SQLite.prototype,"readTransaction",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"startNextTransaction",null),__decorate([plugin_1.CordovaInstance()],SQLite.prototype,"close",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"start",null),__decorate([plugin_1.CordovaInstance()],SQLite.prototype,"executeSql",null),__decorate([plugin_1.CordovaInstance()],SQLite.prototype,"addStatement",null),__decorate([plugin_1.CordovaInstance()],SQLite.prototype,"sqlBatch",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"abortallPendingTransactions",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"handleStatementSuccess",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"handleStatementFailure",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"run",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"abort",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"finish",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"abortFromQ",null),__decorate([plugin_1.Cordova()],SQLite,"echoTest",null),__decorate([plugin_1.Cordova()],SQLite,"deleteDatabase",null),SQLite=__decorate([plugin_1.Plugin({pluginRef:"sqlitePlugin",plugin:"cordova-sqlite-storage",repo:"https://github.com/litehelpers/Cordova-sqlite-storage"})],SQLite)}();exports.SQLite=SQLite},{"./plugin":598}],612:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),StatusBar=function(){function StatusBar(){}return StatusBar.overlaysWebView=function(doesOverlay){},StatusBar.styleDefault=function(){},StatusBar.styleLightContent=function(){},StatusBar.styleBlackTranslucent=function(){},StatusBar.styleBlackOpaque=function(){},StatusBar.backgroundColorByName=function(colorName){},StatusBar.backgroundColorByHexString=function(hexString){},StatusBar.hide=function(){},StatusBar.show=function(){},Object.defineProperty(StatusBar,"isVisible",{get:function(){return window.StatusBar.isVisible},enumerable:!0,configurable:!0}),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"overlaysWebView",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"styleDefault",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"styleLightContent",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"styleBlackTranslucent",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"styleBlackOpaque",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"backgroundColorByName",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"backgroundColorByHexString",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"hide",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"show",null),__decorate([plugin_1.CordovaProperty],StatusBar,"isVisible",null),StatusBar=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-statusbar",pluginRef:"StatusBar",repo:"https://github.com/apache/cordova-plugin-statusbar",platforms:["iOS","Android","Windows Phone 8","Windows 8","Windows 10"]})],StatusBar)}();exports.StatusBar=StatusBar},{"./plugin":598}],613:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),TextToSpeech=function(){function TextToSpeech(){}return TextToSpeech.speak=function(options){},__decorate([plugin_1.Cordova({successIndex:1,errorIndex:2})],TextToSpeech,"speak",null),TextToSpeech=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-tts",pluginRef:"TTS",repo:"https://github.com/vilic/cordova-plugin-tts"})],TextToSpeech)}();exports.TextToSpeech=TextToSpeech},{"./plugin":598}],614:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Toast=function(){function Toast(){}return Toast.show=function(message,duration,position){},Toast.hide=function(){},Toast.showWithOptions=function(options){},Toast.showShortTop=function(message){},Toast.showShortCenter=function(message){},Toast.showShortBottom=function(message){},Toast.showLongTop=function(message){},Toast.showLongCenter=function(message){},Toast.showLongBottom=function(message){},__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"show",null),__decorate([plugin_1.Cordova()],Toast,"hide",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"showWithOptions",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"showShortTop",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"showShortCenter",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"showShortBottom",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"showLongTop",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"showLongCenter",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"showLongBottom",null),Toast=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-x-toast",pluginRef:"plugins.toast",repo:"https://github.com/EddyVerbruggen/Toast-PhoneGap-Plugin",platforms:["Android","iOS","Windows Phone 8"]})],Toast)}();exports.Toast=Toast},{"./plugin":598}],615:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),TouchID=function(){function TouchID(){}return TouchID.isAvailable=function(){},TouchID.verifyFingerprint=function(message){},TouchID.verifyFingerprintWithCustomPasswordFallback=function(message){},TouchID.verifyFingerprintWithCustomPasswordFallbackAndEnterPasswordLabel=function(message,enterPasswordLabel){},__decorate([plugin_1.Cordova()],TouchID,"isAvailable",null),__decorate([plugin_1.Cordova()],TouchID,"verifyFingerprint",null),__decorate([plugin_1.Cordova()],TouchID,"verifyFingerprintWithCustomPasswordFallback",null),__decorate([plugin_1.Cordova()],TouchID,"verifyFingerprintWithCustomPasswordFallbackAndEnterPasswordLabel",null),TouchID=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-touch-id",pluginRef:"plugins.touchid",repo:"https://github.com/EddyVerbruggen/cordova-plugin-touch-id",platforms:["iOS"]})],TouchID)}();exports.TouchID=TouchID},{"./plugin":598}],616:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),TwitterConnect=function(){function TwitterConnect(){}return TwitterConnect.login=function(){},TwitterConnect.logout=function(){},__decorate([plugin_1.Cordova()],TwitterConnect,"login",null),__decorate([plugin_1.Cordova()],TwitterConnect,"logout",null),TwitterConnect=__decorate([plugin_1.Plugin({plugin:"twitter-connect-plugin",pluginRef:"TwitterConnect",repo:"https://github.com/ManifestWebDesign/twitter-connect-plugin",install:"ionic plugin add twitter-connect-plugin --variable FABRIC_KEY=fabric_API_key"})],TwitterConnect)}();exports.TwitterConnect=TwitterConnect},{"./plugin":598}],617:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Vibration=function(){function Vibration(){}return Vibration.vibrate=function(time){},__decorate([plugin_1.Cordova({sync:!0})],Vibration,"vibrate",null),Vibration=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-vibration",pluginRef:"navigator",repo:"https://github.com/apache/cordova-plugin-vibration",platforms:["Android","iOS","Windows 8.1 Phone","Windows 8.1","Windows 10"]})],Vibration)}();exports.Vibration=Vibration},{"./plugin":598}],618:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),VideoPlayer=function(){function VideoPlayer(){}return VideoPlayer.play=function(fileUrl,options){},VideoPlayer.close=function(){},__decorate([plugin_1.Cordova()],VideoPlayer,"play",null),__decorate([plugin_1.Cordova({sync:!0})],VideoPlayer,"close",null),VideoPlayer=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-videoplayer",pluginRef:"VideoPlayer",repo:"https://github.com/moust/cordova-plugin-videoplayer",platforms:["Android"]})],VideoPlayer)}();exports.VideoPlayer=VideoPlayer},{"./plugin":598}],619:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),WebIntent=function(){function WebIntent(){}return Object.defineProperty(WebIntent,"ACTION_VIEW",{get:function(){return window.plugins.webintent.ACTION_VIEW},enumerable:!0,configurable:!0}),Object.defineProperty(WebIntent,"EXTRA_TEXT",{get:function(){return window.plugins.webintent.EXTRA_TEXT},enumerable:!0,configurable:!0}),WebIntent.startActivity=function(options){},WebIntent.hasExtra=function(extra){},WebIntent.getExtra=function(extra){},WebIntent.getUri=function(){},WebIntent.onNewIntent=function(){},WebIntent.sendBroadcast=function(options){},__decorate([plugin_1.CordovaProperty],WebIntent,"ACTION_VIEW",null),__decorate([plugin_1.CordovaProperty],WebIntent,"EXTRA_TEXT",null),__decorate([plugin_1.Cordova()],WebIntent,"startActivity",null),__decorate([plugin_1.Cordova()],WebIntent,"hasExtra",null),__decorate([plugin_1.Cordova()],WebIntent,"getExtra",null),__decorate([plugin_1.Cordova()],WebIntent,"getUri",null),__decorate([plugin_1.Cordova()],WebIntent,"onNewIntent",null),__decorate([plugin_1.Cordova()],WebIntent,"sendBroadcast",null),WebIntent=__decorate([plugin_1.Plugin({plugin:"https://github.com/Initsogar/cordova-webintent.git",pluginRef:"window.plugins.webintent",repo:"https://github.com/Initsogar/cordova-webintent.git",platforms:["Android"]})],WebIntent)}();exports.WebIntent=WebIntent},{"./plugin":598}],620:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Zip=function(){function Zip(){}return Zip.unzip=function(sourceZip,destUrl,onProgress){},__decorate([plugin_1.Cordova({successIndex:2,errorIndex:4})],Zip,"unzip",null),Zip=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-zip",pluginRef:"zip",repo:"https://github.com/MobileChromeApps/cordova-plugin-zip"})],Zip)}();exports.Zip=Zip},{"./plugin":598}],621:[function(require,module,exports){"use strict";function get(obj,path){for(var i=0,path=path.split("."),len=path.length;i<len;i++){if(!obj)return null;obj=obj[path[i]]}return obj}exports.get=get},{}],622:[function(require,module,exports){(function(global){(function(){function addMapEntry(map,pair){return map.set(pair[0],pair[1]),map}function addSetEntry(set,value){return set.add(value),set}function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){for(var index=-1,length=array?array.length:0;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){for(var index=-1,length=array?array.length:0;++index<length&&iteratee(array[index],index,array)!==!1;);return array}function arrayEachRight(array,iteratee){for(var length=array?array.length:0;length--&&iteratee(array[length],length,array)!==!1;);return array}function arrayEvery(array,predicate){for(var index=-1,length=array?array.length:0;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayFilter(array,predicate){for(var index=-1,length=array?array.length:0,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function arrayIncludes(array,value){var length=array?array.length:0;return!!length&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){for(var index=-1,length=array?array.length:0;++index<length;)if(comparator(value,array[index]))return!0;return!1}function arrayMap(array,iteratee){for(var index=-1,length=array?array.length:0,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array?array.length:0;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array?array.length:0;for(initAccum&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=array?array.length:0;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function asciiToArray(string){return string.split("")}function asciiWords(string){return string.match(reAsciiWord)||[]}function baseFindKey(collection,predicate,eachFunc){var result;return eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection))return result=key,!1}),result}function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return baseFindIndex(array,baseIsNaN,fromIndex);for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function baseIndexOfWith(array,value,fromIndex,comparator){for(var index=fromIndex-1,length=array.length;++index<length;)if(comparator(array[index],value))return index;return-1}function baseIsNaN(value){return value!==value}function baseMean(array,iteratee){var length=array?array.length:0;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyOf(object){return function(key){return null==object?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}function baseSum(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);current!==undefined&&(result=result===undefined?current:result+current)}return result}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function countHolders(array,placeholder){for(var length=array.length,result=0;length--;)array[length]===placeholder&&result++;return result}function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function getValue(object,key){return null==object?undefined:object[key]}function hasUnicode(string){return reHasUnicode.test(string)}function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function iteratorToArray(iterator){for(var data,result=[];!(data=iterator.next()).done;)result.push(data.value);return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];value!==placeholder&&value!==PLACEHOLDER||(array[index]=PLACEHOLDER,result[resIndex++]=index)}return result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function setToPairs(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=[value,value]}),result}function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}function unicodeSize(string){for(var result=reUnicode.lastIndex=0;reUnicode.test(string);)result++;return result}function unicodeToArray(string){return string.match(reUnicode)||[]}function unicodeWords(string){return string.match(reUnicodeWord)||[]}function runInContext(context){function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value,this.__actions__=[],this.__chain__=!!chainAll,this.__index__=0,this.__values__=undefined}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=MAX_ARRAY_LENGTH,this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=copyArray(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=copyArray(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=copyArray(this.__views__),result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else result=this.clone(),result.__dir__*=-1;return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);
if(!isArr||arrLength<LARGE_ARRAY_SIZE||arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:for(;length--&&resIndex<takeCount;){index+=dir;for(var iterIndex=-1,value=array[index];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed){if(type==LAZY_FILTER_FLAG)continue outer;break outer}}result[resIndex++]=value}return result}function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(key){return this.has(key)&&delete this.__data__[key]}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;return data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value,this}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),!0}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){return getMapData(this,key)["delete"](key)}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this}function SetCache(values){var index=-1,length=values?values.length:0;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this}function setCacheHas(value){return this.__data__.has(value)}function Stack(entries){this.__data__=new ListCache(entries)}function stackClear(){this.__data__=new ListCache}function stackDelete(key){return this.__data__["delete"](key)}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var cache=this.__data__;if(cache instanceof ListCache){var pairs=cache.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this;cache=this.__data__=new MapCache(pairs)}return cache.set(key,value),this}function arrayLikeKeys(value,inherited){var result=isArray(value)||isArguments(value)?baseTimes(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isIndex(key,length))||result.push(key);return result}function assignInDefaults(objValue,srcValue,key,object){return objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)?srcValue:objValue}function assignMergeValue(object,key,value){(value===undefined||eq(object[key],value))&&("number"!=typeof key||value!==undefined||key in object)||(object[key]=value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(value!==undefined||key in object)||(object[key]=value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseAggregator(collection,setter,iteratee,accumulator){return baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)}),accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAt(object,paths){for(var index=-1,isNil=null==object,length=paths.length,result=Array(length);++index<length;)result[index]=isNil?undefined:get(object,paths[index]);return result}function baseClamp(number,lower,upper){return number===number&&(upper!==undefined&&(number=number<=upper?number:upper),lower!==undefined&&(number=number>=lower?number:lower)),number}function baseClone(value,isDeep,isFull,customizer,key,object,stack){var result;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(isHostObject(value))return object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,baseClone,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;if(stack.set(value,result),!isArr)var props=isFull?getAllKeys(value):keys(value);return arrayEach(props||value,function(subValue,key){props&&(key=subValue,subValue=value[key]),assignValue(result,key,baseClone(subValue,isDeep,isFull,customizer,key,value,stack))}),result}function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}function baseConformsTo(object,source,props){var length=props.length;if(null==object)return!length;for(object=Object(object);length--;){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value))return!1}return!0}function baseCreate(proto){return isObject(proto)?objectCreate(proto):{}}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=LARGE_ARRAY_SIZE&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed===computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}function baseExtremum(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var value=array[index],current=iteratee(value);if(null!=current&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed)))var computed=current,result=value}return result}function baseFill(array,value,start,end){var length=array.length;for(start=toInteger(start),start<0&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:toInteger(end),end<0&&(end+=length),end=start>end?0:toLength(end);start<end;)array[start++]=value;return array}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=isKey(path,object)?[path]:castPath(path);for(var index=0,length=path.length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){return objectToString.call(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return null!=object&&key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){for(var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=1/0,result=[];othIndex--;){var array=arrays[othIndex];othIndex&&iteratee&&(array=arrayMap(array,baseUnary(iteratee))),maxLength=nativeMin(array.length,maxLength),caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:for(;++index<length&&result.length<maxLength;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){for(othIndex=othLength;--othIndex;){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator)))continue outer}seen&&seen.push(computed),result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){return baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)}),accumulator}function baseInvoke(object,path,args){isKey(path,object)||(path=castPath(path),object=parent(object,path),path=last(path));var func=null==object?object:object[toKey(path)];return null==func?undefined:apply(func,object,args)}function baseIsArrayBuffer(value){return isObjectLike(value)&&objectToString.call(value)==arrayBufferTag}function baseIsDate(value){return isObjectLike(value)&&objectToString.call(value)==dateTag}function baseIsEqual(value,other,customizer,bitmask,stack){return value===other||(null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,bitmask,stack))}function baseIsEqualDeep(object,other,equalFunc,customizer,bitmask,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=getTag(object),objTag=objTag==argsTag?objectTag:objTag),othIsArr||(othTag=getTag(other),othTag=othTag==argsTag?objectTag:othTag);var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,equalFunc,customizer,bitmask,stack):equalByTag(object,other,objTag,equalFunc,customizer,bitmask,stack);if(!(bitmask&PARTIAL_COMPARE_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,customizer,bitmask,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,equalFunc,customizer,bitmask,stack))}function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG,stack):result))return!1}}return!0}function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsRegExp(value){return isObject(value)&&objectToString.call(value)==regexpTag}function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)]}function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,undefined,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){if(object!==source){if(!isArray(source)&&!isTypedArray(source))var props=baseKeysIn(source);arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObject(srcValue))stack||(stack=new Stack),baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(object[key],srcValue,key+"",object,source,stack):undefined;newValue===undefined&&(newValue=srcValue),assignMergeValue(object,key,newValue)}})}}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked)return void assignMergeValue(object,key,stacked);var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined,isCommon=newValue===undefined;isCommon&&(newValue=srcValue,isArray(srcValue)||isTypedArray(srcValue)?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):(isCommon=!1,newValue=baseClone(srcValue,!0)):isPlainObject(srcValue)||isArguments(srcValue)?isArguments(objValue)?newValue=toPlainObject(objValue):!isObject(objValue)||srcIndex&&isFunction(objValue)?(isCommon=!1,newValue=baseClone(srcValue,!0)):newValue=objValue:isCommon=!1),isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack["delete"](srcValue)),assignMergeValue(object,key,newValue)}function baseNth(array,n){var length=array.length;if(length)return n+=n<0?length:0,isIndex(n,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee()));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,props){return object=Object(object),basePickBy(object,props,function(value,key){return key in object})}function basePickBy(object,props,predicate){for(var index=-1,length=props.length,result={};++index<length;){var key=props[index],value=object[key];predicate(value,key)&&(result[key]=value)}return result}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;for(array===values&&(values=copyArray(values)),iteratee&&(seen=arrayMap(array,baseUnary(iteratee)));++index<length;)for(var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;(fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1;)seen!==array&&splice.call(seen,fromIndex,1),splice.call(array,fromIndex,1);return array}function basePullAt(array,indexes){for(var length=array?indexes.length:0,lastIndex=length-1;length--;){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;if(isIndex(index))splice.call(array,index,1);else if(isKey(index,array))delete array[toKey(index)];else{var path=castPath(index),object=parent(array,path);null!=object&&delete object[toKey(last(path))]}}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}function baseRepeat(string,n){var result="";if(!string||n<1||n>MAX_SAFE_INTEGER)return result;do n%2&&(result+=string),n=nativeFloor(n/2),n&&(string+=string);while(n);return result}function baseRest(func,start){return start=nativeMax(start===undefined?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=array,apply(func,this,otherArgs)}}function baseSet(object,path,value,customizer){if(!isObject(object))return object;path=isKey(path,object)?[path]:castPath(path);for(var index=-1,length=path.length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined,newValue===undefined&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),end=end>length?length:end,end<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){for(;low<high;){var mid=low+high>>>1,computed=array[mid];null!==computed&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)?low=mid+1:high=mid}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsNull=null===value,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;low<high;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=null===computed,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN)var setLow=retHighest||othIsReflexive;else setLow=valIsUndefined?othIsReflexive&&(retHighest||othIsDefined):valIsNull?othIsReflexive&&othIsDefined&&(retHighest||!othIsNull):valIsSymbol?othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol):!othIsNull&&!othIsSymbol&&(retHighest?computed<=value:computed<value);setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array,iteratee){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=0===value?0:value}}return result}function baseToNumber(value){return"number"==typeof value?value:isSymbol(value)?NAN:+value}function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed===computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}function baseUnset(object,path){path=isKey(path,object)?[path]:castPath(path),object=parent(object,path);var key=toKey(last(path));return!(null!=object&&hasOwnProperty.call(object,key))||delete object[key]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;return result instanceof LazyWrapper&&(result=result.value()),arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){for(var index=-1,length=arrays.length;++index<length;)var result=result?arrayPush(baseDifference(result,arrays[index],iteratee,comparator),baseDifference(arrays[index],result,iteratee,comparator)):arrays[index];return result&&result.length?baseUniq(result,iteratee,comparator):[]}function baseZipObject(props,values,assignFunc){for(var index=-1,length=props.length,valsLength=values.length,result={};++index<length;){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return"function"==typeof value?value:identity}function castPath(value){return isArray(value)?value:stringToPath(value)}function castSlice(array,start,end){var length=array.length;return end=end===undefined?length:end,!start&&end>=length?array:baseSlice(array,start,end)}function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var result=new buffer.constructor(buffer.length);return buffer.copy(result),result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneMap(map,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray(map),!0):mapToArray(map);return arrayReduce(array,addMapEntry,new map.constructor)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray(set),!0):setToArray(set);return arrayReduce(array,addSetEntry,new set.constructor)}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=null===value,valIsReflexive=value===value,valIsSymbol=isSymbol(value),othIsDefined=other!==undefined,othIsNull=null===other,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;var order=orders[index];return result*("desc"==order?-1:1)}}return object.index-other.index}function composeArgs(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[holders[argsIndex]]=args[argsIndex]);for(;rangeLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;++argsIndex<rangeLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[offset+holders[holdersIndex]]=args[argsIndex++]);return result}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function copyObject(source,props,object,customizer){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;assignValue(object,key,newValue===undefined?source[key]:newValue)}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):undefined,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?undefined:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createBind(func,bitmask,thisArg){function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}var isBind=bitmask&BIND_FLAG,Ctor=createCtor(func);return wrapper}function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):undefined,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(func,bitmask,arity){function wrapper(){for(var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);index--;)args[index]=arguments[index];
var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);if(length-=holders.length,length<arity)return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length);var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}var Ctor=createCtor(func);return wrapper}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}function createFlow(fromRight){return baseRest(function(funcs){funcs=baseFlatten(funcs,1);var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;for(fromRight&&funcs.reverse();index--;){var func=funcs[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(prereq&&!wrapper&&"wrapper"==getFuncName(func))var wrapper=new LodashWrapper([],(!0))}for(index=wrapper?index:length;++index<length;){func=funcs[index];var funcName=getFuncName(func),data="wrapper"==funcName?getData(func):undefined;wrapper=data&&isLaziable(data[0])&&data[1]==(ARY_FLAG|CURRY_FLAG|PARTIAL_FLAG|REARG_FLAG)&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value)&&value.length>=LARGE_ARRAY_SIZE)return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}})}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){function wrapper(){for(var length=arguments.length,args=Array(length),index=length;index--;)args[index]=arguments[index];if(isCurried)var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder);if(partials&&(args=composeArgs(args,partials,holders,isCurried)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight,isCurried)),length-=holdersCount,isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return length=args.length,argPos?args=reorder(args,argPos):isFlip&&length>1&&args.reverse(),isAry&&ary<length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtor(fn)),fn.apply(thisBinding,args)}var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurried=bitmask&(CURRY_FLAG|CURRY_RIGHT_FLAG),isFlip=bitmask&FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined)return defaultValue;if(value!==undefined&&(result=value),other!==undefined){if(result===undefined)return other;"string"==typeof value||"string"==typeof other?(value=baseToString(value),other=baseToString(other)):(value=baseToNumber(value),other=baseToNumber(other)),result=operator(value,other)}return result}}function createOver(arrayFunc){return baseRest(function(iteratees){return iteratees=1==iteratees.length&&isArray(iteratees[0])?arrayMap(iteratees[0],baseUnary(getIteratee())):arrayMap(baseFlatten(iteratees,1),baseUnary(getIteratee())),baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(length,chars){chars=chars===undefined?" ":baseToString(chars);var charsLength=chars.length;if(charsLength<2)return charsLength?baseRepeat(chars,length):chars;var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createPartial(func,bitmask,thisArg,partials){function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];return apply(fn,isBind?thisArg:this,args)}var isBind=bitmask&BIND_FLAG,Ctor=createCtor(func);return wrapper}function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=undefined),start=toFinite(start),end===undefined?(end=start,start=0):end=toFinite(end),step=step===undefined?start<end?1:-1:toFinite(step),baseRange(start,end,step,fromRight)}}function createRelationalOperation(operator){return function(value,other){return"string"==typeof value&&"string"==typeof other||(value=toNumber(value),other=toNumber(other)),operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&CURRY_FLAG,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG,bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG),bitmask&CURRY_BOUND_FLAG||(bitmask&=~(BIND_FLAG|BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity],result=wrapFunc.apply(undefined,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){if(number=toNumber(number),precision=nativeMin(toInteger(precision),292)){var pair=(toString(number)+"e").split("e"),value=func(pair[0]+"e"+(+pair[1]+precision));return pair=(toString(value)+"e").split("e"),+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}function createToPairs(keysFunc){return function(object){var tag=getTag(object);return tag==mapTag?mapToArray(object):tag==setTag?setToPairs(object):baseToPairs(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG),partials=holders=undefined),ary=ary===undefined?ary:nativeMax(toInteger(ary),0),arity=arity===undefined?arity:toInteger(arity),length-=holders?holders.length:0,bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&mergeData(newData,data),func=newData[0],bitmask=newData[1],thisArg=newData[2],partials=newData[3],holders=newData[4],arity=newData[9]=null==newData[9]?isBindKey?0:func.length:nativeMax(newData[9]-length,0),!arity&&bitmask&(CURRY_FLAG|CURRY_RIGHT_FLAG)&&(bitmask&=~(CURRY_FLAG|CURRY_RIGHT_FLAG)),bitmask&&bitmask!=BIND_FLAG)result=bitmask==CURRY_FLAG||bitmask==CURRY_RIGHT_FLAG?createCurry(func,bitmask,arity):bitmask!=PARTIAL_FLAG&&bitmask!=(BIND_FLAG|PARTIAL_FLAG)||holders.length?createHybrid.apply(undefined,newData):createPartial(func,bitmask,thisArg,partials);else var result=createBind(func,bitmask,thisArg);var setter=data?baseSetData:setData;return setWrapToString(setter(result,newData),func,bitmask)}function equalArrays(array,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&UNORDERED_COMPARE_FLAG?new SetCache:undefined;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(compared!==undefined){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!seen.has(othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,customizer,bitmask,stack)))return seen.add(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,bitmask,stack)){result=!1;break}}return stack["delete"](array),stack["delete"](other),result}function equalByTag(object,other,tag,equalFunc,customizer,bitmask,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&PARTIAL_COMPARE_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=UNORDERED_COMPARE_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),equalFunc,customizer,bitmask,stack);return stack["delete"](object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}function equalObjects(object,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,customizer,bitmask,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack["delete"](object),stack["delete"](other),result}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}function getFuncName(func){for(var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getHolder(func){var object=hasOwnProperty.call(lodash,"placeholder")?lodash:func;return object.placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;return result=result===iteratee?baseIteratee:result,arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}function getView(start,end,transforms){for(var index=-1,length=transforms.length;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}function hasPath(object,path,hasFunc){path=isKey(path,object)?[path]:castPath(path);for(var result,index=-1,length=path.length;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}if(result)return result;var length=object?object.length:0;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor((+object));case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object,isDeep,cloneFunc);case symbolTag:return cloneSymbol(object)}}function insertWrapDetails(source,details){var length=details.length,lastIndex=length-1;return details[lastIndex]=(length>1?"& ":"")+details[lastIndex],details=details.join(length>2?", ":" "),source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){return length=null==length?MAX_SAFE_INTEGER:length,!!length&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"!=typeof other||!(funcName in LazyWrapper.prototype))return!1;if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(srcValue!==undefined||key in Object(object)))}}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(BIND_FLAG|BIND_KEY_FLAG|ARY_FLAG),isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&source[7].length<=source[8]&&bitmask==CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value,data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}return value=source[5],value&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):value,data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]),value=source[7],value&&(data[7]=value),srcBitmask&ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask,data}function mergeDefaults(objValue,srcValue,key,object,source,stack){return isObject(objValue)&&isObject(srcValue)&&(stack.set(srcValue,objValue),baseMerge(objValue,srcValue,undefined,mergeDefaults,stack),stack["delete"](srcValue)),objValue}function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}function parent(object,path){return 1==path.length?object:baseGet(object,baseSlice(path,0,-1))}function reorder(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function updateWrapDetails(details,bitmask){return arrayEach(wrapFlags,function(pair){var value="_."+pair[0];bitmask&pair[1]&&!arrayIncludes(details,value)&&details.push(value)}),details.sort()}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);return result.__actions__=copyArray(wrapper.__actions__),result.__index__=wrapper.__index__,result.__values__=wrapper.__values__,result}function chunk(array,size,guard){size=(guard?isIterateeCall(array,size,guard):size===undefined)?1:nativeMax(toInteger(size),0);var length=array?array.length:0;if(!length||size<1)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));index<length;)result[resIndex++]=baseSlice(array,index,index+=size);return result}function compact(array){for(var index=-1,length=array?array.length:0,resIndex=0,result=[];++index<length;){var value=array[index];value&&(result[resIndex++]=value)}return result}function concat(){for(var length=arguments.length,args=Array(length?length-1:0),array=arguments[0],index=length;index--;)args[index-1]=arguments[index];return length?arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1)):[]}function drop(array,n,guard){var length=array?array.length:0;return length?(n=guard||n===undefined?1:toInteger(n),baseSlice(array,n<0?0:n,length)):[]}function dropRight(array,n,guard){var length=array?array.length:0;return length?(n=guard||n===undefined?1:toInteger(n),n=length-n,baseSlice(array,0,n<0?0:n)):[]}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0,!0):[]}function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0):[]}function fill(array,value,start,end){var length=array?array.length:0;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),baseFill(array,value,start,end)):[]}function findIndex(array,predicate,fromIndex){var length=array?array.length:0;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=array?array.length:0;if(!length)return-1;var index=length-1;return fromIndex!==undefined&&(index=toInteger(fromIndex),index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)),baseFindIndex(array,getIteratee(predicate,3),index,!0)}function flatten(array){var length=array?array.length:0;return length?baseFlatten(array,1):[]}function flattenDeep(array){var length=array?array.length:0;return length?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){var length=array?array.length:0;return length?(depth=depth===undefined?1:toInteger(depth),baseFlatten(array,depth)):[]}function fromPairs(pairs){for(var index=-1,length=pairs?pairs.length:0,result={};++index<length;){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array&&array.length?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseIndexOf(array,value,index)}function initial(array){var length=array?array.length:0;return length?baseSlice(array,0,-1):[]}function join(array,separator){return array?nativeJoin.call(array,separator):""}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;var index=length;if(fromIndex!==undefined&&(index=toInteger(fromIndex),index=(index<0?nativeMax(length+index,0):nativeMin(index,length-1))+1),value!==value)return baseFindIndex(array,baseIsNaN,index-1,!0);for(;index--;)if(array[index]===value)return index;return-1}function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined}function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array}function remove(array,predicate){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getIteratee(predicate,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result}function reverse(array){return array?nativeReverse.call(array):array}function slice(array,start,end){var length=array?array.length:0;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)?(start=0,end=length):(start=null==start?0:toInteger(start),end=end===undefined?length:toInteger(end)),baseSlice(array,start,end)):[]}function sortedIndex(array,value){return baseSortedIndex(array,value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))}function sortedIndexOf(array,value){var length=array?array.length:0;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value))return index}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,!0)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),!0)}function sortedLastIndexOf(array,value){var length=array?array.length:0;if(length){var index=baseSortedIndex(array,value,!0)-1;if(eq(array[index],value))return index}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]}function tail(array){var length=array?array.length:0;return length?baseSlice(array,1,length):[]}function take(array,n,guard){return array&&array.length?(n=guard||n===undefined?1:toInteger(n),baseSlice(array,0,n<0?0:n)):[]}function takeRight(array,n,guard){var length=array?array.length:0;return length?(n=guard||n===undefined?1:toInteger(n),n=length-n,baseSlice(array,n<0?0:n,length)):[]}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!1,!0):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}function uniq(array){return array&&array.length?baseUniq(array):[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]}function uniqWith(array,comparator){return array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!array||!array.length)return[];var length=0;return array=arrayFilter(array,function(group){if(isArrayLikeObject(group))return length=nativeMax(group.length,length),!0}),baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!array||!array.length)return[];var result=unzip(array);return null==iteratee?result:arrayMap(result,function(group){return apply(iteratee,undefined,group)})}function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}function chain(value){var result=lodash(value);return result.__chain__=!0,result}function tap(value,interceptor){return interceptor(value),value}function thru(value,interceptor){return interceptor(value)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperNext(){this.__values__===undefined&&(this.__values__=toArray(this.value()));var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{done:done,value:value}}function wrapperToIterator(){return this}function wrapperPlant(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);clone.__index__=0,clone.__values__=undefined,result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;return this.__actions__.length&&(wrapped=new LazyWrapper(this)),wrapped=wrapped.reverse(),wrapped.__actions__.push({func:thru,args:[reverse],thisArg:undefined}),new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))}function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3))}function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)}function flatMapDepth(collection,iteratee,depth){return depth=depth===undefined?1:toInteger(depth),baseFlatten(map(collection,iteratee),depth)}function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){var func=isArray(collection)?arrayEachRight:baseEachRight;return func(collection,getIteratee(iteratee,3))}function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection),fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;return fromIndex<0&&(fromIndex=nativeMax(length+fromIndex,0)),isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){return null==collection?[]:(isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),orders=guard?undefined:orders,isArray(orders)||(orders=null==orders?[]:[orders]),baseOrderBy(collection,iteratees,orders))}function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,negate(getIteratee(predicate,3)))}function sample(collection){var array=isArrayLike(collection)?collection:values(collection),length=array.length;return length>0?array[baseRandom(0,length-1)]:undefined}function sampleSize(collection,n,guard){var index=-1,result=toArray(collection),length=result.length,lastIndex=length-1;for(n=(guard?isIterateeCall(collection,n,guard):n===undefined)?1:baseClamp(toInteger(n),0,length);++index<n;){var rand=baseRandom(index,lastIndex),value=result[rand];result[rand]=result[index],result[index]=value}return result.length=n,result}function shuffle(collection){return sampleSize(collection,MAX_ARRAY_LENGTH)}function size(collection){if(null==collection)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);return tag==mapTag||tag==setTag?collection.size:baseKeys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))}function after(n,func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){if(--n<1)return func.apply(this,arguments)}}function ary(func,n,guard){return n=guard?undefined:n,n=func&&null==n?func.length:n,createWrap(func,ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=undefined),result}}function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);return result.placeholder=curry.placeholder,result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);return result.placeholder=curryRight.placeholder,result}function debounce(func,wait,options){function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=undefined,lastInvokeTime=time,result=func.apply(thisArg,args)}function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result=wait-timeSinceLastCall;
return maxing?nativeMin(result,maxWait-timeSinceLastInvoke):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();return shouldInvoke(time)?trailingEdge(time):void(timerId=setTimeout(timerExpired,remainingWait(time)))}function trailingEdge(time){return timerId=undefined,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=undefined,result)}function cancel(){timerId!==undefined&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(timerId===undefined)return leadingEdge(lastCallTime);if(maxing)return timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return timerId===undefined&&(timerId=setTimeout(timerExpired,wait)),result}var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxing="maxWait"in options,maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=cancel,debounced.flush=flush,debounced}function flip(func){return createWrap(func,FLIP_FLAG)}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}function once(func){return before(2,func)}function rest(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=start===undefined?start:toInteger(start),baseRest(func,start)}function spread(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=start===undefined?0:nativeMax(toInteger(start),0),baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);return array&&arrayPush(otherArgs,array),apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){return wrapper=null==wrapper?identity:wrapper,partial(wrapper,value)}function castArray(){if(!arguments.length)return[];var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,!1,!0)}function cloneWith(value,customizer){return baseClone(value,!1,!0,customizer)}function cloneDeep(value){return baseClone(value,!0,!0)}function cloneDeepWith(value,customizer){return baseClone(value,!0,!0,customizer)}function conformsTo(object,source){return null==source||baseConformsTo(object,source,keys(source))}function eq(value,other){return value===other||value!==value&&other!==other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return value===!0||value===!1||isObjectLike(value)&&objectToString.call(value)==boolTag}function isElement(value){return!!value&&1===value.nodeType&&isObjectLike(value)&&!isPlainObject(value)}function isEmpty(value){if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isArguments(value)))return!value.length;var tag=getTag(value);if(tag==mapTag||tag==setTag)return!value.size;if(nonEnumShadows||isPrototype(value))return!nativeKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer="function"==typeof customizer?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result}function isError(value){return!!isObjectLike(value)&&(objectToString.call(value)==errorTag||"string"==typeof value.message&&"string"==typeof value.name)}function isFinite(value){return"number"==typeof value&&nativeIsFinite(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isInteger(value){return"number"==typeof value&&value==toInteger(value)}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){return customizer="function"==typeof customizer?customizer:undefined,baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(isMaskable(value))throw new Error("This method is not supported with core-js. Try https://github.com/es-shims.");return baseIsNative(value)}function isNull(value){return null===value}function isNil(value){return null==value}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&objectToString.call(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||objectToString.call(value)!=objectTag||isHostObject(value))return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER}function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&objectToString.call(value)==stringTag}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&objectToString.call(value)==weakSetTag}function toArray(value){if(!value)return[];if(isArrayLike(value))return isString(value)?stringToArray(value):copyArray(value);if(iteratorSymbol&&value[iteratorSymbol])return iteratorToArray(value[iteratorSymbol]());var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:values;return func(value)}function toFinite(value){if(!value)return 0===value?value:0;if(value=toNumber(value),value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER)}function toString(value){return null==value?"":baseToString(value)}function create(prototype,properties){var result=baseCreate(prototype);return properties?baseAssign(result,properties):result}function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)}function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)}function forIn(object,iteratee){return null==object?object:baseFor(object,getIteratee(iteratee,3),keysIn)}function forInRight(object,iteratee){return null==object?object:baseForRight(object,getIteratee(iteratee,3),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))}function functions(object){return null==object?[]:baseFunctions(object,keys(object))}function functionsIn(object){return null==object?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=null==object?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return null!=object&&hasPath(object,path,baseHas)}function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}function mapKeys(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){result[iteratee(value,key,object)]=value}),result}function mapValues(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){result[key]=iteratee(value,key,object)}),result}function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)))}function pickBy(object,predicate){return null==object?{}:basePickBy(object,getAllKeysIn(object),getIteratee(predicate))}function result(object,path,defaultValue){path=isKey(path,object)?[path]:castPath(path);var index=-1,length=path.length;for(length||(object=undefined,length=1);++index<length;){var value=null==object?undefined:object[toKey(path[index])];value===undefined&&(index=length,value=defaultValue),object=isFunction(value)?value.call(object):value}return object}function set(object,path,value){return null==object?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseSet(object,path,value,customizer)}function transform(object,iteratee,accumulator){var isArr=isArray(object)||isTypedArray(object);if(iteratee=getIteratee(iteratee,4),null==accumulator)if(isArr||isObject(object)){var Ctor=object.constructor;accumulator=isArr?isArray(object)?new Ctor:[]:isFunction(Ctor)?baseCreate(getPrototype(object)):{}}else accumulator={};return(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator}function unset(object,path){return null==object||baseUnset(object,path)}function update(object,path,updater){return null==object?object:baseUpdate(object,path,castFunction(updater))}function updateWith(object,path,updater,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseUpdate(object,path,castFunction(updater),customizer)}function values(object){return object?baseValues(object,keys(object)):[]}function valuesIn(object){return null==object?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){return upper===undefined&&(upper=lower,lower=undefined),upper!==undefined&&(upper=toNumber(upper),upper=upper===upper?upper:0),lower!==undefined&&(lower=toNumber(lower),lower=lower===lower?lower:0),baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){return start=toFinite(start),end===undefined?(end=start,start=0):end=toFinite(end),number=toNumber(number),baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&"boolean"!=typeof floating&&isIterateeCall(lower,upper,floating)&&(upper=floating=undefined),floating===undefined&&("boolean"==typeof upper?(floating=upper,upper=undefined):"boolean"==typeof lower&&(floating=lower,lower=undefined)),lower===undefined&&upper===undefined?(lower=0,upper=1):(lower=toFinite(lower),upper===undefined?(upper=lower,lower=0):upper=toFinite(upper)),lower>upper){var temp=lower;lower=upper,upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){return string=toString(string),string&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string),target=baseToString(target);var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),0,length);var end=position;return position-=target.length,position>=0&&string.slice(position,end)==target}function escape(string){return string=toString(string),string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){return string=toString(string),string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string}function pad(string,length,chars){string=toString(string),length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length)return string;var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)}function padEnd(string,length,chars){string=toString(string),length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string}function padStart(string,length,chars){string=toString(string),length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string}function parseInt(string,radix,guard){return guard||null==radix?radix=0:radix&&(radix=+radix),string=toString(string).replace(reTrim,""),nativeParseInt(string,radix||(reHasHexPrefix.test(string)?16:10))}function repeat(string,n,guard){return n=(guard?isIterateeCall(string,n,guard):n===undefined)?1:toInteger(n),baseRepeat(toString(string),n)}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])}function split(string,separator,limit){return limit&&"number"!=typeof limit&&isIterateeCall(string,separator,limit)&&(separator=limit=undefined),(limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0)?(string=toString(string),string&&("string"==typeof separator||null!=separator&&!isRegExp(separator))&&(separator=baseToString(separator),!separator&&hasUnicode(string))?castSlice(stringToArray(string),0,limit):string.split(separator,limit)):[]}function startsWith(string,target,position){return string=toString(string),position=baseClamp(toInteger(position),0,string.length),target=baseToString(target),string.slice(position,position+target.length)==target}function template(string,options,guard){var settings=lodash.templateSettings;guard&&isIterateeCall(string,options,guard)&&(options=undefined),string=toString(string),options=assignInWith({},options,settings,assignInDefaults);var isEscaping,isEvaluating,imports=assignInWith({},options.imports,settings.imports,assignInDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});if(result.source=source,isError(result))throw result;return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){if(string=toString(string),string&&(guard||chars===undefined))return string.replace(reTrim,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}function trimEnd(string,chars,guard){if(string=toString(string),string&&(guard||chars===undefined))return string.replace(reTrimEnd,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,0,end).join("")}function trimStart(string,chars,guard){if(string=toString(string),string&&(guard||chars===undefined))return string.replace(reTrimStart,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),start=charsStartIndex(strSymbols,stringToArray(chars));return castSlice(strSymbols,start).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length,omission="omission"in options?baseToString(options.omission):omission}string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength)return string;var end=length-stringSize(omission);if(end<1)return omission;var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(separator===undefined)return result+omission;if(strSymbols&&(end+=result.length-end),isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;for(separator.global||(separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")),separator.lastIndex=0;match=separator.exec(substring);)var newEnd=match.index;result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission}function unescape(string){return string=toString(string),string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}function words(string,pattern,guard){return string=toString(string),pattern=guard?undefined:pattern,pattern===undefined?hasUnicodeWord(string)?unicodeWords(string):asciiWords(string):string.match(pattern)||[]}function cond(pairs){var length=pairs?pairs.length:0,toIteratee=getIteratee();return pairs=length?arrayMap(pairs,function(pair){if("function"!=typeof pair[1])throw new TypeError(FUNC_ERROR_TEXT);return[toIteratee(pair[0]),pair[1]]}):[],baseRest(function(args){for(var index=-1;++index<length;){var pair=pairs[index];if(apply(pair[0],this,args))return apply(pair[1],this,args)}})}function conforms(source){return baseConforms(baseClone(source,!0))}function constant(value){return function(){return value}}function defaultTo(value,defaultValue){return null==value||value!==value?defaultValue:value}function identity(value){return value}function iteratee(func){return baseIteratee("function"==typeof func?func:baseClone(func,!0))}function matches(source){return baseMatches(baseClone(source,!0))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,!0))}function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);null!=options||isObject(source)&&(methodNames.length||!props.length)||(options=source,source=object,object=this,methodNames=baseFunctions(source,keys(source)));var chain=!(isObject(options)&&"chain"in options&&!options.chain),isFunc=isFunction(object);return arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);return actions.push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))})}),object}function noConflict(){return root._===this&&(root._=oldDash),this}function noop(){}function nthArg(n){return n=toInteger(n),baseRest(function(args){return baseNth(args,n)})}function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}function propertyOf(object){return function(path){return null==object?undefined:baseGet(object,path)}}function stubArray(){return[]}function stubFalse(){return!1}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return!0}function times(n,iteratee){if(n=toInteger(n),n<1||n>MAX_SAFE_INTEGER)return[];var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee),n-=MAX_ARRAY_LENGTH;for(var result=baseTimes(length,iteratee);++index<n;)iteratee(index);return result}function toPath(value){return isArray(value)?arrayMap(value,toKey):isSymbol(value)?[value]:copyArray(stringToPath(value))}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined}function mean(array){return baseMean(array,identity)}function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2))}function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined}function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0}context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=context["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,objectCtorString=funcToString.call(Object),objectToString=objectProto.toString,oldDash=root._,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,getPrototype=overArg(Object.getPrototypeOf,Object),iteratorSymbol=Symbol?Symbol.iterator:undefined,objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout,nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse,DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create"),defineProperty=function(){var func=getNative(Object,"defineProperty"),name=getNative.name;return name&&name.length>2?func:undefined}(),metaMap=WeakMap&&new WeakMap,nonEnumShadows=!propertyIsEnumerable.call({valueOf:1},"valueOf"),realNames={},dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=hashClear,Hash.prototype["delete"]=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype["delete"]=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype["delete"]=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,Stack.prototype.clear=stackClear,Stack.prototype["delete"]=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0),baseFor=createBaseFor(),baseForRight=createBaseFor(!0),baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity,clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)},createSet=Set&&1/setToArray(new Set([,-0]))[1]==INFINITY?function(values){return new Set(values)}:noop,getData=metaMap?function(func){return metaMap.get(func)}:noop,getSymbols=nativeGetSymbols?overArg(nativeGetSymbols,Object):stubArray,getSymbolsIn=nativeGetSymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray,getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):undefined;if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isMaskable=coreJsData?isFunction:stubFalse,setData=function(){var count=0,lastCalled=0;return function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return key}else count=0;return baseSetData(key,value)}}(),setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)},setWrapToString=defineProperty?function(wrapper,reference,bitmask){var source=reference+"";return defineProperty(wrapper,"toString",{configurable:!0,enumerable:!1,value:constant(insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))})}:identity,stringToPath=memoize(function(string){string=toString(string);var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}),difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0)):[]}),differenceBy=baseRest(function(array,values){var iteratee=last(values);return isArrayLikeObject(iteratee)&&(iteratee=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),getIteratee(iteratee,2)):[]}),differenceWith=baseRest(function(array,values){var comparator=last(values);return isArrayLikeObject(comparator)&&(comparator=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),undefined,comparator):[]}),intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]}),intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return iteratee===last(mapped)?iteratee=undefined:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]}),intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return comparator===last(mapped)?comparator=undefined:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]}),pull=baseRest(pullAll),pullAt=baseRest(function(array,indexes){indexes=baseFlatten(indexes,1);var length=array?array.length:0,result=baseAt(array,indexes);return basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending)),
result}),union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))}),unionBy=baseRest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),getIteratee(iteratee,2))}),unionWith=baseRest(function(arrays){var comparator=last(arrays);return isArrayLikeObject(comparator)&&(comparator=undefined),baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),undefined,comparator)}),without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]}),xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))}),xorBy=baseRest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))}),xorWith=baseRest(function(arrays){var comparator=last(arrays);return isArrayLikeObject(comparator)&&(comparator=undefined),baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)}),zip=baseRest(unzip),zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;return iteratee="function"==typeof iteratee?(arrays.pop(),iteratee):undefined,unzipWith(arrays,iteratee)}),wrapperAt=baseRest(function(paths){paths=baseFlatten(paths,1);var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};return!(length>1||this.__actions__.length)&&value instanceof LazyWrapper&&isIndex(start)?(value=value.slice(start,+start+(length?1:0)),value.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(value,this.__chain__).thru(function(array){return length&&!array.length&&array.push(undefined),array})):this.thru(interceptor)}),countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:result[key]=1}),find=createFind(findIndex),findLast=createFind(findLastIndex),groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):result[key]=[value]}),invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc="function"==typeof path,isProp=isKey(path),result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value){var func=isFunc?path:isProp&&null!=value?value[path]:undefined;result[++index]=func?apply(func,value,args):baseInvoke(value,path,args)}),result}),keyBy=createAggregator(function(result,value,key){result[key]=value}),partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]}),sortBy=baseRest(function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])}),now=ctxNow||function(){return root.Date.now()},bind=baseRest(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=PARTIAL_FLAG}return createWrap(func,bitmask,thisArg,partials,holders)}),bindKey=baseRest(function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=PARTIAL_FLAG}return createWrap(key,bitmask,object,partials,holders)}),defer=baseRest(function(func,args){return baseDelay(func,1,args)}),delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});memoize.Cache=MapCache;var overArgs=baseRest(function(func,transforms){transforms=1==transforms.length&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){for(var index=-1,length=nativeMin(args.length,funcsLength);++index<length;)args[index]=transforms[index].call(this,args[index]);return apply(func,this,args)})}),partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,PARTIAL_FLAG,undefined,partials,holders)}),partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,PARTIAL_RIGHT_FLAG,undefined,partials,holders)}),rearg=baseRest(function(func,indexes){return createWrap(func,REARG_FLAG,undefined,undefined,undefined,baseFlatten(indexes,1))}),gt=createRelationalOperation(baseGt),gte=createRelationalOperation(function(value,other){return value>=other}),isArray=Array.isArray,isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer,isBuffer=nativeIsBuffer||stubFalse,isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,lt=createRelationalOperation(baseLt),lte=createRelationalOperation(function(value,other){return value<=other}),assign=createAssigner(function(object,source){if(nonEnumShadows||isPrototype(source)||isArrayLike(source))return void copyObject(source,keys(source),object);for(var key in source)hasOwnProperty.call(source,key)&&assignValue(object,key,source[key])}),assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)}),assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)}),assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)}),at=baseRest(function(object,paths){return baseAt(object,baseFlatten(paths,1))}),defaults=baseRest(function(args){return args.push(undefined,assignInDefaults),apply(assignInWith,undefined,args)}),defaultsDeep=baseRest(function(args){return args.push(undefined,mergeDefaults),apply(mergeWith,undefined,args)}),invert=createInverter(function(result,value,key){result[value]=key},constant(identity)),invertBy=createInverter(function(result,value,key){hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]},getIteratee),invoke=baseRest(baseInvoke),merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)}),mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)}),omit=baseRest(function(object,props){return null==object?{}:(props=arrayMap(baseFlatten(props,1),toKey),basePick(object,baseDifference(getAllKeysIn(object),props)))}),pick=baseRest(function(object,props){return null==object?{}:basePick(object,arrayMap(baseFlatten(props,1),toKey))}),toPairs=createToPairs(keys),toPairsIn=createToPairs(keysIn),camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)}),kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()}),lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()}),lowerFirst=createCaseFirst("toLowerCase"),snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()}),startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)}),upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()}),upperFirst=createCaseFirst("toUpperCase"),attempt=baseRest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}}),bindAll=baseRest(function(object,methodNames){return arrayEach(baseFlatten(methodNames,1),function(key){key=toKey(key),object[key]=bind(object[key],object)}),object}),flow=createFlow(),flowRight=createFlow(!0),method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}}),methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}}),over=createOver(arrayMap),overEvery=createOver(arrayEvery),overSome=createOver(arraySome),range=createRange(),rangeRight=createRange(!0),add=createMathOperation(function(augend,addend){return augend+addend},0),ceil=createRound("ceil"),divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1),floor=createRound("floor"),multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1),round=createRound("round"),subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);return lodash.after=after,lodash.ary=ary,lodash.assign=assign,lodash.assignIn=assignIn,lodash.assignInWith=assignInWith,lodash.assignWith=assignWith,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.castArray=castArray,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.concat=concat,lodash.cond=cond,lodash.conforms=conforms,lodash.constant=constant,lodash.countBy=countBy,lodash.create=create,lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.differenceBy=differenceBy,lodash.differenceWith=differenceWith,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatMap=flatMap,lodash.flatMapDeep=flatMapDeep,lodash.flatMapDepth=flatMapDepth,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flattenDepth=flattenDepth,lodash.flip=flip,lodash.flow=flow,lodash.flowRight=flowRight,lodash.fromPairs=fromPairs,lodash.functions=functions,lodash.functionsIn=functionsIn,lodash.groupBy=groupBy,lodash.initial=initial,lodash.intersection=intersection,lodash.intersectionBy=intersectionBy,lodash.intersectionWith=intersectionWith,lodash.invert=invert,lodash.invertBy=invertBy,lodash.invokeMap=invokeMap,lodash.iteratee=iteratee,lodash.keyBy=keyBy,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=mapKeys,lodash.mapValues=mapValues,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=merge,lodash.mergeWith=mergeWith,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=nthArg,lodash.omit=omit,lodash.omitBy=omitBy,lodash.once=once,lodash.orderBy=orderBy,lodash.over=over,lodash.overArgs=overArgs,lodash.overEvery=overEvery,lodash.overSome=overSome,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=pull,lodash.pullAll=pullAll,lodash.pullAllBy=pullAllBy,lodash.pullAllWith=pullAllWith,lodash.pullAt=pullAt,lodash.range=range,lodash.rangeRight=rangeRight,lodash.rearg=rearg,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.reverse=reverse,lodash.sampleSize=sampleSize,lodash.set=set,lodash.setWith=setWith,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=sortBy,lodash.sortedUniq=sortedUniq,lodash.sortedUniqBy=sortedUniqBy,lodash.split=split,lodash.spread=spread,lodash.tail=tail,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=toPairs,lodash.toPairsIn=toPairsIn,lodash.toPath=toPath,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.unary=unary,lodash.union=union,lodash.unionBy=unionBy,lodash.unionWith=unionWith,lodash.uniq=uniq,lodash.uniqBy=uniqBy,lodash.uniqWith=uniqWith,lodash.unset=unset,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=update,lodash.updateWith=updateWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.without=without,lodash.words=words,lodash.wrap=wrap,lodash.xor=xor,lodash.xorBy=xorBy,lodash.xorWith=xorWith,lodash.zip=zip,lodash.zipObject=zipObject,lodash.zipObjectDeep=zipObjectDeep,lodash.zipWith=zipWith,lodash.entries=toPairs,lodash.entriesIn=toPairsIn,lodash.extend=assignIn,lodash.extendWith=assignInWith,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.ceil=ceil,lodash.clamp=clamp,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.cloneDeepWith=cloneDeepWith,lodash.cloneWith=cloneWith,lodash.conformsTo=conformsTo,lodash.deburr=deburr,lodash.defaultTo=defaultTo,lodash.divide=divide,lodash.endsWith=endsWith,lodash.eq=eq,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.floor=floor,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=has,lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.invoke=invoke,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isArrayBuffer=isArrayBuffer,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=isBoolean,lodash.isBuffer=isBuffer,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isEqualWith=isEqualWith,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=isMap,lodash.isMatch=isMatch,lodash.isMatchWith=isMatchWith,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNil=isNil,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isSafeInteger=isSafeInteger,lodash.isSet=isSet,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=isTypedArray,lodash.isUndefined=isUndefined,lodash.isWeakMap=isWeakMap,lodash.isWeakSet=isWeakSet,lodash.join=join,lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lowerCase=lowerCase,lodash.lowerFirst=lowerFirst,lodash.lt=lt,lodash.lte=lte,lodash.max=max,lodash.maxBy=maxBy,lodash.mean=mean,lodash.meanBy=meanBy,lodash.min=min,lodash.minBy=minBy,lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=stubObject,lodash.stubString=stubString,lodash.stubTrue=stubTrue,lodash.multiply=multiply,lodash.nth=nth,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=now,lodash.pad=pad,lodash.padEnd=padEnd,lodash.padStart=padStart,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.replace=replace,lodash.result=result,lodash.round=round,lodash.runInContext=runInContext,lodash.sample=sample,lodash.size=size,lodash.snakeCase=snakeCase,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedIndexBy=sortedIndexBy,lodash.sortedIndexOf=sortedIndexOf,lodash.sortedLastIndex=sortedLastIndex,lodash.sortedLastIndexBy=sortedLastIndexBy,lodash.sortedLastIndexOf=sortedLastIndexOf,lodash.startCase=startCase,lodash.startsWith=startsWith,lodash.subtract=subtract,lodash.sum=sum,lodash.sumBy=sumBy,lodash.template=template,lodash.times=times,lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=toLower,lodash.toNumber=toNumber,lodash.toSafeInteger=toSafeInteger,lodash.toString=toString,lodash.toUpper=toUpper,lodash.trim=trim,lodash.trimEnd=trimEnd,lodash.trimStart=trimStart,lodash.truncate=truncate,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.upperCase=upperCase,lodash.upperFirst=upperFirst,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,function(){var source={};return baseForOwn(lodash,function(func,methodName){hasOwnProperty.call(lodash.prototype,methodName)||(source[methodName]=func)}),source}(),{chain:!1}),lodash.VERSION=VERSION,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash}),arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__;if(filtered&&!index)return new LazyWrapper(this);n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.clone();return filtered?result.__takeCount__=nativeMin(n,result.__takeCount__):result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}}),arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();return result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type}),result.__filtered__=result.__filtered__||isFilter,result}}),arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}),arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()},LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)},LazyWrapper.prototype.invokeMap=baseRest(function(path,args){return"function"==typeof path?new LazyWrapper(this):this.map(function(value){return baseInvoke(value,path,args)})}),LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))},LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;return result.__filtered__&&(start>0||end<0)?new LazyWrapper(result):(start<0?result=result.takeRight(-start):start&&(result=result.drop(start)),end!==undefined&&(end=toInteger(end),result=end<0?result.dropRight(-end):result.take(end-start)),result)},LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)},baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+("last"==methodName?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);lodashFunc&&(lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value),interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);return result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(result,chainAll)}return isUnwrapped&&onlyLazy?func.apply(this,args):(result=this.thru(interceptor),isUnwrapped?isTaker?result.value()[0]:result.value():result)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}}),baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"",names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}}),realNames[createHybrid(undefined,BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.at=wrapperAt,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.next=wrapperNext,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,lodash.prototype.first=lodash.prototype.head,iteratorSymbol&&(lodash.prototype[iteratorSymbol]=wrapperToIterator),lodash}var undefined,VERSION="4.15.0",LARGE_ARRAY_SIZE=200,FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",PLACEHOLDER="__lodash_placeholder__",BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256,FLIP_FLAG=512,UNORDERED_COMPARE_FLAG=1,PARTIAL_COMPARE_FLAG=2,DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",HOT_COUNT=150,HOT_SPAN=16,LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3,INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=NaN,MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,wrapFlags=[["ary",ARY_FLAG],["bind",BIND_FLAG],["bindKey",BIND_KEY_FLAG],["curry",CURRY_FLAG],["curryRight",CURRY_RIGHT_FLAG],["flip",FLIP_FLAG],["partial",PARTIAL_FLAG],["partialRight",PARTIAL_RIGHT_FLAG],["rearg",REARG_FLAG]],argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",promiseTag="[object Promise]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source),reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/,reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reHasHexPrefix=/^0x/i,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange="\\u20d0-\\u20f0",rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos="['’]",rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboMarksRange+rsComboSymbolsRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d",rsLowerMisc="(?:"+rsLower+"|"+rsMisc+")",rsUpperMisc="(?:"+rsUpper+"|"+rsMisc+")",rsOptLowerContr="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptUpperContr="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reApos=RegExp(rsApos,"g"),reComboMark=RegExp(rsCombo,"g"),reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptLowerContr+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsUpperMisc+"+"+rsOptUpperContr+"(?="+[rsBreak,rsUpper+rsLowerMisc,"$"].join("|")+")",rsUpper+"?"+rsLowerMisc+"+"+rsOptLowerContr,rsUpper+"+"+rsOptUpperContr,rsDigits,rsEmoji].join("|"),"g"),reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboMarksRange+rsComboSymbolsRange+rsVarRange+"]"),reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var deburredLetters={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeParseFloat=parseFloat,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding("util")}catch(e){}}(),nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,asciiSize=baseProperty("length"),deburrLetter=basePropertyOf(deburredLetters),escapeHtmlChar=basePropertyOf(htmlEscapes),unescapeHtmlChar=basePropertyOf(htmlUnescapes),_=runInContext();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(root._=_,define(function(){return _})):freeModule?((freeModule.exports=_)._=_,freeExports._=_):root._=_}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],623:[function(require,module,exports){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?factory(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],factory):factory(global.moment)}(this,function(moment){"use strict";var monthsShortWithDots="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsShortWithoutDots="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),nl=moment.defineLocale("nl",{
months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(m,format){return/-MMM-/.test(format)?monthsShortWithoutDots[m.month()]:monthsShortWithDots[m.month()]},monthsParseExact:!0,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(number){return number+(1===number||8===number||number>=20?"ste":"de")},week:{dow:1,doy:4}});return nl})},{"../moment":624}],624:[function(require,module,exports){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()}(this,function(){"use strict";function utils_hooks__hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return input instanceof Array||"[object Array]"===Object.prototype.toString.call(input)}function isObject(input){return"[object Object]"===Object.prototype.toString.call(input)}function isObjectEmpty(obj){var k;for(k in obj)return!1;return!0}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function valid__isValid(m){if(null==m._isValid){var flags=getParsingFlags(m),parsedParts=some.call(flags.parsedDateParts,function(i){return null!=i});m._isValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts),m._strict&&(m._isValid=m._isValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour)}return m._isValid}function valid__createInvalid(flags){var m=create_utc__createUTC(NaN);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}function isUndefined(input){return void 0===input}function copyConfig(to,from){var i,prop,val;if(isUndefined(from._isAMomentObject)||(to._isAMomentObject=from._isAMomentObject),isUndefined(from._i)||(to._i=from._i),isUndefined(from._f)||(to._f=from._f),isUndefined(from._l)||(to._l=from._l),isUndefined(from._strict)||(to._strict=from._strict),isUndefined(from._tzm)||(to._tzm=from._tzm),isUndefined(from._isUTC)||(to._isUTC=from._isUTC),isUndefined(from._offset)||(to._offset=from._offset),isUndefined(from._pf)||(to._pf=getParsingFlags(from)),isUndefined(from._locale)||(to._locale=from._locale),momentProperties.length>0)for(i in momentProperties)prop=momentProperties[i],val=from[prop],isUndefined(val)||(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():NaN),updateInProgress===!1&&(updateInProgress=!0,utils_hooks__hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return number<0?Math.ceil(number)||0:Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;i<len;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function warn(msg){utils_hooks__hooks.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return null!=utils_hooks__hooks.deprecationHandler&&utils_hooks__hooks.deprecationHandler(null,msg),firstTime&&(warn(msg+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),firstTime=!1),fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){null!=utils_hooks__hooks.deprecationHandler&&utils_hooks__hooks.deprecationHandler(name,msg),deprecations[name]||(warn(msg),deprecations[name]=!0)}function isFunction(input){return input instanceof Function||"[object Function]"===Object.prototype.toString.call(input)}function locale_set__set(config){var prop,i;for(i in config)prop=config[i],isFunction(prop)?this[i]=prop:this["_"+i]=prop;this._config=config,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function mergeConfigs(parentConfig,childConfig){var prop,res=extend({},parentConfig);for(prop in childConfig)hasOwnProp(childConfig,prop)&&(isObject(parentConfig[prop])&&isObject(childConfig[prop])?(res[prop]={},extend(res[prop],parentConfig[prop]),extend(res[prop],childConfig[prop])):null!=childConfig[prop]?res[prop]=childConfig[prop]:delete res[prop]);for(prop in parentConfig)hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])&&(res[prop]=extend({},res[prop]));return res}function Locale(config){null!=config&&this.set(config)}function locale_calendar__calendar(key,mom,now){var output=this._calendar[key]||this._calendar.sameElse;return isFunction(output)?output.call(mom,now):output}function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])}function invalidDate(){return this._invalidDate}function ordinal(number){return this._ordinal.replace("%d",number)}function relative__relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function addUnitPriority(unit,priority){priorities[unit]=priority}function getPrioritizedUnits(unitsObj){var units=[];for(var u in unitsObj)units.push({unit:u,priority:priorities[u]});return units.sort(function(a,b){return a.priority-b.priority}),units}function makeGetSet(unit,keepTime){return function(value){return null!=value?(get_set__set(this,unit,value),utils_hooks__hooks.updateOffset(this,keepTime),this):get_set__get(this,unit)}}function get_set__get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function get_set__set(mom,unit,value){mom.isValid()&&mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function stringGet(units){return units=normalizeUnits(units),isFunction(this[units])?this[units]():this}function stringSet(units,value){if("object"==typeof units){units=normalizeObjectUnits(units);for(var prioritized=getPrioritizedUnits(units),i=0;i<prioritized.length;i++)this[prioritized[i].unit](units[prioritized[i].unit])}else if(units=normalizeUnits(units),isFunction(this[units]))return this[units](value);return this}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;i<length;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=removeFormattingTokens(array[i]);return function(mom){var i,output="";for(i=0;i<length;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(unescapeFormat(token))}function unescapeFormat(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),"number"==typeof callback&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function localeMonths(m,format){return isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?"format":"standalone"][m.month()]}function localeMonthsShort(m,format){return isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]}function units_month__handleStrictParse(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)mom=create_utc__createUTC([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase();return strict?"MMM"===format?(ii=indexOf.call(this._shortMonthsParse,llc),ii!==-1?ii:null):(ii=indexOf.call(this._longMonthsParse,llc),ii!==-1?ii:null):"MMM"===format?(ii=indexOf.call(this._shortMonthsParse,llc),ii!==-1?ii:(ii=indexOf.call(this._longMonthsParse,llc),ii!==-1?ii:null)):(ii=indexOf.call(this._longMonthsParse,llc),ii!==-1?ii:(ii=indexOf.call(this._shortMonthsParse,llc),ii!==-1?ii:null))}function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact)return units_month__handleStrictParse.call(this,monthName,format,strict);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(mom=create_utc__createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}}function setMonth(mom,value){var dayOfMonth;if(!mom.isValid())return mom;if("string"==typeof value)if(/^\d+$/.test(value))value=toInt(value);else if(value=mom.localeData().monthsParse(value),"number"!=typeof value)return mom;return dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom}function getSetMonth(value){return null!=value?(setMonth(this,value),utils_hooks__hooks.updateOffset(this,!0),this):get_set__get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<12;i++)mom=create_utc__createUTC([2e3,i]),shortPieces.push(this.monthsShort(mom,"")),longPieces.push(this.months(mom,"")),mixedPieces.push(this.months(mom,"")),mixedPieces.push(this.monthsShort(mom,""));for(shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<12;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]);for(i=0;i<24;i++)mixedPieces[i]=regexEscape(mixedPieces[i]);this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i")}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function getIsLeapYear(){return isLeapYear(this.year())}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return y<100&&y>=0&&isFinite(date.getFullYear())&&date.setFullYear(y),date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return y<100&&y>=0&&isFinite(date.getUTCFullYear())&&date.setUTCFullYear(y),date}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy,fwdlw=(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7;return-fwdlw+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var resYear,resDayOfYear,localWeekday=(7+weekday-dow)%7,weekOffset=firstWeekOffset(year,dow,doy),dayOfYear=1+7*(week-1)+localWeekday+weekOffset;return dayOfYear<=0?(resYear=year-1,resDayOfYear=daysInYear(resYear)+dayOfYear):dayOfYear>daysInYear(year)?(resYear=year+1,resDayOfYear=dayOfYear-daysInYear(year)):(resYear=year,resDayOfYear=dayOfYear),{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var resWeek,resYear,weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1;return week<1?(resYear=mom.year()-1,resWeek=week+weeksInYear(resYear,dow,doy)):week>weeksInYear(mom.year(),dow,doy)?(resWeek=week-weeksInYear(mom.year(),dow,doy),resYear=mom.year()+1):(resYear=mom.year(),resWeek=week),{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")}function parseWeekday(input,locale){return"string"!=typeof input?input:isNaN(input)?(input=locale.weekdaysParse(input),"number"==typeof input?input:null):parseInt(input,10)}function parseIsoWeekday(input,locale){return"string"==typeof input?locale.weekdaysParse(input)%7||7:isNaN(input)?null:input}function localeWeekdays(m,format){return isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]}function localeWeekdaysShort(m){return this._weekdaysShort[m.day()]}function localeWeekdaysMin(m){return this._weekdaysMin[m.day()]}function day_of_week__handleStrictParse(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)mom=create_utc__createUTC([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase();return strict?"dddd"===format?(ii=indexOf.call(this._weekdaysParse,llc),ii!==-1?ii:null):"ddd"===format?(ii=indexOf.call(this._shortWeekdaysParse,llc),ii!==-1?ii:null):(ii=indexOf.call(this._minWeekdaysParse,llc),ii!==-1?ii:null):"dddd"===format?(ii=indexOf.call(this._weekdaysParse,llc),ii!==-1?ii:(ii=indexOf.call(this._shortWeekdaysParse,llc),ii!==-1?ii:(ii=indexOf.call(this._minWeekdaysParse,llc),ii!==-1?ii:null))):"ddd"===format?(ii=indexOf.call(this._shortWeekdaysParse,llc),ii!==-1?ii:(ii=indexOf.call(this._weekdaysParse,llc),ii!==-1?ii:(ii=indexOf.call(this._minWeekdaysParse,llc),ii!==-1?ii:null))):(ii=indexOf.call(this._minWeekdaysParse,llc),ii!==-1?ii:(ii=indexOf.call(this._weekdaysParse,llc),ii!==-1?ii:(ii=indexOf.call(this._shortWeekdaysParse,llc),ii!==-1?ii:null)))}function localeWeekdaysParse(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact)return day_of_week__handleStrictParse.call(this,weekdayName,format,strict);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(mom=create_utc__createUTC([2e3,1]).day(i),strict&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"dddd"===format&&this._fullWeekdaysParse[i].test(weekdayName))return i;if(strict&&"ddd"===format&&this._shortWeekdaysParse[i].test(weekdayName))return i;if(strict&&"dd"===format&&this._minWeekdaysParse[i].test(weekdayName))return i;if(!strict&&this._weekdaysParse[i].test(weekdayName))return i}}function getSetDayOfWeek(input){if(!this.isValid())return null!=input?this:NaN;var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day}function getSetLocaleDayOfWeek(input){if(!this.isValid())return null!=input?this:NaN;var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){if(!this.isValid())return null!=input?this:NaN;if(null!=input){var weekday=parseIsoWeekday(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7)}return this.day()||7}function weekdaysRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,minp,shortp,longp,minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<7;i++)mom=create_utc__createUTC([2e3,1]).day(i),minp=this.weekdaysMin(mom,""),shortp=this.weekdaysShort(mom,""),longp=this.weekdays(mom,""),minPieces.push(minp),shortPieces.push(shortp),longPieces.push(longp),mixedPieces.push(minp),mixedPieces.push(shortp),mixedPieces.push(longp);for(minPieces.sort(cmpLenRev),shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<7;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]),mixedPieces[i]=regexEscape(mixedPieces[i]);this._weekdaysRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+minPieces.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function localeIsPM(input){return"p"===(input+"").toLowerCase().charAt(0)}function localeMeridiem(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&"undefined"!=typeof module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),locale_locales__getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function locale_locales__getSetGlobalLocale(key,values){var data;return key&&(data=isUndefined(values)?locale_locales__getLocale(key):defineLocale(key,values),data&&(globalLocale=data)),globalLocale._abbr}function defineLocale(name,config){if(null!==config){var parentConfig=baseConfig;return config.abbr=name,null!=locales[name]?(deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),parentConfig=locales[name]._config):null!=config.parentLocale&&(null!=locales[config.parentLocale]?parentConfig=locales[config.parentLocale]._config:deprecateSimple("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),locales[name]=new Locale(mergeConfigs(parentConfig,config)),locale_locales__getSetGlobalLocale(name),locales[name]}return delete locales[name],null}function updateLocale(name,config){if(null!=config){var locale,parentConfig=baseConfig;null!=locales[name]&&(parentConfig=locales[name]._config),config=mergeConfigs(parentConfig,config),locale=new Locale(config),locale.parentLocale=locales[name],locales[name]=locale,locale_locales__getSetGlobalLocale(name)}else null!=locales[name]&&(null!=locales[name].parentLocale?locales[name]=locales[name].parentLocale:null!=locales[name]&&delete locales[name]);return locales[name]}function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)}function locale_locales__listLocales(){return keys(locales)}function checkOverflow(m){var overflow,a=m._a;return a&&getParsingFlags(m).overflow===-2&&(overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)&&(overflow=DATE),getParsingFlags(m)._overflowWeeks&&overflow===-1&&(overflow=WEEK),getParsingFlags(m)._overflowWeekday&&overflow===-1&&(overflow=WEEKDAY),getParsingFlags(m).overflow=overflow),m}function configFromISO(config){var i,l,allowTime,dateFormat,timeFormat,tzFormat,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;i<l;i++)if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0],allowTime=isoDates[i][2]!==!1;break}if(null==dateFormat)return void(config._isValid=!1);if(match[3]){for(i=0,l=isoTimes.length;i<l;i++)if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}if(null==timeFormat)return void(config._isValid=!1)}if(!allowTime&&null!=timeFormat)return void(config._isValid=!1);if(match[4]){if(!tzRegex.exec(match[4]))return void(config._isValid=!1);tzFormat="Z"}config._f=dateFormat+(timeFormat||"")+(tzFormat||""),configFromStringAndFormat(config)}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);return null!==matched?void(config._d=new Date((+matched[1]))):(configFromISO(config),void(config._isValid===!1&&(delete config._isValid,utils_hooks__hooks.createFromInputFallback(config))))}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function currentDateArray(config){var nowValue=new Date(utils_hooks__hooks.now());return config._useUTC?[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]:[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;i<3&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;i<7;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year),week=defaults(w.W,1),weekday=defaults(w.E,1),(weekday<1||weekday>7)&&(weekdayOverflow=!0)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year),week=defaults(w.w,1),null!=w.d?(weekday=w.d,(weekday<0||weekday>6)&&(weekdayOverflow=!0)):null!=w.e?(weekday=w.e+dow,(w.e<0||w.e>6)&&(weekdayOverflow=!0)):weekday=dow),week<1||week>weeksInYear(weekYear,dow,doy)?getParsingFlags(config)._overflowWeeks=!0:null!=weekdayOverflow?getParsingFlags(config)._overflowWeekday=!0:(temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear)}function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601)return void configFromISO(config);config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&getParsingFlags(config).unusedInput.push(string),
config._a[HOUR]<=12&&getParsingFlags(config).bigHour===!0&&config._a[HOUR]>0&&(getParsingFlags(config).bigHour=void 0),getParsingFlags(config).parsedDateParts=config._a.slice(0),getParsingFlags(config).meridiem=config._meridiem,config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?(isPm=locale.isPM(meridiem),isPm&&hour<12&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(NaN));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),valid__isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||currentScore<scoreToBeat)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)}),configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||locale_locales__getLocale(config._l),null===input||void 0===format&&""===input?valid__createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isArray(format)?configFromStringAndArray(config):isDate(input)?config._d=input:format?configFromStringAndFormat(config):configFromInput(config),valid__isValid(config)||(config._d=null),config))}function configFromInput(config){var input=config._i;void 0===input?config._d=new Date(utils_hooks__hooks.now()):isDate(input)?config._d=new Date(input.valueOf()):"string"==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):"object"==typeof input?configFromObject(config):"number"==typeof input?config._d=new Date(input):utils_hooks__hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return"boolean"==typeof locale&&(strict=locale,locale=void 0),(isObject(input)&&isObjectEmpty(input)||isArray(input)&&0===input.length)&&(input=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function local__createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return local__createLocal();for(res=moments[0],i=1;i<moments.length;++i)moments[i].isValid()&&!moments[i][fn](res)||(res=moments[i]);return res}function min(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)}function max(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+1e3*hours*60*60,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=locale_locales__getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return offset<0&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(matcher,string){var matches=(string||"").match(matcher)||[],chunk=matches[matches.length-1]||[],parts=(chunk+"").match(chunkOffset)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?input.valueOf():local__createLocal(input).valueOf())-res.valueOf(),res._d.setTime(res._d.valueOf()+diff),utils_hooks__hooks.updateOffset(res,!1),res):local__createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function getSetOffset(input,keepLocalTime){var localAdjust,offset=this._offset||0;return this.isValid()?null!=input?("string"==typeof input?input=offsetFromString(matchShortOffset,input):Math.abs(input)<16&&(input=60*input),!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?add_subtract__addSubtract(this,create__createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,utils_hooks__hooks.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?offset:getDateOffset(this):null!=input?this:NaN}function getSetZone(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(offsetFromString(matchOffset,this._i)),this}function hasAlignedHourOffset(input){return!!this.isValid()&&(input=input?local__createLocal(input).utcOffset():0,(this.utcOffset()-input)%60===0)}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var c={};if(copyConfig(c,this),c=prepareConfig(c),c._a){var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return!!this.isValid()&&!this._isUTC}function isUtcOffset(){return!!this.isValid()&&this._isUTC}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function create__createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return base.isValid()&&other.isValid()?(other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res):{milliseconds:0,months:0}}function absRound(number){return number<0?Math.round(-1*number)*-1:Math.round(number)}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=create__createDuration(val,period),add_subtract__addSubtract(this,dur,direction),this}}function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);mom.isValid()&&(updateOffset=null==updateOffset||updateOffset,milliseconds&&mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding),days&&get_set__set(mom,"Date",get_set__get(mom,"Date")+days*isAdding),months&&setMonth(mom,get_set__get(mom,"Month")+months*isAdding),updateOffset&&utils_hooks__hooks.updateOffset(mom,days||months))}function getCalendarFormat(myMoment,now){var diff=myMoment.diff(now,"days",!0);return diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse"}function moment_calendar__calendar(time,formats){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf("day"),format=utils_hooks__hooks.calendarFormat(this,sod)||"sameElse",output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,local__createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var localInput=isMoment(input)?input:local__createLocal(input);return!(!this.isValid()||!localInput.isValid())&&(units=normalizeUnits(isUndefined(units)?"millisecond":units),"millisecond"===units?this.valueOf()>localInput.valueOf():localInput.valueOf()<this.clone().startOf(units).valueOf())}function isBefore(input,units){var localInput=isMoment(input)?input:local__createLocal(input);return!(!this.isValid()||!localInput.isValid())&&(units=normalizeUnits(isUndefined(units)?"millisecond":units),"millisecond"===units?this.valueOf()<localInput.valueOf():this.clone().endOf(units).valueOf()<localInput.valueOf())}function isBetween(from,to,units,inclusivity){return inclusivity=inclusivity||"()",("("===inclusivity[0]?this.isAfter(from,units):!this.isBefore(from,units))&&(")"===inclusivity[1]?this.isBefore(to,units):!this.isAfter(to,units))}function isSame(input,units){var inputMs,localInput=isMoment(input)?input:local__createLocal(input);return!(!this.isValid()||!localInput.isValid())&&(units=normalizeUnits(units||"millisecond"),"millisecond"===units?this.valueOf()===localInput.valueOf():(inputMs=localInput.valueOf(),this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf()))}function isSameOrAfter(input,units){return this.isSame(input,units)||this.isAfter(input,units)}function isSameOrBefore(input,units){return this.isSame(input,units)||this.isBefore(input,units)}function diff(input,units,asFloat){var that,zoneDelta,delta,output;return this.isValid()?(that=cloneWithOffset(input,this),that.isValid()?(zoneDelta=6e4*(that.utcOffset()-this.utcOffset()),units=normalizeUnits(units),"year"===units||"month"===units||"quarter"===units?(output=monthDiff(this,that),"quarter"===units?output/=3:"year"===units&&(output/=12)):(delta=this-that,output="second"===units?delta/1e3:"minute"===units?delta/6e4:"hour"===units?delta/36e5:"day"===units?(delta-zoneDelta)/864e5:"week"===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)):NaN):NaN}function monthDiff(a,b){var anchor2,adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return b-anchor<0?(anchor2=a.clone().add(wholeMonthDiff-1,"months"),adjust=(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(wholeMonthDiff+1,"months"),adjust=(b-anchor)/(anchor2-anchor)),-(wholeMonthDiff+adjust)||0}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function moment_format__toISOString(){var m=this.clone().utc();return 0<m.year()&&m.year()<=9999?isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function format(inputString){inputString||(inputString=this.isUtc()?utils_hooks__hooks.defaultFormatUtc:utils_hooks__hooks.defaultFormat);var output=formatMoment(this,inputString);return this.localeData().postformat(output)}function from(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())?create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function fromNow(withoutSuffix){return this.from(local__createLocal(),withoutSuffix)}function to(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())?create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function toNow(withoutSuffix){return this.to(local__createLocal(),withoutSuffix)}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(newLocaleData=locale_locales__getLocale(key),null!=newLocaleData&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function startOf(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this}function endOf(units){return units=normalizeUnits(units),void 0===units||"millisecond"===units?this:("date"===units&&(units="day"),this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms"))}function to_type__valueOf(){return this._d.valueOf()-6e4*(this._offset||0)}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function moment_valid__isValid(){return valid__isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function getSetWeekYear(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;return null==input?weekOfYear(this,dow,doy).year:(weeksTarget=weeksInYear(input,dow,doy),week>weeksTarget&&(week=weeksTarget),setWeekAll.call(this,input,week,weekday,dow,doy))}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);return this.year(date.getUTCFullYear()),this.month(date.getUTCMonth()),this.date(date.getUTCDate()),this}function getSetQuarter(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)}function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")}function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function moment__createUnix(input){return local__createLocal(1e3*input)}function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(string){return string}function lists__get(format,index,field,setter){var locale=locale_locales__getLocale(),utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){if("number"==typeof format&&(index=format,format=void 0),format=format||"",null!=index)return lists__get(format,index,field,"month");var i,out=[];for(i=0;i<12;i++)out[i]=lists__get(format,i,field,"month");return out}function listWeekdaysImpl(localeSorted,format,index,field){"boolean"==typeof localeSorted?("number"==typeof format&&(index=format,format=void 0),format=format||""):(format=localeSorted,index=format,localeSorted=!1,"number"==typeof format&&(index=format,format=void 0),format=format||"");var locale=locale_locales__getLocale(),shift=localeSorted?locale._week.dow:0;if(null!=index)return lists__get(format,(index+shift)%7,field,"day");var i,out=[];for(i=0;i<7;i++)out[i]=lists__get(format,(i+shift)%7,field,"day");return out}function lists__listMonths(format,index){return listMonthsImpl(format,index,"months")}function lists__listMonthsShort(format,index){return listMonthsImpl(format,index,"monthsShort")}function lists__listWeekdays(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")}function lists__listWeekdaysShort(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")}function lists__listWeekdaysMin(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")}function duration_abs__abs(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this}function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function duration_add_subtract__add(input,value){return duration_add_subtract__addSubtract(this,input,value,1)}function duration_add_subtract__subtract(input,value){return duration_add_subtract__addSubtract(this,input,value,-1)}function absCeil(number){return number<0?Math.floor(number):Math.ceil(number)}function bubble(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return milliseconds>=0&&days>=0&&months>=0||milliseconds<=0&&days<=0&&months<=0||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function as(units){var days,months,milliseconds=this._milliseconds;if(units=normalizeUnits(units),"month"===units||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}}function duration_as__valueOf(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)}function makeAs(alias){return function(){return this.as(alias)}}function duration_get__get(units){return units=normalizeUnits(units),this[units+"s"]()}function makeGetter(name){return function(){return this._data[name]}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<thresholds.s&&["s",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=+posNegDuration>0,a[4]=locale,substituteTimeAgo.apply(null,a)}function duration_humanize__getSetRelativeTimeRounding(roundingFunction){return void 0===roundingFunction?round:"function"==typeof roundingFunction&&(round=roundingFunction,!0)}function duration_humanize__getSetRelativeTimeThreshold(threshold,limit){return void 0!==thresholds[threshold]&&(void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,!0))}function humanize(withSuffix){var locale=this.localeData(),output=duration_humanize__relativeTime(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)}function iso_string__toISOString(){var minutes,hours,years,seconds=iso_string__abs(this._milliseconds)/1e3,days=iso_string__abs(this._days),months=iso_string__abs(this._months);minutes=absFloor(seconds/60),hours=absFloor(minutes/60),seconds%=60,minutes%=60,years=absFloor(months/12),months%=12;var Y=years,M=months,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(total<0?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":""):"P0D"}var hookCallback,some;some=Array.prototype.some?Array.prototype.some:function(fun){for(var t=Object(this),len=t.length>>>0,i=0;i<len;i++)if(i in t&&fun.call(this,t[i],i,t))return!0;return!1};var momentProperties=utils_hooks__hooks.momentProperties=[],updateInProgress=!1,deprecations={};utils_hooks__hooks.suppressDeprecationWarnings=!1,utils_hooks__hooks.deprecationHandler=null;var keys;keys=Object.keys?Object.keys:function(obj){var i,res=[];for(i in obj)hasOwnProp(obj,i)&&res.push(i);return res};var indexOf,defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},defaultInvalidDate="Invalid date",defaultOrdinal="%d",defaultOrdinalParse=/\d{1,2}/,defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},aliases={},priorities={},formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;indexOf=Array.prototype.indexOf?Array.prototype.indexOf:function(o){var i;for(i=0;i<this.length;++i)if(this[i]===o)return i;return-1},addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)}),addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)}),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?""+y:"+"+y}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input)}),addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)}),utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});var defaultLocaleWeek={dow:0,doy:6};addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)}),addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)}),addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)}),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0}),addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos)),getParsingFlags(config).bigHour=!0}),addParseToken("hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2)),getParsingFlags(config).bigHour=!0;
}),addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos))}),addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2))});var globalLocale,defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0),baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,ordinalParse:defaultOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;utils_hooks__hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),utils_hooks__hooks.ISO_8601=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=local__createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other<this?this:other:valid__createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=local__createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other>this?this:other:valid__createInvalid()}),now=function(){return Date.now?Date.now():+new Date};offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;utils_hooks__hooks.updateOffset=function(){};var aspNetRegex=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,isoRegex=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;create__createDuration.fn=Duration.prototype;var add_subtract__add=createAdder(1,"add"),add_subtract__subtract=createAdder(-1,"subtract");utils_hooks__hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",utils_hooks__hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add,momentPrototype__proto.calendar=moment_calendar__calendar,momentPrototype__proto.clone=clone,momentPrototype__proto.diff=diff,momentPrototype__proto.endOf=endOf,momentPrototype__proto.format=format,momentPrototype__proto.from=from,momentPrototype__proto.fromNow=fromNow,momentPrototype__proto.to=to,momentPrototype__proto.toNow=toNow,momentPrototype__proto.get=stringGet,momentPrototype__proto.invalidAt=invalidAt,momentPrototype__proto.isAfter=isAfter,momentPrototype__proto.isBefore=isBefore,momentPrototype__proto.isBetween=isBetween,momentPrototype__proto.isSame=isSame,momentPrototype__proto.isSameOrAfter=isSameOrAfter,momentPrototype__proto.isSameOrBefore=isSameOrBefore,momentPrototype__proto.isValid=moment_valid__isValid,momentPrototype__proto.lang=lang,momentPrototype__proto.locale=locale,momentPrototype__proto.localeData=localeData,momentPrototype__proto.max=prototypeMax,momentPrototype__proto.min=prototypeMin,momentPrototype__proto.parsingFlags=parsingFlags,momentPrototype__proto.set=stringSet,momentPrototype__proto.startOf=startOf,momentPrototype__proto.subtract=add_subtract__subtract,momentPrototype__proto.toArray=toArray,momentPrototype__proto.toObject=toObject,momentPrototype__proto.toDate=toDate,momentPrototype__proto.toISOString=moment_format__toISOString,momentPrototype__proto.toJSON=toJSON,momentPrototype__proto.toString=toString,momentPrototype__proto.unix=unix,momentPrototype__proto.valueOf=to_type__valueOf,momentPrototype__proto.creationData=creationData,momentPrototype__proto.year=getSetYear,momentPrototype__proto.isLeapYear=getIsLeapYear,momentPrototype__proto.weekYear=getSetWeekYear,momentPrototype__proto.isoWeekYear=getSetISOWeekYear,momentPrototype__proto.quarter=momentPrototype__proto.quarters=getSetQuarter,momentPrototype__proto.month=getSetMonth,momentPrototype__proto.daysInMonth=getDaysInMonth,momentPrototype__proto.week=momentPrototype__proto.weeks=getSetWeek,momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=getSetISOWeek,momentPrototype__proto.weeksInYear=getWeeksInYear,momentPrototype__proto.isoWeeksInYear=getISOWeeksInYear,momentPrototype__proto.date=getSetDayOfMonth,momentPrototype__proto.day=momentPrototype__proto.days=getSetDayOfWeek,momentPrototype__proto.weekday=getSetLocaleDayOfWeek,momentPrototype__proto.isoWeekday=getSetISODayOfWeek,momentPrototype__proto.dayOfYear=getSetDayOfYear,momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour,momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute,momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond,momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond,momentPrototype__proto.utcOffset=getSetOffset,momentPrototype__proto.utc=setOffsetToUTC,momentPrototype__proto.local=setOffsetToLocal,momentPrototype__proto.parseZone=setOffsetToParsedOffset,momentPrototype__proto.hasAlignedHourOffset=hasAlignedHourOffset,momentPrototype__proto.isDST=isDaylightSavingTime,momentPrototype__proto.isLocal=isLocal,momentPrototype__proto.isUtcOffset=isUtcOffset,momentPrototype__proto.isUtc=isUtc,momentPrototype__proto.isUTC=isUtc,momentPrototype__proto.zoneAbbr=getZoneAbbr,momentPrototype__proto.zoneName=getZoneName,momentPrototype__proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),momentPrototype__proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),momentPrototype__proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),momentPrototype__proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone),momentPrototype__proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);var momentPrototype=momentPrototype__proto,prototype__proto=Locale.prototype;prototype__proto.calendar=locale_calendar__calendar,prototype__proto.longDateFormat=longDateFormat,prototype__proto.invalidDate=invalidDate,prototype__proto.ordinal=ordinal,prototype__proto.preparse=preParsePostFormat,prototype__proto.postformat=preParsePostFormat,prototype__proto.relativeTime=relative__relativeTime,prototype__proto.pastFuture=pastFuture,prototype__proto.set=locale_set__set,prototype__proto.months=localeMonths,prototype__proto.monthsShort=localeMonthsShort,prototype__proto.monthsParse=localeMonthsParse,prototype__proto.monthsRegex=monthsRegex,prototype__proto.monthsShortRegex=monthsShortRegex,prototype__proto.week=localeWeek,prototype__proto.firstDayOfYear=localeFirstDayOfYear,prototype__proto.firstDayOfWeek=localeFirstDayOfWeek,prototype__proto.weekdays=localeWeekdays,prototype__proto.weekdaysMin=localeWeekdaysMin,prototype__proto.weekdaysShort=localeWeekdaysShort,prototype__proto.weekdaysParse=localeWeekdaysParse,prototype__proto.weekdaysRegex=weekdaysRegex,prototype__proto.weekdaysShortRegex=weekdaysShortRegex,prototype__proto.weekdaysMinRegex=weekdaysMinRegex,prototype__proto.isPM=localeIsPM,prototype__proto.meridiem=localeMeridiem,locale_locales__getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),utils_hooks__hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",locale_locales__getSetGlobalLocale),utils_hooks__hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",locale_locales__getLocale);var mathAbs=Math.abs,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=Math.round,thresholds={s:45,m:45,h:22,d:26,M:11},iso_string__abs=Math.abs,duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=duration_abs__abs,duration_prototype__proto.add=duration_add_subtract__add,duration_prototype__proto.subtract=duration_add_subtract__subtract,duration_prototype__proto.as=as,duration_prototype__proto.asMilliseconds=asMilliseconds,duration_prototype__proto.asSeconds=asSeconds,duration_prototype__proto.asMinutes=asMinutes,duration_prototype__proto.asHours=asHours,duration_prototype__proto.asDays=asDays,duration_prototype__proto.asWeeks=asWeeks,duration_prototype__proto.asMonths=asMonths,duration_prototype__proto.asYears=asYears,duration_prototype__proto.valueOf=duration_as__valueOf,duration_prototype__proto._bubble=bubble,duration_prototype__proto.get=duration_get__get,duration_prototype__proto.milliseconds=milliseconds,duration_prototype__proto.seconds=seconds,duration_prototype__proto.minutes=minutes,duration_prototype__proto.hours=hours,duration_prototype__proto.days=days,duration_prototype__proto.weeks=weeks,duration_prototype__proto.months=months,duration_prototype__proto.years=years,duration_prototype__proto.humanize=humanize,duration_prototype__proto.toISOString=iso_string__toISOString,duration_prototype__proto.toString=iso_string__toISOString,duration_prototype__proto.toJSON=iso_string__toISOString,duration_prototype__proto.locale=locale,duration_prototype__proto.localeData=localeData,duration_prototype__proto.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",iso_string__toISOString),duration_prototype__proto.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),utils_hooks__hooks.version="2.14.1",setHookCallback(local__createLocal),utils_hooks__hooks.fn=momentPrototype,utils_hooks__hooks.min=min,utils_hooks__hooks.max=max,utils_hooks__hooks.now=now,utils_hooks__hooks.utc=create_utc__createUTC,utils_hooks__hooks.unix=moment__createUnix,utils_hooks__hooks.months=lists__listMonths,utils_hooks__hooks.isDate=isDate,utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale,utils_hooks__hooks.invalid=valid__createInvalid,utils_hooks__hooks.duration=create__createDuration,utils_hooks__hooks.isMoment=isMoment,utils_hooks__hooks.weekdays=lists__listWeekdays,utils_hooks__hooks.parseZone=moment__createInZone,utils_hooks__hooks.localeData=locale_locales__getLocale,utils_hooks__hooks.isDuration=isDuration,utils_hooks__hooks.monthsShort=lists__listMonthsShort,utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin,utils_hooks__hooks.defineLocale=defineLocale,utils_hooks__hooks.updateLocale=updateLocale,utils_hooks__hooks.locales=locale_locales__listLocales,utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort,utils_hooks__hooks.normalizeUnits=normalizeUnits,utils_hooks__hooks.relativeTimeRounding=duration_humanize__getSetRelativeTimeRounding,utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold,utils_hooks__hooks.calendarFormat=getCalendarFormat,utils_hooks__hooks.prototype=momentPrototype;var _moment=utils_hooks__hooks;return _moment})},{}],625:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=require("./Subject"),AsyncSubject=function(_super){function AsyncSubject(){_super.apply(this,arguments),this.value=null,this.hasNext=!1}return __extends(AsyncSubject,_super),AsyncSubject.prototype._subscribe=function(subscriber){return this.hasCompleted&&this.hasNext&&subscriber.next(this.value),_super.prototype._subscribe.call(this,subscriber)},AsyncSubject.prototype._next=function(value){this.value=value,this.hasNext=!0},AsyncSubject.prototype._complete=function(){var index=-1,observers=this.observers,len=observers.length;if(this.isUnsubscribed=!0,this.hasNext)for(;++index<len;){var o=observers[index];o.next(this.value),o.complete()}else for(;++index<len;)observers[index].complete();this.isUnsubscribed=!1,this.unsubscribe()},AsyncSubject}(Subject_1.Subject);exports.AsyncSubject=AsyncSubject},{"./Subject":635}],626:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=require("./Subject"),throwError_1=require("./util/throwError"),ObjectUnsubscribedError_1=require("./util/ObjectUnsubscribedError"),BehaviorSubject=function(_super){function BehaviorSubject(_value){_super.call(this),this._value=_value}return __extends(BehaviorSubject,_super),BehaviorSubject.prototype.getValue=function(){if(this.hasErrored)throwError_1.throwError(this.errorValue);else{if(!this.isUnsubscribed)return this._value;throwError_1.throwError(new ObjectUnsubscribedError_1.ObjectUnsubscribedError)}},Object.defineProperty(BehaviorSubject.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),BehaviorSubject.prototype._subscribe=function(subscriber){var subscription=_super.prototype._subscribe.call(this,subscriber);return subscription&&!subscription.isUnsubscribed&&subscriber.next(this._value),subscription},BehaviorSubject.prototype._next=function(value){_super.prototype._next.call(this,this._value=value)},BehaviorSubject.prototype._error=function(err){this.hasErrored=!0,_super.prototype._error.call(this,this.errorValue=err)},BehaviorSubject}(Subject_1.Subject);exports.BehaviorSubject=BehaviorSubject},{"./Subject":635,"./util/ObjectUnsubscribedError":883,"./util/throwError":897}],627:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("./Subscriber"),InnerSubscriber=function(_super){function InnerSubscriber(parent,outerValue,outerIndex){_super.call(this),this.parent=parent,this.outerValue=outerValue,this.outerIndex=outerIndex,this.index=0}return __extends(InnerSubscriber,_super),InnerSubscriber.prototype._next=function(value){this.parent.notifyNext(this.outerValue,value,this.outerIndex,this.index++,this)},InnerSubscriber.prototype._error=function(error){this.parent.notifyError(error,this),this.unsubscribe()},InnerSubscriber.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},InnerSubscriber}(Subscriber_1.Subscriber);exports.InnerSubscriber=InnerSubscriber},{"./Subscriber":637}],628:[function(require,module,exports){"use strict";var Observable_1=require("./Observable"),Notification=function(){function Notification(kind,value,exception){this.kind=kind,this.value=value,this.exception=exception,this.hasValue="N"===kind}return Notification.prototype.observe=function(observer){switch(this.kind){case"N":return observer.next&&observer.next(this.value);case"E":return observer.error&&observer.error(this.exception);case"C":return observer.complete&&observer.complete()}},Notification.prototype["do"]=function(next,error,complete){var kind=this.kind;switch(kind){case"N":return next&&next(this.value);case"E":return error&&error(this.exception);case"C":return complete&&complete()}},Notification.prototype.accept=function(nextOrObserver,error,complete){return nextOrObserver&&"function"==typeof nextOrObserver.next?this.observe(nextOrObserver):this["do"](nextOrObserver,error,complete)},Notification.prototype.toObservable=function(){var kind=this.kind;switch(kind){case"N":return Observable_1.Observable.of(this.value);case"E":return Observable_1.Observable["throw"](this.exception);case"C":return Observable_1.Observable.empty()}},Notification.createNext=function(value){return"undefined"!=typeof value?new Notification("N",value):this.undefinedValueNotification},Notification.createError=function(err){return new Notification("E",(void 0),err)},Notification.createComplete=function(){return this.completeNotification},Notification.completeNotification=new Notification("C"),Notification.undefinedValueNotification=new Notification("N",(void 0)),Notification}();exports.Notification=Notification},{"./Observable":629}],629:[function(require,module,exports){"use strict";var root_1=require("./util/root"),observable_1=require("./symbol/observable"),toSubscriber_1=require("./util/toSubscriber"),Observable=function(){function Observable(subscribe){this._isScalar=!1,subscribe&&(this._subscribe=subscribe)}return Observable.prototype.lift=function(operator){var observable=new Observable;return observable.source=this,observable.operator=operator,observable},Observable.prototype.subscribe=function(observerOrNext,error,complete){var operator=this.operator,sink=toSubscriber_1.toSubscriber(observerOrNext,error,complete);if(sink.add(operator?operator.call(sink,this):this._subscribe(sink)),sink.syncErrorThrowable&&(sink.syncErrorThrowable=!1,sink.syncErrorThrown))throw sink.syncErrorValue;return sink},Observable.prototype.forEach=function(next,PromiseCtor){var _this=this;if(PromiseCtor||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?PromiseCtor=root_1.root.Rx.config.Promise:root_1.root.Promise&&(PromiseCtor=root_1.root.Promise)),!PromiseCtor)throw new Error("no Promise impl found");return new PromiseCtor(function(resolve,reject){var subscription=_this.subscribe(function(value){if(subscription)try{next(value)}catch(err){reject(err),subscription.unsubscribe()}else next(value)},reject,resolve)})},Observable.prototype._subscribe=function(subscriber){return this.source.subscribe(subscriber)},Observable.prototype[observable_1.$$observable]=function(){return this},Observable.create=function(subscribe){return new Observable(subscribe)},Observable}();exports.Observable=Observable},{"./symbol/observable":875,"./util/root":895,"./util/toSubscriber":898}],630:[function(require,module,exports){"use strict";exports.empty={isUnsubscribed:!0,next:function(value){},error:function(err){throw err},complete:function(){}}},{}],631:[function(require,module,exports){"use strict";var Subscriber_1=require("./Subscriber"),Operator=function(){function Operator(){}return Operator.prototype.call=function(subscriber,source){return source._subscribe(new Subscriber_1.Subscriber(subscriber))},Operator}();exports.Operator=Operator},{"./Subscriber":637}],632:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("./Subscriber"),OuterSubscriber=function(_super){function OuterSubscriber(){_super.apply(this,arguments)}return __extends(OuterSubscriber,_super),OuterSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)},OuterSubscriber.prototype.notifyError=function(error,innerSub){this.destination.error(error)},OuterSubscriber.prototype.notifyComplete=function(innerSub){this.destination.complete()},OuterSubscriber}(Subscriber_1.Subscriber);exports.OuterSubscriber=OuterSubscriber},{"./Subscriber":637}],633:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=require("./Subject"),queue_1=require("./scheduler/queue"),observeOn_1=require("./operator/observeOn"),ReplaySubject=function(_super){function ReplaySubject(bufferSize,windowTime,scheduler){void 0===bufferSize&&(bufferSize=Number.POSITIVE_INFINITY),void 0===windowTime&&(windowTime=Number.POSITIVE_INFINITY),_super.call(this),this.events=[],this.scheduler=scheduler,this.bufferSize=bufferSize<1?1:bufferSize,this._windowTime=windowTime<1?1:windowTime}return __extends(ReplaySubject,_super),ReplaySubject.prototype._next=function(value){var now=this._getNow();this.events.push(new ReplayEvent(now,value)),this._trimBufferThenGetEvents(now),_super.prototype._next.call(this,value)},ReplaySubject.prototype._subscribe=function(subscriber){var events=this._trimBufferThenGetEvents(this._getNow()),scheduler=this.scheduler;scheduler&&subscriber.add(subscriber=new observeOn_1.ObserveOnSubscriber(subscriber,scheduler));for(var index=-1,len=events.length;++index<len&&!subscriber.isUnsubscribed;)subscriber.next(events[index].value);return _super.prototype._subscribe.call(this,subscriber)},ReplaySubject.prototype._getNow=function(){return(this.scheduler||queue_1.queue).now()},ReplaySubject.prototype._trimBufferThenGetEvents=function(now){for(var bufferSize=this.bufferSize,_windowTime=this._windowTime,events=this.events,eventsCount=events.length,spliceCount=0;spliceCount<eventsCount&&!(now-events[spliceCount].time<_windowTime);)spliceCount+=1;return eventsCount>bufferSize&&(spliceCount=Math.max(spliceCount,eventsCount-bufferSize)),spliceCount>0&&events.splice(0,spliceCount),events},ReplaySubject}(Subject_1.Subject);exports.ReplaySubject=ReplaySubject;var ReplayEvent=function(){function ReplayEvent(time,value){this.time=time,this.value=value}return ReplayEvent}()},{"./Subject":635,"./operator/observeOn":822,"./scheduler/queue":873}],634:[function(require,module,exports){"use strict";var Subject_1=require("./Subject");exports.Subject=Subject_1.Subject;var Observable_1=require("./Observable");exports.Observable=Observable_1.Observable,require("./add/observable/bindCallback"),require("./add/observable/bindNodeCallback"),require("./add/observable/combineLatest"),require("./add/observable/concat"),require("./add/observable/defer"),require("./add/observable/empty"),require("./add/observable/forkJoin"),require("./add/observable/from"),require("./add/observable/fromEvent"),require("./add/observable/fromEventPattern"),require("./add/observable/fromPromise"),require("./add/observable/interval"),require("./add/observable/merge"),require("./add/observable/race"),require("./add/observable/never"),require("./add/observable/of"),require("./add/observable/range"),require("./add/observable/throw"),require("./add/observable/timer"),require("./add/observable/zip"),require("./add/operator/buffer"),require("./add/operator/bufferCount"),require("./add/operator/bufferTime"),require("./add/operator/bufferToggle"),require("./add/operator/bufferWhen"),require("./add/operator/cache"),require("./add/operator/catch"),require("./add/operator/combineAll"),require("./add/operator/combineLatest"),require("./add/operator/concat"),require("./add/operator/concatAll"),require("./add/operator/concatMap"),require("./add/operator/concatMapTo"),require("./add/operator/count"),require("./add/operator/dematerialize"),require("./add/operator/debounce"),require("./add/operator/debounceTime"),require("./add/operator/defaultIfEmpty"),require("./add/operator/delay"),require("./add/operator/delayWhen"),require("./add/operator/distinctUntilChanged"),require("./add/operator/do"),require("./add/operator/expand"),require("./add/operator/filter"),require("./add/operator/finally"),require("./add/operator/first"),require("./add/operator/groupBy"),require("./add/operator/ignoreElements"),require("./add/operator/audit"),require("./add/operator/auditTime"),require("./add/operator/last"),require("./add/operator/let"),require("./add/operator/every"),require("./add/operator/map"),require("./add/operator/mapTo"),require("./add/operator/materialize"),require("./add/operator/merge"),require("./add/operator/mergeAll"),require("./add/operator/mergeMap"),require("./add/operator/mergeMapTo"),require("./add/operator/multicast"),require("./add/operator/observeOn"),require("./add/operator/partition"),require("./add/operator/pluck"),require("./add/operator/publish"),require("./add/operator/publishBehavior"),require("./add/operator/publishReplay"),require("./add/operator/publishLast"),require("./add/operator/race"),require("./add/operator/reduce"),require("./add/operator/repeat"),require("./add/operator/retry"),require("./add/operator/retryWhen"),require("./add/operator/sample"),require("./add/operator/sampleTime"),require("./add/operator/scan"),require("./add/operator/share"),require("./add/operator/single"),require("./add/operator/skip"),require("./add/operator/skipUntil"),require("./add/operator/skipWhile"),require("./add/operator/startWith"),require("./add/operator/subscribeOn"),require("./add/operator/switch"),require("./add/operator/switchMap"),require("./add/operator/switchMapTo"),require("./add/operator/take"),require("./add/operator/takeLast"),require("./add/operator/takeUntil"),require("./add/operator/takeWhile"),require("./add/operator/throttle"),require("./add/operator/throttleTime"),require("./add/operator/timeout"),require("./add/operator/timeoutWith"),require("./add/operator/toArray"),require("./add/operator/toPromise"),require("./add/operator/window"),require("./add/operator/windowCount"),require("./add/operator/windowTime"),require("./add/operator/windowToggle"),require("./add/operator/windowWhen"),require("./add/operator/withLatestFrom"),require("./add/operator/zip"),require("./add/operator/zipAll");var Operator_1=require("./Operator");exports.Operator=Operator_1.Operator;var Subscription_1=require("./Subscription");exports.Subscription=Subscription_1.Subscription;var Subscriber_1=require("./Subscriber");exports.Subscriber=Subscriber_1.Subscriber;var AsyncSubject_1=require("./AsyncSubject");exports.AsyncSubject=AsyncSubject_1.AsyncSubject;var ReplaySubject_1=require("./ReplaySubject");exports.ReplaySubject=ReplaySubject_1.ReplaySubject;var BehaviorSubject_1=require("./BehaviorSubject");exports.BehaviorSubject=BehaviorSubject_1.BehaviorSubject;var ConnectableObservable_1=require("./observable/ConnectableObservable");exports.ConnectableObservable=ConnectableObservable_1.ConnectableObservable;var Notification_1=require("./Notification");exports.Notification=Notification_1.Notification;var EmptyError_1=require("./util/EmptyError");exports.EmptyError=EmptyError_1.EmptyError;var ArgumentOutOfRangeError_1=require("./util/ArgumentOutOfRangeError");exports.ArgumentOutOfRangeError=ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;
var ObjectUnsubscribedError_1=require("./util/ObjectUnsubscribedError");exports.ObjectUnsubscribedError=ObjectUnsubscribedError_1.ObjectUnsubscribedError;var UnsubscriptionError_1=require("./util/UnsubscriptionError");exports.UnsubscriptionError=UnsubscriptionError_1.UnsubscriptionError;var asap_1=require("./scheduler/asap"),async_1=require("./scheduler/async"),queue_1=require("./scheduler/queue"),rxSubscriber_1=require("./symbol/rxSubscriber"),observable_1=require("./symbol/observable"),iterator_1=require("./symbol/iterator"),Scheduler={asap:asap_1.asap,async:async_1.async,queue:queue_1.queue};exports.Scheduler=Scheduler;var Symbol={rxSubscriber:rxSubscriber_1.$$rxSubscriber,observable:observable_1.$$observable,iterator:iterator_1.$$iterator};exports.Symbol=Symbol},{"./AsyncSubject":625,"./BehaviorSubject":626,"./Notification":628,"./Observable":629,"./Operator":631,"./ReplaySubject":633,"./Subject":635,"./Subscriber":637,"./Subscription":638,"./add/observable/bindCallback":639,"./add/observable/bindNodeCallback":640,"./add/observable/combineLatest":641,"./add/observable/concat":642,"./add/observable/defer":643,"./add/observable/empty":644,"./add/observable/forkJoin":645,"./add/observable/from":646,"./add/observable/fromEvent":647,"./add/observable/fromEventPattern":648,"./add/observable/fromPromise":649,"./add/observable/interval":650,"./add/observable/merge":651,"./add/observable/never":652,"./add/observable/of":653,"./add/observable/race":654,"./add/observable/range":655,"./add/observable/throw":656,"./add/observable/timer":657,"./add/observable/zip":658,"./add/operator/audit":659,"./add/operator/auditTime":660,"./add/operator/buffer":661,"./add/operator/bufferCount":662,"./add/operator/bufferTime":663,"./add/operator/bufferToggle":664,"./add/operator/bufferWhen":665,"./add/operator/cache":666,"./add/operator/catch":667,"./add/operator/combineAll":668,"./add/operator/combineLatest":669,"./add/operator/concat":670,"./add/operator/concatAll":671,"./add/operator/concatMap":672,"./add/operator/concatMapTo":673,"./add/operator/count":674,"./add/operator/debounce":675,"./add/operator/debounceTime":676,"./add/operator/defaultIfEmpty":677,"./add/operator/delay":678,"./add/operator/delayWhen":679,"./add/operator/dematerialize":680,"./add/operator/distinctUntilChanged":681,"./add/operator/do":682,"./add/operator/every":683,"./add/operator/expand":684,"./add/operator/filter":685,"./add/operator/finally":686,"./add/operator/first":687,"./add/operator/groupBy":688,"./add/operator/ignoreElements":689,"./add/operator/last":690,"./add/operator/let":691,"./add/operator/map":692,"./add/operator/mapTo":693,"./add/operator/materialize":694,"./add/operator/merge":695,"./add/operator/mergeAll":696,"./add/operator/mergeMap":697,"./add/operator/mergeMapTo":698,"./add/operator/multicast":699,"./add/operator/observeOn":700,"./add/operator/partition":701,"./add/operator/pluck":702,"./add/operator/publish":703,"./add/operator/publishBehavior":704,"./add/operator/publishLast":705,"./add/operator/publishReplay":706,"./add/operator/race":707,"./add/operator/reduce":708,"./add/operator/repeat":709,"./add/operator/retry":710,"./add/operator/retryWhen":711,"./add/operator/sample":712,"./add/operator/sampleTime":713,"./add/operator/scan":714,"./add/operator/share":715,"./add/operator/single":716,"./add/operator/skip":717,"./add/operator/skipUntil":718,"./add/operator/skipWhile":719,"./add/operator/startWith":720,"./add/operator/subscribeOn":721,"./add/operator/switch":722,"./add/operator/switchMap":723,"./add/operator/switchMapTo":724,"./add/operator/take":725,"./add/operator/takeLast":726,"./add/operator/takeUntil":727,"./add/operator/takeWhile":728,"./add/operator/throttle":729,"./add/operator/throttleTime":730,"./add/operator/timeout":731,"./add/operator/timeoutWith":732,"./add/operator/toArray":733,"./add/operator/toPromise":734,"./add/operator/window":735,"./add/operator/windowCount":736,"./add/operator/windowTime":737,"./add/operator/windowToggle":738,"./add/operator/windowWhen":739,"./add/operator/withLatestFrom":740,"./add/operator/zip":741,"./add/operator/zipAll":742,"./observable/ConnectableObservable":747,"./scheduler/asap":871,"./scheduler/async":872,"./scheduler/queue":873,"./symbol/iterator":874,"./symbol/observable":875,"./symbol/rxSubscriber":876,"./util/ArgumentOutOfRangeError":877,"./util/EmptyError":878,"./util/ObjectUnsubscribedError":883,"./util/UnsubscriptionError":884}],635:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("./Observable"),Subscriber_1=require("./Subscriber"),Subscription_1=require("./Subscription"),SubjectSubscription_1=require("./SubjectSubscription"),rxSubscriber_1=require("./symbol/rxSubscriber"),throwError_1=require("./util/throwError"),ObjectUnsubscribedError_1=require("./util/ObjectUnsubscribedError"),Subject=function(_super){function Subject(destination,source){_super.call(this),this.destination=destination,this.source=source,this.observers=[],this.isUnsubscribed=!1,this.isStopped=!1,this.hasErrored=!1,this.dispatching=!1,this.hasCompleted=!1,this.source=source}return __extends(Subject,_super),Subject.prototype.lift=function(operator){var subject=new Subject(this.destination||this,this);return subject.operator=operator,subject},Subject.prototype.add=function(subscription){return Subscription_1.Subscription.prototype.add.call(this,subscription)},Subject.prototype.remove=function(subscription){Subscription_1.Subscription.prototype.remove.call(this,subscription)},Subject.prototype.unsubscribe=function(){Subscription_1.Subscription.prototype.unsubscribe.call(this)},Subject.prototype._subscribe=function(subscriber){if(this.source)return this.source.subscribe(subscriber);if(!subscriber.isUnsubscribed){if(this.hasErrored)return subscriber.error(this.errorValue);if(this.hasCompleted)return subscriber.complete();this.throwIfUnsubscribed();var subscription=new SubjectSubscription_1.SubjectSubscription(this,subscriber);return this.observers.push(subscriber),subscription}},Subject.prototype._unsubscribe=function(){this.source=null,this.isStopped=!0,this.observers=null,this.destination=null},Subject.prototype.next=function(value){this.throwIfUnsubscribed(),this.isStopped||(this.dispatching=!0,this._next(value),this.dispatching=!1,this.hasErrored?this._error(this.errorValue):this.hasCompleted&&this._complete())},Subject.prototype.error=function(err){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasErrored=!0,this.errorValue=err,this.dispatching||this._error(err))},Subject.prototype.complete=function(){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasCompleted=!0,this.dispatching||this._complete())},Subject.prototype.asObservable=function(){var observable=new SubjectObservable(this);return observable},Subject.prototype._next=function(value){this.destination?this.destination.next(value):this._finalNext(value)},Subject.prototype._finalNext=function(value){for(var index=-1,observers=this.observers.slice(0),len=observers.length;++index<len;)observers[index].next(value)},Subject.prototype._error=function(err){this.destination?this.destination.error(err):this._finalError(err)},Subject.prototype._finalError=function(err){var index=-1,observers=this.observers;if(this.observers=null,this.isUnsubscribed=!0,observers)for(var len=observers.length;++index<len;)observers[index].error(err);this.isUnsubscribed=!1,this.unsubscribe()},Subject.prototype._complete=function(){this.destination?this.destination.complete():this._finalComplete()},Subject.prototype._finalComplete=function(){var index=-1,observers=this.observers;if(this.observers=null,this.isUnsubscribed=!0,observers)for(var len=observers.length;++index<len;)observers[index].complete();this.isUnsubscribed=!1,this.unsubscribe()},Subject.prototype.throwIfUnsubscribed=function(){this.isUnsubscribed&&throwError_1.throwError(new ObjectUnsubscribedError_1.ObjectUnsubscribedError)},Subject.prototype[rxSubscriber_1.$$rxSubscriber]=function(){return new Subscriber_1.Subscriber(this)},Subject.create=function(destination,source){return new Subject(destination,source)},Subject}(Observable_1.Observable);exports.Subject=Subject;var SubjectObservable=function(_super){function SubjectObservable(source){_super.call(this),this.source=source}return __extends(SubjectObservable,_super),SubjectObservable}(Observable_1.Observable)},{"./Observable":629,"./SubjectSubscription":636,"./Subscriber":637,"./Subscription":638,"./symbol/rxSubscriber":876,"./util/ObjectUnsubscribedError":883,"./util/throwError":897}],636:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscription_1=require("./Subscription"),SubjectSubscription=function(_super){function SubjectSubscription(subject,observer){_super.call(this),this.subject=subject,this.observer=observer,this.isUnsubscribed=!1}return __extends(SubjectSubscription,_super),SubjectSubscription.prototype.unsubscribe=function(){if(!this.isUnsubscribed){this.isUnsubscribed=!0;var subject=this.subject,observers=subject.observers;if(this.subject=null,observers&&0!==observers.length&&!subject.isUnsubscribed){var subscriberIndex=observers.indexOf(this.observer);subscriberIndex!==-1&&observers.splice(subscriberIndex,1)}}},SubjectSubscription}(Subscription_1.Subscription);exports.SubjectSubscription=SubjectSubscription},{"./Subscription":638}],637:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isFunction_1=require("./util/isFunction"),Subscription_1=require("./Subscription"),rxSubscriber_1=require("./symbol/rxSubscriber"),Observer_1=require("./Observer"),Subscriber=function(_super){function Subscriber(destinationOrNext,error,complete){switch(_super.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Observer_1.empty;break;case 1:if(!destinationOrNext){this.destination=Observer_1.empty;break}if("object"==typeof destinationOrNext){destinationOrNext instanceof Subscriber?(this.destination=destinationOrNext,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,destinationOrNext));break}default:this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,destinationOrNext,error,complete)}}return __extends(Subscriber,_super),Subscriber.create=function(next,error,complete){var subscriber=new Subscriber(next,error,complete);return subscriber.syncErrorThrowable=!1,subscriber},Subscriber.prototype.next=function(value){this.isStopped||this._next(value)},Subscriber.prototype.error=function(err){this.isStopped||(this.isStopped=!0,this._error(err))},Subscriber.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.isUnsubscribed||(this.isStopped=!0,_super.prototype.unsubscribe.call(this))},Subscriber.prototype._next=function(value){this.destination.next(value)},Subscriber.prototype._error=function(err){this.destination.error(err),this.unsubscribe()},Subscriber.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},Subscriber.prototype[rxSubscriber_1.$$rxSubscriber]=function(){return this},Subscriber}(Subscription_1.Subscription);exports.Subscriber=Subscriber;var SafeSubscriber=function(_super){function SafeSubscriber(_parent,observerOrNext,error,complete){_super.call(this),this._parent=_parent;var next,context=this;isFunction_1.isFunction(observerOrNext)?next=observerOrNext:observerOrNext&&(context=observerOrNext,next=observerOrNext.next,error=observerOrNext.error,complete=observerOrNext.complete,isFunction_1.isFunction(context.unsubscribe)&&this.add(context.unsubscribe.bind(context)),context.unsubscribe=this.unsubscribe.bind(this)),this._context=context,this._next=next,this._error=error,this._complete=complete}return __extends(SafeSubscriber,_super),SafeSubscriber.prototype.next=function(value){if(!this.isStopped&&this._next){var _parent=this._parent;_parent.syncErrorThrowable?this.__tryOrSetError(_parent,this._next,value)&&this.unsubscribe():this.__tryOrUnsub(this._next,value)}},SafeSubscriber.prototype.error=function(err){if(!this.isStopped){var _parent=this._parent;if(this._error)_parent.syncErrorThrowable?(this.__tryOrSetError(_parent,this._error,err),this.unsubscribe()):(this.__tryOrUnsub(this._error,err),this.unsubscribe());else{if(!_parent.syncErrorThrowable)throw this.unsubscribe(),err;_parent.syncErrorValue=err,_parent.syncErrorThrown=!0,this.unsubscribe()}}},SafeSubscriber.prototype.complete=function(){if(!this.isStopped){var _parent=this._parent;this._complete?_parent.syncErrorThrowable?(this.__tryOrSetError(_parent,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},SafeSubscriber.prototype.__tryOrUnsub=function(fn,value){try{fn.call(this._context,value)}catch(err){throw this.unsubscribe(),err}},SafeSubscriber.prototype.__tryOrSetError=function(parent,fn,value){try{fn.call(this._context,value)}catch(err){return parent.syncErrorValue=err,parent.syncErrorThrown=!0,!0}return!1},SafeSubscriber.prototype._unsubscribe=function(){var _parent=this._parent;this._context=null,this._parent=null,_parent.unsubscribe()},SafeSubscriber}(Subscriber)},{"./Observer":630,"./Subscription":638,"./symbol/rxSubscriber":876,"./util/isFunction":888}],638:[function(require,module,exports){"use strict";var isArray_1=require("./util/isArray"),isObject_1=require("./util/isObject"),isFunction_1=require("./util/isFunction"),tryCatch_1=require("./util/tryCatch"),errorObject_1=require("./util/errorObject"),UnsubscriptionError_1=require("./util/UnsubscriptionError"),Subscription=function(){function Subscription(unsubscribe){this.isUnsubscribed=!1,unsubscribe&&(this._unsubscribe=unsubscribe)}return Subscription.prototype.unsubscribe=function(){var errors,hasErrors=!1;if(!this.isUnsubscribed){this.isUnsubscribed=!0;var _a=this,_unsubscribe=_a._unsubscribe,_subscriptions=_a._subscriptions;if(this._subscriptions=null,isFunction_1.isFunction(_unsubscribe)){var trial=tryCatch_1.tryCatch(_unsubscribe).call(this);trial===errorObject_1.errorObject&&(hasErrors=!0,(errors=errors||[]).push(errorObject_1.errorObject.e))}if(isArray_1.isArray(_subscriptions))for(var index=-1,len=_subscriptions.length;++index<len;){var sub=_subscriptions[index];if(isObject_1.isObject(sub)){var trial=tryCatch_1.tryCatch(sub.unsubscribe).call(sub);if(trial===errorObject_1.errorObject){hasErrors=!0,errors=errors||[];var err=errorObject_1.errorObject.e;err instanceof UnsubscriptionError_1.UnsubscriptionError?errors=errors.concat(err.errors):errors.push(err)}}}if(hasErrors)throw new UnsubscriptionError_1.UnsubscriptionError(errors)}},Subscription.prototype.add=function(teardown){if(teardown&&teardown!==this&&teardown!==Subscription.EMPTY){var sub=teardown;switch(typeof teardown){case"function":sub=new Subscription(teardown);case"object":if(sub.isUnsubscribed||"function"!=typeof sub.unsubscribe)break;this.isUnsubscribed?sub.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(sub);break;default:throw new Error("Unrecognized teardown "+teardown+" added to Subscription.")}return sub}},Subscription.prototype.remove=function(subscription){if(null!=subscription&&subscription!==this&&subscription!==Subscription.EMPTY){var subscriptions=this._subscriptions;if(subscriptions){var subscriptionIndex=subscriptions.indexOf(subscription);subscriptionIndex!==-1&&subscriptions.splice(subscriptionIndex,1)}}},Subscription.EMPTY=function(empty){return empty.isUnsubscribed=!0,empty}(new Subscription),Subscription}();exports.Subscription=Subscription},{"./util/UnsubscriptionError":884,"./util/errorObject":885,"./util/isArray":886,"./util/isFunction":888,"./util/isObject":890,"./util/tryCatch":899}],639:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),bindCallback_1=require("../../observable/bindCallback");Observable_1.Observable.bindCallback=bindCallback_1.bindCallback},{"../../Observable":629,"../../observable/bindCallback":763}],640:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),bindNodeCallback_1=require("../../observable/bindNodeCallback");Observable_1.Observable.bindNodeCallback=bindNodeCallback_1.bindNodeCallback},{"../../Observable":629,"../../observable/bindNodeCallback":764}],641:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),combineLatest_1=require("../../operator/combineLatest");Observable_1.Observable.combineLatest=combineLatest_1.combineLatestStatic},{"../../Observable":629,"../../operator/combineLatest":791}],642:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),concat_1=require("../../observable/concat");Observable_1.Observable.concat=concat_1.concat},{"../../Observable":629,"../../observable/concat":765}],643:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),defer_1=require("../../observable/defer");Observable_1.Observable.defer=defer_1.defer},{"../../Observable":629,"../../observable/defer":766}],644:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),empty_1=require("../../observable/empty");Observable_1.Observable.empty=empty_1.empty},{"../../Observable":629,"../../observable/empty":767}],645:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),forkJoin_1=require("../../observable/forkJoin");Observable_1.Observable.forkJoin=forkJoin_1.forkJoin},{"../../Observable":629,"../../observable/forkJoin":768}],646:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),from_1=require("../../observable/from");Observable_1.Observable.from=from_1.from},{"../../Observable":629,"../../observable/from":769}],647:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),fromEvent_1=require("../../observable/fromEvent");Observable_1.Observable.fromEvent=fromEvent_1.fromEvent},{"../../Observable":629,"../../observable/fromEvent":770}],648:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),fromEventPattern_1=require("../../observable/fromEventPattern");Observable_1.Observable.fromEventPattern=fromEventPattern_1.fromEventPattern},{"../../Observable":629,"../../observable/fromEventPattern":771}],649:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),fromPromise_1=require("../../observable/fromPromise");Observable_1.Observable.fromPromise=fromPromise_1.fromPromise},{"../../Observable":629,"../../observable/fromPromise":772}],650:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),interval_1=require("../../observable/interval");Observable_1.Observable.interval=interval_1.interval},{"../../Observable":629,"../../observable/interval":773}],651:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),merge_1=require("../../observable/merge");Observable_1.Observable.merge=merge_1.merge},{"../../Observable":629,"../../observable/merge":774}],652:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),never_1=require("../../observable/never");Observable_1.Observable.never=never_1.never},{"../../Observable":629,"../../observable/never":775}],653:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),of_1=require("../../observable/of");Observable_1.Observable.of=of_1.of},{"../../Observable":629,"../../observable/of":776}],654:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),race_1=require("../../operator/race");Observable_1.Observable.race=race_1.raceStatic},{"../../Observable":629,"../../operator/race":829}],655:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),range_1=require("../../observable/range");Observable_1.Observable.range=range_1.range},{"../../Observable":629,"../../observable/range":777}],656:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),throw_1=require("../../observable/throw");Observable_1.Observable["throw"]=throw_1._throw},{"../../Observable":629,"../../observable/throw":778}],657:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),timer_1=require("../../observable/timer");Observable_1.Observable.timer=timer_1.timer},{"../../Observable":629,"../../observable/timer":779}],658:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),zip_1=require("../../observable/zip");Observable_1.Observable.zip=zip_1.zip},{"../../Observable":629,"../../observable/zip":780}],659:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),audit_1=require("../../operator/audit");Observable_1.Observable.prototype.audit=audit_1.audit},{"../../Observable":629,"../../operator/audit":781}],660:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),auditTime_1=require("../../operator/auditTime");Observable_1.Observable.prototype.auditTime=auditTime_1.auditTime},{"../../Observable":629,"../../operator/auditTime":782}],661:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),buffer_1=require("../../operator/buffer");Observable_1.Observable.prototype.buffer=buffer_1.buffer},{"../../Observable":629,"../../operator/buffer":783}],662:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),bufferCount_1=require("../../operator/bufferCount");Observable_1.Observable.prototype.bufferCount=bufferCount_1.bufferCount},{"../../Observable":629,"../../operator/bufferCount":784}],663:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),bufferTime_1=require("../../operator/bufferTime");Observable_1.Observable.prototype.bufferTime=bufferTime_1.bufferTime},{"../../Observable":629,"../../operator/bufferTime":785}],664:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),bufferToggle_1=require("../../operator/bufferToggle");Observable_1.Observable.prototype.bufferToggle=bufferToggle_1.bufferToggle},{"../../Observable":629,"../../operator/bufferToggle":786}],665:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),bufferWhen_1=require("../../operator/bufferWhen");Observable_1.Observable.prototype.bufferWhen=bufferWhen_1.bufferWhen},{"../../Observable":629,"../../operator/bufferWhen":787}],666:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),cache_1=require("../../operator/cache");Observable_1.Observable.prototype.cache=cache_1.cache},{"../../Observable":629,"../../operator/cache":788}],667:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),catch_1=require("../../operator/catch");Observable_1.Observable.prototype["catch"]=catch_1._catch},{"../../Observable":629,"../../operator/catch":789}],668:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),combineAll_1=require("../../operator/combineAll");Observable_1.Observable.prototype.combineAll=combineAll_1.combineAll},{"../../Observable":629,"../../operator/combineAll":790}],669:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),combineLatest_1=require("../../operator/combineLatest");Observable_1.Observable.prototype.combineLatest=combineLatest_1.combineLatest},{"../../Observable":629,"../../operator/combineLatest":791}],670:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),concat_1=require("../../operator/concat");Observable_1.Observable.prototype.concat=concat_1.concat},{"../../Observable":629,"../../operator/concat":792}],671:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),concatAll_1=require("../../operator/concatAll");Observable_1.Observable.prototype.concatAll=concatAll_1.concatAll},{"../../Observable":629,"../../operator/concatAll":793}],672:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),concatMap_1=require("../../operator/concatMap");Observable_1.Observable.prototype.concatMap=concatMap_1.concatMap},{"../../Observable":629,"../../operator/concatMap":794}],673:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),concatMapTo_1=require("../../operator/concatMapTo");Observable_1.Observable.prototype.concatMapTo=concatMapTo_1.concatMapTo},{"../../Observable":629,"../../operator/concatMapTo":795}],674:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),count_1=require("../../operator/count");Observable_1.Observable.prototype.count=count_1.count},{"../../Observable":629,"../../operator/count":796}],675:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),debounce_1=require("../../operator/debounce");Observable_1.Observable.prototype.debounce=debounce_1.debounce},{"../../Observable":629,"../../operator/debounce":797}],676:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),debounceTime_1=require("../../operator/debounceTime");Observable_1.Observable.prototype.debounceTime=debounceTime_1.debounceTime},{"../../Observable":629,"../../operator/debounceTime":798}],677:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),defaultIfEmpty_1=require("../../operator/defaultIfEmpty");Observable_1.Observable.prototype.defaultIfEmpty=defaultIfEmpty_1.defaultIfEmpty},{"../../Observable":629,"../../operator/defaultIfEmpty":799}],678:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),delay_1=require("../../operator/delay");Observable_1.Observable.prototype.delay=delay_1.delay},{"../../Observable":629,"../../operator/delay":800}],679:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),delayWhen_1=require("../../operator/delayWhen");Observable_1.Observable.prototype.delayWhen=delayWhen_1.delayWhen},{"../../Observable":629,"../../operator/delayWhen":801}],680:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),dematerialize_1=require("../../operator/dematerialize");Observable_1.Observable.prototype.dematerialize=dematerialize_1.dematerialize},{"../../Observable":629,"../../operator/dematerialize":802}],681:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),distinctUntilChanged_1=require("../../operator/distinctUntilChanged");Observable_1.Observable.prototype.distinctUntilChanged=distinctUntilChanged_1.distinctUntilChanged},{"../../Observable":629,"../../operator/distinctUntilChanged":803}],682:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),do_1=require("../../operator/do");Observable_1.Observable.prototype["do"]=do_1._do},{"../../Observable":629,"../../operator/do":804}],683:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),every_1=require("../../operator/every");Observable_1.Observable.prototype.every=every_1.every},{"../../Observable":629,"../../operator/every":805}],684:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),expand_1=require("../../operator/expand");Observable_1.Observable.prototype.expand=expand_1.expand},{"../../Observable":629,"../../operator/expand":806}],685:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),filter_1=require("../../operator/filter");Observable_1.Observable.prototype.filter=filter_1.filter},{"../../Observable":629,"../../operator/filter":807}],686:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),finally_1=require("../../operator/finally");Observable_1.Observable.prototype["finally"]=finally_1._finally},{"../../Observable":629,"../../operator/finally":808}],687:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),first_1=require("../../operator/first");Observable_1.Observable.prototype.first=first_1.first},{"../../Observable":629,"../../operator/first":809}],688:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),groupBy_1=require("../../operator/groupBy");Observable_1.Observable.prototype.groupBy=groupBy_1.groupBy},{"../../Observable":629,"../../operator/groupBy":810}],689:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),ignoreElements_1=require("../../operator/ignoreElements");Observable_1.Observable.prototype.ignoreElements=ignoreElements_1.ignoreElements},{"../../Observable":629,"../../operator/ignoreElements":811}],690:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),last_1=require("../../operator/last");Observable_1.Observable.prototype.last=last_1.last},{"../../Observable":629,"../../operator/last":812}],691:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),let_1=require("../../operator/let");Observable_1.Observable.prototype["let"]=let_1.letProto,Observable_1.Observable.prototype.letBind=let_1.letProto},{"../../Observable":629,"../../operator/let":813}],692:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),map_1=require("../../operator/map");Observable_1.Observable.prototype.map=map_1.map},{"../../Observable":629,"../../operator/map":814}],693:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),mapTo_1=require("../../operator/mapTo");Observable_1.Observable.prototype.mapTo=mapTo_1.mapTo},{"../../Observable":629,"../../operator/mapTo":815}],694:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),materialize_1=require("../../operator/materialize");Observable_1.Observable.prototype.materialize=materialize_1.materialize},{"../../Observable":629,"../../operator/materialize":816}],695:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),merge_1=require("../../operator/merge");Observable_1.Observable.prototype.merge=merge_1.merge},{"../../Observable":629,"../../operator/merge":817}],696:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),mergeAll_1=require("../../operator/mergeAll");Observable_1.Observable.prototype.mergeAll=mergeAll_1.mergeAll},{"../../Observable":629,"../../operator/mergeAll":818}],697:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),mergeMap_1=require("../../operator/mergeMap");Observable_1.Observable.prototype.mergeMap=mergeMap_1.mergeMap,Observable_1.Observable.prototype.flatMap=mergeMap_1.mergeMap},{"../../Observable":629,"../../operator/mergeMap":819}],698:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),mergeMapTo_1=require("../../operator/mergeMapTo");Observable_1.Observable.prototype.flatMapTo=mergeMapTo_1.mergeMapTo,Observable_1.Observable.prototype.mergeMapTo=mergeMapTo_1.mergeMapTo;
},{"../../Observable":629,"../../operator/mergeMapTo":820}],699:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),multicast_1=require("../../operator/multicast");Observable_1.Observable.prototype.multicast=multicast_1.multicast},{"../../Observable":629,"../../operator/multicast":821}],700:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),observeOn_1=require("../../operator/observeOn");Observable_1.Observable.prototype.observeOn=observeOn_1.observeOn},{"../../Observable":629,"../../operator/observeOn":822}],701:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),partition_1=require("../../operator/partition");Observable_1.Observable.prototype.partition=partition_1.partition},{"../../Observable":629,"../../operator/partition":823}],702:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),pluck_1=require("../../operator/pluck");Observable_1.Observable.prototype.pluck=pluck_1.pluck},{"../../Observable":629,"../../operator/pluck":824}],703:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),publish_1=require("../../operator/publish");Observable_1.Observable.prototype.publish=publish_1.publish},{"../../Observable":629,"../../operator/publish":825}],704:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),publishBehavior_1=require("../../operator/publishBehavior");Observable_1.Observable.prototype.publishBehavior=publishBehavior_1.publishBehavior},{"../../Observable":629,"../../operator/publishBehavior":826}],705:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),publishLast_1=require("../../operator/publishLast");Observable_1.Observable.prototype.publishLast=publishLast_1.publishLast},{"../../Observable":629,"../../operator/publishLast":827}],706:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),publishReplay_1=require("../../operator/publishReplay");Observable_1.Observable.prototype.publishReplay=publishReplay_1.publishReplay},{"../../Observable":629,"../../operator/publishReplay":828}],707:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),race_1=require("../../operator/race");Observable_1.Observable.prototype.race=race_1.race},{"../../Observable":629,"../../operator/race":829}],708:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),reduce_1=require("../../operator/reduce");Observable_1.Observable.prototype.reduce=reduce_1.reduce},{"../../Observable":629,"../../operator/reduce":830}],709:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),repeat_1=require("../../operator/repeat");Observable_1.Observable.prototype.repeat=repeat_1.repeat},{"../../Observable":629,"../../operator/repeat":831}],710:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),retry_1=require("../../operator/retry");Observable_1.Observable.prototype.retry=retry_1.retry},{"../../Observable":629,"../../operator/retry":832}],711:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),retryWhen_1=require("../../operator/retryWhen");Observable_1.Observable.prototype.retryWhen=retryWhen_1.retryWhen},{"../../Observable":629,"../../operator/retryWhen":833}],712:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),sample_1=require("../../operator/sample");Observable_1.Observable.prototype.sample=sample_1.sample},{"../../Observable":629,"../../operator/sample":834}],713:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),sampleTime_1=require("../../operator/sampleTime");Observable_1.Observable.prototype.sampleTime=sampleTime_1.sampleTime},{"../../Observable":629,"../../operator/sampleTime":835}],714:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),scan_1=require("../../operator/scan");Observable_1.Observable.prototype.scan=scan_1.scan},{"../../Observable":629,"../../operator/scan":836}],715:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),share_1=require("../../operator/share");Observable_1.Observable.prototype.share=share_1.share},{"../../Observable":629,"../../operator/share":837}],716:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),single_1=require("../../operator/single");Observable_1.Observable.prototype.single=single_1.single},{"../../Observable":629,"../../operator/single":838}],717:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),skip_1=require("../../operator/skip");Observable_1.Observable.prototype.skip=skip_1.skip},{"../../Observable":629,"../../operator/skip":839}],718:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),skipUntil_1=require("../../operator/skipUntil");Observable_1.Observable.prototype.skipUntil=skipUntil_1.skipUntil},{"../../Observable":629,"../../operator/skipUntil":840}],719:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),skipWhile_1=require("../../operator/skipWhile");Observable_1.Observable.prototype.skipWhile=skipWhile_1.skipWhile},{"../../Observable":629,"../../operator/skipWhile":841}],720:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),startWith_1=require("../../operator/startWith");Observable_1.Observable.prototype.startWith=startWith_1.startWith},{"../../Observable":629,"../../operator/startWith":842}],721:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),subscribeOn_1=require("../../operator/subscribeOn");Observable_1.Observable.prototype.subscribeOn=subscribeOn_1.subscribeOn},{"../../Observable":629,"../../operator/subscribeOn":843}],722:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),switch_1=require("../../operator/switch");Observable_1.Observable.prototype["switch"]=switch_1._switch},{"../../Observable":629,"../../operator/switch":844}],723:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),switchMap_1=require("../../operator/switchMap");Observable_1.Observable.prototype.switchMap=switchMap_1.switchMap},{"../../Observable":629,"../../operator/switchMap":845}],724:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),switchMapTo_1=require("../../operator/switchMapTo");Observable_1.Observable.prototype.switchMapTo=switchMapTo_1.switchMapTo},{"../../Observable":629,"../../operator/switchMapTo":846}],725:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),take_1=require("../../operator/take");Observable_1.Observable.prototype.take=take_1.take},{"../../Observable":629,"../../operator/take":847}],726:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),takeLast_1=require("../../operator/takeLast");Observable_1.Observable.prototype.takeLast=takeLast_1.takeLast},{"../../Observable":629,"../../operator/takeLast":848}],727:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),takeUntil_1=require("../../operator/takeUntil");Observable_1.Observable.prototype.takeUntil=takeUntil_1.takeUntil},{"../../Observable":629,"../../operator/takeUntil":849}],728:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),takeWhile_1=require("../../operator/takeWhile");Observable_1.Observable.prototype.takeWhile=takeWhile_1.takeWhile},{"../../Observable":629,"../../operator/takeWhile":850}],729:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),throttle_1=require("../../operator/throttle");Observable_1.Observable.prototype.throttle=throttle_1.throttle},{"../../Observable":629,"../../operator/throttle":851}],730:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),throttleTime_1=require("../../operator/throttleTime");Observable_1.Observable.prototype.throttleTime=throttleTime_1.throttleTime},{"../../Observable":629,"../../operator/throttleTime":852}],731:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),timeout_1=require("../../operator/timeout");Observable_1.Observable.prototype.timeout=timeout_1.timeout},{"../../Observable":629,"../../operator/timeout":853}],732:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),timeoutWith_1=require("../../operator/timeoutWith");Observable_1.Observable.prototype.timeoutWith=timeoutWith_1.timeoutWith},{"../../Observable":629,"../../operator/timeoutWith":854}],733:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),toArray_1=require("../../operator/toArray");Observable_1.Observable.prototype.toArray=toArray_1.toArray},{"../../Observable":629,"../../operator/toArray":855}],734:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),toPromise_1=require("../../operator/toPromise");Observable_1.Observable.prototype.toPromise=toPromise_1.toPromise},{"../../Observable":629,"../../operator/toPromise":856}],735:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),window_1=require("../../operator/window");Observable_1.Observable.prototype.window=window_1.window},{"../../Observable":629,"../../operator/window":857}],736:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),windowCount_1=require("../../operator/windowCount");Observable_1.Observable.prototype.windowCount=windowCount_1.windowCount},{"../../Observable":629,"../../operator/windowCount":858}],737:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),windowTime_1=require("../../operator/windowTime");Observable_1.Observable.prototype.windowTime=windowTime_1.windowTime},{"../../Observable":629,"../../operator/windowTime":859}],738:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),windowToggle_1=require("../../operator/windowToggle");Observable_1.Observable.prototype.windowToggle=windowToggle_1.windowToggle},{"../../Observable":629,"../../operator/windowToggle":860}],739:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),windowWhen_1=require("../../operator/windowWhen");Observable_1.Observable.prototype.windowWhen=windowWhen_1.windowWhen},{"../../Observable":629,"../../operator/windowWhen":861}],740:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),withLatestFrom_1=require("../../operator/withLatestFrom");Observable_1.Observable.prototype.withLatestFrom=withLatestFrom_1.withLatestFrom},{"../../Observable":629,"../../operator/withLatestFrom":862}],741:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),zip_1=require("../../operator/zip");Observable_1.Observable.prototype.zip=zip_1.zipProto},{"../../Observable":629,"../../operator/zip":863}],742:[function(require,module,exports){"use strict";var Observable_1=require("../../Observable"),zipAll_1=require("../../operator/zipAll");Observable_1.Observable.prototype.zipAll=zipAll_1.zipAll},{"../../Observable":629,"../../operator/zipAll":864}],743:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("../Observable"),ScalarObservable_1=require("./ScalarObservable"),EmptyObservable_1=require("./EmptyObservable"),ArrayLikeObservable=function(_super){function ArrayLikeObservable(arrayLike,mapFn,thisArg,scheduler){_super.call(this),this.arrayLike=arrayLike,this.scheduler=scheduler,mapFn||scheduler||1!==arrayLike.length||(this._isScalar=!0,this.value=arrayLike[0]),mapFn&&(this.mapFn=mapFn.bind(thisArg))}return __extends(ArrayLikeObservable,_super),ArrayLikeObservable.create=function(arrayLike,mapFn,thisArg,scheduler){var length=arrayLike.length;return 0===length?new EmptyObservable_1.EmptyObservable:1!==length||mapFn?new ArrayLikeObservable(arrayLike,mapFn,thisArg,scheduler):new ScalarObservable_1.ScalarObservable(arrayLike[0],scheduler)},ArrayLikeObservable.dispatch=function(state){var arrayLike=state.arrayLike,index=state.index,length=state.length,mapFn=state.mapFn,subscriber=state.subscriber;if(!subscriber.isUnsubscribed){if(index>=length)return void subscriber.complete();var result=mapFn?mapFn(arrayLike[index],index):arrayLike[index];subscriber.next(result),state.index=index+1,this.schedule(state)}},ArrayLikeObservable.prototype._subscribe=function(subscriber){var index=0,_a=this,arrayLike=_a.arrayLike,mapFn=_a.mapFn,scheduler=_a.scheduler,length=arrayLike.length;if(scheduler)return scheduler.schedule(ArrayLikeObservable.dispatch,0,{arrayLike:arrayLike,index:index,length:length,mapFn:mapFn,subscriber:subscriber});for(var i=0;i<length&&!subscriber.isUnsubscribed;i++){var result=mapFn?mapFn(arrayLike[i],i):arrayLike[i];subscriber.next(result)}subscriber.complete()},ArrayLikeObservable}(Observable_1.Observable);exports.ArrayLikeObservable=ArrayLikeObservable},{"../Observable":629,"./EmptyObservable":749,"./ScalarObservable":760}],744:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("../Observable"),ScalarObservable_1=require("./ScalarObservable"),EmptyObservable_1=require("./EmptyObservable"),isScheduler_1=require("../util/isScheduler"),ArrayObservable=function(_super){function ArrayObservable(array,scheduler){_super.call(this),this.array=array,this.scheduler=scheduler,scheduler||1!==array.length||(this._isScalar=!0,this.value=array[0])}return __extends(ArrayObservable,_super),ArrayObservable.create=function(array,scheduler){return new ArrayObservable(array,scheduler)},ArrayObservable.of=function(){for(var array=[],_i=0;_i<arguments.length;_i++)array[_i-0]=arguments[_i];var scheduler=array[array.length-1];isScheduler_1.isScheduler(scheduler)?array.pop():scheduler=null;var len=array.length;return len>1?new ArrayObservable(array,scheduler):1===len?new ScalarObservable_1.ScalarObservable(array[0],scheduler):new EmptyObservable_1.EmptyObservable(scheduler)},ArrayObservable.dispatch=function(state){var array=state.array,index=state.index,count=state.count,subscriber=state.subscriber;return index>=count?void subscriber.complete():(subscriber.next(array[index]),void(subscriber.isUnsubscribed||(state.index=index+1,this.schedule(state))))},ArrayObservable.prototype._subscribe=function(subscriber){var index=0,array=this.array,count=array.length,scheduler=this.scheduler;if(scheduler)return scheduler.schedule(ArrayObservable.dispatch,0,{array:array,index:index,count:count,subscriber:subscriber});for(var i=0;i<count&&!subscriber.isUnsubscribed;i++)subscriber.next(array[i]);subscriber.complete()},ArrayObservable}(Observable_1.Observable);exports.ArrayObservable=ArrayObservable},{"../Observable":629,"../util/isScheduler":892,"./EmptyObservable":749,"./ScalarObservable":760}],745:[function(require,module,exports){"use strict";function dispatch(state){var self=this,source=state.source,subscriber=state.subscriber,callbackFunc=source.callbackFunc,args=source.args,scheduler=source.scheduler,subject=source.subject;if(!subject){subject=source.subject=new AsyncSubject_1.AsyncSubject;var handler=function handlerFn(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i-0]=arguments[_i];var source=handlerFn.source,selector=source.selector,subject=source.subject;if(selector){var result_2=tryCatch_1.tryCatch(selector).apply(this,innerArgs);result_2===errorObject_1.errorObject?self.add(scheduler.schedule(dispatchError,0,{err:errorObject_1.errorObject.e,subject:subject})):self.add(scheduler.schedule(dispatchNext,0,{value:result_2,subject:subject}))}else{var value=1===innerArgs.length?innerArgs[0]:innerArgs;self.add(scheduler.schedule(dispatchNext,0,{value:value,subject:subject}))}};handler.source=source;var result=tryCatch_1.tryCatch(callbackFunc).apply(this,args.concat(handler));result===errorObject_1.errorObject&&subject.error(errorObject_1.errorObject.e)}self.add(subject.subscribe(subscriber))}function dispatchNext(arg){var value=arg.value,subject=arg.subject;subject.next(value),subject.complete()}function dispatchError(arg){var err=arg.err,subject=arg.subject;subject.error(err)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("../Observable"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),AsyncSubject_1=require("../AsyncSubject"),BoundCallbackObservable=function(_super){function BoundCallbackObservable(callbackFunc,selector,args,scheduler){_super.call(this),this.callbackFunc=callbackFunc,this.selector=selector,this.args=args,this.scheduler=scheduler}return __extends(BoundCallbackObservable,_super),BoundCallbackObservable.create=function(callbackFunc,selector,scheduler){return void 0===selector&&(selector=void 0),function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return new BoundCallbackObservable(callbackFunc,selector,args,scheduler)}},BoundCallbackObservable.prototype._subscribe=function(subscriber){var callbackFunc=this.callbackFunc,args=this.args,scheduler=this.scheduler,subject=this.subject;if(scheduler)return scheduler.schedule(dispatch,0,{source:this,subscriber:subscriber});if(!subject){subject=this.subject=new AsyncSubject_1.AsyncSubject;var handler=function handlerFn(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i-0]=arguments[_i];var source=handlerFn.source,selector=source.selector,subject=source.subject;if(selector){var result_1=tryCatch_1.tryCatch(selector).apply(this,innerArgs);result_1===errorObject_1.errorObject?subject.error(errorObject_1.errorObject.e):(subject.next(result_1),subject.complete())}else subject.next(1===innerArgs.length?innerArgs[0]:innerArgs),subject.complete()};handler.source=this;var result=tryCatch_1.tryCatch(callbackFunc).apply(this,args.concat(handler));result===errorObject_1.errorObject&&subject.error(errorObject_1.errorObject.e)}return subject.subscribe(subscriber)},BoundCallbackObservable}(Observable_1.Observable);exports.BoundCallbackObservable=BoundCallbackObservable},{"../AsyncSubject":625,"../Observable":629,"../util/errorObject":885,"../util/tryCatch":899}],746:[function(require,module,exports){"use strict";function dispatch(state){var self=this,source=state.source,subscriber=state.subscriber,callbackFunc=source.callbackFunc,args=source.args,scheduler=source.scheduler,subject=source.subject;if(!subject){subject=source.subject=new AsyncSubject_1.AsyncSubject;var handler=function handlerFn(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i-0]=arguments[_i];var source=handlerFn.source,selector=source.selector,subject=source.subject,err=innerArgs.shift();if(err)subject.error(err);else if(selector){var result_2=tryCatch_1.tryCatch(selector).apply(this,innerArgs);result_2===errorObject_1.errorObject?self.add(scheduler.schedule(dispatchError,0,{err:errorObject_1.errorObject.e,subject:subject})):self.add(scheduler.schedule(dispatchNext,0,{value:result_2,subject:subject}))}else{var value=1===innerArgs.length?innerArgs[0]:innerArgs;self.add(scheduler.schedule(dispatchNext,0,{value:value,subject:subject}))}};handler.source=source;var result=tryCatch_1.tryCatch(callbackFunc).apply(this,args.concat(handler));result===errorObject_1.errorObject&&subject.error(errorObject_1.errorObject.e)}self.add(subject.subscribe(subscriber))}function dispatchNext(arg){var value=arg.value,subject=arg.subject;subject.next(value),subject.complete()}function dispatchError(arg){var err=arg.err,subject=arg.subject;subject.error(err)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("../Observable"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),AsyncSubject_1=require("../AsyncSubject"),BoundNodeCallbackObservable=function(_super){function BoundNodeCallbackObservable(callbackFunc,selector,args,scheduler){_super.call(this),this.callbackFunc=callbackFunc,this.selector=selector,this.args=args,this.scheduler=scheduler}return __extends(BoundNodeCallbackObservable,_super),BoundNodeCallbackObservable.create=function(callbackFunc,selector,scheduler){return void 0===selector&&(selector=void 0),function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return new BoundNodeCallbackObservable(callbackFunc,selector,args,scheduler)}},BoundNodeCallbackObservable.prototype._subscribe=function(subscriber){var callbackFunc=this.callbackFunc,args=this.args,scheduler=this.scheduler,subject=this.subject;if(scheduler)return scheduler.schedule(dispatch,0,{source:this,subscriber:subscriber});if(!subject){subject=this.subject=new AsyncSubject_1.AsyncSubject;var handler=function handlerFn(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i-0]=arguments[_i];var source=handlerFn.source,selector=source.selector,subject=source.subject,err=innerArgs.shift();if(err)subject.error(err);else if(selector){var result_1=tryCatch_1.tryCatch(selector).apply(this,innerArgs);result_1===errorObject_1.errorObject?subject.error(errorObject_1.errorObject.e):(subject.next(result_1),subject.complete())}else subject.next(1===innerArgs.length?innerArgs[0]:innerArgs),subject.complete()};handler.source=this;var result=tryCatch_1.tryCatch(callbackFunc).apply(this,args.concat(handler));result===errorObject_1.errorObject&&subject.error(errorObject_1.errorObject.e)}return subject.subscribe(subscriber)},BoundNodeCallbackObservable}(Observable_1.Observable);exports.BoundNodeCallbackObservable=BoundNodeCallbackObservable},{"../AsyncSubject":625,"../Observable":629,"../util/errorObject":885,"../util/tryCatch":899}],747:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("../Observable"),Subscriber_1=require("../Subscriber"),Subscription_1=require("../Subscription"),ConnectableObservable=function(_super){function ConnectableObservable(source,subjectFactory){_super.call(this),this.source=source,this.subjectFactory=subjectFactory}return __extends(ConnectableObservable,_super),ConnectableObservable.prototype._subscribe=function(subscriber){return this.getSubject().subscribe(subscriber)},ConnectableObservable.prototype.getSubject=function(){var subject=this.subject;return subject&&!subject.isUnsubscribed?subject:this.subject=this.subjectFactory()},ConnectableObservable.prototype.connect=function(){var source=this.source,subscription=this.subscription;return subscription&&!subscription.isUnsubscribed?subscription:(subscription=source.subscribe(this.getSubject()),subscription.add(new ConnectableSubscription(this)),this.subscription=subscription)},ConnectableObservable.prototype.refCount=function(){return new RefCountObservable(this)},ConnectableObservable.prototype._closeSubscription=function(){this.subject=null,this.subscription=null},ConnectableObservable}(Observable_1.Observable);exports.ConnectableObservable=ConnectableObservable;var ConnectableSubscription=function(_super){function ConnectableSubscription(connectable){_super.call(this),this.connectable=connectable}return __extends(ConnectableSubscription,_super),ConnectableSubscription.prototype._unsubscribe=function(){var connectable=this.connectable;connectable._closeSubscription(),this.connectable=null},ConnectableSubscription}(Subscription_1.Subscription),RefCountObservable=function(_super){function RefCountObservable(connectable,refCount){void 0===refCount&&(refCount=0),_super.call(this),this.connectable=connectable,this.refCount=refCount}return __extends(RefCountObservable,_super),RefCountObservable.prototype._subscribe=function(subscriber){var connectable=this.connectable,refCountSubscriber=new RefCountSubscriber(subscriber,this),subscription=connectable.subscribe(refCountSubscriber);return subscription.isUnsubscribed||1!==++this.refCount||(refCountSubscriber.connection=this.connection=connectable.connect()),subscription},RefCountObservable}(Observable_1.Observable),RefCountSubscriber=function(_super){function RefCountSubscriber(destination,refCountObservable){_super.call(this,null),this.destination=destination,this.refCountObservable=refCountObservable,this.connection=refCountObservable.connection,destination.add(this)}return __extends(RefCountSubscriber,_super),RefCountSubscriber.prototype._next=function(value){this.destination.next(value)},RefCountSubscriber.prototype._error=function(err){this._resetConnectable(),this.destination.error(err)},RefCountSubscriber.prototype._complete=function(){this._resetConnectable(),this.destination.complete()},RefCountSubscriber.prototype._resetConnectable=function(){var observable=this.refCountObservable,obsConnection=observable.connection,subConnection=this.connection;subConnection&&subConnection===obsConnection&&(observable.refCount=0,obsConnection.unsubscribe(),observable.connection=null,this.unsubscribe())},RefCountSubscriber.prototype._unsubscribe=function(){var observable=this.refCountObservable;if(0!==observable.refCount&&0===--observable.refCount){var obsConnection=observable.connection,subConnection=this.connection;subConnection&&subConnection===obsConnection&&(obsConnection.unsubscribe(),observable.connection=null)}},RefCountSubscriber}(Subscriber_1.Subscriber)},{"../Observable":629,"../Subscriber":637,"../Subscription":638}],748:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("../Observable"),subscribeToResult_1=require("../util/subscribeToResult"),OuterSubscriber_1=require("../OuterSubscriber"),DeferObservable=function(_super){function DeferObservable(observableFactory){_super.call(this),this.observableFactory=observableFactory}return __extends(DeferObservable,_super),DeferObservable.create=function(observableFactory){return new DeferObservable(observableFactory)},DeferObservable.prototype._subscribe=function(subscriber){return new DeferSubscriber(subscriber,this.observableFactory)},DeferObservable}(Observable_1.Observable);exports.DeferObservable=DeferObservable;var DeferSubscriber=function(_super){function DeferSubscriber(destination,factory){_super.call(this,destination),this.factory=factory,this.tryDefer()}return __extends(DeferSubscriber,_super),DeferSubscriber.prototype.tryDefer=function(){try{this._callFactory()}catch(err){this._error(err)}},DeferSubscriber.prototype._callFactory=function(){var result=this.factory();result&&this.add(subscribeToResult_1.subscribeToResult(this,result))},DeferSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../Observable":629,"../OuterSubscriber":632,"../util/subscribeToResult":896}],749:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("../Observable"),EmptyObservable=function(_super){function EmptyObservable(scheduler){_super.call(this),this.scheduler=scheduler}return __extends(EmptyObservable,_super),EmptyObservable.create=function(scheduler){return new EmptyObservable(scheduler)},EmptyObservable.dispatch=function(arg){var subscriber=arg.subscriber;subscriber.complete()},EmptyObservable.prototype._subscribe=function(subscriber){var scheduler=this.scheduler;return scheduler?scheduler.schedule(EmptyObservable.dispatch,0,{subscriber:subscriber}):void subscriber.complete()},EmptyObservable}(Observable_1.Observable);exports.EmptyObservable=EmptyObservable},{"../Observable":629}],750:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("../Observable"),ErrorObservable=function(_super){function ErrorObservable(error,scheduler){_super.call(this),this.error=error,this.scheduler=scheduler}return __extends(ErrorObservable,_super),ErrorObservable.create=function(error,scheduler){return new ErrorObservable(error,scheduler)},ErrorObservable.dispatch=function(arg){var error=arg.error,subscriber=arg.subscriber;subscriber.error(error)},ErrorObservable.prototype._subscribe=function(subscriber){var error=this.error,scheduler=this.scheduler;return scheduler?scheduler.schedule(ErrorObservable.dispatch,0,{error:error,subscriber:subscriber}):void subscriber.error(error)},ErrorObservable}(Observable_1.Observable);exports.ErrorObservable=ErrorObservable},{"../Observable":629}],751:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("../Observable"),EmptyObservable_1=require("./EmptyObservable"),isArray_1=require("../util/isArray"),subscribeToResult_1=require("../util/subscribeToResult"),OuterSubscriber_1=require("../OuterSubscriber"),ForkJoinObservable=function(_super){function ForkJoinObservable(sources,resultSelector){_super.call(this),this.sources=sources,this.resultSelector=resultSelector}return __extends(ForkJoinObservable,_super),ForkJoinObservable.create=function(){for(var sources=[],_i=0;_i<arguments.length;_i++)sources[_i-0]=arguments[_i];if(null===sources||0===arguments.length)return new EmptyObservable_1.EmptyObservable;var resultSelector=null;return"function"==typeof sources[sources.length-1]&&(resultSelector=sources.pop()),1===sources.length&&isArray_1.isArray(sources[0])&&(sources=sources[0]),0===sources.length?new EmptyObservable_1.EmptyObservable:new ForkJoinObservable(sources,resultSelector)},ForkJoinObservable.prototype._subscribe=function(subscriber){return new ForkJoinSubscriber(subscriber,this.sources,this.resultSelector)},ForkJoinObservable}(Observable_1.Observable);exports.ForkJoinObservable=ForkJoinObservable;var ForkJoinSubscriber=function(_super){function ForkJoinSubscriber(destination,sources,resultSelector){_super.call(this,destination),this.sources=sources,this.resultSelector=resultSelector,this.completed=0,this.haveValues=0;var len=sources.length;this.total=len,this.values=new Array(len);for(var i=0;i<len;i++){var source=sources[i],innerSubscription=subscribeToResult_1.subscribeToResult(this,source,null,i);innerSubscription&&(innerSubscription.outerIndex=i,this.add(innerSubscription))}}return __extends(ForkJoinSubscriber,_super),ForkJoinSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values[outerIndex]=innerValue,innerSub._hasValue||(innerSub._hasValue=!0,
this.haveValues++)},ForkJoinSubscriber.prototype.notifyComplete=function(innerSub){var destination=this.destination,_a=this,haveValues=_a.haveValues,resultSelector=_a.resultSelector,values=_a.values,len=values.length;if(!innerSub._hasValue)return void destination.complete();if(this.completed++,this.completed===len){if(haveValues===len){var value=resultSelector?resultSelector.apply(this,values):values;destination.next(value)}destination.complete()}},ForkJoinSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../Observable":629,"../OuterSubscriber":632,"../util/isArray":886,"../util/subscribeToResult":896,"./EmptyObservable":749}],752:[function(require,module,exports){"use strict";function isNodeStyleEventEmmitter(sourceObj){return!!sourceObj&&"function"==typeof sourceObj.addListener&&"function"==typeof sourceObj.removeListener}function isJQueryStyleEventEmitter(sourceObj){return!!sourceObj&&"function"==typeof sourceObj.on&&"function"==typeof sourceObj.off}function isNodeList(sourceObj){return!!sourceObj&&"[object NodeList]"===sourceObj.toString()}function isHTMLCollection(sourceObj){return!!sourceObj&&"[object HTMLCollection]"===sourceObj.toString()}function isEventTarget(sourceObj){return!!sourceObj&&"function"==typeof sourceObj.addEventListener&&"function"==typeof sourceObj.removeEventListener}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("../Observable"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),Subscription_1=require("../Subscription"),FromEventObservable=function(_super){function FromEventObservable(sourceObj,eventName,selector){_super.call(this),this.sourceObj=sourceObj,this.eventName=eventName,this.selector=selector}return __extends(FromEventObservable,_super),FromEventObservable.create=function(sourceObj,eventName,selector){return new FromEventObservable(sourceObj,eventName,selector)},FromEventObservable.setupSubscription=function(sourceObj,eventName,handler,subscriber){var unsubscribe;if(isNodeList(sourceObj)||isHTMLCollection(sourceObj))for(var i=0,len=sourceObj.length;i<len;i++)FromEventObservable.setupSubscription(sourceObj[i],eventName,handler,subscriber);else isEventTarget(sourceObj)?(sourceObj.addEventListener(eventName,handler),unsubscribe=function(){return sourceObj.removeEventListener(eventName,handler)}):isJQueryStyleEventEmitter(sourceObj)?(sourceObj.on(eventName,handler),unsubscribe=function(){return sourceObj.off(eventName,handler)}):isNodeStyleEventEmmitter(sourceObj)&&(sourceObj.addListener(eventName,handler),unsubscribe=function(){return sourceObj.removeListener(eventName,handler)});subscriber.add(new Subscription_1.Subscription(unsubscribe))},FromEventObservable.prototype._subscribe=function(subscriber){var sourceObj=this.sourceObj,eventName=this.eventName,selector=this.selector,handler=selector?function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var result=tryCatch_1.tryCatch(selector).apply(void 0,args);result===errorObject_1.errorObject?subscriber.error(errorObject_1.errorObject.e):subscriber.next(result)}:function(e){return subscriber.next(e)};FromEventObservable.setupSubscription(sourceObj,eventName,handler,subscriber)},FromEventObservable}(Observable_1.Observable);exports.FromEventObservable=FromEventObservable},{"../Observable":629,"../Subscription":638,"../util/errorObject":885,"../util/tryCatch":899}],753:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("../Observable"),Subscription_1=require("../Subscription"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),FromEventPatternObservable=function(_super){function FromEventPatternObservable(addHandler,removeHandler,selector){_super.call(this),this.addHandler=addHandler,this.removeHandler=removeHandler,this.selector=selector}return __extends(FromEventPatternObservable,_super),FromEventPatternObservable.create=function(addHandler,removeHandler,selector){return new FromEventPatternObservable(addHandler,removeHandler,selector)},FromEventPatternObservable.prototype._subscribe=function(subscriber){var addHandler=this.addHandler,removeHandler=this.removeHandler,selector=this.selector,handler=selector?function(e){var result=tryCatch_1.tryCatch(selector).apply(null,arguments);result===errorObject_1.errorObject?subscriber.error(result.e):subscriber.next(result)}:function(e){subscriber.next(e)},result=tryCatch_1.tryCatch(addHandler)(handler);result===errorObject_1.errorObject&&subscriber.error(result.e),subscriber.add(new Subscription_1.Subscription(function(){removeHandler(handler)}))},FromEventPatternObservable}(Observable_1.Observable);exports.FromEventPatternObservable=FromEventPatternObservable},{"../Observable":629,"../Subscription":638,"../util/errorObject":885,"../util/tryCatch":899}],754:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isArray_1=require("../util/isArray"),isFunction_1=require("../util/isFunction"),isPromise_1=require("../util/isPromise"),isScheduler_1=require("../util/isScheduler"),PromiseObservable_1=require("./PromiseObservable"),IteratorObservable_1=require("./IteratorObservable"),ArrayObservable_1=require("./ArrayObservable"),ArrayLikeObservable_1=require("./ArrayLikeObservable"),observable_1=require("../symbol/observable"),iterator_1=require("../symbol/iterator"),Observable_1=require("../Observable"),observeOn_1=require("../operator/observeOn"),isArrayLike=function(x){return x&&"number"==typeof x.length},FromObservable=function(_super){function FromObservable(ish,scheduler){_super.call(this,null),this.ish=ish,this.scheduler=scheduler}return __extends(FromObservable,_super),FromObservable.create=function(ish,mapFnOrScheduler,thisArg,lastScheduler){var scheduler=null,mapFn=null;if(isFunction_1.isFunction(mapFnOrScheduler)?(scheduler=lastScheduler||null,mapFn=mapFnOrScheduler):isScheduler_1.isScheduler(scheduler)&&(scheduler=mapFnOrScheduler),null!=ish){if("function"==typeof ish[observable_1.$$observable])return ish instanceof Observable_1.Observable&&!scheduler?ish:new FromObservable(ish,scheduler);if(isArray_1.isArray(ish))return new ArrayObservable_1.ArrayObservable(ish,scheduler);if(isPromise_1.isPromise(ish))return new PromiseObservable_1.PromiseObservable(ish,scheduler);if("function"==typeof ish[iterator_1.$$iterator]||"string"==typeof ish)return new IteratorObservable_1.IteratorObservable(ish,null,null,scheduler);if(isArrayLike(ish))return new ArrayLikeObservable_1.ArrayLikeObservable(ish,mapFn,thisArg,scheduler)}throw new TypeError((null!==ish&&typeof ish||ish)+" is not observable")},FromObservable.prototype._subscribe=function(subscriber){var ish=this.ish,scheduler=this.scheduler;return null==scheduler?ish[observable_1.$$observable]().subscribe(subscriber):ish[observable_1.$$observable]().subscribe(new observeOn_1.ObserveOnSubscriber(subscriber,scheduler,0))},FromObservable}(Observable_1.Observable);exports.FromObservable=FromObservable},{"../Observable":629,"../operator/observeOn":822,"../symbol/iterator":874,"../symbol/observable":875,"../util/isArray":886,"../util/isFunction":888,"../util/isPromise":891,"../util/isScheduler":892,"./ArrayLikeObservable":743,"./ArrayObservable":744,"./IteratorObservable":756,"./PromiseObservable":758}],755:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isNumeric_1=require("../util/isNumeric"),Observable_1=require("../Observable"),async_1=require("../scheduler/async"),IntervalObservable=function(_super){function IntervalObservable(period,scheduler){void 0===period&&(period=0),void 0===scheduler&&(scheduler=async_1.async),_super.call(this),this.period=period,this.scheduler=scheduler,(!isNumeric_1.isNumeric(period)||period<0)&&(this.period=0),scheduler&&"function"==typeof scheduler.schedule||(this.scheduler=async_1.async)}return __extends(IntervalObservable,_super),IntervalObservable.create=function(period,scheduler){return void 0===period&&(period=0),void 0===scheduler&&(scheduler=async_1.async),new IntervalObservable(period,scheduler)},IntervalObservable.dispatch=function(state){var index=state.index,subscriber=state.subscriber,period=state.period;subscriber.next(index),subscriber.isUnsubscribed||(state.index+=1,this.schedule(state,period))},IntervalObservable.prototype._subscribe=function(subscriber){var index=0,period=this.period,scheduler=this.scheduler;subscriber.add(scheduler.schedule(IntervalObservable.dispatch,period,{index:index,subscriber:subscriber,period:period}))},IntervalObservable}(Observable_1.Observable);exports.IntervalObservable=IntervalObservable},{"../Observable":629,"../scheduler/async":872,"../util/isNumeric":889}],756:[function(require,module,exports){"use strict";function getIterator(obj){var i=obj[iterator_1.$$iterator];if(!i&&"string"==typeof obj)return new StringIterator(obj);if(!i&&void 0!==obj.length)return new ArrayIterator(obj);if(!i)throw new TypeError("Object is not iterable");return obj[iterator_1.$$iterator]()}function toLength(o){var len=+o.length;return isNaN(len)?0:0!==len&&numberIsFinite(len)?(len=sign(len)*Math.floor(Math.abs(len)),len<=0?0:len>maxSafeInteger?maxSafeInteger:len):len}function numberIsFinite(value){return"number"==typeof value&&root_1.root.isFinite(value)}function sign(value){var valueAsNumber=+value;return 0===valueAsNumber?valueAsNumber:isNaN(valueAsNumber)?valueAsNumber:valueAsNumber<0?-1:1}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},root_1=require("../util/root"),isObject_1=require("../util/isObject"),tryCatch_1=require("../util/tryCatch"),Observable_1=require("../Observable"),isFunction_1=require("../util/isFunction"),iterator_1=require("../symbol/iterator"),errorObject_1=require("../util/errorObject"),IteratorObservable=function(_super){function IteratorObservable(iterator,project,thisArg,scheduler){if(_super.call(this),null==iterator)throw new Error("iterator cannot be null.");if(isObject_1.isObject(project))this.thisArg=project,this.scheduler=thisArg;else if(isFunction_1.isFunction(project))this.project=project,this.thisArg=thisArg,this.scheduler=scheduler;else if(null!=project)throw new Error("When provided, `project` must be a function.");this.iterator=getIterator(iterator)}return __extends(IteratorObservable,_super),IteratorObservable.create=function(iterator,project,thisArg,scheduler){return new IteratorObservable(iterator,project,thisArg,scheduler)},IteratorObservable.dispatch=function(state){var index=state.index,hasError=state.hasError,thisArg=state.thisArg,project=state.project,iterator=state.iterator,subscriber=state.subscriber;if(hasError)return void subscriber.error(state.error);var result=iterator.next();return result.done?void subscriber.complete():(project?(result=tryCatch_1.tryCatch(project).call(thisArg,result.value,index),result===errorObject_1.errorObject?(state.error=errorObject_1.errorObject.e,state.hasError=!0):(subscriber.next(result),state.index=index+1)):(subscriber.next(result.value),state.index=index+1),void(subscriber.isUnsubscribed||this.schedule(state)))},IteratorObservable.prototype._subscribe=function(subscriber){var index=0,_a=this,iterator=_a.iterator,project=_a.project,thisArg=_a.thisArg,scheduler=_a.scheduler;if(scheduler)return scheduler.schedule(IteratorObservable.dispatch,0,{index:index,thisArg:thisArg,project:project,iterator:iterator,subscriber:subscriber});for(;;){var result=iterator.next();if(result.done){subscriber.complete();break}if(project){if(result=tryCatch_1.tryCatch(project).call(thisArg,result.value,index++),result===errorObject_1.errorObject){subscriber.error(errorObject_1.errorObject.e);break}subscriber.next(result)}else subscriber.next(result.value);if(subscriber.isUnsubscribed)break}},IteratorObservable}(Observable_1.Observable);exports.IteratorObservable=IteratorObservable;var StringIterator=function(){function StringIterator(str,idx,len){void 0===idx&&(idx=0),void 0===len&&(len=str.length),this.str=str,this.idx=idx,this.len=len}return StringIterator.prototype[iterator_1.$$iterator]=function(){return this},StringIterator.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},StringIterator}(),ArrayIterator=function(){function ArrayIterator(arr,idx,len){void 0===idx&&(idx=0),void 0===len&&(len=toLength(arr)),this.arr=arr,this.idx=idx,this.len=len}return ArrayIterator.prototype[iterator_1.$$iterator]=function(){return this},ArrayIterator.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},ArrayIterator}(),maxSafeInteger=Math.pow(2,53)-1},{"../Observable":629,"../symbol/iterator":874,"../util/errorObject":885,"../util/isFunction":888,"../util/isObject":890,"../util/root":895,"../util/tryCatch":899}],757:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("../Observable"),noop_1=require("../util/noop"),NeverObservable=function(_super){function NeverObservable(){_super.call(this)}return __extends(NeverObservable,_super),NeverObservable.create=function(){return new NeverObservable},NeverObservable.prototype._subscribe=function(subscriber){noop_1.noop()},NeverObservable}(Observable_1.Observable);exports.NeverObservable=NeverObservable},{"../Observable":629,"../util/noop":893}],758:[function(require,module,exports){"use strict";function dispatchNext(arg){var value=arg.value,subscriber=arg.subscriber;subscriber.isUnsubscribed||(subscriber.next(value),subscriber.complete())}function dispatchError(arg){var err=arg.err,subscriber=arg.subscriber;subscriber.isUnsubscribed||subscriber.error(err)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},root_1=require("../util/root"),Observable_1=require("../Observable"),PromiseObservable=function(_super){function PromiseObservable(promise,scheduler){void 0===scheduler&&(scheduler=null),_super.call(this),this.promise=promise,this.scheduler=scheduler}return __extends(PromiseObservable,_super),PromiseObservable.create=function(promise,scheduler){return void 0===scheduler&&(scheduler=null),new PromiseObservable(promise,scheduler)},PromiseObservable.prototype._subscribe=function(subscriber){var _this=this,promise=this.promise,scheduler=this.scheduler;if(null==scheduler)this._isScalar?subscriber.isUnsubscribed||(subscriber.next(this.value),subscriber.complete()):promise.then(function(value){_this.value=value,_this._isScalar=!0,subscriber.isUnsubscribed||(subscriber.next(value),subscriber.complete())},function(err){subscriber.isUnsubscribed||subscriber.error(err)}).then(null,function(err){root_1.root.setTimeout(function(){throw err})});else if(this._isScalar){if(!subscriber.isUnsubscribed)return scheduler.schedule(dispatchNext,0,{value:this.value,subscriber:subscriber})}else promise.then(function(value){_this.value=value,_this._isScalar=!0,subscriber.isUnsubscribed||subscriber.add(scheduler.schedule(dispatchNext,0,{value:value,subscriber:subscriber}))},function(err){subscriber.isUnsubscribed||subscriber.add(scheduler.schedule(dispatchError,0,{err:err,subscriber:subscriber}))}).then(null,function(err){root_1.root.setTimeout(function(){throw err})})},PromiseObservable}(Observable_1.Observable);exports.PromiseObservable=PromiseObservable},{"../Observable":629,"../util/root":895}],759:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("../Observable"),RangeObservable=function(_super){function RangeObservable(start,count,scheduler){_super.call(this),this.start=start,this._count=count,this.scheduler=scheduler}return __extends(RangeObservable,_super),RangeObservable.create=function(start,count,scheduler){return void 0===start&&(start=0),void 0===count&&(count=0),new RangeObservable(start,count,scheduler)},RangeObservable.dispatch=function(state){var start=state.start,index=state.index,count=state.count,subscriber=state.subscriber;return index>=count?void subscriber.complete():(subscriber.next(start),void(subscriber.isUnsubscribed||(state.index=index+1,state.start=start+1,this.schedule(state))))},RangeObservable.prototype._subscribe=function(subscriber){var index=0,start=this.start,count=this._count,scheduler=this.scheduler;if(scheduler)return scheduler.schedule(RangeObservable.dispatch,0,{index:index,count:count,start:start,subscriber:subscriber});for(;;){if(index++>=count){subscriber.complete();break}if(subscriber.next(start++),subscriber.isUnsubscribed)break}},RangeObservable}(Observable_1.Observable);exports.RangeObservable=RangeObservable},{"../Observable":629}],760:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("../Observable"),ScalarObservable=function(_super){function ScalarObservable(value,scheduler){_super.call(this),this.value=value,this.scheduler=scheduler,this._isScalar=!0}return __extends(ScalarObservable,_super),ScalarObservable.create=function(value,scheduler){return new ScalarObservable(value,scheduler)},ScalarObservable.dispatch=function(state){var done=state.done,value=state.value,subscriber=state.subscriber;return done?void subscriber.complete():(subscriber.next(value),void(subscriber.isUnsubscribed||(state.done=!0,this.schedule(state))))},ScalarObservable.prototype._subscribe=function(subscriber){var value=this.value,scheduler=this.scheduler;return scheduler?scheduler.schedule(ScalarObservable.dispatch,0,{done:!1,value:value,subscriber:subscriber}):(subscriber.next(value),void(subscriber.isUnsubscribed||subscriber.complete()))},ScalarObservable}(Observable_1.Observable);exports.ScalarObservable=ScalarObservable},{"../Observable":629}],761:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("../Observable"),asap_1=require("../scheduler/asap"),isNumeric_1=require("../util/isNumeric"),SubscribeOnObservable=function(_super){function SubscribeOnObservable(source,delayTime,scheduler){void 0===delayTime&&(delayTime=0),void 0===scheduler&&(scheduler=asap_1.asap),_super.call(this),this.source=source,this.delayTime=delayTime,this.scheduler=scheduler,(!isNumeric_1.isNumeric(delayTime)||delayTime<0)&&(this.delayTime=0),scheduler&&"function"==typeof scheduler.schedule||(this.scheduler=asap_1.asap)}return __extends(SubscribeOnObservable,_super),SubscribeOnObservable.create=function(source,delay,scheduler){return void 0===delay&&(delay=0),void 0===scheduler&&(scheduler=asap_1.asap),new SubscribeOnObservable(source,delay,scheduler)},SubscribeOnObservable.dispatch=function(arg){var source=arg.source,subscriber=arg.subscriber;return source.subscribe(subscriber)},SubscribeOnObservable.prototype._subscribe=function(subscriber){var delay=this.delayTime,source=this.source,scheduler=this.scheduler;return scheduler.schedule(SubscribeOnObservable.dispatch,delay,{source:source,subscriber:subscriber})},SubscribeOnObservable}(Observable_1.Observable);exports.SubscribeOnObservable=SubscribeOnObservable},{"../Observable":629,"../scheduler/asap":871,"../util/isNumeric":889}],762:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isNumeric_1=require("../util/isNumeric"),Observable_1=require("../Observable"),async_1=require("../scheduler/async"),isScheduler_1=require("../util/isScheduler"),isDate_1=require("../util/isDate"),TimerObservable=function(_super){function TimerObservable(dueTime,period,scheduler){void 0===dueTime&&(dueTime=0),_super.call(this),this.period=-1,this.dueTime=0,isNumeric_1.isNumeric(period)?this.period=Number(period)<1&&1||Number(period):isScheduler_1.isScheduler(period)&&(scheduler=period),isScheduler_1.isScheduler(scheduler)||(scheduler=async_1.async),this.scheduler=scheduler,this.dueTime=isDate_1.isDate(dueTime)?+dueTime-this.scheduler.now():dueTime}return __extends(TimerObservable,_super),TimerObservable.create=function(initialDelay,period,scheduler){return void 0===initialDelay&&(initialDelay=0),new TimerObservable(initialDelay,period,scheduler)},TimerObservable.dispatch=function(state){var index=state.index,period=state.period,subscriber=state.subscriber,action=this;if(subscriber.next(index),!subscriber.isUnsubscribed){if(period===-1)return subscriber.complete();state.index=index+1,action.schedule(state,period)}},TimerObservable.prototype._subscribe=function(subscriber){var index=0,_a=this,period=_a.period,dueTime=_a.dueTime,scheduler=_a.scheduler;return scheduler.schedule(TimerObservable.dispatch,dueTime,{index:index,period:period,subscriber:subscriber})},TimerObservable}(Observable_1.Observable);exports.TimerObservable=TimerObservable},{"../Observable":629,"../scheduler/async":872,"../util/isDate":887,"../util/isNumeric":889,"../util/isScheduler":892}],763:[function(require,module,exports){"use strict";var BoundCallbackObservable_1=require("./BoundCallbackObservable");exports.bindCallback=BoundCallbackObservable_1.BoundCallbackObservable.create},{"./BoundCallbackObservable":745}],764:[function(require,module,exports){"use strict";var BoundNodeCallbackObservable_1=require("./BoundNodeCallbackObservable");exports.bindNodeCallback=BoundNodeCallbackObservable_1.BoundNodeCallbackObservable.create},{"./BoundNodeCallbackObservable":746}],765:[function(require,module,exports){"use strict";var concat_1=require("../operator/concat");exports.concat=concat_1.concatStatic},{"../operator/concat":792}],766:[function(require,module,exports){"use strict";var DeferObservable_1=require("./DeferObservable");exports.defer=DeferObservable_1.DeferObservable.create},{"./DeferObservable":748}],767:[function(require,module,exports){"use strict";var EmptyObservable_1=require("./EmptyObservable");exports.empty=EmptyObservable_1.EmptyObservable.create},{"./EmptyObservable":749}],768:[function(require,module,exports){"use strict";var ForkJoinObservable_1=require("./ForkJoinObservable");exports.forkJoin=ForkJoinObservable_1.ForkJoinObservable.create},{"./ForkJoinObservable":751}],769:[function(require,module,exports){"use strict";var FromObservable_1=require("./FromObservable");exports.from=FromObservable_1.FromObservable.create},{"./FromObservable":754}],770:[function(require,module,exports){"use strict";var FromEventObservable_1=require("./FromEventObservable");exports.fromEvent=FromEventObservable_1.FromEventObservable.create},{"./FromEventObservable":752}],771:[function(require,module,exports){"use strict";var FromEventPatternObservable_1=require("./FromEventPatternObservable");exports.fromEventPattern=FromEventPatternObservable_1.FromEventPatternObservable.create},{"./FromEventPatternObservable":753}],772:[function(require,module,exports){"use strict";var PromiseObservable_1=require("./PromiseObservable");exports.fromPromise=PromiseObservable_1.PromiseObservable.create},{"./PromiseObservable":758}],773:[function(require,module,exports){"use strict";var IntervalObservable_1=require("./IntervalObservable");exports.interval=IntervalObservable_1.IntervalObservable.create},{"./IntervalObservable":755}],774:[function(require,module,exports){"use strict";var merge_1=require("../operator/merge");exports.merge=merge_1.mergeStatic},{"../operator/merge":817}],775:[function(require,module,exports){"use strict";var NeverObservable_1=require("./NeverObservable");exports.never=NeverObservable_1.NeverObservable.create},{"./NeverObservable":757}],776:[function(require,module,exports){"use strict";var ArrayObservable_1=require("./ArrayObservable");exports.of=ArrayObservable_1.ArrayObservable.of},{"./ArrayObservable":744}],777:[function(require,module,exports){"use strict";var RangeObservable_1=require("./RangeObservable");exports.range=RangeObservable_1.RangeObservable.create},{"./RangeObservable":759}],778:[function(require,module,exports){"use strict";var ErrorObservable_1=require("./ErrorObservable");exports._throw=ErrorObservable_1.ErrorObservable.create},{"./ErrorObservable":750}],779:[function(require,module,exports){"use strict";var TimerObservable_1=require("./TimerObservable");exports.timer=TimerObservable_1.TimerObservable.create},{"./TimerObservable":762}],780:[function(require,module,exports){"use strict";var zip_1=require("../operator/zip");exports.zip=zip_1.zipStatic},{"../operator/zip":863}],781:[function(require,module,exports){"use strict";function audit(durationSelector){return this.lift(new AuditOperator(durationSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.audit=audit;var AuditOperator=function(){function AuditOperator(durationSelector){this.durationSelector=durationSelector}return AuditOperator.prototype.call=function(subscriber,source){return source._subscribe(new AuditSubscriber(subscriber,this.durationSelector))},AuditOperator}(),AuditSubscriber=function(_super){function AuditSubscriber(destination,durationSelector){_super.call(this,destination),this.durationSelector=durationSelector,this.hasValue=!1}return __extends(AuditSubscriber,_super),AuditSubscriber.prototype._next=function(value){if(this.value=value,this.hasValue=!0,!this.throttled){var duration=tryCatch_1.tryCatch(this.durationSelector)(value);duration===errorObject_1.errorObject?this.destination.error(errorObject_1.errorObject.e):this.add(this.throttled=subscribeToResult_1.subscribeToResult(this,duration))}},AuditSubscriber.prototype.clearThrottle=function(){var _a=this,value=_a.value,hasValue=_a.hasValue,throttled=_a.throttled;throttled&&(this.remove(throttled),this.throttled=null,throttled.unsubscribe()),hasValue&&(this.value=null,this.hasValue=!1,this.destination.next(value))},AuditSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex){this.clearThrottle()},AuditSubscriber.prototype.notifyComplete=function(){this.clearThrottle()},AuditSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../util/errorObject":885,"../util/subscribeToResult":896,"../util/tryCatch":899}],782:[function(require,module,exports){"use strict";function auditTime(delay,scheduler){return void 0===scheduler&&(scheduler=async_1.async),this.lift(new AuditTimeOperator(delay,scheduler))}function dispatchNext(subscriber){subscriber.clearThrottle()}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=require("../scheduler/async"),Subscriber_1=require("../Subscriber");exports.auditTime=auditTime;var AuditTimeOperator=function(){function AuditTimeOperator(delay,scheduler){this.delay=delay,this.scheduler=scheduler}return AuditTimeOperator.prototype.call=function(subscriber,source){return source._subscribe(new AuditTimeSubscriber(subscriber,this.delay,this.scheduler))},AuditTimeOperator}(),AuditTimeSubscriber=function(_super){function AuditTimeSubscriber(destination,delay,scheduler){_super.call(this,destination),this.delay=delay,this.scheduler=scheduler,this.hasValue=!1}return __extends(AuditTimeSubscriber,_super),AuditTimeSubscriber.prototype._next=function(value){this.value=value,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.delay,this))},AuditTimeSubscriber.prototype.clearThrottle=function(){var _a=this,value=_a.value,hasValue=_a.hasValue,throttled=_a.throttled;throttled&&(this.remove(throttled),this.throttled=null,throttled.unsubscribe()),hasValue&&(this.value=null,this.hasValue=!1,this.destination.next(value))},AuditTimeSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637,"../scheduler/async":872}],783:[function(require,module,exports){"use strict";function buffer(closingNotifier){return this.lift(new BufferOperator(closingNotifier))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.buffer=buffer;var BufferOperator=function(){function BufferOperator(closingNotifier){this.closingNotifier=closingNotifier}return BufferOperator.prototype.call=function(subscriber,source){return source._subscribe(new BufferSubscriber(subscriber,this.closingNotifier))},BufferOperator}(),BufferSubscriber=function(_super){function BufferSubscriber(destination,closingNotifier){_super.call(this,destination),this.buffer=[],this.add(subscribeToResult_1.subscribeToResult(this,closingNotifier))}return __extends(BufferSubscriber,_super),BufferSubscriber.prototype._next=function(value){this.buffer.push(value)},BufferSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var buffer=this.buffer;this.buffer=[],this.destination.next(buffer)},BufferSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../util/subscribeToResult":896}],784:[function(require,module,exports){"use strict";function bufferCount(bufferSize,startBufferEvery){return void 0===startBufferEvery&&(startBufferEvery=null),this.lift(new BufferCountOperator(bufferSize,startBufferEvery))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports.bufferCount=bufferCount;var BufferCountOperator=function(){function BufferCountOperator(bufferSize,startBufferEvery){this.bufferSize=bufferSize,this.startBufferEvery=startBufferEvery}return BufferCountOperator.prototype.call=function(subscriber,source){return source._subscribe(new BufferCountSubscriber(subscriber,this.bufferSize,this.startBufferEvery))},BufferCountOperator}(),BufferCountSubscriber=function(_super){function BufferCountSubscriber(destination,bufferSize,startBufferEvery){_super.call(this,destination),this.bufferSize=bufferSize,this.startBufferEvery=startBufferEvery,this.buffers=[[]],
this.count=0}return __extends(BufferCountSubscriber,_super),BufferCountSubscriber.prototype._next=function(value){var count=this.count+=1,destination=this.destination,bufferSize=this.bufferSize,startBufferEvery=null==this.startBufferEvery?bufferSize:this.startBufferEvery,buffers=this.buffers,len=buffers.length,remove=-1;count%startBufferEvery===0&&buffers.push([]);for(var i=0;i<len;i++){var buffer=buffers[i];buffer.push(value),buffer.length===bufferSize&&(remove=i,destination.next(buffer))}remove!==-1&&buffers.splice(remove,1)},BufferCountSubscriber.prototype._complete=function(){for(var destination=this.destination,buffers=this.buffers;buffers.length>0;){var buffer=buffers.shift();buffer.length>0&&destination.next(buffer)}_super.prototype._complete.call(this)},BufferCountSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],785:[function(require,module,exports){"use strict";function bufferTime(bufferTimeSpan,bufferCreationInterval,scheduler){return void 0===bufferCreationInterval&&(bufferCreationInterval=null),void 0===scheduler&&(scheduler=async_1.async),this.lift(new BufferTimeOperator(bufferTimeSpan,bufferCreationInterval,scheduler))}function dispatchBufferTimeSpanOnly(state){var subscriber=state.subscriber,prevBuffer=state.buffer;prevBuffer&&subscriber.closeBuffer(prevBuffer),state.buffer=subscriber.openBuffer(),subscriber.isUnsubscribed||this.schedule(state,state.bufferTimeSpan)}function dispatchBufferCreation(state){var bufferCreationInterval=state.bufferCreationInterval,bufferTimeSpan=state.bufferTimeSpan,subscriber=state.subscriber,scheduler=state.scheduler,buffer=subscriber.openBuffer(),action=this;subscriber.isUnsubscribed||(action.add(scheduler.schedule(dispatchBufferClose,bufferTimeSpan,{subscriber:subscriber,buffer:buffer})),action.schedule(state,bufferCreationInterval))}function dispatchBufferClose(arg){var subscriber=arg.subscriber,buffer=arg.buffer;subscriber.closeBuffer(buffer)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),async_1=require("../scheduler/async");exports.bufferTime=bufferTime;var BufferTimeOperator=function(){function BufferTimeOperator(bufferTimeSpan,bufferCreationInterval,scheduler){this.bufferTimeSpan=bufferTimeSpan,this.bufferCreationInterval=bufferCreationInterval,this.scheduler=scheduler}return BufferTimeOperator.prototype.call=function(subscriber,source){return source._subscribe(new BufferTimeSubscriber(subscriber,this.bufferTimeSpan,this.bufferCreationInterval,this.scheduler))},BufferTimeOperator}(),BufferTimeSubscriber=function(_super){function BufferTimeSubscriber(destination,bufferTimeSpan,bufferCreationInterval,scheduler){_super.call(this,destination),this.bufferTimeSpan=bufferTimeSpan,this.bufferCreationInterval=bufferCreationInterval,this.scheduler=scheduler,this.buffers=[];var buffer=this.openBuffer();if(null!==bufferCreationInterval&&bufferCreationInterval>=0){var closeState={subscriber:this,buffer:buffer},creationState={bufferTimeSpan:bufferTimeSpan,bufferCreationInterval:bufferCreationInterval,subscriber:this,scheduler:scheduler};this.add(scheduler.schedule(dispatchBufferClose,bufferTimeSpan,closeState)),this.add(scheduler.schedule(dispatchBufferCreation,bufferCreationInterval,creationState))}else{var timeSpanOnlyState={subscriber:this,buffer:buffer,bufferTimeSpan:bufferTimeSpan};this.add(scheduler.schedule(dispatchBufferTimeSpanOnly,bufferTimeSpan,timeSpanOnlyState))}}return __extends(BufferTimeSubscriber,_super),BufferTimeSubscriber.prototype._next=function(value){for(var buffers=this.buffers,len=buffers.length,i=0;i<len;i++)buffers[i].push(value)},BufferTimeSubscriber.prototype._error=function(err){this.buffers.length=0,_super.prototype._error.call(this,err)},BufferTimeSubscriber.prototype._complete=function(){for(var _a=this,buffers=_a.buffers,destination=_a.destination;buffers.length>0;)destination.next(buffers.shift());_super.prototype._complete.call(this)},BufferTimeSubscriber.prototype._unsubscribe=function(){this.buffers=null},BufferTimeSubscriber.prototype.openBuffer=function(){var buffer=[];return this.buffers.push(buffer),buffer},BufferTimeSubscriber.prototype.closeBuffer=function(buffer){this.destination.next(buffer);var buffers=this.buffers;buffers.splice(buffers.indexOf(buffer),1)},BufferTimeSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637,"../scheduler/async":872}],786:[function(require,module,exports){"use strict";function bufferToggle(openings,closingSelector){return this.lift(new BufferToggleOperator(openings,closingSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscription_1=require("../Subscription"),subscribeToResult_1=require("../util/subscribeToResult"),OuterSubscriber_1=require("../OuterSubscriber");exports.bufferToggle=bufferToggle;var BufferToggleOperator=function(){function BufferToggleOperator(openings,closingSelector){this.openings=openings,this.closingSelector=closingSelector}return BufferToggleOperator.prototype.call=function(subscriber,source){return source._subscribe(new BufferToggleSubscriber(subscriber,this.openings,this.closingSelector))},BufferToggleOperator}(),BufferToggleSubscriber=function(_super){function BufferToggleSubscriber(destination,openings,closingSelector){_super.call(this,destination),this.openings=openings,this.closingSelector=closingSelector,this.contexts=[],this.add(subscribeToResult_1.subscribeToResult(this,openings))}return __extends(BufferToggleSubscriber,_super),BufferToggleSubscriber.prototype._next=function(value){for(var contexts=this.contexts,len=contexts.length,i=0;i<len;i++)contexts[i].buffer.push(value)},BufferToggleSubscriber.prototype._error=function(err){for(var contexts=this.contexts;contexts.length>0;){var context=contexts.shift();context.subscription.unsubscribe(),context.buffer=null,context.subscription=null}this.contexts=null,_super.prototype._error.call(this,err)},BufferToggleSubscriber.prototype._complete=function(){for(var contexts=this.contexts;contexts.length>0;){var context=contexts.shift();this.destination.next(context.buffer),context.subscription.unsubscribe(),context.buffer=null,context.subscription=null}this.contexts=null,_super.prototype._complete.call(this)},BufferToggleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){outerValue?this.closeBuffer(outerValue):this.openBuffer(innerValue)},BufferToggleSubscriber.prototype.notifyComplete=function(innerSub){this.closeBuffer(innerSub.context)},BufferToggleSubscriber.prototype.openBuffer=function(value){try{var closingSelector=this.closingSelector,closingNotifier=closingSelector.call(this,value);closingNotifier&&this.trySubscribe(closingNotifier)}catch(err){this._error(err)}},BufferToggleSubscriber.prototype.closeBuffer=function(context){var contexts=this.contexts;if(contexts&&context){var buffer=context.buffer,subscription=context.subscription;this.destination.next(buffer),contexts.splice(contexts.indexOf(context),1),this.remove(subscription),subscription.unsubscribe()}},BufferToggleSubscriber.prototype.trySubscribe=function(closingNotifier){var contexts=this.contexts,buffer=[],subscription=new Subscription_1.Subscription,context={buffer:buffer,subscription:subscription};contexts.push(context);var innerSubscription=subscribeToResult_1.subscribeToResult(this,closingNotifier,context);!innerSubscription||innerSubscription.isUnsubscribed?this.closeBuffer(context):(innerSubscription.context=context,this.add(innerSubscription),subscription.add(innerSubscription))},BufferToggleSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../Subscription":638,"../util/subscribeToResult":896}],787:[function(require,module,exports){"use strict";function bufferWhen(closingSelector){return this.lift(new BufferWhenOperator(closingSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscription_1=require("../Subscription"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.bufferWhen=bufferWhen;var BufferWhenOperator=function(){function BufferWhenOperator(closingSelector){this.closingSelector=closingSelector}return BufferWhenOperator.prototype.call=function(subscriber,source){return source._subscribe(new BufferWhenSubscriber(subscriber,this.closingSelector))},BufferWhenOperator}(),BufferWhenSubscriber=function(_super){function BufferWhenSubscriber(destination,closingSelector){_super.call(this,destination),this.closingSelector=closingSelector,this.subscribing=!1,this.openBuffer()}return __extends(BufferWhenSubscriber,_super),BufferWhenSubscriber.prototype._next=function(value){this.buffer.push(value)},BufferWhenSubscriber.prototype._complete=function(){var buffer=this.buffer;buffer&&this.destination.next(buffer),_super.prototype._complete.call(this)},BufferWhenSubscriber.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},BufferWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.openBuffer()},BufferWhenSubscriber.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},BufferWhenSubscriber.prototype.openBuffer=function(){var closingSubscription=this.closingSubscription;closingSubscription&&(this.remove(closingSubscription),closingSubscription.unsubscribe());var buffer=this.buffer;this.buffer&&this.destination.next(buffer),this.buffer=[];var closingNotifier=tryCatch_1.tryCatch(this.closingSelector)();closingNotifier===errorObject_1.errorObject?this.error(errorObject_1.errorObject.e):(closingSubscription=new Subscription_1.Subscription,this.closingSubscription=closingSubscription,this.add(closingSubscription),this.subscribing=!0,closingSubscription.add(subscribeToResult_1.subscribeToResult(this,closingNotifier)),this.subscribing=!1)},BufferWhenSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../Subscription":638,"../util/errorObject":885,"../util/subscribeToResult":896,"../util/tryCatch":899}],788:[function(require,module,exports){"use strict";function cache(bufferSize,windowTime,scheduler){return void 0===bufferSize&&(bufferSize=Number.POSITIVE_INFINITY),void 0===windowTime&&(windowTime=Number.POSITIVE_INFINITY),publishReplay_1.publishReplay.call(this,bufferSize,windowTime,scheduler).refCount()}var publishReplay_1=require("./publishReplay");exports.cache=cache},{"./publishReplay":828}],789:[function(require,module,exports){"use strict";function _catch(selector){var operator=new CatchOperator(selector),caught=this.lift(operator);return operator.caught=caught}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports._catch=_catch;var CatchOperator=function(){function CatchOperator(selector){this.selector=selector}return CatchOperator.prototype.call=function(subscriber,source){return source._subscribe(new CatchSubscriber(subscriber,this.selector,this.caught))},CatchOperator}(),CatchSubscriber=function(_super){function CatchSubscriber(destination,selector,caught){_super.call(this,destination),this.selector=selector,this.caught=caught}return __extends(CatchSubscriber,_super),CatchSubscriber.prototype.error=function(err){if(!this.isStopped){var result=void 0;try{result=this.selector(err,this.caught)}catch(err){return void this.destination.error(err)}this._innerSub(result)}},CatchSubscriber.prototype._innerSub=function(result){this.unsubscribe(),this.destination.remove(this),result.subscribe(this.destination)},CatchSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],790:[function(require,module,exports){"use strict";function combineAll(project){return this.lift(new combineLatest_1.CombineLatestOperator(project))}var combineLatest_1=require("./combineLatest");exports.combineAll=combineAll},{"./combineLatest":791}],791:[function(require,module,exports){"use strict";function combineLatest(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];var project=null;return"function"==typeof observables[observables.length-1]&&(project=observables.pop()),1===observables.length&&isArray_1.isArray(observables[0])&&(observables=observables[0]),observables.unshift(this),new ArrayObservable_1.ArrayObservable(observables).lift(new CombineLatestOperator(project))}function combineLatestStatic(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];var project=null,scheduler=null;return isScheduler_1.isScheduler(observables[observables.length-1])&&(scheduler=observables.pop()),"function"==typeof observables[observables.length-1]&&(project=observables.pop()),1===observables.length&&isArray_1.isArray(observables[0])&&(observables=observables[0]),new ArrayObservable_1.ArrayObservable(observables,scheduler).lift(new CombineLatestOperator(project))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ArrayObservable_1=require("../observable/ArrayObservable"),isArray_1=require("../util/isArray"),isScheduler_1=require("../util/isScheduler"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.combineLatest=combineLatest,exports.combineLatestStatic=combineLatestStatic;var CombineLatestOperator=function(){function CombineLatestOperator(project){this.project=project}return CombineLatestOperator.prototype.call=function(subscriber,source){return source._subscribe(new CombineLatestSubscriber(subscriber,this.project))},CombineLatestOperator}();exports.CombineLatestOperator=CombineLatestOperator;var CombineLatestSubscriber=function(_super){function CombineLatestSubscriber(destination,project){_super.call(this,destination),this.project=project,this.active=0,this.values=[],this.observables=[],this.toRespond=[]}return __extends(CombineLatestSubscriber,_super),CombineLatestSubscriber.prototype._next=function(observable){var toRespond=this.toRespond;toRespond.push(toRespond.length),this.observables.push(observable)},CombineLatestSubscriber.prototype._complete=function(){var observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{this.active=len;for(var i=0;i<len;i++){var observable=observables[i];this.add(subscribeToResult_1.subscribeToResult(this,observable,observable,i))}}},CombineLatestSubscriber.prototype.notifyComplete=function(unused){0===(this.active-=1)&&this.destination.complete()},CombineLatestSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var values=this.values;values[outerIndex]=innerValue;var toRespond=this.toRespond;if(toRespond.length>0){var found=toRespond.indexOf(outerIndex);found!==-1&&toRespond.splice(found,1)}0===toRespond.length&&(this.project?this._tryProject(values):this.destination.next(values))},CombineLatestSubscriber.prototype._tryProject=function(values){var result;try{result=this.project.apply(this,values)}catch(err){return void this.destination.error(err)}this.destination.next(result)},CombineLatestSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.CombineLatestSubscriber=CombineLatestSubscriber},{"../OuterSubscriber":632,"../observable/ArrayObservable":744,"../util/isArray":886,"../util/isScheduler":892,"../util/subscribeToResult":896}],792:[function(require,module,exports){"use strict";function concat(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return concatStatic.apply(void 0,[this].concat(observables))}function concatStatic(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];var scheduler=null,args=observables;return isScheduler_1.isScheduler(args[observables.length-1])&&(scheduler=args.pop()),new ArrayObservable_1.ArrayObservable(observables,scheduler).lift(new mergeAll_1.MergeAllOperator(1))}var isScheduler_1=require("../util/isScheduler"),ArrayObservable_1=require("../observable/ArrayObservable"),mergeAll_1=require("./mergeAll");exports.concat=concat,exports.concatStatic=concatStatic},{"../observable/ArrayObservable":744,"../util/isScheduler":892,"./mergeAll":818}],793:[function(require,module,exports){"use strict";function concatAll(){return this.lift(new mergeAll_1.MergeAllOperator(1))}var mergeAll_1=require("./mergeAll");exports.concatAll=concatAll},{"./mergeAll":818}],794:[function(require,module,exports){"use strict";function concatMap(project,resultSelector){return this.lift(new mergeMap_1.MergeMapOperator(project,resultSelector,1))}var mergeMap_1=require("./mergeMap");exports.concatMap=concatMap},{"./mergeMap":819}],795:[function(require,module,exports){"use strict";function concatMapTo(innerObservable,resultSelector){return this.lift(new mergeMapTo_1.MergeMapToOperator(innerObservable,resultSelector,1))}var mergeMapTo_1=require("./mergeMapTo");exports.concatMapTo=concatMapTo},{"./mergeMapTo":820}],796:[function(require,module,exports){"use strict";function count(predicate){return this.lift(new CountOperator(predicate,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports.count=count;var CountOperator=function(){function CountOperator(predicate,source){this.predicate=predicate,this.source=source}return CountOperator.prototype.call=function(subscriber,source){return source._subscribe(new CountSubscriber(subscriber,this.predicate,this.source))},CountOperator}(),CountSubscriber=function(_super){function CountSubscriber(destination,predicate,source){_super.call(this,destination),this.predicate=predicate,this.source=source,this.count=0,this.index=0}return __extends(CountSubscriber,_super),CountSubscriber.prototype._next=function(value){this.predicate?this._tryPredicate(value):this.count++},CountSubscriber.prototype._tryPredicate=function(value){var result;try{result=this.predicate(value,this.index++,this.source)}catch(err){return void this.destination.error(err)}result&&this.count++},CountSubscriber.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},CountSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],797:[function(require,module,exports){"use strict";function debounce(durationSelector){return this.lift(new DebounceOperator(durationSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.debounce=debounce;var DebounceOperator=function(){function DebounceOperator(durationSelector){this.durationSelector=durationSelector}return DebounceOperator.prototype.call=function(subscriber,source){return source._subscribe(new DebounceSubscriber(subscriber,this.durationSelector))},DebounceOperator}(),DebounceSubscriber=function(_super){function DebounceSubscriber(destination,durationSelector){_super.call(this,destination),this.durationSelector=durationSelector,this.hasValue=!1,this.durationSubscription=null}return __extends(DebounceSubscriber,_super),DebounceSubscriber.prototype._next=function(value){try{var result=this.durationSelector.call(this,value);result&&this._tryNext(value,result)}catch(err){this.destination.error(err)}},DebounceSubscriber.prototype._complete=function(){this.emitValue(),this.destination.complete()},DebounceSubscriber.prototype._tryNext=function(value,duration){var subscription=this.durationSubscription;this.value=value,this.hasValue=!0,subscription&&(subscription.unsubscribe(),this.remove(subscription)),subscription=subscribeToResult_1.subscribeToResult(this,duration),subscription.isUnsubscribed||this.add(this.durationSubscription=subscription)},DebounceSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.emitValue()},DebounceSubscriber.prototype.notifyComplete=function(){this.emitValue()},DebounceSubscriber.prototype.emitValue=function(){if(this.hasValue){var value=this.value,subscription=this.durationSubscription;subscription&&(this.durationSubscription=null,subscription.unsubscribe(),this.remove(subscription)),this.value=null,this.hasValue=!1,_super.prototype._next.call(this,value)}},DebounceSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../util/subscribeToResult":896}],798:[function(require,module,exports){"use strict";function debounceTime(dueTime,scheduler){return void 0===scheduler&&(scheduler=async_1.async),this.lift(new DebounceTimeOperator(dueTime,scheduler))}function dispatchNext(subscriber){subscriber.debouncedNext()}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),async_1=require("../scheduler/async");exports.debounceTime=debounceTime;var DebounceTimeOperator=function(){function DebounceTimeOperator(dueTime,scheduler){this.dueTime=dueTime,this.scheduler=scheduler}return DebounceTimeOperator.prototype.call=function(subscriber,source){return source._subscribe(new DebounceTimeSubscriber(subscriber,this.dueTime,this.scheduler))},DebounceTimeOperator}(),DebounceTimeSubscriber=function(_super){function DebounceTimeSubscriber(destination,dueTime,scheduler){_super.call(this,destination),this.dueTime=dueTime,this.scheduler=scheduler,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return __extends(DebounceTimeSubscriber,_super),DebounceTimeSubscriber.prototype._next=function(value){this.clearDebounce(),this.lastValue=value,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext,this.dueTime,this))},DebounceTimeSubscriber.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},DebounceTimeSubscriber.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},DebounceTimeSubscriber.prototype.clearDebounce=function(){var debouncedSubscription=this.debouncedSubscription;null!==debouncedSubscription&&(this.remove(debouncedSubscription),debouncedSubscription.unsubscribe(),this.debouncedSubscription=null)},DebounceTimeSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637,"../scheduler/async":872}],799:[function(require,module,exports){"use strict";function defaultIfEmpty(defaultValue){return void 0===defaultValue&&(defaultValue=null),this.lift(new DefaultIfEmptyOperator(defaultValue))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports.defaultIfEmpty=defaultIfEmpty;var DefaultIfEmptyOperator=function(){function DefaultIfEmptyOperator(defaultValue){this.defaultValue=defaultValue}return DefaultIfEmptyOperator.prototype.call=function(subscriber,source){return source._subscribe(new DefaultIfEmptySubscriber(subscriber,this.defaultValue))},DefaultIfEmptyOperator}(),DefaultIfEmptySubscriber=function(_super){function DefaultIfEmptySubscriber(destination,defaultValue){_super.call(this,destination),this.defaultValue=defaultValue,this.isEmpty=!0}return __extends(DefaultIfEmptySubscriber,_super),DefaultIfEmptySubscriber.prototype._next=function(value){this.isEmpty=!1,this.destination.next(value)},DefaultIfEmptySubscriber.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},DefaultIfEmptySubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],800:[function(require,module,exports){"use strict";function delay(delay,scheduler){void 0===scheduler&&(scheduler=async_1.async);var absoluteDelay=isDate_1.isDate(delay),delayFor=absoluteDelay?+delay-scheduler.now():Math.abs(delay);return this.lift(new DelayOperator(delayFor,scheduler))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=require("../scheduler/async"),isDate_1=require("../util/isDate"),Subscriber_1=require("../Subscriber"),Notification_1=require("../Notification");exports.delay=delay;var DelayOperator=function(){function DelayOperator(delay,scheduler){this.delay=delay,this.scheduler=scheduler}return DelayOperator.prototype.call=function(subscriber,source){return source._subscribe(new DelaySubscriber(subscriber,this.delay,this.scheduler))},DelayOperator}(),DelaySubscriber=function(_super){function DelaySubscriber(destination,delay,scheduler){_super.call(this,destination),this.delay=delay,this.scheduler=scheduler,this.queue=[],this.active=!1,this.errored=!1}return __extends(DelaySubscriber,_super),DelaySubscriber.dispatch=function(state){for(var source=state.source,queue=source.queue,scheduler=state.scheduler,destination=state.destination;queue.length>0&&queue[0].time-scheduler.now()<=0;)queue.shift().notification.observe(destination);if(queue.length>0){var delay_1=Math.max(0,queue[0].time-scheduler.now());this.schedule(state,delay_1)}else source.active=!1},DelaySubscriber.prototype._schedule=function(scheduler){this.active=!0,this.add(scheduler.schedule(DelaySubscriber.dispatch,this.delay,{source:this,destination:this.destination,scheduler:scheduler}))},DelaySubscriber.prototype.scheduleNotification=function(notification){if(this.errored!==!0){var scheduler=this.scheduler,message=new DelayMessage(scheduler.now()+this.delay,notification);this.queue.push(message),this.active===!1&&this._schedule(scheduler)}},DelaySubscriber.prototype._next=function(value){this.scheduleNotification(Notification_1.Notification.createNext(value))},DelaySubscriber.prototype._error=function(err){this.errored=!0,this.queue=[],this.destination.error(err)},DelaySubscriber.prototype._complete=function(){this.scheduleNotification(Notification_1.Notification.createComplete())},DelaySubscriber}(Subscriber_1.Subscriber),DelayMessage=function(){function DelayMessage(time,notification){this.time=time,this.notification=notification}return DelayMessage}()},{"../Notification":628,"../Subscriber":637,"../scheduler/async":872,"../util/isDate":887}],801:[function(require,module,exports){"use strict";function delayWhen(delayDurationSelector,subscriptionDelay){return subscriptionDelay?new SubscriptionDelayObservable(this,subscriptionDelay).lift(new DelayWhenOperator(delayDurationSelector)):this.lift(new DelayWhenOperator(delayDurationSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),Observable_1=require("../Observable"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.delayWhen=delayWhen;var DelayWhenOperator=function(){function DelayWhenOperator(delayDurationSelector){this.delayDurationSelector=delayDurationSelector}return DelayWhenOperator.prototype.call=function(subscriber,source){return source._subscribe(new DelayWhenSubscriber(subscriber,this.delayDurationSelector))},DelayWhenOperator}(),DelayWhenSubscriber=function(_super){function DelayWhenSubscriber(destination,delayDurationSelector){_super.call(this,destination),this.delayDurationSelector=delayDurationSelector,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return __extends(DelayWhenSubscriber,_super),DelayWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(outerValue),this.removeSubscription(innerSub),this.tryComplete()},DelayWhenSubscriber.prototype.notifyError=function(error,innerSub){this._error(error)},DelayWhenSubscriber.prototype.notifyComplete=function(innerSub){var value=this.removeSubscription(innerSub);value&&this.destination.next(value),this.tryComplete()},DelayWhenSubscriber.prototype._next=function(value){try{var delayNotifier=this.delayDurationSelector(value);delayNotifier&&this.tryDelay(delayNotifier,value)}catch(err){this.destination.error(err)}},DelayWhenSubscriber.prototype._complete=function(){this.completed=!0,this.tryComplete()},DelayWhenSubscriber.prototype.removeSubscription=function(subscription){subscription.unsubscribe();var subscriptionIdx=this.delayNotifierSubscriptions.indexOf(subscription),value=null;return subscriptionIdx!==-1&&(value=this.values[subscriptionIdx],this.delayNotifierSubscriptions.splice(subscriptionIdx,1),this.values.splice(subscriptionIdx,1)),value},DelayWhenSubscriber.prototype.tryDelay=function(delayNotifier,value){var notifierSubscription=subscribeToResult_1.subscribeToResult(this,delayNotifier,value);this.add(notifierSubscription),this.delayNotifierSubscriptions.push(notifierSubscription),this.values.push(value)},DelayWhenSubscriber.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},DelayWhenSubscriber}(OuterSubscriber_1.OuterSubscriber),SubscriptionDelayObservable=function(_super){function SubscriptionDelayObservable(source,subscriptionDelay){_super.call(this),this.source=source,this.subscriptionDelay=subscriptionDelay}return __extends(SubscriptionDelayObservable,_super),SubscriptionDelayObservable.prototype._subscribe=function(subscriber){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber,this.source))},SubscriptionDelayObservable}(Observable_1.Observable),SubscriptionDelaySubscriber=function(_super){function SubscriptionDelaySubscriber(parent,source){_super.call(this),this.parent=parent,this.source=source,this.sourceSubscribed=!1}return __extends(SubscriptionDelaySubscriber,_super),SubscriptionDelaySubscriber.prototype._next=function(unused){this.subscribeToSource()},SubscriptionDelaySubscriber.prototype._error=function(err){this.unsubscribe(),this.parent.error(err)},SubscriptionDelaySubscriber.prototype._complete=function(){this.subscribeToSource()},SubscriptionDelaySubscriber.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},SubscriptionDelaySubscriber}(Subscriber_1.Subscriber)},{"../Observable":629,"../OuterSubscriber":632,"../Subscriber":637,"../util/subscribeToResult":896}],802:[function(require,module,exports){"use strict";function dematerialize(){return this.lift(new DeMaterializeOperator)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports.dematerialize=dematerialize;var DeMaterializeOperator=function(){function DeMaterializeOperator(){}return DeMaterializeOperator.prototype.call=function(subscriber,source){return source._subscribe(new DeMaterializeSubscriber(subscriber))},DeMaterializeOperator}(),DeMaterializeSubscriber=function(_super){
function DeMaterializeSubscriber(destination){_super.call(this,destination)}return __extends(DeMaterializeSubscriber,_super),DeMaterializeSubscriber.prototype._next=function(value){value.observe(this.destination)},DeMaterializeSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],803:[function(require,module,exports){"use strict";function distinctUntilChanged(compare,keySelector){return this.lift(new DistinctUntilChangedOperator(compare,keySelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject");exports.distinctUntilChanged=distinctUntilChanged;var DistinctUntilChangedOperator=function(){function DistinctUntilChangedOperator(compare,keySelector){this.compare=compare,this.keySelector=keySelector}return DistinctUntilChangedOperator.prototype.call=function(subscriber,source){return source._subscribe(new DistinctUntilChangedSubscriber(subscriber,this.compare,this.keySelector))},DistinctUntilChangedOperator}(),DistinctUntilChangedSubscriber=function(_super){function DistinctUntilChangedSubscriber(destination,compare,keySelector){_super.call(this,destination),this.keySelector=keySelector,this.hasKey=!1,"function"==typeof compare&&(this.compare=compare)}return __extends(DistinctUntilChangedSubscriber,_super),DistinctUntilChangedSubscriber.prototype.compare=function(x,y){return x===y},DistinctUntilChangedSubscriber.prototype._next=function(value){var keySelector=this.keySelector,key=value;if(keySelector&&(key=tryCatch_1.tryCatch(this.keySelector)(value),key===errorObject_1.errorObject))return this.destination.error(errorObject_1.errorObject.e);var result=!1;if(this.hasKey){if(result=tryCatch_1.tryCatch(this.compare)(this.key,key),result===errorObject_1.errorObject)return this.destination.error(errorObject_1.errorObject.e)}else this.hasKey=!0;Boolean(result)===!1&&(this.key=key,this.destination.next(value))},DistinctUntilChangedSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637,"../util/errorObject":885,"../util/tryCatch":899}],804:[function(require,module,exports){"use strict";function _do(nextOrObserver,error,complete){return this.lift(new DoOperator(nextOrObserver,error,complete))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports._do=_do;var DoOperator=function(){function DoOperator(nextOrObserver,error,complete){this.nextOrObserver=nextOrObserver,this.error=error,this.complete=complete}return DoOperator.prototype.call=function(subscriber,source){return source._subscribe(new DoSubscriber(subscriber,this.nextOrObserver,this.error,this.complete))},DoOperator}(),DoSubscriber=function(_super){function DoSubscriber(destination,nextOrObserver,error,complete){_super.call(this,destination);var safeSubscriber=new Subscriber_1.Subscriber(nextOrObserver,error,complete);safeSubscriber.syncErrorThrowable=!0,this.add(safeSubscriber),this.safeSubscriber=safeSubscriber}return __extends(DoSubscriber,_super),DoSubscriber.prototype._next=function(value){var safeSubscriber=this.safeSubscriber;safeSubscriber.next(value),safeSubscriber.syncErrorThrown?this.destination.error(safeSubscriber.syncErrorValue):this.destination.next(value)},DoSubscriber.prototype._error=function(err){var safeSubscriber=this.safeSubscriber;safeSubscriber.error(err),safeSubscriber.syncErrorThrown?this.destination.error(safeSubscriber.syncErrorValue):this.destination.error(err)},DoSubscriber.prototype._complete=function(){var safeSubscriber=this.safeSubscriber;safeSubscriber.complete(),safeSubscriber.syncErrorThrown?this.destination.error(safeSubscriber.syncErrorValue):this.destination.complete()},DoSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],805:[function(require,module,exports){"use strict";function every(predicate,thisArg){var source=this;return source.lift(new EveryOperator(predicate,thisArg,source))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports.every=every;var EveryOperator=function(){function EveryOperator(predicate,thisArg,source){this.predicate=predicate,this.thisArg=thisArg,this.source=source}return EveryOperator.prototype.call=function(observer,source){return source._subscribe(new EverySubscriber(observer,this.predicate,this.thisArg,this.source))},EveryOperator}(),EverySubscriber=function(_super){function EverySubscriber(destination,predicate,thisArg,source){_super.call(this,destination),this.predicate=predicate,this.thisArg=thisArg,this.source=source,this.index=0,this.thisArg=thisArg||this}return __extends(EverySubscriber,_super),EverySubscriber.prototype.notifyComplete=function(everyValueMatch){this.destination.next(everyValueMatch),this.destination.complete()},EverySubscriber.prototype._next=function(value){var result=!1;try{result=this.predicate.call(this.thisArg,value,this.index++,this.source)}catch(err){return void this.destination.error(err)}result||this.notifyComplete(!1)},EverySubscriber.prototype._complete=function(){this.notifyComplete(!0)},EverySubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],806:[function(require,module,exports){"use strict";function expand(project,concurrent,scheduler){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),void 0===scheduler&&(scheduler=void 0),concurrent=(concurrent||0)<1?Number.POSITIVE_INFINITY:concurrent,this.lift(new ExpandOperator(project,concurrent,scheduler))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.expand=expand;var ExpandOperator=function(){function ExpandOperator(project,concurrent,scheduler){this.project=project,this.concurrent=concurrent,this.scheduler=scheduler}return ExpandOperator.prototype.call=function(subscriber,source){return source._subscribe(new ExpandSubscriber(subscriber,this.project,this.concurrent,this.scheduler))},ExpandOperator}();exports.ExpandOperator=ExpandOperator;var ExpandSubscriber=function(_super){function ExpandSubscriber(destination,project,concurrent,scheduler){_super.call(this,destination),this.project=project,this.concurrent=concurrent,this.scheduler=scheduler,this.index=0,this.active=0,this.hasCompleted=!1,concurrent<Number.POSITIVE_INFINITY&&(this.buffer=[])}return __extends(ExpandSubscriber,_super),ExpandSubscriber.dispatch=function(arg){var subscriber=arg.subscriber,result=arg.result,value=arg.value,index=arg.index;subscriber.subscribeToProjection(result,value,index)},ExpandSubscriber.prototype._next=function(value){var destination=this.destination;if(destination.isUnsubscribed)return void this._complete();var index=this.index++;if(this.active<this.concurrent){destination.next(value);var result=tryCatch_1.tryCatch(this.project)(value,index);if(result===errorObject_1.errorObject)destination.error(errorObject_1.errorObject.e);else if(this.scheduler){var state={subscriber:this,result:result,value:value,index:index};this.add(this.scheduler.schedule(ExpandSubscriber.dispatch,0,state))}else this.subscribeToProjection(result,value,index)}else this.buffer.push(value)},ExpandSubscriber.prototype.subscribeToProjection=function(result,value,index){this.active++,this.add(subscribeToResult_1.subscribeToResult(this,result,value,index))},ExpandSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},ExpandSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this._next(innerValue)},ExpandSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub),this.active--,buffer&&buffer.length>0&&this._next(buffer.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},ExpandSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.ExpandSubscriber=ExpandSubscriber},{"../OuterSubscriber":632,"../util/errorObject":885,"../util/subscribeToResult":896,"../util/tryCatch":899}],807:[function(require,module,exports){"use strict";function filter(predicate,thisArg){return this.lift(new FilterOperator(predicate,thisArg))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports.filter=filter;var FilterOperator=function(){function FilterOperator(predicate,thisArg){this.predicate=predicate,this.thisArg=thisArg}return FilterOperator.prototype.call=function(subscriber,source){return source._subscribe(new FilterSubscriber(subscriber,this.predicate,this.thisArg))},FilterOperator}(),FilterSubscriber=function(_super){function FilterSubscriber(destination,predicate,thisArg){_super.call(this,destination),this.predicate=predicate,this.thisArg=thisArg,this.count=0,this.predicate=predicate}return __extends(FilterSubscriber,_super),FilterSubscriber.prototype._next=function(value){var result;try{result=this.predicate.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}result&&this.destination.next(value)},FilterSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],808:[function(require,module,exports){"use strict";function _finally(finallySelector){return this.lift(new FinallyOperator(finallySelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),Subscription_1=require("../Subscription");exports._finally=_finally;var FinallyOperator=function(){function FinallyOperator(finallySelector){this.finallySelector=finallySelector}return FinallyOperator.prototype.call=function(subscriber,source){return source._subscribe(new FinallySubscriber(subscriber,this.finallySelector))},FinallyOperator}(),FinallySubscriber=function(_super){function FinallySubscriber(destination,finallySelector){_super.call(this,destination),this.add(new Subscription_1.Subscription(finallySelector))}return __extends(FinallySubscriber,_super),FinallySubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637,"../Subscription":638}],809:[function(require,module,exports){"use strict";function first(predicate,resultSelector,defaultValue){return this.lift(new FirstOperator(predicate,resultSelector,defaultValue,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),EmptyError_1=require("../util/EmptyError");exports.first=first;var FirstOperator=function(){function FirstOperator(predicate,resultSelector,defaultValue,source){this.predicate=predicate,this.resultSelector=resultSelector,this.defaultValue=defaultValue,this.source=source}return FirstOperator.prototype.call=function(observer,source){return source._subscribe(new FirstSubscriber(observer,this.predicate,this.resultSelector,this.defaultValue,this.source))},FirstOperator}(),FirstSubscriber=function(_super){function FirstSubscriber(destination,predicate,resultSelector,defaultValue,source){_super.call(this,destination),this.predicate=predicate,this.resultSelector=resultSelector,this.defaultValue=defaultValue,this.source=source,this.index=0,this.hasCompleted=!1}return __extends(FirstSubscriber,_super),FirstSubscriber.prototype._next=function(value){var index=this.index++;this.predicate?this._tryPredicate(value,index):this._emit(value,index)},FirstSubscriber.prototype._tryPredicate=function(value,index){var result;try{result=this.predicate(value,index,this.source)}catch(err){return void this.destination.error(err)}result&&this._emit(value,index)},FirstSubscriber.prototype._emit=function(value,index){return this.resultSelector?void this._tryResultSelector(value,index):void this._emitFinal(value)},FirstSubscriber.prototype._tryResultSelector=function(value,index){var result;try{result=this.resultSelector(value,index)}catch(err){return void this.destination.error(err)}this._emitFinal(result)},FirstSubscriber.prototype._emitFinal=function(value){var destination=this.destination;destination.next(value),destination.complete(),this.hasCompleted=!0},FirstSubscriber.prototype._complete=function(){var destination=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||destination.error(new EmptyError_1.EmptyError):(destination.next(this.defaultValue),destination.complete())},FirstSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637,"../util/EmptyError":878}],810:[function(require,module,exports){"use strict";function groupBy(keySelector,elementSelector,durationSelector){return this.lift(new GroupByOperator(this,keySelector,elementSelector,durationSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),Subscription_1=require("../Subscription"),Observable_1=require("../Observable"),Subject_1=require("../Subject"),Map_1=require("../util/Map"),FastMap_1=require("../util/FastMap");exports.groupBy=groupBy;var GroupByOperator=function(){function GroupByOperator(source,keySelector,elementSelector,durationSelector){this.source=source,this.keySelector=keySelector,this.elementSelector=elementSelector,this.durationSelector=durationSelector}return GroupByOperator.prototype.call=function(subscriber,source){return source._subscribe(new GroupBySubscriber(subscriber,this.keySelector,this.elementSelector,this.durationSelector))},GroupByOperator}(),GroupBySubscriber=function(_super){function GroupBySubscriber(destination,keySelector,elementSelector,durationSelector){_super.call(this),this.keySelector=keySelector,this.elementSelector=elementSelector,this.durationSelector=durationSelector,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0,this.destination=destination,this.add(destination)}return __extends(GroupBySubscriber,_super),GroupBySubscriber.prototype._next=function(value){var key;try{key=this.keySelector(value)}catch(err){return void this.error(err)}this._group(value,key)},GroupBySubscriber.prototype._group=function(value,key){var groups=this.groups;groups||(groups=this.groups="string"==typeof key?new FastMap_1.FastMap:new Map_1.Map);var group=groups.get(key);if(!group){groups.set(key,group=new Subject_1.Subject);var groupedObservable=new GroupedObservable(key,group,this);this.durationSelector&&this._selectDuration(key,group),this.destination.next(groupedObservable)}this.elementSelector?this._selectElement(value,group):this.tryGroupNext(value,group)},GroupBySubscriber.prototype._selectElement=function(value,group){var result;try{result=this.elementSelector(value)}catch(err){return void this.error(err)}this.tryGroupNext(result,group)},GroupBySubscriber.prototype._selectDuration=function(key,group){var duration;try{duration=this.durationSelector(new GroupedObservable(key,group))}catch(err){return void this.error(err)}this.add(duration.subscribe(new GroupDurationSubscriber(key,group,this)))},GroupBySubscriber.prototype.tryGroupNext=function(value,group){group.isUnsubscribed||group.next(value)},GroupBySubscriber.prototype._error=function(err){var groups=this.groups;groups&&(groups.forEach(function(group,key){group.error(err)}),groups.clear()),this.destination.error(err)},GroupBySubscriber.prototype._complete=function(){var groups=this.groups;groups&&(groups.forEach(function(group,key){group.complete()}),groups.clear()),this.destination.complete()},GroupBySubscriber.prototype.removeGroup=function(key){this.groups["delete"](key)},GroupBySubscriber.prototype.unsubscribe=function(){this.isUnsubscribed||this.attemptedToUnsubscribe||(this.attemptedToUnsubscribe=!0,0===this.count&&_super.prototype.unsubscribe.call(this))},GroupBySubscriber}(Subscriber_1.Subscriber),GroupDurationSubscriber=function(_super){function GroupDurationSubscriber(key,group,parent){_super.call(this),this.key=key,this.group=group,this.parent=parent}return __extends(GroupDurationSubscriber,_super),GroupDurationSubscriber.prototype._next=function(value){this.tryComplete()},GroupDurationSubscriber.prototype._error=function(err){this.tryError(err)},GroupDurationSubscriber.prototype._complete=function(){this.tryComplete()},GroupDurationSubscriber.prototype.tryError=function(err){var group=this.group;group.isUnsubscribed||group.error(err),this.parent.removeGroup(this.key)},GroupDurationSubscriber.prototype.tryComplete=function(){var group=this.group;group.isUnsubscribed||group.complete(),this.parent.removeGroup(this.key)},GroupDurationSubscriber}(Subscriber_1.Subscriber),GroupedObservable=function(_super){function GroupedObservable(key,groupSubject,refCountSubscription){_super.call(this),this.key=key,this.groupSubject=groupSubject,this.refCountSubscription=refCountSubscription}return __extends(GroupedObservable,_super),GroupedObservable.prototype._subscribe=function(subscriber){var subscription=new Subscription_1.Subscription,_a=this,refCountSubscription=_a.refCountSubscription,groupSubject=_a.groupSubject;return refCountSubscription&&!refCountSubscription.isUnsubscribed&&subscription.add(new InnerRefCountSubscription(refCountSubscription)),subscription.add(groupSubject.subscribe(subscriber)),subscription},GroupedObservable}(Observable_1.Observable);exports.GroupedObservable=GroupedObservable;var InnerRefCountSubscription=function(_super){function InnerRefCountSubscription(parent){_super.call(this),this.parent=parent,parent.count++}return __extends(InnerRefCountSubscription,_super),InnerRefCountSubscription.prototype.unsubscribe=function(){var parent=this.parent;parent.isUnsubscribed||this.isUnsubscribed||(_super.prototype.unsubscribe.call(this),parent.count-=1,0===parent.count&&parent.attemptedToUnsubscribe&&parent.unsubscribe())},InnerRefCountSubscription}(Subscription_1.Subscription)},{"../Observable":629,"../Subject":635,"../Subscriber":637,"../Subscription":638,"../util/FastMap":879,"../util/Map":881}],811:[function(require,module,exports){"use strict";function ignoreElements(){return this.lift(new IgnoreElementsOperator)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),noop_1=require("../util/noop");exports.ignoreElements=ignoreElements;var IgnoreElementsOperator=function(){function IgnoreElementsOperator(){}return IgnoreElementsOperator.prototype.call=function(subscriber,source){return source._subscribe(new IgnoreElementsSubscriber(subscriber))},IgnoreElementsOperator}(),IgnoreElementsSubscriber=function(_super){function IgnoreElementsSubscriber(){_super.apply(this,arguments)}return __extends(IgnoreElementsSubscriber,_super),IgnoreElementsSubscriber.prototype._next=function(unused){noop_1.noop()},IgnoreElementsSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637,"../util/noop":893}],812:[function(require,module,exports){"use strict";function last(predicate,resultSelector,defaultValue){return this.lift(new LastOperator(predicate,resultSelector,defaultValue,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),EmptyError_1=require("../util/EmptyError");exports.last=last;var LastOperator=function(){function LastOperator(predicate,resultSelector,defaultValue,source){this.predicate=predicate,this.resultSelector=resultSelector,this.defaultValue=defaultValue,this.source=source}return LastOperator.prototype.call=function(observer,source){return source._subscribe(new LastSubscriber(observer,this.predicate,this.resultSelector,this.defaultValue,this.source))},LastOperator}(),LastSubscriber=function(_super){function LastSubscriber(destination,predicate,resultSelector,defaultValue,source){_super.call(this,destination),this.predicate=predicate,this.resultSelector=resultSelector,this.defaultValue=defaultValue,this.source=source,this.hasValue=!1,this.index=0,"undefined"!=typeof defaultValue&&(this.lastValue=defaultValue,this.hasValue=!0)}return __extends(LastSubscriber,_super),LastSubscriber.prototype._next=function(value){var index=this.index++;if(this.predicate)this._tryPredicate(value,index);else{if(this.resultSelector)return void this._tryResultSelector(value,index);this.lastValue=value,this.hasValue=!0}},LastSubscriber.prototype._tryPredicate=function(value,index){var result;try{result=this.predicate(value,index,this.source)}catch(err){return void this.destination.error(err)}if(result){if(this.resultSelector)return void this._tryResultSelector(value,index);this.lastValue=value,this.hasValue=!0}},LastSubscriber.prototype._tryResultSelector=function(value,index){var result;try{result=this.resultSelector(value,index)}catch(err){return void this.destination.error(err)}this.lastValue=result,this.hasValue=!0},LastSubscriber.prototype._complete=function(){var destination=this.destination;this.hasValue?(destination.next(this.lastValue),destination.complete()):destination.error(new EmptyError_1.EmptyError)},LastSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637,"../util/EmptyError":878}],813:[function(require,module,exports){"use strict";function letProto(func){return func(this)}exports.letProto=letProto},{}],814:[function(require,module,exports){"use strict";function map(project,thisArg){if("function"!=typeof project)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new MapOperator(project,thisArg))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports.map=map;var MapOperator=function(){function MapOperator(project,thisArg){this.project=project,this.thisArg=thisArg}return MapOperator.prototype.call=function(subscriber,source){return source._subscribe(new MapSubscriber(subscriber,this.project,this.thisArg))},MapOperator}(),MapSubscriber=function(_super){function MapSubscriber(destination,project,thisArg){_super.call(this,destination),this.project=project,this.count=0,this.thisArg=thisArg||this}return __extends(MapSubscriber,_super),MapSubscriber.prototype._next=function(value){var result;try{result=this.project.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}this.destination.next(result)},MapSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],815:[function(require,module,exports){"use strict";function mapTo(value){return this.lift(new MapToOperator(value))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports.mapTo=mapTo;var MapToOperator=function(){function MapToOperator(value){this.value=value}return MapToOperator.prototype.call=function(subscriber,source){return source._subscribe(new MapToSubscriber(subscriber,this.value))},MapToOperator}(),MapToSubscriber=function(_super){function MapToSubscriber(destination,value){_super.call(this,destination),this.value=value}return __extends(MapToSubscriber,_super),MapToSubscriber.prototype._next=function(x){this.destination.next(this.value)},MapToSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],816:[function(require,module,exports){"use strict";function materialize(){return this.lift(new MaterializeOperator)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),Notification_1=require("../Notification");exports.materialize=materialize;var MaterializeOperator=function(){function MaterializeOperator(){}return MaterializeOperator.prototype.call=function(subscriber,source){return source._subscribe(new MaterializeSubscriber(subscriber))},MaterializeOperator}(),MaterializeSubscriber=function(_super){function MaterializeSubscriber(destination){_super.call(this,destination)}return __extends(MaterializeSubscriber,_super),MaterializeSubscriber.prototype._next=function(value){this.destination.next(Notification_1.Notification.createNext(value))},MaterializeSubscriber.prototype._error=function(err){var destination=this.destination;destination.next(Notification_1.Notification.createError(err)),destination.complete()},MaterializeSubscriber.prototype._complete=function(){var destination=this.destination;destination.next(Notification_1.Notification.createComplete()),destination.complete()},MaterializeSubscriber}(Subscriber_1.Subscriber)},{"../Notification":628,"../Subscriber":637}],817:[function(require,module,exports){"use strict";function merge(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return observables.unshift(this),mergeStatic.apply(this,observables)}function mergeStatic(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];var concurrent=Number.POSITIVE_INFINITY,scheduler=null,last=observables[observables.length-1];return isScheduler_1.isScheduler(last)?(scheduler=observables.pop(),observables.length>1&&"number"==typeof observables[observables.length-1]&&(concurrent=observables.pop())):"number"==typeof last&&(concurrent=observables.pop()),1===observables.length?observables[0]:new ArrayObservable_1.ArrayObservable(observables,scheduler).lift(new mergeAll_1.MergeAllOperator(concurrent))}var ArrayObservable_1=require("../observable/ArrayObservable"),mergeAll_1=require("./mergeAll"),isScheduler_1=require("../util/isScheduler");exports.merge=merge,exports.mergeStatic=mergeStatic},{"../observable/ArrayObservable":744,"../util/isScheduler":892,"./mergeAll":818}],818:[function(require,module,exports){"use strict";function mergeAll(concurrent){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),this.lift(new MergeAllOperator(concurrent))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.mergeAll=mergeAll;var MergeAllOperator=function(){function MergeAllOperator(concurrent){this.concurrent=concurrent}return MergeAllOperator.prototype.call=function(observer,source){return source._subscribe(new MergeAllSubscriber(observer,this.concurrent))},MergeAllOperator}();exports.MergeAllOperator=MergeAllOperator;var MergeAllSubscriber=function(_super){function MergeAllSubscriber(destination,concurrent){_super.call(this,destination),this.concurrent=concurrent,this.hasCompleted=!1,this.buffer=[],this.active=0}return __extends(MergeAllSubscriber,_super),MergeAllSubscriber.prototype._next=function(observable){this.active<this.concurrent?(this.active++,this.add(subscribeToResult_1.subscribeToResult(this,observable))):this.buffer.push(observable)},MergeAllSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},MergeAllSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},MergeAllSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.MergeAllSubscriber=MergeAllSubscriber},{"../OuterSubscriber":632,"../util/subscribeToResult":896}],819:[function(require,module,exports){"use strict";function mergeMap(project,resultSelector,concurrent){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),"number"==typeof resultSelector&&(concurrent=resultSelector,resultSelector=null),this.lift(new MergeMapOperator(project,resultSelector,concurrent))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},subscribeToResult_1=require("../util/subscribeToResult"),OuterSubscriber_1=require("../OuterSubscriber");exports.mergeMap=mergeMap;var MergeMapOperator=function(){function MergeMapOperator(project,resultSelector,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),this.project=project,this.resultSelector=resultSelector,this.concurrent=concurrent}return MergeMapOperator.prototype.call=function(observer,source){return source._subscribe(new MergeMapSubscriber(observer,this.project,this.resultSelector,this.concurrent))},MergeMapOperator}();exports.MergeMapOperator=MergeMapOperator;var MergeMapSubscriber=function(_super){function MergeMapSubscriber(destination,project,resultSelector,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),_super.call(this,destination),this.project=project,this.resultSelector=resultSelector,this.concurrent=concurrent,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends(MergeMapSubscriber,_super),MergeMapSubscriber.prototype._next=function(value){this.active<this.concurrent?this._tryNext(value):this.buffer.push(value)},MergeMapSubscriber.prototype._tryNext=function(value){var result,index=this.index++;try{result=this.project(value,index)}catch(err){return void this.destination.error(err)}this.active++,this._innerSub(result,value,index)},MergeMapSubscriber.prototype._innerSub=function(ish,value,index){this.add(subscribeToResult_1.subscribeToResult(this,ish,value,index))},MergeMapSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},MergeMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.resultSelector?this._notifyResultSelector(outerValue,innerValue,outerIndex,innerIndex):this.destination.next(innerValue)},MergeMapSubscriber.prototype._notifyResultSelector=function(outerValue,innerValue,outerIndex,innerIndex){var result;try{result=this.resultSelector(outerValue,innerValue,outerIndex,innerIndex)}catch(err){return void this.destination.error(err)}this.destination.next(result)},MergeMapSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},MergeMapSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.MergeMapSubscriber=MergeMapSubscriber},{"../OuterSubscriber":632,"../util/subscribeToResult":896}],820:[function(require,module,exports){"use strict";function mergeMapTo(innerObservable,resultSelector,concurrent){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),"number"==typeof resultSelector&&(concurrent=resultSelector,
resultSelector=null),this.lift(new MergeMapToOperator(innerObservable,resultSelector,concurrent))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.mergeMapTo=mergeMapTo;var MergeMapToOperator=function(){function MergeMapToOperator(ish,resultSelector,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),this.ish=ish,this.resultSelector=resultSelector,this.concurrent=concurrent}return MergeMapToOperator.prototype.call=function(observer,source){return source._subscribe(new MergeMapToSubscriber(observer,this.ish,this.resultSelector,this.concurrent))},MergeMapToOperator}();exports.MergeMapToOperator=MergeMapToOperator;var MergeMapToSubscriber=function(_super){function MergeMapToSubscriber(destination,ish,resultSelector,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),_super.call(this,destination),this.ish=ish,this.resultSelector=resultSelector,this.concurrent=concurrent,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends(MergeMapToSubscriber,_super),MergeMapToSubscriber.prototype._next=function(value){if(this.active<this.concurrent){var resultSelector=this.resultSelector,index=this.index++,ish=this.ish,destination=this.destination;this.active++,this._innerSub(ish,destination,resultSelector,value,index)}else this.buffer.push(value)},MergeMapToSubscriber.prototype._innerSub=function(ish,destination,resultSelector,value,index){this.add(subscribeToResult_1.subscribeToResult(this,ish,value,index))},MergeMapToSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},MergeMapToSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var _a=this,resultSelector=_a.resultSelector,destination=_a.destination;resultSelector?this.trySelectResult(outerValue,innerValue,outerIndex,innerIndex):destination.next(innerValue)},MergeMapToSubscriber.prototype.trySelectResult=function(outerValue,innerValue,outerIndex,innerIndex){var result,_a=this,resultSelector=_a.resultSelector,destination=_a.destination;try{result=resultSelector(outerValue,innerValue,outerIndex,innerIndex)}catch(err){return void destination.error(err)}destination.next(result)},MergeMapToSubscriber.prototype.notifyError=function(err){this.destination.error(err)},MergeMapToSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},MergeMapToSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.MergeMapToSubscriber=MergeMapToSubscriber},{"../OuterSubscriber":632,"../util/subscribeToResult":896}],821:[function(require,module,exports){"use strict";function multicast(subjectOrSubjectFactory){var subjectFactory;return subjectFactory="function"==typeof subjectOrSubjectFactory?subjectOrSubjectFactory:function(){return subjectOrSubjectFactory},new ConnectableObservable_1.ConnectableObservable(this,subjectFactory)}var ConnectableObservable_1=require("../observable/ConnectableObservable");exports.multicast=multicast},{"../observable/ConnectableObservable":747}],822:[function(require,module,exports){"use strict";function observeOn(scheduler,delay){return void 0===delay&&(delay=0),this.lift(new ObserveOnOperator(scheduler,delay))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),Notification_1=require("../Notification");exports.observeOn=observeOn;var ObserveOnOperator=function(){function ObserveOnOperator(scheduler,delay){void 0===delay&&(delay=0),this.scheduler=scheduler,this.delay=delay}return ObserveOnOperator.prototype.call=function(subscriber,source){return source._subscribe(new ObserveOnSubscriber(subscriber,this.scheduler,this.delay))},ObserveOnOperator}();exports.ObserveOnOperator=ObserveOnOperator;var ObserveOnSubscriber=function(_super){function ObserveOnSubscriber(destination,scheduler,delay){void 0===delay&&(delay=0),_super.call(this,destination),this.scheduler=scheduler,this.delay=delay}return __extends(ObserveOnSubscriber,_super),ObserveOnSubscriber.dispatch=function(arg){var notification=arg.notification,destination=arg.destination;notification.observe(destination)},ObserveOnSubscriber.prototype.scheduleMessage=function(notification){this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch,this.delay,new ObserveOnMessage(notification,this.destination)))},ObserveOnSubscriber.prototype._next=function(value){this.scheduleMessage(Notification_1.Notification.createNext(value))},ObserveOnSubscriber.prototype._error=function(err){this.scheduleMessage(Notification_1.Notification.createError(err))},ObserveOnSubscriber.prototype._complete=function(){this.scheduleMessage(Notification_1.Notification.createComplete())},ObserveOnSubscriber}(Subscriber_1.Subscriber);exports.ObserveOnSubscriber=ObserveOnSubscriber;var ObserveOnMessage=function(){function ObserveOnMessage(notification,destination){this.notification=notification,this.destination=destination}return ObserveOnMessage}();exports.ObserveOnMessage=ObserveOnMessage},{"../Notification":628,"../Subscriber":637}],823:[function(require,module,exports){"use strict";function partition(predicate,thisArg){return[filter_1.filter.call(this,predicate),filter_1.filter.call(this,not_1.not(predicate,thisArg))]}var not_1=require("../util/not"),filter_1=require("./filter");exports.partition=partition},{"../util/not":894,"./filter":807}],824:[function(require,module,exports){"use strict";function pluck(){for(var properties=[],_i=0;_i<arguments.length;_i++)properties[_i-0]=arguments[_i];var length=properties.length;if(0===length)throw new Error("List of properties cannot be empty.");return map_1.map.call(this,plucker(properties,length))}function plucker(props,length){var mapper=function(x){for(var currentProp=x,i=0;i<length;i++){var p=currentProp[props[i]];if("undefined"==typeof p)return;currentProp=p}return currentProp};return mapper}var map_1=require("./map");exports.pluck=pluck},{"./map":814}],825:[function(require,module,exports){"use strict";function publish(){return multicast_1.multicast.call(this,new Subject_1.Subject)}var Subject_1=require("../Subject"),multicast_1=require("./multicast");exports.publish=publish},{"../Subject":635,"./multicast":821}],826:[function(require,module,exports){"use strict";function publishBehavior(value){return multicast_1.multicast.call(this,new BehaviorSubject_1.BehaviorSubject(value))}var BehaviorSubject_1=require("../BehaviorSubject"),multicast_1=require("./multicast");exports.publishBehavior=publishBehavior},{"../BehaviorSubject":626,"./multicast":821}],827:[function(require,module,exports){"use strict";function publishLast(){return multicast_1.multicast.call(this,new AsyncSubject_1.AsyncSubject)}var AsyncSubject_1=require("../AsyncSubject"),multicast_1=require("./multicast");exports.publishLast=publishLast},{"../AsyncSubject":625,"./multicast":821}],828:[function(require,module,exports){"use strict";function publishReplay(bufferSize,windowTime,scheduler){return void 0===bufferSize&&(bufferSize=Number.POSITIVE_INFINITY),void 0===windowTime&&(windowTime=Number.POSITIVE_INFINITY),multicast_1.multicast.call(this,new ReplaySubject_1.ReplaySubject(bufferSize,windowTime,scheduler))}var ReplaySubject_1=require("../ReplaySubject"),multicast_1=require("./multicast");exports.publishReplay=publishReplay},{"../ReplaySubject":633,"./multicast":821}],829:[function(require,module,exports){"use strict";function race(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return 1===observables.length&&isArray_1.isArray(observables[0])&&(observables=observables[0]),observables.unshift(this),raceStatic.apply(this,observables)}function raceStatic(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];if(1===observables.length){if(!isArray_1.isArray(observables[0]))return observables[0];observables=observables[0]}return new ArrayObservable_1.ArrayObservable(observables).lift(new RaceOperator)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isArray_1=require("../util/isArray"),ArrayObservable_1=require("../observable/ArrayObservable"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.race=race,exports.raceStatic=raceStatic;var RaceOperator=function(){function RaceOperator(){}return RaceOperator.prototype.call=function(subscriber,source){return source._subscribe(new RaceSubscriber(subscriber))},RaceOperator}();exports.RaceOperator=RaceOperator;var RaceSubscriber=function(_super){function RaceSubscriber(destination){_super.call(this,destination),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return __extends(RaceSubscriber,_super),RaceSubscriber.prototype._next=function(observable){this.observables.push(observable)},RaceSubscriber.prototype._complete=function(){var observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{for(var i=0;i<len;i++){var observable=observables[i],subscription=subscribeToResult_1.subscribeToResult(this,observable,observable,i);this.subscriptions.push(subscription),this.add(subscription)}this.observables=null}},RaceSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==outerIndex){var subscription=this.subscriptions[i];subscription.unsubscribe(),this.remove(subscription)}this.subscriptions=null}this.destination.next(innerValue)},RaceSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.RaceSubscriber=RaceSubscriber},{"../OuterSubscriber":632,"../observable/ArrayObservable":744,"../util/isArray":886,"../util/subscribeToResult":896}],830:[function(require,module,exports){"use strict";function reduce(project,seed){return this.lift(new ReduceOperator(project,seed))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports.reduce=reduce;var ReduceOperator=function(){function ReduceOperator(project,seed){this.project=project,this.seed=seed}return ReduceOperator.prototype.call=function(subscriber,source){return source._subscribe(new ReduceSubscriber(subscriber,this.project,this.seed))},ReduceOperator}();exports.ReduceOperator=ReduceOperator;var ReduceSubscriber=function(_super){function ReduceSubscriber(destination,project,seed){_super.call(this,destination),this.hasValue=!1,this.acc=seed,this.project=project,this.hasSeed="undefined"!=typeof seed}return __extends(ReduceSubscriber,_super),ReduceSubscriber.prototype._next=function(value){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(value):(this.acc=value,this.hasValue=!0)},ReduceSubscriber.prototype._tryReduce=function(value){var result;try{result=this.project(this.acc,value)}catch(err){return void this.destination.error(err)}this.acc=result},ReduceSubscriber.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},ReduceSubscriber}(Subscriber_1.Subscriber);exports.ReduceSubscriber=ReduceSubscriber},{"../Subscriber":637}],831:[function(require,module,exports){"use strict";function repeat(count){return void 0===count&&(count=-1),0===count?new EmptyObservable_1.EmptyObservable:count<0?this.lift(new RepeatOperator((-1),this)):this.lift(new RepeatOperator(count-1,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),EmptyObservable_1=require("../observable/EmptyObservable");exports.repeat=repeat;var RepeatOperator=function(){function RepeatOperator(count,source){this.count=count,this.source=source}return RepeatOperator.prototype.call=function(subscriber,source){return source._subscribe(new RepeatSubscriber(subscriber,this.count,this.source))},RepeatOperator}(),RepeatSubscriber=function(_super){function RepeatSubscriber(destination,count,source){_super.call(this,destination),this.count=count,this.source=source}return __extends(RepeatSubscriber,_super),RepeatSubscriber.prototype.complete=function(){if(!this.isStopped){var _a=this,source=_a.source,count=_a.count;if(0===count)return _super.prototype.complete.call(this);count>-1&&(this.count=count-1),this.unsubscribe(),this.isStopped=!1,this.isUnsubscribed=!1,source.subscribe(this)}},RepeatSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637,"../observable/EmptyObservable":749}],832:[function(require,module,exports){"use strict";function retry(count){return void 0===count&&(count=-1),this.lift(new RetryOperator(count,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports.retry=retry;var RetryOperator=function(){function RetryOperator(count,source){this.count=count,this.source=source}return RetryOperator.prototype.call=function(subscriber,source){return source._subscribe(new RetrySubscriber(subscriber,this.count,this.source))},RetryOperator}(),RetrySubscriber=function(_super){function RetrySubscriber(destination,count,source){_super.call(this,destination),this.count=count,this.source=source}return __extends(RetrySubscriber,_super),RetrySubscriber.prototype.error=function(err){if(!this.isStopped){var _a=this,source=_a.source,count=_a.count;if(0===count)return _super.prototype.error.call(this,err);count>-1&&(this.count=count-1),this.unsubscribe(),this.isStopped=!1,this.isUnsubscribed=!1,source.subscribe(this)}},RetrySubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],833:[function(require,module,exports){"use strict";function retryWhen(notifier){return this.lift(new RetryWhenOperator(notifier,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=require("../Subject"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.retryWhen=retryWhen;var RetryWhenOperator=function(){function RetryWhenOperator(notifier,source){this.notifier=notifier,this.source=source}return RetryWhenOperator.prototype.call=function(subscriber,source){return source._subscribe(new RetryWhenSubscriber(subscriber,this.notifier,this.source))},RetryWhenOperator}(),RetryWhenSubscriber=function(_super){function RetryWhenSubscriber(destination,notifier,source){_super.call(this,destination),this.notifier=notifier,this.source=source}return __extends(RetryWhenSubscriber,_super),RetryWhenSubscriber.prototype.error=function(err){if(!this.isStopped){var errors=this.errors,retries=this.retries,retriesSubscription=this.retriesSubscription;if(retries)this.errors=null,this.retriesSubscription=null;else{if(errors=new Subject_1.Subject,retries=tryCatch_1.tryCatch(this.notifier)(errors),retries===errorObject_1.errorObject)return _super.prototype.error.call(this,errorObject_1.errorObject.e);retriesSubscription=subscribeToResult_1.subscribeToResult(this,retries)}this.unsubscribe(),this.isUnsubscribed=!1,this.errors=errors,this.retries=retries,this.retriesSubscription=retriesSubscription,errors.next(err)}},RetryWhenSubscriber.prototype._unsubscribe=function(){var _a=this,errors=_a.errors,retriesSubscription=_a.retriesSubscription;errors&&(errors.unsubscribe(),this.errors=null),retriesSubscription&&(retriesSubscription.unsubscribe(),this.retriesSubscription=null),this.retries=null},RetryWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var _a=this,errors=_a.errors,retries=_a.retries,retriesSubscription=_a.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.isUnsubscribed=!1,this.errors=errors,this.retries=retries,this.retriesSubscription=retriesSubscription,this.source.subscribe(this)},RetryWhenSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../Subject":635,"../util/errorObject":885,"../util/subscribeToResult":896,"../util/tryCatch":899}],834:[function(require,module,exports){"use strict";function sample(notifier){return this.lift(new SampleOperator(notifier))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.sample=sample;var SampleOperator=function(){function SampleOperator(notifier){this.notifier=notifier}return SampleOperator.prototype.call=function(subscriber,source){return source._subscribe(new SampleSubscriber(subscriber,this.notifier))},SampleOperator}(),SampleSubscriber=function(_super){function SampleSubscriber(destination,notifier){_super.call(this,destination),this.hasValue=!1,this.add(subscribeToResult_1.subscribeToResult(this,notifier))}return __extends(SampleSubscriber,_super),SampleSubscriber.prototype._next=function(value){this.value=value,this.hasValue=!0},SampleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.emitValue()},SampleSubscriber.prototype.notifyComplete=function(){this.emitValue()},SampleSubscriber.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},SampleSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../util/subscribeToResult":896}],835:[function(require,module,exports){"use strict";function sampleTime(delay,scheduler){return void 0===scheduler&&(scheduler=async_1.async),this.lift(new SampleTimeOperator(delay,scheduler))}function dispatchNotification(state){var subscriber=state.subscriber,delay=state.delay;subscriber.notifyNext(),this.schedule(state,delay)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),async_1=require("../scheduler/async");exports.sampleTime=sampleTime;var SampleTimeOperator=function(){function SampleTimeOperator(delay,scheduler){this.delay=delay,this.scheduler=scheduler}return SampleTimeOperator.prototype.call=function(subscriber,source){return source._subscribe(new SampleTimeSubscriber(subscriber,this.delay,this.scheduler))},SampleTimeOperator}(),SampleTimeSubscriber=function(_super){function SampleTimeSubscriber(destination,delay,scheduler){_super.call(this,destination),this.delay=delay,this.scheduler=scheduler,this.hasValue=!1,this.add(scheduler.schedule(dispatchNotification,delay,{subscriber:this,delay:delay}))}return __extends(SampleTimeSubscriber,_super),SampleTimeSubscriber.prototype._next=function(value){this.lastValue=value,this.hasValue=!0},SampleTimeSubscriber.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},SampleTimeSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637,"../scheduler/async":872}],836:[function(require,module,exports){"use strict";function scan(accumulator,seed){return this.lift(new ScanOperator(accumulator,seed))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports.scan=scan;var ScanOperator=function(){function ScanOperator(accumulator,seed){this.accumulator=accumulator,this.seed=seed}return ScanOperator.prototype.call=function(subscriber,source){return source._subscribe(new ScanSubscriber(subscriber,this.accumulator,this.seed))},ScanOperator}(),ScanSubscriber=function(_super){function ScanSubscriber(destination,accumulator,seed){_super.call(this,destination),this.accumulator=accumulator,this.accumulatorSet=!1,this.seed=seed,this.accumulator=accumulator,this.accumulatorSet="undefined"!=typeof seed}return __extends(ScanSubscriber,_super),Object.defineProperty(ScanSubscriber.prototype,"seed",{get:function(){return this._seed},set:function(value){this.accumulatorSet=!0,this._seed=value},enumerable:!0,configurable:!0}),ScanSubscriber.prototype._next=function(value){return this.accumulatorSet?this._tryNext(value):(this.seed=value,void this.destination.next(value))},ScanSubscriber.prototype._tryNext=function(value){var result;try{result=this.accumulator(this.seed,value)}catch(err){this.destination.error(err)}this.seed=result,this.destination.next(result)},ScanSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],837:[function(require,module,exports){"use strict";function shareSubjectFactory(){return new Subject_1.Subject}function share(){return multicast_1.multicast.call(this,shareSubjectFactory).refCount()}var multicast_1=require("./multicast"),Subject_1=require("../Subject");exports.share=share},{"../Subject":635,"./multicast":821}],838:[function(require,module,exports){"use strict";function single(predicate){return this.lift(new SingleOperator(predicate,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),EmptyError_1=require("../util/EmptyError");exports.single=single;var SingleOperator=function(){function SingleOperator(predicate,source){this.predicate=predicate,this.source=source}return SingleOperator.prototype.call=function(subscriber,source){return source._subscribe(new SingleSubscriber(subscriber,this.predicate,this.source))},SingleOperator}(),SingleSubscriber=function(_super){function SingleSubscriber(destination,predicate,source){_super.call(this,destination),this.predicate=predicate,this.source=source,this.seenValue=!1,this.index=0}return __extends(SingleSubscriber,_super),SingleSubscriber.prototype.applySingleValue=function(value){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=value)},SingleSubscriber.prototype._next=function(value){var predicate=this.predicate;this.index++,predicate?this.tryNext(value):this.applySingleValue(value)},SingleSubscriber.prototype.tryNext=function(value){try{var result=this.predicate(value,this.index,this.source);result&&this.applySingleValue(value)}catch(err){this.destination.error(err)}},SingleSubscriber.prototype._complete=function(){var destination=this.destination;this.index>0?(destination.next(this.seenValue?this.singleValue:void 0),destination.complete()):destination.error(new EmptyError_1.EmptyError)},SingleSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637,"../util/EmptyError":878}],839:[function(require,module,exports){"use strict";function skip(total){return this.lift(new SkipOperator(total))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports.skip=skip;var SkipOperator=function(){function SkipOperator(total){this.total=total}return SkipOperator.prototype.call=function(subscriber,source){return source._subscribe(new SkipSubscriber(subscriber,this.total))},SkipOperator}(),SkipSubscriber=function(_super){function SkipSubscriber(destination,total){_super.call(this,destination),this.total=total,this.count=0}return __extends(SkipSubscriber,_super),SkipSubscriber.prototype._next=function(x){++this.count>this.total&&this.destination.next(x)},SkipSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],840:[function(require,module,exports){"use strict";function skipUntil(notifier){return this.lift(new SkipUntilOperator(notifier))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.skipUntil=skipUntil;var SkipUntilOperator=function(){function SkipUntilOperator(notifier){this.notifier=notifier}return SkipUntilOperator.prototype.call=function(subscriber,source){return source._subscribe(new SkipUntilSubscriber(subscriber,this.notifier))},SkipUntilOperator}(),SkipUntilSubscriber=function(_super){function SkipUntilSubscriber(destination,notifier){_super.call(this,destination),this.hasValue=!1,this.isInnerStopped=!1,this.add(subscribeToResult_1.subscribeToResult(this,notifier))}return __extends(SkipUntilSubscriber,_super),SkipUntilSubscriber.prototype._next=function(value){this.hasValue&&_super.prototype._next.call(this,value)},SkipUntilSubscriber.prototype._complete=function(){this.isInnerStopped?_super.prototype._complete.call(this):this.unsubscribe()},SkipUntilSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.hasValue=!0},SkipUntilSubscriber.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&_super.prototype._complete.call(this)},SkipUntilSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../util/subscribeToResult":896}],841:[function(require,module,exports){"use strict";function skipWhile(predicate){return this.lift(new SkipWhileOperator(predicate))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports.skipWhile=skipWhile;var SkipWhileOperator=function(){function SkipWhileOperator(predicate){this.predicate=predicate}return SkipWhileOperator.prototype.call=function(subscriber,source){return source._subscribe(new SkipWhileSubscriber(subscriber,this.predicate))},SkipWhileOperator}(),SkipWhileSubscriber=function(_super){function SkipWhileSubscriber(destination,predicate){_super.call(this,destination),this.predicate=predicate,this.skipping=!0,this.index=0}return __extends(SkipWhileSubscriber,_super),SkipWhileSubscriber.prototype._next=function(value){var destination=this.destination;this.skipping&&this.tryCallPredicate(value),this.skipping||destination.next(value)},SkipWhileSubscriber.prototype.tryCallPredicate=function(value){try{var result=this.predicate(value,this.index++);this.skipping=Boolean(result)}catch(err){this.destination.error(err)}},SkipWhileSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],842:[function(require,module,exports){"use strict";function startWith(){for(var array=[],_i=0;_i<arguments.length;_i++)array[_i-0]=arguments[_i];var scheduler=array[array.length-1];isScheduler_1.isScheduler(scheduler)?array.pop():scheduler=null;var len=array.length;return 1===len?concat_1.concatStatic(new ScalarObservable_1.ScalarObservable(array[0],scheduler),this):len>1?concat_1.concatStatic(new ArrayObservable_1.ArrayObservable(array,scheduler),this):concat_1.concatStatic(new EmptyObservable_1.EmptyObservable(scheduler),this)}var ArrayObservable_1=require("../observable/ArrayObservable"),ScalarObservable_1=require("../observable/ScalarObservable"),EmptyObservable_1=require("../observable/EmptyObservable"),concat_1=require("./concat"),isScheduler_1=require("../util/isScheduler");exports.startWith=startWith},{"../observable/ArrayObservable":744,"../observable/EmptyObservable":749,"../observable/ScalarObservable":760,"../util/isScheduler":892,"./concat":792}],843:[function(require,module,exports){"use strict";function subscribeOn(scheduler,delay){return void 0===delay&&(delay=0),new SubscribeOnObservable_1.SubscribeOnObservable(this,delay,scheduler)}var SubscribeOnObservable_1=require("../observable/SubscribeOnObservable");exports.subscribeOn=subscribeOn},{"../observable/SubscribeOnObservable":761}],844:[function(require,module,exports){"use strict";function _switch(){return this.lift(new SwitchOperator)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports._switch=_switch;var SwitchOperator=function(){function SwitchOperator(){}return SwitchOperator.prototype.call=function(subscriber,source){return source._subscribe(new SwitchSubscriber(subscriber))},SwitchOperator}(),SwitchSubscriber=function(_super){function SwitchSubscriber(destination){_super.call(this,destination),this.active=0,this.hasCompleted=!1}return __extends(SwitchSubscriber,_super),SwitchSubscriber.prototype._next=function(value){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,value))},SwitchSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},SwitchSubscriber.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var innerSubscription=this.innerSubscription;innerSubscription&&(innerSubscription.unsubscribe(),this.remove(innerSubscription))},SwitchSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)},SwitchSubscriber.prototype.notifyError=function(err){this.destination.error(err)},SwitchSubscriber.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},SwitchSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../util/subscribeToResult":896}],845:[function(require,module,exports){"use strict";function switchMap(project,resultSelector){return this.lift(new SwitchMapOperator(project,resultSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.switchMap=switchMap;var SwitchMapOperator=function(){function SwitchMapOperator(project,resultSelector){this.project=project,this.resultSelector=resultSelector}return SwitchMapOperator.prototype.call=function(subscriber,source){return source._subscribe(new SwitchMapSubscriber(subscriber,this.project,this.resultSelector))},SwitchMapOperator}(),SwitchMapSubscriber=function(_super){function SwitchMapSubscriber(destination,project,resultSelector){_super.call(this,destination),this.project=project,this.resultSelector=resultSelector,this.index=0}return __extends(SwitchMapSubscriber,_super),SwitchMapSubscriber.prototype._next=function(value){var result,index=this.index++;try{result=this.project(value,index);
}catch(error){return void this.destination.error(error)}this._innerSub(result,value,index)},SwitchMapSubscriber.prototype._innerSub=function(result,value,index){var innerSubscription=this.innerSubscription;innerSubscription&&innerSubscription.unsubscribe(),this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,result,value,index))},SwitchMapSubscriber.prototype._complete=function(){var innerSubscription=this.innerSubscription;innerSubscription&&!innerSubscription.isUnsubscribed||_super.prototype._complete.call(this)},SwitchMapSubscriber.prototype._unsubscribe=function(){this.innerSubscription=null},SwitchMapSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub),this.innerSubscription=null,this.isStopped&&_super.prototype._complete.call(this)},SwitchMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.resultSelector?this._tryNotifyNext(outerValue,innerValue,outerIndex,innerIndex):this.destination.next(innerValue)},SwitchMapSubscriber.prototype._tryNotifyNext=function(outerValue,innerValue,outerIndex,innerIndex){var result;try{result=this.resultSelector(outerValue,innerValue,outerIndex,innerIndex)}catch(err){return void this.destination.error(err)}this.destination.next(result)},SwitchMapSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../util/subscribeToResult":896}],846:[function(require,module,exports){"use strict";function switchMapTo(innerObservable,resultSelector){return this.lift(new SwitchMapToOperator(innerObservable,resultSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.switchMapTo=switchMapTo;var SwitchMapToOperator=function(){function SwitchMapToOperator(observable,resultSelector){this.observable=observable,this.resultSelector=resultSelector}return SwitchMapToOperator.prototype.call=function(subscriber,source){return source._subscribe(new SwitchMapToSubscriber(subscriber,this.observable,this.resultSelector))},SwitchMapToOperator}(),SwitchMapToSubscriber=function(_super){function SwitchMapToSubscriber(destination,inner,resultSelector){_super.call(this,destination),this.inner=inner,this.resultSelector=resultSelector,this.index=0}return __extends(SwitchMapToSubscriber,_super),SwitchMapToSubscriber.prototype._next=function(value){var innerSubscription=this.innerSubscription;innerSubscription&&innerSubscription.unsubscribe(),this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,this.inner,value,this.index++))},SwitchMapToSubscriber.prototype._complete=function(){var innerSubscription=this.innerSubscription;innerSubscription&&!innerSubscription.isUnsubscribed||_super.prototype._complete.call(this)},SwitchMapToSubscriber.prototype._unsubscribe=function(){this.innerSubscription=null},SwitchMapToSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub),this.innerSubscription=null,this.isStopped&&_super.prototype._complete.call(this)},SwitchMapToSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var _a=this,resultSelector=_a.resultSelector,destination=_a.destination;resultSelector?this.tryResultSelector(outerValue,innerValue,outerIndex,innerIndex):destination.next(innerValue)},SwitchMapToSubscriber.prototype.tryResultSelector=function(outerValue,innerValue,outerIndex,innerIndex){var result,_a=this,resultSelector=_a.resultSelector,destination=_a.destination;try{result=resultSelector(outerValue,innerValue,outerIndex,innerIndex)}catch(err){return void destination.error(err)}destination.next(result)},SwitchMapToSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../util/subscribeToResult":896}],847:[function(require,module,exports){"use strict";function take(total){return 0===total?new EmptyObservable_1.EmptyObservable:this.lift(new TakeOperator(total))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),ArgumentOutOfRangeError_1=require("../util/ArgumentOutOfRangeError"),EmptyObservable_1=require("../observable/EmptyObservable");exports.take=take;var TakeOperator=function(){function TakeOperator(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}return TakeOperator.prototype.call=function(subscriber,source){return source._subscribe(new TakeSubscriber(subscriber,this.total))},TakeOperator}(),TakeSubscriber=function(_super){function TakeSubscriber(destination,total){_super.call(this,destination),this.total=total,this.count=0}return __extends(TakeSubscriber,_super),TakeSubscriber.prototype._next=function(value){var total=this.total;++this.count<=total&&(this.destination.next(value),this.count===total&&(this.destination.complete(),this.unsubscribe()))},TakeSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637,"../observable/EmptyObservable":749,"../util/ArgumentOutOfRangeError":877}],848:[function(require,module,exports){"use strict";function takeLast(total){return 0===total?new EmptyObservable_1.EmptyObservable:this.lift(new TakeLastOperator(total))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),ArgumentOutOfRangeError_1=require("../util/ArgumentOutOfRangeError"),EmptyObservable_1=require("../observable/EmptyObservable");exports.takeLast=takeLast;var TakeLastOperator=function(){function TakeLastOperator(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}return TakeLastOperator.prototype.call=function(subscriber,source){return source._subscribe(new TakeLastSubscriber(subscriber,this.total))},TakeLastOperator}(),TakeLastSubscriber=function(_super){function TakeLastSubscriber(destination,total){_super.call(this,destination),this.total=total,this.ring=new Array,this.count=0}return __extends(TakeLastSubscriber,_super),TakeLastSubscriber.prototype._next=function(value){var ring=this.ring,total=this.total,count=this.count++;if(ring.length<total)ring.push(value);else{var index=count%total;ring[index]=value}},TakeLastSubscriber.prototype._complete=function(){var destination=this.destination,count=this.count;if(count>0)for(var total=this.count>=this.total?this.total:this.count,ring=this.ring,i=0;i<total;i++){var idx=count++%total;destination.next(ring[idx])}destination.complete()},TakeLastSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637,"../observable/EmptyObservable":749,"../util/ArgumentOutOfRangeError":877}],849:[function(require,module,exports){"use strict";function takeUntil(notifier){return this.lift(new TakeUntilOperator(notifier))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.takeUntil=takeUntil;var TakeUntilOperator=function(){function TakeUntilOperator(notifier){this.notifier=notifier}return TakeUntilOperator.prototype.call=function(subscriber,source){return source._subscribe(new TakeUntilSubscriber(subscriber,this.notifier))},TakeUntilOperator}(),TakeUntilSubscriber=function(_super){function TakeUntilSubscriber(destination,notifier){_super.call(this,destination),this.notifier=notifier,this.add(subscribeToResult_1.subscribeToResult(this,notifier))}return __extends(TakeUntilSubscriber,_super),TakeUntilSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.complete()},TakeUntilSubscriber.prototype.notifyComplete=function(){},TakeUntilSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../util/subscribeToResult":896}],850:[function(require,module,exports){"use strict";function takeWhile(predicate){return this.lift(new TakeWhileOperator(predicate))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports.takeWhile=takeWhile;var TakeWhileOperator=function(){function TakeWhileOperator(predicate){this.predicate=predicate}return TakeWhileOperator.prototype.call=function(subscriber,source){return source._subscribe(new TakeWhileSubscriber(subscriber,this.predicate))},TakeWhileOperator}(),TakeWhileSubscriber=function(_super){function TakeWhileSubscriber(destination,predicate){_super.call(this,destination),this.predicate=predicate,this.index=0}return __extends(TakeWhileSubscriber,_super),TakeWhileSubscriber.prototype._next=function(value){var result,destination=this.destination;try{result=this.predicate(value,this.index++)}catch(err){return void destination.error(err)}this.nextOrComplete(value,result)},TakeWhileSubscriber.prototype.nextOrComplete=function(value,predicateResult){var destination=this.destination;Boolean(predicateResult)?destination.next(value):destination.complete()},TakeWhileSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],851:[function(require,module,exports){"use strict";function throttle(durationSelector){return this.lift(new ThrottleOperator(durationSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.throttle=throttle;var ThrottleOperator=function(){function ThrottleOperator(durationSelector){this.durationSelector=durationSelector}return ThrottleOperator.prototype.call=function(subscriber,source){return source._subscribe(new ThrottleSubscriber(subscriber,this.durationSelector))},ThrottleOperator}(),ThrottleSubscriber=function(_super){function ThrottleSubscriber(destination,durationSelector){_super.call(this,destination),this.destination=destination,this.durationSelector=durationSelector}return __extends(ThrottleSubscriber,_super),ThrottleSubscriber.prototype._next=function(value){this.throttled||this.tryDurationSelector(value)},ThrottleSubscriber.prototype.tryDurationSelector=function(value){var duration=null;try{duration=this.durationSelector(value)}catch(err){return void this.destination.error(err)}this.emitAndThrottle(value,duration)},ThrottleSubscriber.prototype.emitAndThrottle=function(value,duration){this.add(this.throttled=subscribeToResult_1.subscribeToResult(this,duration)),this.destination.next(value)},ThrottleSubscriber.prototype._unsubscribe=function(){var throttled=this.throttled;throttled&&(this.remove(throttled),this.throttled=null,throttled.unsubscribe())},ThrottleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this._unsubscribe()},ThrottleSubscriber.prototype.notifyComplete=function(){this._unsubscribe()},ThrottleSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../util/subscribeToResult":896}],852:[function(require,module,exports){"use strict";function throttleTime(delay,scheduler){return void 0===scheduler&&(scheduler=async_1.async),this.lift(new ThrottleTimeOperator(delay,scheduler))}function dispatchNext(arg){var subscriber=arg.subscriber;subscriber.clearThrottle()}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),async_1=require("../scheduler/async");exports.throttleTime=throttleTime;var ThrottleTimeOperator=function(){function ThrottleTimeOperator(delay,scheduler){this.delay=delay,this.scheduler=scheduler}return ThrottleTimeOperator.prototype.call=function(subscriber,source){return source._subscribe(new ThrottleTimeSubscriber(subscriber,this.delay,this.scheduler))},ThrottleTimeOperator}(),ThrottleTimeSubscriber=function(_super){function ThrottleTimeSubscriber(destination,delay,scheduler){_super.call(this,destination),this.delay=delay,this.scheduler=scheduler}return __extends(ThrottleTimeSubscriber,_super),ThrottleTimeSubscriber.prototype._next=function(value){this.throttled||(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.delay,{subscriber:this})),this.destination.next(value))},ThrottleTimeSubscriber.prototype.clearThrottle=function(){var throttled=this.throttled;throttled&&(throttled.unsubscribe(),this.remove(throttled),this.throttled=null)},ThrottleTimeSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637,"../scheduler/async":872}],853:[function(require,module,exports){"use strict";function timeout(due,errorToSend,scheduler){void 0===errorToSend&&(errorToSend=null),void 0===scheduler&&(scheduler=async_1.async);var absoluteTimeout=isDate_1.isDate(due),waitFor=absoluteTimeout?+due-scheduler.now():Math.abs(due);return this.lift(new TimeoutOperator(waitFor,absoluteTimeout,errorToSend,scheduler))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=require("../scheduler/async"),isDate_1=require("../util/isDate"),Subscriber_1=require("../Subscriber");exports.timeout=timeout;var TimeoutOperator=function(){function TimeoutOperator(waitFor,absoluteTimeout,errorToSend,scheduler){this.waitFor=waitFor,this.absoluteTimeout=absoluteTimeout,this.errorToSend=errorToSend,this.scheduler=scheduler}return TimeoutOperator.prototype.call=function(subscriber,source){return source._subscribe(new TimeoutSubscriber(subscriber,this.absoluteTimeout,this.waitFor,this.errorToSend,this.scheduler))},TimeoutOperator}(),TimeoutSubscriber=function(_super){function TimeoutSubscriber(destination,absoluteTimeout,waitFor,errorToSend,scheduler){_super.call(this,destination),this.absoluteTimeout=absoluteTimeout,this.waitFor=waitFor,this.errorToSend=errorToSend,this.scheduler=scheduler,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return __extends(TimeoutSubscriber,_super),Object.defineProperty(TimeoutSubscriber.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(TimeoutSubscriber.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),TimeoutSubscriber.dispatchTimeout=function(state){var source=state.subscriber,currentIndex=state.index;source.hasCompleted||source.previousIndex!==currentIndex||source.notifyTimeout()},TimeoutSubscriber.prototype.scheduleTimeout=function(){var currentIndex=this.index;this.scheduler.schedule(TimeoutSubscriber.dispatchTimeout,this.waitFor,{subscriber:this,index:currentIndex}),this.index++,this._previousIndex=currentIndex},TimeoutSubscriber.prototype._next=function(value){this.destination.next(value),this.absoluteTimeout||this.scheduleTimeout()},TimeoutSubscriber.prototype._error=function(err){this.destination.error(err),this._hasCompleted=!0},TimeoutSubscriber.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},TimeoutSubscriber.prototype.notifyTimeout=function(){this.error(this.errorToSend||new Error("timeout"))},TimeoutSubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637,"../scheduler/async":872,"../util/isDate":887}],854:[function(require,module,exports){"use strict";function timeoutWith(due,withObservable,scheduler){void 0===scheduler&&(scheduler=async_1.async);var absoluteTimeout=isDate_1.isDate(due),waitFor=absoluteTimeout?+due-scheduler.now():Math.abs(due);return this.lift(new TimeoutWithOperator(waitFor,absoluteTimeout,withObservable,scheduler))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=require("../scheduler/async"),isDate_1=require("../util/isDate"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.timeoutWith=timeoutWith;var TimeoutWithOperator=function(){function TimeoutWithOperator(waitFor,absoluteTimeout,withObservable,scheduler){this.waitFor=waitFor,this.absoluteTimeout=absoluteTimeout,this.withObservable=withObservable,this.scheduler=scheduler}return TimeoutWithOperator.prototype.call=function(subscriber,source){return source._subscribe(new TimeoutWithSubscriber(subscriber,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},TimeoutWithOperator}(),TimeoutWithSubscriber=function(_super){function TimeoutWithSubscriber(destination,absoluteTimeout,waitFor,withObservable,scheduler){_super.call(this),this.destination=destination,this.absoluteTimeout=absoluteTimeout,this.waitFor=waitFor,this.withObservable=withObservable,this.scheduler=scheduler,this.timeoutSubscription=void 0,this.index=0,this._previousIndex=0,this._hasCompleted=!1,destination.add(this),this.scheduleTimeout()}return __extends(TimeoutWithSubscriber,_super),Object.defineProperty(TimeoutWithSubscriber.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(TimeoutWithSubscriber.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),TimeoutWithSubscriber.dispatchTimeout=function(state){var source=state.subscriber,currentIndex=state.index;source.hasCompleted||source.previousIndex!==currentIndex||source.handleTimeout()},TimeoutWithSubscriber.prototype.scheduleTimeout=function(){var currentIndex=this.index,timeoutState={subscriber:this,index:currentIndex};this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout,this.waitFor,timeoutState),this.index++,this._previousIndex=currentIndex},TimeoutWithSubscriber.prototype._next=function(value){this.destination.next(value),this.absoluteTimeout||this.scheduleTimeout()},TimeoutWithSubscriber.prototype._error=function(err){this.destination.error(err),this._hasCompleted=!0},TimeoutWithSubscriber.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},TimeoutWithSubscriber.prototype.handleTimeout=function(){if(!this.isUnsubscribed){var withObservable=this.withObservable;this.unsubscribe(),this.destination.add(this.timeoutSubscription=subscribeToResult_1.subscribeToResult(this,withObservable))}},TimeoutWithSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../scheduler/async":872,"../util/isDate":887,"../util/subscribeToResult":896}],855:[function(require,module,exports){"use strict";function toArray(){return this.lift(new ToArrayOperator)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber");exports.toArray=toArray;var ToArrayOperator=function(){function ToArrayOperator(){}return ToArrayOperator.prototype.call=function(subscriber,source){return source._subscribe(new ToArraySubscriber(subscriber))},ToArrayOperator}(),ToArraySubscriber=function(_super){function ToArraySubscriber(destination){_super.call(this,destination),this.array=[]}return __extends(ToArraySubscriber,_super),ToArraySubscriber.prototype._next=function(x){this.array.push(x)},ToArraySubscriber.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},ToArraySubscriber}(Subscriber_1.Subscriber)},{"../Subscriber":637}],856:[function(require,module,exports){"use strict";function toPromise(PromiseCtor){var _this=this;if(PromiseCtor||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?PromiseCtor=root_1.root.Rx.config.Promise:root_1.root.Promise&&(PromiseCtor=root_1.root.Promise)),!PromiseCtor)throw new Error("no Promise impl found");return new PromiseCtor(function(resolve,reject){var value;_this.subscribe(function(x){return value=x},function(err){return reject(err)},function(){return resolve(value)})})}var root_1=require("../util/root");exports.toPromise=toPromise},{"../util/root":895}],857:[function(require,module,exports){"use strict";function window(windowBoundaries){return this.lift(new WindowOperator(windowBoundaries))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=require("../Subject"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.window=window;var WindowOperator=function(){function WindowOperator(windowBoundaries){this.windowBoundaries=windowBoundaries}return WindowOperator.prototype.call=function(subscriber,source){return source._subscribe(new WindowSubscriber(subscriber,this.windowBoundaries))},WindowOperator}(),WindowSubscriber=function(_super){function WindowSubscriber(destination,windowBoundaries){_super.call(this,destination),this.destination=destination,this.windowBoundaries=windowBoundaries,this.add(subscribeToResult_1.subscribeToResult(this,windowBoundaries)),this.openWindow()}return __extends(WindowSubscriber,_super),WindowSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.openWindow()},WindowSubscriber.prototype.notifyError=function(error,innerSub){this._error(error)},WindowSubscriber.prototype.notifyComplete=function(innerSub){this._complete()},WindowSubscriber.prototype._next=function(value){this.window.next(value)},WindowSubscriber.prototype._error=function(err){this.window.error(err),this.destination.error(err)},WindowSubscriber.prototype._complete=function(){this.window.complete(),this.destination.complete()},WindowSubscriber.prototype.openWindow=function(){var prevWindow=this.window;prevWindow&&prevWindow.complete();var destination=this.destination,newWindow=this.window=new Subject_1.Subject;destination.add(newWindow),destination.next(newWindow)},WindowSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../Subject":635,"../util/subscribeToResult":896}],858:[function(require,module,exports){"use strict";function windowCount(windowSize,startWindowEvery){return void 0===startWindowEvery&&(startWindowEvery=0),this.lift(new WindowCountOperator(windowSize,startWindowEvery))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),Subject_1=require("../Subject");exports.windowCount=windowCount;var WindowCountOperator=function(){function WindowCountOperator(windowSize,startWindowEvery){this.windowSize=windowSize,this.startWindowEvery=startWindowEvery}return WindowCountOperator.prototype.call=function(subscriber,source){return source._subscribe(new WindowCountSubscriber(subscriber,this.windowSize,this.startWindowEvery))},WindowCountOperator}(),WindowCountSubscriber=function(_super){function WindowCountSubscriber(destination,windowSize,startWindowEvery){_super.call(this,destination),this.destination=destination,this.windowSize=windowSize,this.startWindowEvery=startWindowEvery,this.windows=[new Subject_1.Subject],this.count=0;var firstWindow=this.windows[0];destination.add(firstWindow),destination.next(firstWindow)}return __extends(WindowCountSubscriber,_super),WindowCountSubscriber.prototype._next=function(value){for(var startWindowEvery=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,destination=this.destination,windowSize=this.windowSize,windows=this.windows,len=windows.length,i=0;i<len;i++)windows[i].next(value);var c=this.count-windowSize+1;if(c>=0&&c%startWindowEvery===0&&windows.shift().complete(),++this.count%startWindowEvery===0){var window_1=new Subject_1.Subject;windows.push(window_1),destination.add(window_1),destination.next(window_1)}},WindowCountSubscriber.prototype._error=function(err){for(var windows=this.windows;windows.length>0;)windows.shift().error(err);this.destination.error(err)},WindowCountSubscriber.prototype._complete=function(){for(var windows=this.windows;windows.length>0;)windows.shift().complete();this.destination.complete()},WindowCountSubscriber}(Subscriber_1.Subscriber)},{"../Subject":635,"../Subscriber":637}],859:[function(require,module,exports){"use strict";function windowTime(windowTimeSpan,windowCreationInterval,scheduler){return void 0===windowCreationInterval&&(windowCreationInterval=null),void 0===scheduler&&(scheduler=async_1.async),this.lift(new WindowTimeOperator(windowTimeSpan,windowCreationInterval,scheduler))}function dispatchWindowTimeSpanOnly(state){var subscriber=state.subscriber,windowTimeSpan=state.windowTimeSpan,window=state.window;window&&window.complete(),state.window=subscriber.openWindow(),this.schedule(state,windowTimeSpan)}function dispatchWindowCreation(state){var windowTimeSpan=state.windowTimeSpan,subscriber=state.subscriber,scheduler=state.scheduler,windowCreationInterval=state.windowCreationInterval,window=subscriber.openWindow(),action=this,context={action:action,subscription:null},timeSpanState={subscriber:subscriber,window:window,context:context};context.subscription=scheduler.schedule(dispatchWindowClose,windowTimeSpan,timeSpanState),action.add(context.subscription),action.schedule(state,windowCreationInterval)}function dispatchWindowClose(arg){var subscriber=arg.subscriber,window=arg.window,context=arg.context;context&&context.action&&context.subscription&&context.action.remove(context.subscription),subscriber.closeWindow(window)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=require("../Subscriber"),Subject_1=require("../Subject"),async_1=require("../scheduler/async");exports.windowTime=windowTime;var WindowTimeOperator=function(){function WindowTimeOperator(windowTimeSpan,windowCreationInterval,scheduler){this.windowTimeSpan=windowTimeSpan,this.windowCreationInterval=windowCreationInterval,this.scheduler=scheduler}return WindowTimeOperator.prototype.call=function(subscriber,source){return source._subscribe(new WindowTimeSubscriber(subscriber,this.windowTimeSpan,this.windowCreationInterval,this.scheduler))},WindowTimeOperator}(),WindowTimeSubscriber=function(_super){function WindowTimeSubscriber(destination,windowTimeSpan,windowCreationInterval,scheduler){if(_super.call(this,destination),this.destination=destination,this.windowTimeSpan=windowTimeSpan,this.windowCreationInterval=windowCreationInterval,this.scheduler=scheduler,this.windows=[],null!==windowCreationInterval&&windowCreationInterval>=0){var window_1=this.openWindow(),closeState={subscriber:this,window:window_1,context:null},creationState={windowTimeSpan:windowTimeSpan,windowCreationInterval:windowCreationInterval,subscriber:this,scheduler:scheduler};this.add(scheduler.schedule(dispatchWindowClose,windowTimeSpan,closeState)),this.add(scheduler.schedule(dispatchWindowCreation,windowCreationInterval,creationState))}else{var window_2=this.openWindow(),timeSpanOnlyState={subscriber:this,window:window_2,windowTimeSpan:windowTimeSpan};this.add(scheduler.schedule(dispatchWindowTimeSpanOnly,windowTimeSpan,timeSpanOnlyState))}}return __extends(WindowTimeSubscriber,_super),WindowTimeSubscriber.prototype._next=function(value){for(var windows=this.windows,len=windows.length,i=0;i<len;i++){var window_3=windows[i];window_3.isUnsubscribed||window_3.next(value)}},WindowTimeSubscriber.prototype._error=function(err){for(var windows=this.windows;windows.length>0;)windows.shift().error(err);this.destination.error(err)},WindowTimeSubscriber.prototype._complete=function(){for(var windows=this.windows;windows.length>0;){var window_4=windows.shift();window_4.isUnsubscribed||window_4.complete()}this.destination.complete()},WindowTimeSubscriber.prototype.openWindow=function(){var window=new Subject_1.Subject;this.windows.push(window);var destination=this.destination;return destination.add(window),destination.next(window),window},WindowTimeSubscriber.prototype.closeWindow=function(window){window.complete();var windows=this.windows;windows.splice(windows.indexOf(window),1)},WindowTimeSubscriber}(Subscriber_1.Subscriber)},{"../Subject":635,"../Subscriber":637,"../scheduler/async":872}],860:[function(require,module,exports){"use strict";function windowToggle(openings,closingSelector){return this.lift(new WindowToggleOperator(openings,closingSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=require("../Subject"),Subscription_1=require("../Subscription"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.windowToggle=windowToggle;var WindowToggleOperator=function(){function WindowToggleOperator(openings,closingSelector){this.openings=openings,this.closingSelector=closingSelector}return WindowToggleOperator.prototype.call=function(subscriber,source){return source._subscribe(new WindowToggleSubscriber(subscriber,this.openings,this.closingSelector))},WindowToggleOperator}(),WindowToggleSubscriber=function(_super){function WindowToggleSubscriber(destination,openings,closingSelector){_super.call(this,destination),this.openings=openings,this.closingSelector=closingSelector,this.contexts=[],this.add(this.openSubscription=subscribeToResult_1.subscribeToResult(this,openings,openings))}return __extends(WindowToggleSubscriber,_super),WindowToggleSubscriber.prototype._next=function(value){var contexts=this.contexts;if(contexts)for(var len=contexts.length,i=0;i<len;i++)contexts[i].window.next(value)},WindowToggleSubscriber.prototype._error=function(err){var contexts=this.contexts;if(this.contexts=null,contexts)for(var len=contexts.length,index=-1;++index<len;){var context=contexts[index];context.window.error(err),context.subscription.unsubscribe()}_super.prototype._error.call(this,err)},WindowToggleSubscriber.prototype._complete=function(){var contexts=this.contexts;if(this.contexts=null,contexts)for(var len=contexts.length,index=-1;++index<len;){var context=contexts[index];context.window.complete(),context.subscription.unsubscribe()}_super.prototype._complete.call(this)},WindowToggleSubscriber.prototype._unsubscribe=function(){var contexts=this.contexts;if(this.contexts=null,contexts)for(var len=contexts.length,index=-1;++index<len;){var context=contexts[index];context.window.unsubscribe(),context.subscription.unsubscribe()}},WindowToggleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){if(outerValue===this.openings){var closingSelector=this.closingSelector,closingNotifier=tryCatch_1.tryCatch(closingSelector)(innerValue);if(closingNotifier===errorObject_1.errorObject)return this.error(errorObject_1.errorObject.e);var window_1=new Subject_1.Subject,subscription=new Subscription_1.Subscription,context={window:window_1,subscription:subscription};this.contexts.push(context);var innerSubscription=subscribeToResult_1.subscribeToResult(this,closingNotifier,context);
innerSubscription.isUnsubscribed?this.closeWindow(this.contexts.length-1):(innerSubscription.context=context,subscription.add(innerSubscription)),this.destination.next(window_1)}else this.closeWindow(this.contexts.indexOf(outerValue))},WindowToggleSubscriber.prototype.notifyError=function(err){this.error(err)},WindowToggleSubscriber.prototype.notifyComplete=function(inner){inner!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(inner.context))},WindowToggleSubscriber.prototype.closeWindow=function(index){if(index!==-1){var contexts=this.contexts,context=contexts[index],window=context.window,subscription=context.subscription;contexts.splice(index,1),window.complete(),subscription.unsubscribe()}},WindowToggleSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../Subject":635,"../Subscription":638,"../util/errorObject":885,"../util/subscribeToResult":896,"../util/tryCatch":899}],861:[function(require,module,exports){"use strict";function windowWhen(closingSelector){return this.lift(new WindowOperator(closingSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=require("../Subject"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.windowWhen=windowWhen;var WindowOperator=function(){function WindowOperator(closingSelector){this.closingSelector=closingSelector}return WindowOperator.prototype.call=function(subscriber,source){return source._subscribe(new WindowSubscriber(subscriber,this.closingSelector))},WindowOperator}(),WindowSubscriber=function(_super){function WindowSubscriber(destination,closingSelector){_super.call(this,destination),this.destination=destination,this.closingSelector=closingSelector,this.openWindow()}return __extends(WindowSubscriber,_super),WindowSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.openWindow(innerSub)},WindowSubscriber.prototype.notifyError=function(error,innerSub){this._error(error)},WindowSubscriber.prototype.notifyComplete=function(innerSub){this.openWindow(innerSub)},WindowSubscriber.prototype._next=function(value){this.window.next(value)},WindowSubscriber.prototype._error=function(err){this.window.error(err),this.destination.error(err),this.unsubscribeClosingNotification()},WindowSubscriber.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},WindowSubscriber.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},WindowSubscriber.prototype.openWindow=function(innerSub){void 0===innerSub&&(innerSub=null),innerSub&&(this.remove(innerSub),innerSub.unsubscribe());var prevWindow=this.window;prevWindow&&prevWindow.complete();var window=this.window=new Subject_1.Subject;this.destination.next(window);var closingNotifier=tryCatch_1.tryCatch(this.closingSelector)();if(closingNotifier===errorObject_1.errorObject){var err=errorObject_1.errorObject.e;this.destination.error(err),this.window.error(err)}else this.add(this.closingNotification=subscribeToResult_1.subscribeToResult(this,closingNotifier)),this.add(window)},WindowSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../Subject":635,"../util/errorObject":885,"../util/subscribeToResult":896,"../util/tryCatch":899}],862:[function(require,module,exports){"use strict";function withLatestFrom(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var project;"function"==typeof args[args.length-1]&&(project=args.pop());var observables=args;return this.lift(new WithLatestFromOperator(observables,project))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.withLatestFrom=withLatestFrom;var WithLatestFromOperator=function(){function WithLatestFromOperator(observables,project){this.observables=observables,this.project=project}return WithLatestFromOperator.prototype.call=function(subscriber,source){return source._subscribe(new WithLatestFromSubscriber(subscriber,this.observables,this.project))},WithLatestFromOperator}(),WithLatestFromSubscriber=function(_super){function WithLatestFromSubscriber(destination,observables,project){_super.call(this,destination),this.observables=observables,this.project=project,this.toRespond=[];var len=observables.length;this.values=new Array(len);for(var i=0;i<len;i++)this.toRespond.push(i);for(var i=0;i<len;i++){var observable=observables[i];this.add(subscribeToResult_1.subscribeToResult(this,observable,observable,i))}}return __extends(WithLatestFromSubscriber,_super),WithLatestFromSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values[outerIndex]=innerValue;var toRespond=this.toRespond;if(toRespond.length>0){var found=toRespond.indexOf(outerIndex);found!==-1&&toRespond.splice(found,1)}},WithLatestFromSubscriber.prototype.notifyComplete=function(){},WithLatestFromSubscriber.prototype._next=function(value){if(0===this.toRespond.length){var args=[value].concat(this.values);this.project?this._tryProject(args):this.destination.next(args)}},WithLatestFromSubscriber.prototype._tryProject=function(args){var result;try{result=this.project.apply(this,args)}catch(err){return void this.destination.error(err)}this.destination.next(result)},WithLatestFromSubscriber}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../util/subscribeToResult":896}],863:[function(require,module,exports){"use strict";function zipProto(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return observables.unshift(this),zipStatic.apply(this,observables)}function zipStatic(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];var project=observables[observables.length-1];return"function"==typeof project&&observables.pop(),new ArrayObservable_1.ArrayObservable(observables).lift(new ZipOperator(project))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ArrayObservable_1=require("../observable/ArrayObservable"),isArray_1=require("../util/isArray"),Subscriber_1=require("../Subscriber"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult"),iterator_1=require("../symbol/iterator");exports.zipProto=zipProto,exports.zipStatic=zipStatic;var ZipOperator=function(){function ZipOperator(project){this.project=project}return ZipOperator.prototype.call=function(subscriber,source){return source._subscribe(new ZipSubscriber(subscriber,this.project))},ZipOperator}();exports.ZipOperator=ZipOperator;var ZipSubscriber=function(_super){function ZipSubscriber(destination,project,values){void 0===values&&(values=Object.create(null)),_super.call(this,destination),this.index=0,this.iterators=[],this.active=0,this.project="function"==typeof project?project:null,this.values=values}return __extends(ZipSubscriber,_super),ZipSubscriber.prototype._next=function(value){var iterators=this.iterators,index=this.index++;isArray_1.isArray(value)?iterators.push(new StaticArrayIterator(value)):"function"==typeof value[iterator_1.$$iterator]?iterators.push(new StaticIterator(value[iterator_1.$$iterator]())):iterators.push(new ZipBufferIterator(this.destination,this,value,index))},ZipSubscriber.prototype._complete=function(){var iterators=this.iterators,len=iterators.length;this.active=len;for(var i=0;i<len;i++){var iterator=iterators[i];iterator.stillUnsubscribed?this.add(iterator.subscribe(iterator,i)):this.active--}},ZipSubscriber.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},ZipSubscriber.prototype.checkIterators=function(){for(var iterators=this.iterators,len=iterators.length,destination=this.destination,i=0;i<len;i++){var iterator=iterators[i];if("function"==typeof iterator.hasValue&&!iterator.hasValue())return}for(var shouldComplete=!1,args=[],i=0;i<len;i++){var iterator=iterators[i],result=iterator.next();if(iterator.hasCompleted()&&(shouldComplete=!0),result.done)return void destination.complete();args.push(result.value)}this.project?this._tryProject(args):destination.next(args),shouldComplete&&destination.complete()},ZipSubscriber.prototype._tryProject=function(args){var result;try{result=this.project.apply(this,args)}catch(err){return void this.destination.error(err)}this.destination.next(result)},ZipSubscriber}(Subscriber_1.Subscriber);exports.ZipSubscriber=ZipSubscriber;var StaticIterator=function(){function StaticIterator(iterator){this.iterator=iterator,this.nextResult=iterator.next()}return StaticIterator.prototype.hasValue=function(){return!0},StaticIterator.prototype.next=function(){var result=this.nextResult;return this.nextResult=this.iterator.next(),result},StaticIterator.prototype.hasCompleted=function(){var nextResult=this.nextResult;return nextResult&&nextResult.done},StaticIterator}(),StaticArrayIterator=function(){function StaticArrayIterator(array){this.array=array,this.index=0,this.length=0,this.length=array.length}return StaticArrayIterator.prototype[iterator_1.$$iterator]=function(){return this},StaticArrayIterator.prototype.next=function(value){var i=this.index++,array=this.array;return i<this.length?{value:array[i],done:!1}:{done:!0}},StaticArrayIterator.prototype.hasValue=function(){return this.array.length>this.index},StaticArrayIterator.prototype.hasCompleted=function(){return this.array.length===this.index},StaticArrayIterator}(),ZipBufferIterator=function(_super){function ZipBufferIterator(destination,parent,observable,index){_super.call(this,destination),this.parent=parent,this.observable=observable,this.index=index,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return __extends(ZipBufferIterator,_super),ZipBufferIterator.prototype[iterator_1.$$iterator]=function(){return this},ZipBufferIterator.prototype.next=function(){var buffer=this.buffer;return 0===buffer.length&&this.isComplete?{done:!0}:{value:buffer.shift(),done:!1}},ZipBufferIterator.prototype.hasValue=function(){return this.buffer.length>0},ZipBufferIterator.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},ZipBufferIterator.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},ZipBufferIterator.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.buffer.push(innerValue),this.parent.checkIterators()},ZipBufferIterator.prototype.subscribe=function(value,index){return subscribeToResult_1.subscribeToResult(this,this.observable,this,index)},ZipBufferIterator}(OuterSubscriber_1.OuterSubscriber)},{"../OuterSubscriber":632,"../Subscriber":637,"../observable/ArrayObservable":744,"../symbol/iterator":874,"../util/isArray":886,"../util/subscribeToResult":896}],864:[function(require,module,exports){"use strict";function zipAll(project){return this.lift(new zip_1.ZipOperator(project))}var zip_1=require("./zip");exports.zipAll=zipAll},{"./zip":863}],865:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Immediate_1=require("../util/Immediate"),FutureAction_1=require("./FutureAction"),AsapAction=function(_super){function AsapAction(){_super.apply(this,arguments)}return __extends(AsapAction,_super),AsapAction.prototype._schedule=function(state,delay){if(void 0===delay&&(delay=0),delay>0)return _super.prototype._schedule.call(this,state,delay);this.delay=delay,this.state=state;var scheduler=this.scheduler;return scheduler.actions.push(this),scheduler.scheduledId||(scheduler.scheduledId=Immediate_1.Immediate.setImmediate(function(){scheduler.scheduledId=null,scheduler.flush()})),this},AsapAction.prototype._unsubscribe=function(){var scheduler=this.scheduler,scheduledId=scheduler.scheduledId,actions=scheduler.actions;_super.prototype._unsubscribe.call(this),0===actions.length&&(scheduler.active=!1,null!=scheduledId&&(scheduler.scheduledId=null,Immediate_1.Immediate.clearImmediate(scheduledId)))},AsapAction}(FutureAction_1.FutureAction);exports.AsapAction=AsapAction},{"../util/Immediate":880,"./FutureAction":868}],866:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AsapAction_1=require("./AsapAction"),QueueScheduler_1=require("./QueueScheduler"),AsapScheduler=function(_super){function AsapScheduler(){_super.apply(this,arguments)}return __extends(AsapScheduler,_super),AsapScheduler.prototype.scheduleNow=function(work,state){return new AsapAction_1.AsapAction(this,work).schedule(state)},AsapScheduler}(QueueScheduler_1.QueueScheduler);exports.AsapScheduler=AsapScheduler},{"./AsapAction":865,"./QueueScheduler":870}],867:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},FutureAction_1=require("./FutureAction"),QueueScheduler_1=require("./QueueScheduler"),AsyncScheduler=function(_super){function AsyncScheduler(){_super.apply(this,arguments)}return __extends(AsyncScheduler,_super),AsyncScheduler.prototype.scheduleNow=function(work,state){return new FutureAction_1.FutureAction(this,work).schedule(state,0)},AsyncScheduler}(QueueScheduler_1.QueueScheduler);exports.AsyncScheduler=AsyncScheduler},{"./FutureAction":868,"./QueueScheduler":870}],868:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},root_1=require("../util/root"),Subscription_1=require("../Subscription"),FutureAction=function(_super){function FutureAction(scheduler,work){_super.call(this),this.scheduler=scheduler,this.work=work,this.pending=!1}return __extends(FutureAction,_super),FutureAction.prototype.execute=function(){if(this.isUnsubscribed)this.error=new Error("executing a cancelled action");else try{this.work(this.state)}catch(e){this.unsubscribe(),this.error=e}},FutureAction.prototype.schedule=function(state,delay){return void 0===delay&&(delay=0),this.isUnsubscribed?this:this._schedule(state,delay)},FutureAction.prototype._schedule=function(state,delay){var _this=this;void 0===delay&&(delay=0),this.state=state,this.pending=!0;var id=this.id;return null!=id&&this.delay===delay?this:(this.delay=delay,null!=id&&(this.id=null,root_1.root.clearInterval(id)),this.id=root_1.root.setInterval(function(){_this.pending=!1;var _a=_this,id=_a.id,scheduler=_a.scheduler;scheduler.actions.push(_this),scheduler.flush(),_this.pending===!1&&null!=id&&(_this.id=null,root_1.root.clearInterval(id))},delay),this)},FutureAction.prototype._unsubscribe=function(){this.pending=!1;var _a=this,id=_a.id,scheduler=_a.scheduler,actions=scheduler.actions,index=actions.indexOf(this);null!=id&&(this.id=null,root_1.root.clearInterval(id)),index!==-1&&actions.splice(index,1),this.work=null,this.state=null,this.scheduler=null},FutureAction}(Subscription_1.Subscription);exports.FutureAction=FutureAction},{"../Subscription":638,"../util/root":895}],869:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},FutureAction_1=require("./FutureAction"),QueueAction=function(_super){function QueueAction(){_super.apply(this,arguments)}return __extends(QueueAction,_super),QueueAction.prototype._schedule=function(state,delay){if(void 0===delay&&(delay=0),delay>0)return _super.prototype._schedule.call(this,state,delay);this.delay=delay,this.state=state;var scheduler=this.scheduler;return scheduler.actions.push(this),scheduler.flush(),this},QueueAction}(FutureAction_1.FutureAction);exports.QueueAction=QueueAction},{"./FutureAction":868}],870:[function(require,module,exports){"use strict";var QueueAction_1=require("./QueueAction"),FutureAction_1=require("./FutureAction"),QueueScheduler=function(){function QueueScheduler(){this.active=!1,this.actions=[],this.scheduledId=null}return QueueScheduler.prototype.now=function(){return Date.now()},QueueScheduler.prototype.flush=function(){if(!this.active&&!this.scheduledId){this.active=!0;for(var actions=this.actions,action=null;action=actions.shift();)if(action.execute(),action.error)throw this.active=!1,action.error;this.active=!1}},QueueScheduler.prototype.schedule=function(work,delay,state){return void 0===delay&&(delay=0),delay<=0?this.scheduleNow(work,state):this.scheduleLater(work,delay,state)},QueueScheduler.prototype.scheduleNow=function(work,state){return new QueueAction_1.QueueAction(this,work).schedule(state)},QueueScheduler.prototype.scheduleLater=function(work,delay,state){return new FutureAction_1.FutureAction(this,work).schedule(state,delay)},QueueScheduler}();exports.QueueScheduler=QueueScheduler},{"./FutureAction":868,"./QueueAction":869}],871:[function(require,module,exports){"use strict";var AsapScheduler_1=require("./AsapScheduler");exports.asap=new AsapScheduler_1.AsapScheduler},{"./AsapScheduler":866}],872:[function(require,module,exports){"use strict";var AsyncScheduler_1=require("./AsyncScheduler");exports.async=new AsyncScheduler_1.AsyncScheduler},{"./AsyncScheduler":867}],873:[function(require,module,exports){"use strict";var QueueScheduler_1=require("./QueueScheduler");exports.queue=new QueueScheduler_1.QueueScheduler},{"./QueueScheduler":870}],874:[function(require,module,exports){"use strict";var root_1=require("../util/root"),Symbol=root_1.root.Symbol;if("function"==typeof Symbol)Symbol.iterator?exports.$$iterator=Symbol.iterator:"function"==typeof Symbol["for"]&&(exports.$$iterator=Symbol["for"]("iterator"));else if(root_1.root.Set&&"function"==typeof(new root_1.root.Set)["@@iterator"])exports.$$iterator="@@iterator";else if(root_1.root.Map)for(var keys=Object.getOwnPropertyNames(root_1.root.Map.prototype),i=0;i<keys.length;++i){var key=keys[i];if("entries"!==key&&"size"!==key&&root_1.root.Map.prototype[key]===root_1.root.Map.prototype.entries){exports.$$iterator=key;break}}else exports.$$iterator="@@iterator"},{"../util/root":895}],875:[function(require,module,exports){"use strict";var root_1=require("../util/root"),Symbol=root_1.root.Symbol;"function"==typeof Symbol?Symbol.observable?exports.$$observable=Symbol.observable:("function"==typeof Symbol["for"]?exports.$$observable=Symbol["for"]("observable"):exports.$$observable=Symbol("observable"),Symbol.observable=exports.$$observable):exports.$$observable="@@observable"},{"../util/root":895}],876:[function(require,module,exports){"use strict";var root_1=require("../util/root"),Symbol=root_1.root.Symbol;exports.$$rxSubscriber="function"==typeof Symbol&&"function"==typeof Symbol["for"]?Symbol["for"]("rxSubscriber"):"@@rxSubscriber"},{"../util/root":895}],877:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ArgumentOutOfRangeError=function(_super){function ArgumentOutOfRangeError(){_super.call(this,"argument out of range"),this.name="ArgumentOutOfRangeError"}return __extends(ArgumentOutOfRangeError,_super),ArgumentOutOfRangeError}(Error);exports.ArgumentOutOfRangeError=ArgumentOutOfRangeError},{}],878:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},EmptyError=function(_super){function EmptyError(){_super.call(this,"no elements in sequence"),this.name="EmptyError"}return __extends(EmptyError,_super),EmptyError}(Error);exports.EmptyError=EmptyError},{}],879:[function(require,module,exports){"use strict";var FastMap=function(){function FastMap(){this.values={}}return FastMap.prototype["delete"]=function(key){return this.values[key]=null,!0},FastMap.prototype.set=function(key,value){return this.values[key]=value,this},FastMap.prototype.get=function(key){return this.values[key]},FastMap.prototype.forEach=function(cb,thisArg){var values=this.values;for(var key in values)values.hasOwnProperty(key)&&null!==values[key]&&cb.call(thisArg,values[key],key)},FastMap.prototype.clear=function(){this.values={}},FastMap}();exports.FastMap=FastMap},{}],880:[function(require,module,exports){"use strict";var root_1=require("./root"),ImmediateDefinition=function(){function ImmediateDefinition(root){if(this.root=root,root.setImmediate&&"function"==typeof root.setImmediate)this.setImmediate=root.setImmediate.bind(root),this.clearImmediate=root.clearImmediate.bind(root);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var ci=function clearImmediate(handle){delete clearImmediate.instance.tasksByHandle[handle]};ci.instance=this,this.clearImmediate=ci}}return ImmediateDefinition.prototype.identify=function(o){return this.root.Object.prototype.toString.call(o)},ImmediateDefinition.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},ImmediateDefinition.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},ImmediateDefinition.prototype.canUseReadyStateChange=function(){var document=this.root.document;return Boolean(document&&"onreadystatechange"in document.createElement("script"))},ImmediateDefinition.prototype.canUsePostMessage=function(){var root=this.root;if(root.postMessage&&!root.importScripts){var postMessageIsAsynchronous_1=!0,oldOnMessage=root.onmessage;return root.onmessage=function(){postMessageIsAsynchronous_1=!1},root.postMessage("","*"),root.onmessage=oldOnMessage,postMessageIsAsynchronous_1}return!1},ImmediateDefinition.prototype.partiallyApplied=function(handler){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var fn=function result(){var _a=result,handler=_a.handler,args=_a.args;"function"==typeof handler?handler.apply(void 0,args):new Function(""+handler)()};return fn.handler=handler,fn.args=args,fn},ImmediateDefinition.prototype.addFromSetImmediateArguments=function(args){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,args),this.nextHandle++},ImmediateDefinition.prototype.createProcessNextTickSetImmediate=function(){var fn=function setImmediate(){var instance=setImmediate.instance,handle=instance.addFromSetImmediateArguments(arguments);return instance.root.process.nextTick(instance.partiallyApplied(instance.runIfPresent,handle)),handle};return fn.instance=this,fn},ImmediateDefinition.prototype.createPostMessageSetImmediate=function(){var root=this.root,messagePrefix="setImmediate$"+root.Math.random()+"$",onGlobalMessage=function globalMessageHandler(event){var instance=globalMessageHandler.instance;event.source===root&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&instance.runIfPresent(+event.data.slice(messagePrefix.length))};onGlobalMessage.instance=this,root.addEventListener("message",onGlobalMessage,!1);var fn=function setImmediate(){var _a=setImmediate,messagePrefix=_a.messagePrefix,instance=_a.instance,handle=instance.addFromSetImmediateArguments(arguments);return instance.root.postMessage(messagePrefix+handle,"*"),handle};return fn.instance=this,fn.messagePrefix=messagePrefix,fn},ImmediateDefinition.prototype.runIfPresent=function(handle){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,handle),0);else{var task=this.tasksByHandle[handle];if(task){this.currentlyRunningATask=!0;try{task()}finally{this.clearImmediate(handle),this.currentlyRunningATask=!1}}}},ImmediateDefinition.prototype.createMessageChannelSetImmediate=function(){var _this=this,channel=new this.root.MessageChannel;channel.port1.onmessage=function(event){var handle=event.data;_this.runIfPresent(handle)};var fn=function setImmediate(){var _a=setImmediate,channel=_a.channel,instance=_a.instance,handle=instance.addFromSetImmediateArguments(arguments);return channel.port2.postMessage(handle),handle};return fn.channel=channel,fn.instance=this,fn},ImmediateDefinition.prototype.createReadyStateChangeSetImmediate=function(){var fn=function setImmediate(){var instance=setImmediate.instance,root=instance.root,doc=root.document,html=doc.documentElement,handle=instance.addFromSetImmediateArguments(arguments),script=doc.createElement("script");return script.onreadystatechange=function(){instance.runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script),handle};return fn.instance=this,fn},ImmediateDefinition.prototype.createSetTimeoutSetImmediate=function(){var fn=function setImmediate(){var instance=setImmediate.instance,handle=instance.addFromSetImmediateArguments(arguments);return instance.root.setTimeout(instance.partiallyApplied(instance.runIfPresent,handle),0),handle};return fn.instance=this,fn},ImmediateDefinition}();exports.ImmediateDefinition=ImmediateDefinition,exports.Immediate=new ImmediateDefinition(root_1.root)},{"./root":895}],881:[function(require,module,exports){"use strict";var root_1=require("./root"),MapPolyfill_1=require("./MapPolyfill");exports.Map=root_1.root.Map||function(){return MapPolyfill_1.MapPolyfill}()},{"./MapPolyfill":882,"./root":895}],882:[function(require,module,exports){"use strict";var MapPolyfill=function(){function MapPolyfill(){this.size=0,this._values=[],this._keys=[]}return MapPolyfill.prototype.get=function(key){var i=this._keys.indexOf(key);return i===-1?void 0:this._values[i]},MapPolyfill.prototype.set=function(key,value){var i=this._keys.indexOf(key);return i===-1?(this._keys.push(key),this._values.push(value),this.size++):this._values[i]=value,this},MapPolyfill.prototype["delete"]=function(key){var i=this._keys.indexOf(key);return i!==-1&&(this._values.splice(i,1),this._keys.splice(i,1),this.size--,!0)},MapPolyfill.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},MapPolyfill.prototype.forEach=function(cb,thisArg){for(var i=0;i<this.size;i++)cb.call(thisArg,this._values[i],this._keys[i])},MapPolyfill}();exports.MapPolyfill=MapPolyfill},{}],883:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ObjectUnsubscribedError=function(_super){function ObjectUnsubscribedError(){_super.call(this,"object unsubscribed"),this.name="ObjectUnsubscribedError"}return __extends(ObjectUnsubscribedError,_super),ObjectUnsubscribedError}(Error);exports.ObjectUnsubscribedError=ObjectUnsubscribedError},{}],884:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},UnsubscriptionError=function(_super){function UnsubscriptionError(errors){_super.call(this),this.errors=errors,this.name="UnsubscriptionError",this.message=errors?errors.length+" errors occurred during unsubscription:\n"+errors.map(function(err,i){return i+1+") "+err.toString()}).join("\n"):""}return __extends(UnsubscriptionError,_super),UnsubscriptionError}(Error);exports.UnsubscriptionError=UnsubscriptionError},{}],885:[function(require,module,exports){"use strict";exports.errorObject={e:{}}},{}],886:[function(require,module,exports){"use strict";exports.isArray=Array.isArray||function(x){return x&&"number"==typeof x.length}},{}],887:[function(require,module,exports){"use strict";function isDate(value){return value instanceof Date&&!isNaN(+value)}exports.isDate=isDate},{}],888:[function(require,module,exports){"use strict";function isFunction(x){return"function"==typeof x}exports.isFunction=isFunction},{}],889:[function(require,module,exports){"use strict";function isNumeric(val){return!isArray_1.isArray(val)&&val-parseFloat(val)+1>=0}var isArray_1=require("../util/isArray");exports.isNumeric=isNumeric},{"../util/isArray":886}],890:[function(require,module,exports){"use strict";function isObject(x){return null!=x&&"object"==typeof x}exports.isObject=isObject},{}],891:[function(require,module,exports){"use strict";function isPromise(value){return value&&"function"!=typeof value.subscribe&&"function"==typeof value.then}exports.isPromise=isPromise},{}],892:[function(require,module,exports){"use strict";function isScheduler(value){return value&&"function"==typeof value.schedule}exports.isScheduler=isScheduler},{}],893:[function(require,module,exports){"use strict";function noop(){}exports.noop=noop},{}],894:[function(require,module,exports){"use strict";function not(pred,thisArg){function notPred(){return!notPred.pred.apply(notPred.thisArg,arguments)}return notPred.pred=pred,notPred.thisArg=thisArg,notPred}exports.not=not},{}],895:[function(require,module,exports){(function(global){"use strict";var objectTypes={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};exports.root=objectTypes[typeof self]&&self||objectTypes[typeof window]&&window;var freeGlobal=(objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,objectTypes[typeof module]&&module&&!module.nodeType&&module,objectTypes[typeof global]&&global);!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(exports.root=freeGlobal)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],896:[function(require,module,exports){"use strict";function subscribeToResult(outerSubscriber,result,outerValue,outerIndex){var destination=new InnerSubscriber_1.InnerSubscriber(outerSubscriber,outerValue,outerIndex);if(!destination.isUnsubscribed){if(result instanceof Observable_1.Observable)return result._isScalar?(destination.next(result.value),void destination.complete()):result.subscribe(destination);if(isArray_1.isArray(result)){for(var i=0,len=result.length;i<len&&!destination.isUnsubscribed;i++)destination.next(result[i]);destination.isUnsubscribed||destination.complete()}else{if(isPromise_1.isPromise(result))return result.then(function(value){destination.isUnsubscribed||(destination.next(value),destination.complete())},function(err){return destination.error(err)}).then(null,function(err){root_1.root.setTimeout(function(){throw err})}),destination;
if("function"==typeof result[iterator_1.$$iterator]){for(var _i=0,_a=result;_i<_a.length;_i++){var item=_a[_i];if(destination.next(item),destination.isUnsubscribed)break}destination.isUnsubscribed||destination.complete()}else if("function"==typeof result[observable_1.$$observable]){var obs=result[observable_1.$$observable]();if("function"==typeof obs.subscribe)return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber,outerValue,outerIndex));destination.error("invalid observable")}else destination.error(new TypeError("unknown type returned"))}}}var root_1=require("./root"),isArray_1=require("./isArray"),isPromise_1=require("./isPromise"),Observable_1=require("../Observable"),iterator_1=require("../symbol/iterator"),observable_1=require("../symbol/observable"),InnerSubscriber_1=require("../InnerSubscriber");exports.subscribeToResult=subscribeToResult},{"../InnerSubscriber":627,"../Observable":629,"../symbol/iterator":874,"../symbol/observable":875,"./isArray":886,"./isPromise":891,"./root":895}],897:[function(require,module,exports){"use strict";function throwError(e){throw e}exports.throwError=throwError},{}],898:[function(require,module,exports){"use strict";function toSubscriber(nextOrObserver,error,complete){if(nextOrObserver&&"object"==typeof nextOrObserver){if(nextOrObserver instanceof Subscriber_1.Subscriber)return nextOrObserver;if("function"==typeof nextOrObserver[rxSubscriber_1.$$rxSubscriber])return nextOrObserver[rxSubscriber_1.$$rxSubscriber]()}return new Subscriber_1.Subscriber(nextOrObserver,error,complete)}var Subscriber_1=require("../Subscriber"),rxSubscriber_1=require("../symbol/rxSubscriber");exports.toSubscriber=toSubscriber},{"../Subscriber":637,"../symbol/rxSubscriber":876}],899:[function(require,module,exports){"use strict";function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(e){return errorObject_1.errorObject.e=e,errorObject_1.errorObject}}function tryCatch(fn){return tryCatchTarget=fn,tryCatcher}var tryCatchTarget,errorObject_1=require("./errorObject");exports.tryCatch=tryCatch},{"./errorObject":885}],900:[function(require,module,exports){},{}]},{},[5,900]);